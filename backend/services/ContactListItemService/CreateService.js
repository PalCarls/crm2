'use strict';const a396_0x4b7d8f=a396_0x5d0d;function a396_0x54c5(){const _0x2fdc84=['isWhatsappValid','../../utils/logger','companyId','7721785ywMjeP','create','1836337jfWAAv','min','string','__importDefault','writable','10504384PePUoQ','__esModule','ERR_CONTACTLISTITEM_INVALID_NAME','object','Número\x20de\x20contato\x20inválido:\x20','yup','call','validate','shape','214PLjPHa','924129pNheyf','save','4jCjPju','10327080ANVLfN','46611MxOOzi','__importStar','170GSCkUj','defineProperty','message','number','../../models/ContactListItem','hasOwnProperty','logger','../WbotServices/CheckNumber','getOwnPropertyDescriptor','error','default','get','6534306EZiXkt','7mcxgeA','prototype'];a396_0x54c5=function(){return _0x2fdc84;};return a396_0x54c5();}(function(_0x2303cd,_0x4d9160){const _0x459983=a396_0x5d0d,_0x375249=_0x2303cd();while(!![]){try{const _0x2c96fd=parseInt(_0x459983(0x171))/0x1+parseInt(_0x459983(0x156))/0x2*(parseInt(_0x459983(0x15b))/0x3)+-parseInt(_0x459983(0x159))/0x4*(parseInt(_0x459983(0x16f))/0x5)+parseInt(_0x459983(0x169))/0x6+-parseInt(_0x459983(0x16a))/0x7*(parseInt(_0x459983(0x15a))/0x8)+parseInt(_0x459983(0x157))/0x9*(-parseInt(_0x459983(0x15d))/0xa)+parseInt(_0x459983(0x176))/0xb;if(_0x2c96fd===_0x4d9160)break;else _0x375249['push'](_0x375249['shift']());}catch(_0xcfe89a){_0x375249['push'](_0x375249['shift']());}}}(a396_0x54c5,0xeadb4));var __createBinding=this&&this['__createBinding']||(Object[a396_0x4b7d8f(0x170)]?function(_0x44aa77,_0x298518,_0x286b63,_0x477d3e){const _0x5dc576=a396_0x4b7d8f;if(_0x477d3e===undefined)_0x477d3e=_0x286b63;var _0x2ed39d=Object[_0x5dc576(0x165)](_0x298518,_0x286b63);(!_0x2ed39d||(_0x5dc576(0x168)in _0x2ed39d?!_0x298518[_0x5dc576(0x14e)]:_0x2ed39d[_0x5dc576(0x175)]||_0x2ed39d['configurable']))&&(_0x2ed39d={'enumerable':!![],'get':function(){return _0x298518[_0x286b63];}}),Object[_0x5dc576(0x15e)](_0x44aa77,_0x477d3e,_0x2ed39d);}:function(_0x52dc45,_0xcc7488,_0x2d077f,_0x4317ff){if(_0x4317ff===undefined)_0x4317ff=_0x2d077f;_0x52dc45[_0x4317ff]=_0xcc7488[_0x2d077f];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a396_0x4b7d8f(0x170)]?function(_0x3f6317,_0x431554){const _0xb45204=a396_0x4b7d8f;Object['defineProperty'](_0x3f6317,_0xb45204(0x167),{'enumerable':!![],'value':_0x431554});}:function(_0x171d53,_0x5046b6){_0x171d53['default']=_0x5046b6;}),__importStar=this&&this[a396_0x4b7d8f(0x15c)]||function(_0x116068){const _0x1e3855=a396_0x4b7d8f;if(_0x116068&&_0x116068[_0x1e3855(0x14e)])return _0x116068;var _0x4f7edb={};if(_0x116068!=null){for(var _0x180c30 in _0x116068)if(_0x180c30!==_0x1e3855(0x167)&&Object[_0x1e3855(0x16b)][_0x1e3855(0x162)][_0x1e3855(0x153)](_0x116068,_0x180c30))__createBinding(_0x4f7edb,_0x116068,_0x180c30);}return __setModuleDefault(_0x4f7edb,_0x116068),_0x4f7edb;},__importDefault=this&&this[a396_0x4b7d8f(0x174)]||function(_0x29e895){const _0xefac7a=a396_0x4b7d8f;return _0x29e895&&_0x29e895[_0xefac7a(0x14e)]?_0x29e895:{'default':_0x29e895};};Object[a396_0x4b7d8f(0x15e)](exports,a396_0x4b7d8f(0x14e),{'value':!![]});function a396_0x5d0d(_0x3289fb,_0x40c07e){const _0x54c5b3=a396_0x54c5();return a396_0x5d0d=function(_0x5d0de1,_0x44734f){_0x5d0de1=_0x5d0de1-0x14e;let _0x3add23=_0x54c5b3[_0x5d0de1];return _0x3add23;},a396_0x5d0d(_0x3289fb,_0x40c07e);}const Yup=__importStar(require(a396_0x4b7d8f(0x152))),AppError_1=__importDefault(require('../../errors/AppError')),ContactListItem_1=__importDefault(require(a396_0x4b7d8f(0x161))),logger_1=require(a396_0x4b7d8f(0x16d)),CheckNumber_1=__importDefault(require(a396_0x4b7d8f(0x164))),CreateService=async _0x138714=>{const _0x5662e6=a396_0x4b7d8f,{name:_0xe4480a}=_0x138714,_0x132174=Yup[_0x5662e6(0x150)]()[_0x5662e6(0x155)]({'name':Yup[_0x5662e6(0x173)]()[_0x5662e6(0x172)](0x3,_0x5662e6(0x14f))['required']('ERR_CONTACTLISTITEM_REQUIRED')});try{await _0x132174[_0x5662e6(0x154)]({'name':_0xe4480a});}catch(_0x1825f0){throw new AppError_1['default'](_0x1825f0[_0x5662e6(0x15f)]);}const [_0x4ddf71]=await ContactListItem_1['default']['findOrCreate']({'where':{'number':_0x138714[_0x5662e6(0x160)],'companyId':_0x138714[_0x5662e6(0x16e)],'contactListId':_0x138714['contactListId']},'defaults':_0x138714});try{const _0x286ccc=await(0x0,CheckNumber_1['default'])(_0x4ddf71['number'],_0x4ddf71[_0x5662e6(0x16e)]);_0x4ddf71[_0x5662e6(0x16c)]=_0x286ccc?!![]:![];const _0x54ee99=_0x286ccc;_0x4ddf71[_0x5662e6(0x160)]=_0x54ee99,await _0x4ddf71[_0x5662e6(0x158)]();}catch(_0x49008f){logger_1[_0x5662e6(0x163)][_0x5662e6(0x166)](_0x5662e6(0x151)+_0x4ddf71[_0x5662e6(0x160)]);}return _0x4ddf71;};exports[a396_0x4b7d8f(0x167)]=CreateService;