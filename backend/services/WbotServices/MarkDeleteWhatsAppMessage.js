'use strict';const a542_0x322351=a542_0x3737;(function(_0x4c625d,_0x1ee85d){const _0x5bcadf=a542_0x3737,_0x1984a7=_0x4c625d();while(!![]){try{const _0x390d12=-parseInt(_0x5bcadf(0xc6))/0x1+-parseInt(_0x5bcadf(0xd5))/0x2+parseInt(_0x5bcadf(0xcb))/0x3+-parseInt(_0x5bcadf(0xd0))/0x4*(parseInt(_0x5bcadf(0xd2))/0x5)+parseInt(_0x5bcadf(0xe0))/0x6*(-parseInt(_0x5bcadf(0xc8))/0x7)+-parseInt(_0x5bcadf(0xc7))/0x8+-parseInt(_0x5bcadf(0xd3))/0x9*(-parseInt(_0x5bcadf(0xcd))/0xa);if(_0x390d12===_0x1ee85d)break;else _0x1984a7['push'](_0x1984a7['shift']());}catch(_0x50c074){_0x1984a7['push'](_0x1984a7['shift']());}}}(a542_0x1ccc,0x70691));var __importDefault=this&&this['__importDefault']||function(_0xc53b8d){const _0x3c5c24=a542_0x3737;return _0xc53b8d&&_0xc53b8d[_0x3c5c24(0xdd)]?_0xc53b8d:{'default':_0xc53b8d};};Object[a542_0x322351(0xc5)](exports,a542_0x322351(0xdd),{'value':!![]});function a542_0x3737(_0x5475fd,_0x5c5ecd){const _0x1ccc36=a542_0x1ccc();return a542_0x3737=function(_0x373742,_0x419626){_0x373742=_0x373742-0xc4;let _0x5eb009=_0x1ccc36[_0x373742];return _0x5eb009;},a542_0x3737(_0x5475fd,_0x5c5ecd);}const Message_1=__importDefault(require(a542_0x322351(0xcf))),socket_1=require(a542_0x322351(0xe1)),ListSettingsServiceOne_1=__importDefault(require('../SettingServices/ListSettingsServiceOne')),Ticket_1=__importDefault(require(a542_0x322351(0xda))),UpdateTicketService_1=__importDefault(require(a542_0x322351(0xdf))),MarkDeleteWhatsAppMessage=async(_0x25417d,_0x2815f3,_0x4a291a,_0x1f8670)=>{const _0x141f0b=a542_0x322351;_0x25417d=_0x25417d['replace']('@c.us','')['replace'](_0x141f0b(0xdb),'');if(_0x4a291a){const _0x4d70f2=await Message_1['default'][_0x141f0b(0xe3)]({'where':{'wid':_0x4a291a,'companyId':_0x1f8670}});try{const _0x5ce236=await Message_1[_0x141f0b(0xe2)][_0x141f0b(0xd8)]({'where':{'wid':_0x4d70f2[0x0][_0x141f0b(0xde)]},'include':[_0x141f0b(0xdc),{'model':Message_1[_0x141f0b(0xe2)],'as':_0x141f0b(0xd9),'include':[_0x141f0b(0xdc)]}]});if(_0x5ce236){const _0x463bfd=await(0x0,ListSettingsServiceOne_1['default'])({'companyId':_0x1f8670,'key':_0x141f0b(0xd4)}),_0x4426ff=await(0x0,ListSettingsServiceOne_1[_0x141f0b(0xe2)])({'companyId':_0x1f8670,'key':_0x141f0b(0xd6)}),_0x3c30e1=await Ticket_1[_0x141f0b(0xe2)][_0x141f0b(0xd8)]({'where':{'id':_0x5ce236[_0x141f0b(0xc4)],'companyId':_0x1f8670}});_0x4426ff[_0x141f0b(0xce)]===_0x141f0b(0xc9)&&_0x463bfd[_0x141f0b(0xce)]==='enabled'?await _0x5ce236[_0x141f0b(0xd7)]({'body':'ðŸš«\x20_Mensagem\x20Apagada_','isDeleted':!![]}):await _0x5ce236['update']({'isDeleted':!![]});await(0x0,UpdateTicketService_1[_0x141f0b(0xe2)])({'ticketData':{'lastMessage':'ðŸš«\x20_Mensagem\x20Apagada_'},'ticketId':_0x3c30e1['id'],'companyId':_0x1f8670});const _0x2e84ca=(0x0,socket_1[_0x141f0b(0xca)])();_0x2e84ca['to'](_0x5ce236[_0x141f0b(0xc4)]['toString']())[_0x141f0b(0xd1)]('appMessage-'+_0x5ce236,{'action':_0x141f0b(0xd7),'message':_0x5ce236});}}catch(_0x4e9ff7){console[_0x141f0b(0xcc)]('Erro\x20ao\x20tentar\x20marcar\x20a\x20mensagem\x20com\x20excluÃ­da');}return _0x2815f3;};};exports[a542_0x322351(0xe2)]=MarkDeleteWhatsAppMessage;function a542_0x1ccc(){const _0x1340b9=['21553330tLbGVB','value','../../models/Message','52xMAtup','emit','21140SCjnFW','9UKnYGe','enableLGPD','1128862vHegyK','lgpdDeleteMessage','update','findOne','quotedMsg','../../models/Ticket','@s.whatsapp.net','contact','__esModule','wid','../TicketServices/UpdateTicketService','1152042vvEZlq','../../libs/socket','default','findAll','ticketId','defineProperty','409665VgiWMR','2942280PRqtHV','28VgpjWz','enabled','getIO','1409919WNyXFU','log'];a542_0x1ccc=function(){return _0x1340b9;};return a542_0x1ccc();}