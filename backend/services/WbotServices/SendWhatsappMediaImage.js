'use strict';const a548_0x450c68=a548_0x369b;(function(_0x3f6f2f,_0x2dcab3){const _0x363e95=a548_0x369b,_0x302d55=_0x3f6f2f();while(!![]){try{const _0x46d73e=parseInt(_0x363e95(0xd9))/0x1*(-parseInt(_0x363e95(0xcb))/0x2)+-parseInt(_0x363e95(0xd8))/0x3*(parseInt(_0x363e95(0xd2))/0x4)+parseInt(_0x363e95(0xc8))/0x5*(parseInt(_0x363e95(0xc0))/0x6)+parseInt(_0x363e95(0xdf))/0x7+parseInt(_0x363e95(0xcf))/0x8+parseInt(_0x363e95(0xd0))/0x9+-parseInt(_0x363e95(0xc3))/0xa;if(_0x46d73e===_0x2dcab3)break;else _0x302d55['push'](_0x302d55['shift']());}catch(_0x259728){_0x302d55['push'](_0x302d55['shift']());}}}(a548_0x8738,0xeb04b));var __importDefault=this&&this['__importDefault']||function(_0x5307bc){const _0x3d760a=a548_0x369b;return _0x5307bc&&_0x5307bc[_0x3d760a(0xd5)]?_0x5307bc:{'default':_0x5307bc};};function a548_0x8738(){const _0x33536a=['ERR_SENDING_WAPP_MSG','random','unavailable','14275136XWtRAO','6199821yRDWWq','.png','413652bzYilg','../../errors/AppError','available','__esModule','contactId','resolve','3QsrZbI','4CuYzhn','companyId','includes','sendPresenceUpdate','path','charAt','2465162lopmFr','number','sendMessage','972606BmyRcq','default','g.us','16412020xUrfRZ','defineProperty','floor','public','@whiskeysockets/baileys','55ZLfNyN','remoteJid','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','950644VxcWxS'];a548_0x8738=function(){return _0x33536a;};return a548_0x8738();}function a548_0x369b(_0x5acdc9,_0x5c5b34){const _0x873854=a548_0x8738();return a548_0x369b=function(_0x369bfd,_0x44657f){_0x369bfd=_0x369bfd-0xc0;let _0x3185fa=_0x873854[_0x369bfd];return _0x3185fa;},a548_0x369b(_0x5acdc9,_0x5c5b34);}Object[a548_0x450c68(0xc4)](exports,a548_0x450c68(0xd5),{'value':!![]});const baileys_1=require(a548_0x450c68(0xc7)),AppError_1=__importDefault(require(a548_0x450c68(0xd3))),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),Mustache_1=__importDefault(require('../../helpers/Mustache')),Contact_1=__importDefault(require('../../models/Contact')),path_1=__importDefault(require(a548_0x450c68(0xdd))),fs_1=__importDefault(require('fs'));function makeid(_0x5438e2){const _0xe2e1e2=a548_0x450c68;var _0x392b59='',_0x1e84ed=_0xe2e1e2(0xca),_0x5ba4cd=_0x1e84ed['length'];for(var _0x45f9ea=0x0;_0x45f9ea<_0x5438e2;_0x45f9ea++){_0x392b59+=_0x1e84ed[_0xe2e1e2(0xde)](Math[_0xe2e1e2(0xc5)](Math[_0xe2e1e2(0xcd)]()*_0x5ba4cd));}return _0x392b59;}const publicFolder=path_1['default'][a548_0x450c68(0xd7)](__dirname,'..','..','..',a548_0x450c68(0xc6)),SendWhatsAppMediaImage=async({ticket:_0x23d6c1,url:_0x432bc8,caption:_0x500adb,msdelay:_0x31fd10})=>{const _0x47228f=a548_0x450c68,_0x4865b9=await(0x0,GetTicketWbot_1['default'])(_0x23d6c1),_0x1e12b4=await Contact_1[_0x47228f(0xc1)]['findByPk'](_0x23d6c1[_0x47228f(0xd6)]);let _0xcb6ffc;_0x1e12b4[_0x47228f(0xc9)]&&_0x1e12b4[_0x47228f(0xc9)]!==''&&_0x1e12b4[_0x47228f(0xc9)][_0x47228f(0xdb)]('@')?_0xcb6ffc=_0x1e12b4[_0x47228f(0xc9)]:_0xcb6ffc=_0x1e12b4[_0x47228f(0xe0)]+'@'+(_0x23d6c1['isGroup']?_0x47228f(0xc2):'s.whatsapp.net');try{_0x4865b9[_0x47228f(0xdc)](_0x47228f(0xd4)),await(0x0,baileys_1['delay'])(_0x31fd10);const _0x21bdc7=await _0x4865b9[_0x47228f(0xe1)](''+_0xcb6ffc,{'image':_0x432bc8?{'url':_0x432bc8}:fs_1['default']['readFileSync'](publicFolder+'/company'+_0x23d6c1[_0x47228f(0xda)]+'/'+_0x500adb+'-'+makeid(0x5)+_0x47228f(0xd1)),'caption':(0x0,Mustache_1[_0x47228f(0xc1)])(''+_0x500adb,_0x23d6c1),'mimetype':'image/jpeg'});return _0x4865b9[_0x47228f(0xdc)](_0x47228f(0xce)),_0x21bdc7;}catch(_0x37ad7a){throw new AppError_1[(_0x47228f(0xc1))](_0x47228f(0xcc));}};exports['default']=SendWhatsAppMediaImage;