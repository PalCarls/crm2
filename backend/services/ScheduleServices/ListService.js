'use strict';const a495_0x1537d6=a495_0x2ed7;(function(_0x3b1da2,_0x280874){const _0x5995e3=a495_0x2ed7,_0x1e7cf4=_0x3b1da2();while(!![]){try{const _0x38983a=parseInt(_0x5995e3(0x170))/0x1+-parseInt(_0x5995e3(0x15c))/0x2+-parseInt(_0x5995e3(0x15e))/0x3+parseInt(_0x5995e3(0x167))/0x4*(-parseInt(_0x5995e3(0x163))/0x5)+-parseInt(_0x5995e3(0x168))/0x6+-parseInt(_0x5995e3(0x15f))/0x7*(parseInt(_0x5995e3(0x173))/0x8)+parseInt(_0x5995e3(0x169))/0x9;if(_0x38983a===_0x280874)break;else _0x1e7cf4['push'](_0x1e7cf4['shift']());}catch(_0x14739a){_0x1e7cf4['push'](_0x1e7cf4['shift']());}}}(a495_0x5e61,0x5de33));function a495_0x2ed7(_0x28ad65,_0x3cbdd8){const _0x5e6103=a495_0x5e61();return a495_0x2ed7=function(_0x2ed743,_0x5e28c5){_0x2ed743=_0x2ed743-0x15a;let _0x20d6e4=_0x5e6103[_0x2ed743];return _0x20d6e4;},a495_0x2ed7(_0x28ad65,_0x3cbdd8);}var __importDefault=this&&this['__importDefault']||function(_0x2e16bd){const _0x1dc082=a495_0x2ed7;return _0x2e16bd&&_0x2e16bd[_0x1dc082(0x161)]?_0x2e16bd:{'default':_0x2e16bd};};Object[a495_0x1537d6(0x162)](exports,a495_0x1537d6(0x161),{'value':!![]});const sequelize_1=require(a495_0x1537d6(0x172)),Contact_1=__importDefault(require('../../models/Contact')),Schedule_1=__importDefault(require(a495_0x1537d6(0x16f))),User_1=__importDefault(require('../../models/User')),ListService=async({searchParam:_0x12904c,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x429c0e})=>{const _0x463b26=a495_0x1537d6;let _0x29cfb4={};const _0x5ddf09=0x14,_0x3a345b=_0x5ddf09*(+pageNumber-0x1);_0x12904c&&(_0x29cfb4={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1[_0x463b26(0x16d)][_0x463b26(0x165)](sequelize_1['Sequelize']['fn'](_0x463b26(0x15b),sequelize_1[_0x463b26(0x16d)]['col']('Schedule.body')),_0x463b26(0x15d),'%'+_0x12904c[_0x463b26(0x16c)]()+'%')},{'$Contact.name$':sequelize_1[_0x463b26(0x16d)][_0x463b26(0x165)](sequelize_1['Sequelize']['fn'](_0x463b26(0x15b),sequelize_1[_0x463b26(0x16d)][_0x463b26(0x164)](_0x463b26(0x166))),'LIKE','%'+_0x12904c[_0x463b26(0x16c)]()+'%')}]});contactId!==''&&(_0x29cfb4={..._0x29cfb4,'contactId':contactId});userId!==''&&(_0x29cfb4={..._0x29cfb4,'userId':userId});_0x29cfb4={..._0x29cfb4,'companyId':{[sequelize_1['Op']['eq']]:_0x429c0e}};const {count:_0x1a1c58,rows:_0x101b1b}=await Schedule_1['default']['findAndCountAll']({'where':_0x29cfb4,'limit':_0x5ddf09,'offset':_0x3a345b,'order':[[_0x463b26(0x16e),_0x463b26(0x15a)]],'include':[{'model':Contact_1[_0x463b26(0x160)],'as':_0x463b26(0x16a),'attributes':['id','name']},{'model':User_1[_0x463b26(0x160)],'as':_0x463b26(0x171),'attributes':['id',_0x463b26(0x16b)]}]}),_0x57d7dc=_0x1a1c58>_0x3a345b+_0x101b1b['length'];return{'schedules':_0x101b1b,'count':_0x1a1c58,'hasMore':_0x57d7dc};};exports['default']=ListService;function a495_0x5e61(){const _0xbebc3b=['col','where','contact.name','185532xFQfFC','3001914iTdJHg','7791606ZMFkkz','contact','name','toLowerCase','Sequelize','createdAt','../../models/Schedule','608796eqxDdF','user','sequelize','42272NzpjxZ','DESC','LOWER','274342MLhEAC','LIKE','226644DfvBGy','315elgCiJ','default','__esModule','defineProperty','15Zjphxj'];a495_0x5e61=function(){return _0xbebc3b;};return a495_0x5e61();}