'use strict';function a408_0x5e52(_0x4e11bb,_0x36e13b){const _0x2cf76e=a408_0x2cf7();return a408_0x5e52=function(_0x5e522e,_0xf9ad96){_0x5e522e=_0x5e522e-0x9f;let _0x54b460=_0x2cf76e[_0x5e522e];return _0x54b460;},a408_0x5e52(_0x4e11bb,_0x36e13b);}const a408_0x294585=a408_0x5e52;(function(_0x425015,_0x147866){const _0x3011df=a408_0x5e52,_0x5dae5f=_0x425015();while(!![]){try{const _0x41b8b8=-parseInt(_0x3011df(0xb1))/0x1+-parseInt(_0x3011df(0xa2))/0x2*(-parseInt(_0x3011df(0xb6))/0x3)+parseInt(_0x3011df(0xba))/0x4+-parseInt(_0x3011df(0xb8))/0x5*(-parseInt(_0x3011df(0xb7))/0x6)+-parseInt(_0x3011df(0xaa))/0x7*(-parseInt(_0x3011df(0xa3))/0x8)+-parseInt(_0x3011df(0xa7))/0x9+-parseInt(_0x3011df(0x9f))/0xa;if(_0x41b8b8===_0x147866)break;else _0x5dae5f['push'](_0x5dae5f['shift']());}catch(_0x55f492){_0x5dae5f['push'](_0x5dae5f['shift']());}}}(a408_0x2cf7,0x833b5));var __importDefault=this&&this[a408_0x294585(0xb5)]||function(_0x3370ef){const _0x1b012a=a408_0x294585;return _0x3370ef&&_0x3370ef[_0x1b012a(0xb2)]?_0x3370ef:{'default':_0x3370ef};};function a408_0x2cf7(){const _0x168737=['default','__importDefault','474456admXCn','5287956UvumFC','5cERkzD','defineProperty','4145500sszqwq','20575040XxCCTf','../../models/ContactListItem','name','12hsNyXd','4842440fawsXZ','ASC','sequelize','findAndCountAll','4844079kWvkHE','contacts','isEmpty','7FecNVR','contacts.id','contactsCount','trim','../../models/ContactList','length','col','338658ZBWdIi','__esModule','lodash'];a408_0x2cf7=function(){return _0x168737;};return a408_0x2cf7();}Object[a408_0x294585(0xb9)](exports,a408_0x294585(0xb2),{'value':!![]});const sequelize_1=require(a408_0x294585(0xa5)),ContactList_1=__importDefault(require(a408_0x294585(0xae))),ContactListItem_1=__importDefault(require(a408_0x294585(0xa0))),lodash_1=require(a408_0x294585(0xb3)),ListService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x1574dc})=>{const _0x29cbcc=a408_0x294585;let _0x1c86ce={'companyId':_0x1574dc};!(0x0,lodash_1[_0x29cbcc(0xa9)])(searchParam)&&(_0x1c86ce={..._0x1c86ce,[sequelize_1['Op']['or']]:[{'name':(0x0,sequelize_1['where'])((0x0,sequelize_1['fn'])('LOWER',(0x0,sequelize_1[_0x29cbcc(0xb0)])('ContactList.name')),'LIKE','%'+searchParam['toLowerCase']()[_0x29cbcc(0xad)]()+'%')}]});const _0x398e51=0x14,_0x2e0db9=_0x398e51*(+pageNumber-0x1),{count:_0xa025b5,rows:_0x265b76}=await ContactList_1['default'][_0x29cbcc(0xa6)]({'where':_0x1c86ce,'limit':_0x398e51,'offset':_0x2e0db9,'order':[[_0x29cbcc(0xa1),_0x29cbcc(0xa4)]],'subQuery':![],'include':[{'model':ContactListItem_1[_0x29cbcc(0xb4)],'as':_0x29cbcc(0xa8),'attributes':[],'required':![]}],'attributes':['id','name',[(0x0,sequelize_1['fn'])('count',(0x0,sequelize_1[_0x29cbcc(0xb0)])(_0x29cbcc(0xab))),_0x29cbcc(0xac)]],'group':['ContactList.id']}),_0x5d705e=_0xa025b5>_0x2e0db9+_0x265b76[_0x29cbcc(0xaf)];return{'records':_0x265b76,'count':_0xa025b5,'hasMore':_0x5d705e};};exports['default']=ListService;