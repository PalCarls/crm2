'use strict';const a267_0x5333ad=a267_0x1707;(function(_0xf67d39,_0x21802c){const _0x57b805=a267_0x1707,_0x10621d=_0xf67d39();while(!![]){try{const _0x46831e=parseInt(_0x57b805(0xfc))/0x1+-parseInt(_0x57b805(0x10b))/0x2*(-parseInt(_0x57b805(0xf8))/0x3)+parseInt(_0x57b805(0x102))/0x4*(parseInt(_0x57b805(0xf6))/0x5)+-parseInt(_0x57b805(0xfb))/0x6*(parseInt(_0x57b805(0x109))/0x7)+parseInt(_0x57b805(0x10a))/0x8*(-parseInt(_0x57b805(0xf9))/0x9)+parseInt(_0x57b805(0xf5))/0xa*(-parseInt(_0x57b805(0x105))/0xb)+-parseInt(_0x57b805(0x108))/0xc;if(_0x46831e===_0x21802c)break;else _0x10621d['push'](_0x10621d['shift']());}catch(_0x1a2707){_0x10621d['push'](_0x10621d['shift']());}}}(a267_0x49f1,0xba24a));function a267_0x49f1(){const _0x963006=['../models/Ticket','queue','stringify','defineProperty','94460mybsNq','sequelize','pending','11ePYAFh','default','user','5755308aJbBjr','2072kAoyba','1928yGPGKG','864356YXxpTI','../errors/AppError','open','__esModule','5277870qeEPZH','45tvbHqZ','../models/Queue','6xIdxhW','9459ZyYSoT','__importDefault','8688DUbVrm','1374846lLkMDa','name'];a267_0x49f1=function(){return _0x963006;};return a267_0x49f1();}var __importDefault=this&&this[a267_0x5333ad(0xfa)]||function(_0x1aac5e){return _0x1aac5e&&_0x1aac5e['__esModule']?_0x1aac5e:{'default':_0x1aac5e};};Object[a267_0x5333ad(0x101)](exports,a267_0x5333ad(0xf4),{'value':!![]});function a267_0x1707(_0x1a8731,_0x9b3269){const _0x49f1ad=a267_0x49f1();return a267_0x1707=function(_0x1707f4,_0x4868c2){_0x1707f4=_0x1707f4-0xf2;let _0x2265e3=_0x49f1ad[_0x1707f4];return _0x2265e3;},a267_0x1707(_0x1a8731,_0x9b3269);}const sequelize_1=require(a267_0x5333ad(0x103)),AppError_1=__importDefault(require(a267_0x5333ad(0xf2))),Ticket_1=__importDefault(require(a267_0x5333ad(0xfe))),User_1=__importDefault(require('../models/User')),Queue_1=__importDefault(require(a267_0x5333ad(0xf7))),CheckContactOpenTickets=async(_0x401a54,_0x477382)=>{const _0x445f7f=a267_0x5333ad,_0x40d4e0=await Ticket_1[_0x445f7f(0x106)]['findOne']({'where':{'contactId':_0x401a54,'status':{[sequelize_1['Op']['or']]:[_0x445f7f(0xf3),_0x445f7f(0x104)]},'whatsappId':_0x477382},'include':[{'model':Queue_1[_0x445f7f(0x106)],'as':_0x445f7f(0xff),'attributes':['id',_0x445f7f(0xfd),'color']},{'model':User_1[_0x445f7f(0x106)],'as':_0x445f7f(0x107),'attributes':['id',_0x445f7f(0xfd)]}]});if(_0x40d4e0)throw new AppError_1[(_0x445f7f(0x106))](JSON[_0x445f7f(0x100)](_0x40d4e0),0x199);};exports[a267_0x5333ad(0x106)]=CheckContactOpenTickets;