'use strict';function a259_0x4879(){const _0x540359=['2942566CtkBxJ','27pGsVqO','queue','defineProperty','findOne','open','pending','default','user','964NdfCMg','2534iEDSEA','stringify','5132410EbTBgW','4296515YVzTZm','__importDefault','870wzbUbN','__esModule','../models/User','8040uimojl','928248pxRWDG','../models/Queue','5154qqCjtI','106oxwTHY'];a259_0x4879=function(){return _0x540359;};return a259_0x4879();}const a259_0xf2c47e=a259_0x5257;(function(_0x3bcf36,_0x206775){const _0x5ac7d1=a259_0x5257,_0xf83ea9=_0x3bcf36();while(!![]){try{const _0x5ec35a=-parseInt(_0x5ac7d1(0x90))/0x1*(-parseInt(_0x5ac7d1(0x7d))/0x2)+-parseInt(_0x5ac7d1(0x8d))/0x3*(-parseInt(_0x5ac7d1(0x87))/0x4)+-parseInt(_0x5ac7d1(0x8b))/0x5+parseInt(_0x5ac7d1(0x93))/0x6*(-parseInt(_0x5ac7d1(0x88))/0x7)+-parseInt(_0x5ac7d1(0x91))/0x8*(-parseInt(_0x5ac7d1(0x7f))/0x9)+parseInt(_0x5ac7d1(0x8a))/0xa+parseInt(_0x5ac7d1(0x7e))/0xb;if(_0x5ec35a===_0x206775)break;else _0xf83ea9['push'](_0xf83ea9['shift']());}catch(_0x37041a){_0xf83ea9['push'](_0xf83ea9['shift']());}}}(a259_0x4879,0x6efbd));var __importDefault=this&&this[a259_0xf2c47e(0x8c)]||function(_0x57dc8f){return _0x57dc8f&&_0x57dc8f['__esModule']?_0x57dc8f:{'default':_0x57dc8f};};function a259_0x5257(_0x359403,_0x34bb36){const _0x487945=a259_0x4879();return a259_0x5257=function(_0x52571c,_0x575b00){_0x52571c=_0x52571c-0x7d;let _0x5240f9=_0x487945[_0x52571c];return _0x5240f9;},a259_0x5257(_0x359403,_0x34bb36);}Object[a259_0xf2c47e(0x81)](exports,a259_0xf2c47e(0x8e),{'value':!![]});const sequelize_1=require('sequelize'),AppError_1=__importDefault(require('../errors/AppError')),Ticket_1=__importDefault(require('../models/Ticket')),User_1=__importDefault(require(a259_0xf2c47e(0x8f))),Queue_1=__importDefault(require(a259_0xf2c47e(0x92))),CheckContactOpenTickets=async(_0x57e045,_0x20ddeb)=>{const _0x2c9d97=a259_0xf2c47e,_0x1413d5=await Ticket_1['default'][_0x2c9d97(0x82)]({'where':{'contactId':_0x57e045,'status':{[sequelize_1['Op']['or']]:[_0x2c9d97(0x83),_0x2c9d97(0x84)]},'whatsappId':_0x20ddeb},'include':[{'model':Queue_1['default'],'as':_0x2c9d97(0x80),'attributes':['id','name','color']},{'model':User_1['default'],'as':_0x2c9d97(0x86),'attributes':['id','name']}]});if(_0x1413d5)throw new AppError_1[(_0x2c9d97(0x85))](JSON[_0x2c9d97(0x89)](_0x1413d5),0x199);};exports[a259_0xf2c47e(0x85)]=CheckContactOpenTickets;