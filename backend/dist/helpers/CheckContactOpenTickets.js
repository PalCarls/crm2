'use strict';const a267_0x23871c=a267_0x5556;(function(_0x3737ec,_0x56abf9){const _0x3cf3d7=a267_0x5556,_0x32ad66=_0x3737ec();while(!![]){try{const _0x27e77f=parseInt(_0x3cf3d7(0x1bd))/0x1*(-parseInt(_0x3cf3d7(0x1c2))/0x2)+parseInt(_0x3cf3d7(0x1ae))/0x3+-parseInt(_0x3cf3d7(0x1bc))/0x4*(parseInt(_0x3cf3d7(0x1c0))/0x5)+parseInt(_0x3cf3d7(0x1c6))/0x6*(-parseInt(_0x3cf3d7(0x1af))/0x7)+parseInt(_0x3cf3d7(0x1b5))/0x8+parseInt(_0x3cf3d7(0x1b6))/0x9+parseInt(_0x3cf3d7(0x1ba))/0xa*(parseInt(_0x3cf3d7(0x1c5))/0xb);if(_0x27e77f===_0x56abf9)break;else _0x32ad66['push'](_0x32ad66['shift']());}catch(_0x1158a8){_0x32ad66['push'](_0x32ad66['shift']());}}}(a267_0x1c0e,0xefc37));function a267_0x5556(_0x1b5f7f,_0x372242){const _0x1c0ef3=a267_0x1c0e();return a267_0x5556=function(_0x55562e,_0x499f6e){_0x55562e=_0x55562e-0x1ae;let _0x27f2b7=_0x1c0ef3[_0x55562e];return _0x27f2b7;},a267_0x5556(_0x1b5f7f,_0x372242);}function a267_0x1c0e(){const _0x462be8=['sequelize','__importDefault','3055352PZaWMj','8019684BJgpsN','color','../models/Queue','__esModule','50lqKheK','../errors/AppError','84632PLAgzK','142veCUpB','default','defineProperty','220xuQTBC','findOne','9410SmGWMj','name','open','855052YvJgPC','10758cDBrGq','3549147LHgkVl','1029dhdQNa','user','../models/User','queue'];a267_0x1c0e=function(){return _0x462be8;};return a267_0x1c0e();}var __importDefault=this&&this[a267_0x23871c(0x1b4)]||function(_0x4c04a4){const _0x5ee834=a267_0x23871c;return _0x4c04a4&&_0x4c04a4[_0x5ee834(0x1b9)]?_0x4c04a4:{'default':_0x4c04a4};};Object[a267_0x23871c(0x1bf)](exports,a267_0x23871c(0x1b9),{'value':!![]});const sequelize_1=require(a267_0x23871c(0x1b3)),AppError_1=__importDefault(require(a267_0x23871c(0x1bb))),Ticket_1=__importDefault(require('../models/Ticket')),User_1=__importDefault(require(a267_0x23871c(0x1b1))),Queue_1=__importDefault(require(a267_0x23871c(0x1b8))),CheckContactOpenTickets=async(_0x2bcbf9,_0x45f9d4)=>{const _0x414741=a267_0x23871c,_0x11d2c1=await Ticket_1['default'][_0x414741(0x1c1)]({'where':{'contactId':_0x2bcbf9,'status':{[sequelize_1['Op']['or']]:[_0x414741(0x1c4),'pending']},'whatsappId':_0x45f9d4},'include':[{'model':Queue_1[_0x414741(0x1be)],'as':_0x414741(0x1b2),'attributes':['id',_0x414741(0x1c3),_0x414741(0x1b7)]},{'model':User_1[_0x414741(0x1be)],'as':_0x414741(0x1b0),'attributes':['id',_0x414741(0x1c3)]}]});if(_0x11d2c1)throw new AppError_1[(_0x414741(0x1be))](JSON['stringify'](_0x11d2c1),0x199);};exports['default']=CheckContactOpenTickets;