'use strict';const a6_0x58e4c0=a6_0x3cb6;(function(_0x326bee,_0x542d8b){const _0x3dc25b=a6_0x3cb6,_0x19b82f=_0x326bee();while(!![]){try{const _0x752e99=parseInt(_0x3dc25b(0x150))/0x1+-parseInt(_0x3dc25b(0x134))/0x2*(-parseInt(_0x3dc25b(0x131))/0x3)+-parseInt(_0x3dc25b(0x144))/0x4*(parseInt(_0x3dc25b(0x13e))/0x5)+parseInt(_0x3dc25b(0x133))/0x6*(-parseInt(_0x3dc25b(0x14f))/0x7)+-parseInt(_0x3dc25b(0x148))/0x8*(-parseInt(_0x3dc25b(0x136))/0x9)+parseInt(_0x3dc25b(0x137))/0xa+parseInt(_0x3dc25b(0x143))/0xb*(-parseInt(_0x3dc25b(0x145))/0xc);if(_0x752e99===_0x542d8b)break;else _0x19b82f['push'](_0x19b82f['shift']());}catch(_0x234b28){_0x19b82f['push'](_0x19b82f['shift']());}}}(a6_0x28e9,0x7ea04));var __importDefault=this&&this[a6_0x58e4c0(0x151)]||function(_0x173b3e){const _0x239b5f=a6_0x58e4c0;return _0x173b3e&&_0x173b3e[_0x239b5f(0x14e)]?_0x173b3e:{'default':_0x173b3e};};function a6_0x28e9(){const _0x328154=['25abiDDp','replace','mkdirSync','public','diskStorage','215633OJGbWt','137848XzDBtz','1044GZJWtP','companyId','authorization','56MidyzP','isNil','company','lodash','body','split','__esModule','21IkTzFl','399667ZbiHRZ','__importDefault','getTime','18SrFexs','originalname','587862whlNTR','173878SorJcw','default','997902pWlbWK','9929150MNxpgQ','resolve','existsSync','headers','multer','path','findOne'];a6_0x28e9=function(){return _0x328154;};return a6_0x28e9();}function a6_0x3cb6(_0x115cc5,_0x41a7e9){const _0x28e9b8=a6_0x28e9();return a6_0x3cb6=function(_0x3cb6b5,_0x4ea09c){_0x3cb6b5=_0x3cb6b5-0x131;let _0x1323a6=_0x28e9b8[_0x3cb6b5];return _0x1323a6;},a6_0x3cb6(_0x115cc5,_0x41a7e9);}Object['defineProperty'](exports,a6_0x58e4c0(0x14e),{'value':!![]});const path_1=__importDefault(require(a6_0x58e4c0(0x13c))),multer_1=__importDefault(require(a6_0x58e4c0(0x13b))),fs_1=__importDefault(require('fs')),Whatsapp_1=__importDefault(require('../models/Whatsapp')),lodash_1=require(a6_0x58e4c0(0x14b)),publicFolder=path_1['default']['resolve'](__dirname,'..','..',a6_0x58e4c0(0x141));exports[a6_0x58e4c0(0x135)]={'directory':publicFolder,'storage':multer_1[a6_0x58e4c0(0x135)][a6_0x58e4c0(0x142)]({'destination':async function(_0x402b29,_0x327a9e,_0x4dce98){const _0xcbf2f2=a6_0x58e4c0;let _0x319924;_0x319924=_0x402b29['user']?.[_0xcbf2f2(0x146)];const {typeArch:_0x42d5ad,fileId:_0x42358b}=_0x402b29[_0xcbf2f2(0x14c)];if(_0x319924===undefined&&(0x0,lodash_1[_0xcbf2f2(0x149)])(_0x319924)&&(0x0,lodash_1['isEmpty'])(_0x319924)){const _0x1b0a3e=_0x402b29[_0xcbf2f2(0x13a)][_0xcbf2f2(0x147)],[,_0x5c087f]=_0x1b0a3e[_0xcbf2f2(0x14d)]('\x20'),_0x29e0e5=await Whatsapp_1[_0xcbf2f2(0x135)][_0xcbf2f2(0x13d)]({'where':{'token':_0x5c087f}});_0x319924=_0x29e0e5[_0xcbf2f2(0x146)];}let _0x3a0060;if(_0x42d5ad&&_0x42d5ad!=='announcements')_0x3a0060=path_1[_0xcbf2f2(0x135)]['resolve'](publicFolder,_0xcbf2f2(0x14a)+_0x319924,_0x42d5ad,_0x42358b?_0x42358b:'');else _0x42d5ad&&_0x42d5ad==='announcements'?_0x3a0060=path_1[_0xcbf2f2(0x135)][_0xcbf2f2(0x138)](publicFolder,_0x42d5ad):_0x3a0060=path_1[_0xcbf2f2(0x135)]['resolve'](publicFolder,'company'+_0x319924);return!fs_1[_0xcbf2f2(0x135)][_0xcbf2f2(0x139)](_0x3a0060)&&(fs_1[_0xcbf2f2(0x135)][_0xcbf2f2(0x140)](_0x3a0060,{'recursive':!![]}),fs_1[_0xcbf2f2(0x135)]['chmodSync'](_0x3a0060,0x1ff)),_0x4dce98(null,_0x3a0060);},'filename'(_0x226ce1,_0x4f7404,_0x2d477a){const _0xb6e73c=a6_0x58e4c0,{typeArch:_0x2ea125}=_0x226ce1['body'],_0x473027=_0x2ea125&&_0x2ea125!=='announcements'?_0x4f7404[_0xb6e73c(0x132)][_0xb6e73c(0x13f)]('/','-')[_0xb6e73c(0x13f)](/ /g,'_'):new Date()[_0xb6e73c(0x152)]()+'_'+_0x4f7404[_0xb6e73c(0x132)][_0xb6e73c(0x13f)]('/','-')[_0xb6e73c(0x13f)](/ /g,'_');return _0x2d477a(null,_0x473027);}})};