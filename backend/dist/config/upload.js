'use strict';function a6_0x1f48(_0x5c2784,_0x373a16){const _0x16efc8=a6_0x16ef();return a6_0x1f48=function(_0x1f48f7,_0xfabc55){_0x1f48f7=_0x1f48f7-0xbc;let _0x3c97ee=_0x16efc8[_0x1f48f7];return _0x3c97ee;},a6_0x1f48(_0x5c2784,_0x373a16);}const a6_0x2df31c=a6_0x1f48;function a6_0x16ef(){const _0x5e7eef=['user','getTime','2273247AkKOUj','9437645dzMWWe','diskStorage','7711104kJEhaz','announcements','originalname','418930huBARF','isEmpty','companyId','mkdirSync','973174ycNHWg','split','74584pYPbLT','replace','__esModule','multer','171RawMEn','8bTzVSH','1QJKSji','headers','authorization','939257uOsnlk','../models/Whatsapp','body','chmodSync','path','defineProperty','resolve','existsSync','company','340VzVBvC','default'];a6_0x16ef=function(){return _0x5e7eef;};return a6_0x16ef();}(function(_0x5d4f8e,_0x1bc53b){const _0x196e8c=a6_0x1f48,_0x2aa3ab=_0x5d4f8e();while(!![]){try{const _0x319585=parseInt(_0x196e8c(0xbe))/0x1*(parseInt(_0x196e8c(0xd8))/0x2)+parseInt(_0x196e8c(0xce))/0x3+-parseInt(_0x196e8c(0xbd))/0x4*(parseInt(_0x196e8c(0xd4))/0x5)+parseInt(_0x196e8c(0xd1))/0x6+parseInt(_0x196e8c(0xcf))/0x7+parseInt(_0x196e8c(0xda))/0x8*(parseInt(_0x196e8c(0xbc))/0x9)+parseInt(_0x196e8c(0xca))/0xa*(-parseInt(_0x196e8c(0xc1))/0xb);if(_0x319585===_0x1bc53b)break;else _0x2aa3ab['push'](_0x2aa3ab['shift']());}catch(_0x736420){_0x2aa3ab['push'](_0x2aa3ab['shift']());}}}(a6_0x16ef,0xf0462));var __importDefault=this&&this['__importDefault']||function(_0xc4a82a){const _0x28aac7=a6_0x1f48;return _0xc4a82a&&_0xc4a82a[_0x28aac7(0xdc)]?_0xc4a82a:{'default':_0xc4a82a};};Object[a6_0x2df31c(0xc6)](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require(a6_0x2df31c(0xc5))),multer_1=__importDefault(require(a6_0x2df31c(0xdd))),fs_1=__importDefault(require('fs')),Whatsapp_1=__importDefault(require(a6_0x2df31c(0xc2))),lodash_1=require('lodash'),publicFolder=path_1[a6_0x2df31c(0xcb)]['resolve'](__dirname,'..','..','public');exports[a6_0x2df31c(0xcb)]={'directory':publicFolder,'storage':multer_1[a6_0x2df31c(0xcb)][a6_0x2df31c(0xd0)]({'destination':async function(_0x244994,_0x5e645a,_0xf99d5e){const _0x214d31=a6_0x2df31c;let _0x2dbffd;_0x2dbffd=_0x244994[_0x214d31(0xcc)]?.['companyId'];const {typeArch:_0x464d73,fileId:_0x43127c}=_0x244994[_0x214d31(0xc3)];if(_0x2dbffd===undefined&&(0x0,lodash_1['isNil'])(_0x2dbffd)&&(0x0,lodash_1[_0x214d31(0xd5)])(_0x2dbffd)){const _0x537fb9=_0x244994[_0x214d31(0xbf)][_0x214d31(0xc0)],[,_0x2edcaa]=_0x537fb9[_0x214d31(0xd9)]('\x20'),_0x424dda=await Whatsapp_1[_0x214d31(0xcb)]['findOne']({'where':{'token':_0x2edcaa}});_0x2dbffd=_0x424dda[_0x214d31(0xd6)];}let _0x468703;if(_0x464d73&&_0x464d73!=='announcements')_0x468703=path_1[_0x214d31(0xcb)][_0x214d31(0xc7)](publicFolder,'company'+_0x2dbffd,_0x464d73,_0x43127c?_0x43127c:'');else _0x464d73&&_0x464d73===_0x214d31(0xd2)?_0x468703=path_1[_0x214d31(0xcb)][_0x214d31(0xc7)](publicFolder,_0x464d73):_0x468703=path_1[_0x214d31(0xcb)][_0x214d31(0xc7)](publicFolder,_0x214d31(0xc9)+_0x2dbffd);return!fs_1[_0x214d31(0xcb)][_0x214d31(0xc8)](_0x468703)&&(fs_1[_0x214d31(0xcb)][_0x214d31(0xd7)](_0x468703,{'recursive':!![]}),fs_1[_0x214d31(0xcb)][_0x214d31(0xc4)](_0x468703,0x1ff)),_0xf99d5e(null,_0x468703);},'filename'(_0x23ce38,_0x1e4d95,_0x3e2e83){const _0x10a7ca=a6_0x2df31c,{typeArch:_0xa929a3}=_0x23ce38[_0x10a7ca(0xc3)],_0x39f824=_0xa929a3&&_0xa929a3!==_0x10a7ca(0xd2)?_0x1e4d95['originalname'][_0x10a7ca(0xdb)]('/','-')[_0x10a7ca(0xdb)](/ /g,'_'):new Date()[_0x10a7ca(0xcd)]()+'_'+_0x1e4d95[_0x10a7ca(0xd3)]['replace']('/','-')['replace'](/ /g,'_');return _0x3e2e83(null,_0x39f824);}})};