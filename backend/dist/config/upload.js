'use strict';const a6_0x5955bc=a6_0x2af1;function a6_0x2af1(_0x19c861,_0x418e0f){const _0xe03699=a6_0xe036();return a6_0x2af1=function(_0x2af1a2,_0x19be37){_0x2af1a2=_0x2af1a2-0xc4;let _0x98610f=_0xe03699[_0x2af1a2];return _0x98610f;},a6_0x2af1(_0x19c861,_0x418e0f);}(function(_0x4e12ef,_0x55f411){const _0x5253c6=a6_0x2af1,_0x16ad4d=_0x4e12ef();while(!![]){try{const _0x277662=-parseInt(_0x5253c6(0xe4))/0x1*(parseInt(_0x5253c6(0xd5))/0x2)+parseInt(_0x5253c6(0xe5))/0x3*(-parseInt(_0x5253c6(0xcd))/0x4)+-parseInt(_0x5253c6(0xe2))/0x5+-parseInt(_0x5253c6(0xe1))/0x6*(parseInt(_0x5253c6(0xde))/0x7)+-parseInt(_0x5253c6(0xdd))/0x8+parseInt(_0x5253c6(0xc8))/0x9+-parseInt(_0x5253c6(0xd0))/0xa*(-parseInt(_0x5253c6(0xc6))/0xb);if(_0x277662===_0x55f411)break;else _0x16ad4d['push'](_0x16ad4d['shift']());}catch(_0x117e3e){_0x16ad4d['push'](_0x16ad4d['shift']());}}}(a6_0xe036,0xe2532));var __importDefault=this&&this[a6_0x5955bc(0xe0)]||function(_0x1169e0){const _0x4f5f88=a6_0x5955bc;return _0x1169e0&&_0x1169e0[_0x4f5f88(0xd9)]?_0x1169e0:{'default':_0x1169e0};};Object[a6_0x5955bc(0xdf)](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require(a6_0x5955bc(0xd3))),multer_1=__importDefault(require(a6_0x5955bc(0xce))),fs_1=__importDefault(require('fs')),Whatsapp_1=__importDefault(require('../models/Whatsapp')),lodash_1=require(a6_0x5955bc(0xd6)),publicFolder=path_1[a6_0x5955bc(0xd8)][a6_0x5955bc(0xc9)](__dirname,'..','..',a6_0x5955bc(0xda));exports[a6_0x5955bc(0xd8)]={'directory':publicFolder,'storage':multer_1[a6_0x5955bc(0xd8)][a6_0x5955bc(0xc7)]({'destination':async function(_0x5bc516,_0x5bca70,_0x35e3ea){const _0x534dd0=a6_0x5955bc;let _0x1966e2;_0x1966e2=_0x5bc516[_0x534dd0(0xd7)]?.['companyId'];const {typeArch:_0x2d662f,fileId:_0x203447}=_0x5bc516[_0x534dd0(0xcf)];if(_0x1966e2===undefined&&(0x0,lodash_1[_0x534dd0(0xe3)])(_0x1966e2)&&(0x0,lodash_1['isEmpty'])(_0x1966e2)){const _0x20604a=_0x5bc516[_0x534dd0(0xd4)][_0x534dd0(0xcc)],[,_0x47cd3f]=_0x20604a[_0x534dd0(0xca)]('\x20'),_0x43d18c=await Whatsapp_1[_0x534dd0(0xd8)][_0x534dd0(0xc5)]({'where':{'token':_0x47cd3f}});_0x1966e2=_0x43d18c[_0x534dd0(0xcb)];}let _0x41cd72;if(_0x2d662f&&_0x2d662f!==_0x534dd0(0xc4))_0x41cd72=path_1[_0x534dd0(0xd8)]['resolve'](publicFolder,'company'+_0x1966e2,_0x2d662f,_0x203447?_0x203447:'');else _0x2d662f&&_0x2d662f==='announcements'?_0x41cd72=path_1[_0x534dd0(0xd8)][_0x534dd0(0xc9)](publicFolder,_0x2d662f):_0x41cd72=path_1['default']['resolve'](publicFolder,_0x534dd0(0xd2)+_0x1966e2);return!fs_1[_0x534dd0(0xd8)][_0x534dd0(0xe7)](_0x41cd72)&&(fs_1[_0x534dd0(0xd8)]['mkdirSync'](_0x41cd72,{'recursive':!![]}),fs_1[_0x534dd0(0xd8)][_0x534dd0(0xdc)](_0x41cd72,0x1ff)),_0x35e3ea(null,_0x41cd72);},'filename'(_0x16153c,_0x4d15da,_0x25b0e9){const _0x355cd3=a6_0x5955bc,{typeArch:_0x313457}=_0x16153c[_0x355cd3(0xcf)],_0x30c5bd=_0x313457&&_0x313457!==_0x355cd3(0xc4)?_0x4d15da[_0x355cd3(0xd1)][_0x355cd3(0xdb)]('/','-')['replace'](/ /g,'_'):new Date()[_0x355cd3(0xe6)]()+'_'+_0x4d15da['originalname'][_0x355cd3(0xdb)]('/','-')[_0x355cd3(0xdb)](/ /g,'_');return _0x25b0e9(null,_0x30c5bd);}})};function a6_0xe036(){const _0x6eaac5=['body','3278110dDtYcR','originalname','company','path','headers','2ucjrln','lodash','user','default','__esModule','public','replace','chmodSync','13358768ALYYlc','4148879adWwQx','defineProperty','__importDefault','6OcakRm','5378175vBXJZQ','isNil','1523283jwarSz','2436adcFAJ','getTime','existsSync','announcements','findOne','220DIbzZE','diskStorage','5579775hhvxLN','resolve','split','companyId','authorization','6836QXRcJU','multer'];a6_0xe036=function(){return _0x6eaac5;};return a6_0xe036();}