'use strict';const a0_0x4344fb=a0_0xfca9;(function(_0x286ea7,_0x4821fb){const _0x3336d6=a0_0xfca9,_0x52e095=_0x286ea7();while(!![]){try{const _0xaf4222=parseInt(_0x3336d6(0xaf))/0x1+parseInt(_0x3336d6(0xb2))/0x2*(parseInt(_0x3336d6(0xac))/0x3)+parseInt(_0x3336d6(0xca))/0x4+-parseInt(_0x3336d6(0xd7))/0x5+-parseInt(_0x3336d6(0xde))/0x6+parseInt(_0x3336d6(0xcc))/0x7+parseInt(_0x3336d6(0xdd))/0x8*(-parseInt(_0x3336d6(0xb1))/0x9);if(_0xaf4222===_0x4821fb)break;else _0x52e095['push'](_0x52e095['shift']());}catch(_0x1a8900){_0x52e095['push'](_0x52e095['shift']());}}}(a0_0x3c71,0x5d3e4));var __createBinding=this&&this['__createBinding']||(Object[a0_0x4344fb(0xdb)]?function(_0x96e41c,_0x7208b3,_0x8069df,_0x1761b1){const _0x559d49=a0_0x4344fb;if(_0x1761b1===undefined)_0x1761b1=_0x8069df;var _0x132dff=Object[_0x559d49(0xcd)](_0x7208b3,_0x8069df);(!_0x132dff||('get'in _0x132dff?!_0x7208b3[_0x559d49(0xab)]:_0x132dff['writable']||_0x132dff[_0x559d49(0xaa)]))&&(_0x132dff={'enumerable':!![],'get':function(){return _0x7208b3[_0x8069df];}}),Object[_0x559d49(0xdc)](_0x96e41c,_0x1761b1,_0x132dff);}:function(_0x52f947,_0x54018d,_0x31a041,_0x53cd51){if(_0x53cd51===undefined)_0x53cd51=_0x31a041;_0x52f947[_0x53cd51]=_0x54018d[_0x31a041];}),__setModuleDefault=this&&this[a0_0x4344fb(0xb7)]||(Object[a0_0x4344fb(0xdb)]?function(_0x5267c4,_0x92a429){const _0x4e6c4a=a0_0x4344fb;Object[_0x4e6c4a(0xdc)](_0x5267c4,_0x4e6c4a(0xba),{'enumerable':!![],'value':_0x92a429});}:function(_0x5bbff0,_0x3d602d){const _0x5be829=a0_0x4344fb;_0x5bbff0[_0x5be829(0xba)]=_0x3d602d;}),__importStar=this&&this[a0_0x4344fb(0xd9)]||function(_0x2a8ccf){const _0x2c908d=a0_0x4344fb;if(_0x2a8ccf&&_0x2a8ccf[_0x2c908d(0xab)])return _0x2a8ccf;var _0x3f476b={};if(_0x2a8ccf!=null){for(var _0x1150d6 in _0x2a8ccf)if(_0x1150d6!==_0x2c908d(0xba)&&Object[_0x2c908d(0xc6)][_0x2c908d(0xc1)][_0x2c908d(0xc2)](_0x2a8ccf,_0x1150d6))__createBinding(_0x3f476b,_0x2a8ccf,_0x1150d6);}return __setModuleDefault(_0x3f476b,_0x2a8ccf),_0x3f476b;},__importDefault=this&&this[a0_0x4344fb(0xd8)]||function(_0x3a92db){const _0x51b49f=a0_0x4344fb;return _0x3a92db&&_0x3a92db[_0x51b49f(0xab)]?_0x3a92db:{'default':_0x3a92db};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),require(a0_0x4344fb(0xbd)),require(a0_0x4344fb(0xbb)),require('express-async-errors');const express_1=__importDefault(require(a0_0x4344fb(0xda))),cors_1=__importDefault(require('cors')),cookie_parser_1=__importDefault(require('cookie-parser')),Sentry=__importStar(require('@sentry/node'));require(a0_0x4344fb(0xdf));function a0_0x3c71(){const _0x5164c6=['__importDefault','__importStar','express','create','defineProperty','32JwlsFd','889656aLeBJe','./database','configurable','__esModule','775758NYZVFS','statusCode','./config/upload','723119Teoqmu','static','2065302kJmCpn','4NZUtAQ','./errors/AppError','FRONTEND_URL','./queues','env','__setModuleDefault','Handlers','queues','default','reflect-metadata','errorHandler','./bootstrap','init','set','logger','hasOwnProperty','call','5mb','json','Internal\x20server\x20error','prototype','directory','https://pps.whatsapp.net/','warn','1256940vsNhIV','urlencoded','2527042pZwtLE','getOwnPropertyDescriptor','./routes','messageQueue','./utils/logger','/public','use','message','error','status','SENTRY_DSN','2337100uLXXoq'];a0_0x3c71=function(){return _0x5164c6;};return a0_0x3c71();}const upload_1=__importDefault(require(a0_0x4344fb(0xae))),AppError_1=__importDefault(require(a0_0x4344fb(0xb3))),routes_1=__importDefault(require(a0_0x4344fb(0xce))),logger_1=require(a0_0x4344fb(0xd0)),queues_1=require(a0_0x4344fb(0xb5));function a0_0xfca9(_0x2fd77c,_0x224c7a){const _0x3c7124=a0_0x3c71();return a0_0xfca9=function(_0xfca938,_0x58d5a3){_0xfca938=_0xfca938-0xaa;let _0x41cb51=_0x3c7124[_0xfca938];return _0x41cb51;},a0_0xfca9(_0x2fd77c,_0x224c7a);}Sentry[a0_0x4344fb(0xbe)]({'dsn':process['env'][a0_0x4344fb(0xd6)]});const app=(0x0,express_1['default'])();app[a0_0x4344fb(0xbf)](a0_0x4344fb(0xb9),{'messageQueue':queues_1[a0_0x4344fb(0xcf)],'sendScheduledMessages':queues_1['sendScheduledMessages']});const allowedOrigins=[process[a0_0x4344fb(0xb6)][a0_0x4344fb(0xb4)],a0_0x4344fb(0xc8)],bodyParser=require('body-parser');app[a0_0x4344fb(0xd2)](bodyParser[a0_0x4344fb(0xc4)]({'limit':a0_0x4344fb(0xc3)})),app[a0_0x4344fb(0xd2)](bodyParser[a0_0x4344fb(0xcb)]({'limit':a0_0x4344fb(0xc3),'extended':!![]})),app[a0_0x4344fb(0xd2)]((0x0,cors_1['default'])({'credentials':!![],'origin':allowedOrigins})),app[a0_0x4344fb(0xd2)]((0x0,cookie_parser_1['default'])()),app[a0_0x4344fb(0xd2)](express_1['default']['json']()),app[a0_0x4344fb(0xd2)](Sentry['Handlers']['requestHandler']()),app[a0_0x4344fb(0xd2)](a0_0x4344fb(0xd1),express_1[a0_0x4344fb(0xba)][a0_0x4344fb(0xb0)](upload_1[a0_0x4344fb(0xba)][a0_0x4344fb(0xc7)])),app[a0_0x4344fb(0xd2)](routes_1['default']),app['use'](Sentry[a0_0x4344fb(0xb8)][a0_0x4344fb(0xbc)]()),app['use'](async(_0x2f9845,_0x277d41,_0x770368,_0x5313c2)=>{const _0x129e80=a0_0x4344fb;if(_0x2f9845 instanceof AppError_1[_0x129e80(0xba)])return logger_1[_0x129e80(0xc0)][_0x129e80(0xc9)](_0x2f9845),_0x770368[_0x129e80(0xd5)](_0x2f9845[_0x129e80(0xad)])['json']({'error':_0x2f9845[_0x129e80(0xd3)]});return logger_1['logger'][_0x129e80(0xd4)](_0x2f9845),_0x770368['status'](0x1f4)[_0x129e80(0xc4)]({'error':_0x129e80(0xc5)});}),exports[a0_0x4344fb(0xba)]=app;