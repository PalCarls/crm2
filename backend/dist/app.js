'use strict';const a0_0x471214=a0_0x3a2b;(function(_0x32a9a3,_0x481437){const _0x348de4=a0_0x3a2b,_0x72bef4=_0x32a9a3();while(!![]){try{const _0x31df61=-parseInt(_0x348de4(0x110))/0x1+-parseInt(_0x348de4(0x103))/0x2*(parseInt(_0x348de4(0x10b))/0x3)+parseInt(_0x348de4(0x10c))/0x4*(parseInt(_0x348de4(0xf2))/0x5)+parseInt(_0x348de4(0x10d))/0x6*(-parseInt(_0x348de4(0x11b))/0x7)+-parseInt(_0x348de4(0xf5))/0x8*(-parseInt(_0x348de4(0x105))/0x9)+parseInt(_0x348de4(0x114))/0xa*(parseInt(_0x348de4(0x11a))/0xb)+parseInt(_0x348de4(0xff))/0xc*(parseInt(_0x348de4(0x10e))/0xd);if(_0x31df61===_0x481437)break;else _0x72bef4['push'](_0x72bef4['shift']());}catch(_0x20fd2e){_0x72bef4['push'](_0x72bef4['shift']());}}}(a0_0x3ad5,0xd9171));var __createBinding=this&&this['__createBinding']||(Object[a0_0x471214(0x102)]?function(_0x4937e4,_0x51a76f,_0x27dd55,_0x3fcd7f){const _0x3a749b=a0_0x471214;if(_0x3fcd7f===undefined)_0x3fcd7f=_0x27dd55;var _0x39e3ec=Object[_0x3a749b(0x115)](_0x51a76f,_0x27dd55);(!_0x39e3ec||(_0x3a749b(0xf3)in _0x39e3ec?!_0x51a76f[_0x3a749b(0xf1)]:_0x39e3ec['writable']||_0x39e3ec[_0x3a749b(0x11d)]))&&(_0x39e3ec={'enumerable':!![],'get':function(){return _0x51a76f[_0x27dd55];}}),Object[_0x3a749b(0x109)](_0x4937e4,_0x3fcd7f,_0x39e3ec);}:function(_0x5edc66,_0x1da99a,_0x24da3d,_0x12f3f1){if(_0x12f3f1===undefined)_0x12f3f1=_0x24da3d;_0x5edc66[_0x12f3f1]=_0x1da99a[_0x24da3d];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x3887ce,_0x1e4c75){const _0x398aaf=a0_0x471214;Object['defineProperty'](_0x3887ce,_0x398aaf(0xfa),{'enumerable':!![],'value':_0x1e4c75});}:function(_0xc9959a,_0x1471e1){_0xc9959a['default']=_0x1471e1;}),__importStar=this&&this[a0_0x471214(0x106)]||function(_0x21721e){const _0x19e37a=a0_0x471214;if(_0x21721e&&_0x21721e[_0x19e37a(0xf1)])return _0x21721e;var _0x490420={};if(_0x21721e!=null){for(var _0x4eea87 in _0x21721e)if(_0x4eea87!==_0x19e37a(0xfa)&&Object[_0x19e37a(0x117)]['hasOwnProperty']['call'](_0x21721e,_0x4eea87))__createBinding(_0x490420,_0x21721e,_0x4eea87);}return __setModuleDefault(_0x490420,_0x21721e),_0x490420;},__importDefault=this&&this[a0_0x471214(0xee)]||function(_0x4f0fde){return _0x4f0fde&&_0x4f0fde['__esModule']?_0x4f0fde:{'default':_0x4f0fde};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),require(a0_0x471214(0x111)),require(a0_0x471214(0xf8)),require('express-async-errors');const express_1=__importDefault(require(a0_0x471214(0x108))),cors_1=__importDefault(require(a0_0x471214(0xf6))),cookie_parser_1=__importDefault(require('cookie-parser')),Sentry=__importStar(require(a0_0x471214(0x11e)));require(a0_0x471214(0xf0));const upload_1=__importDefault(require('./config/upload')),AppError_1=__importDefault(require(a0_0x471214(0x11c))),routes_1=__importDefault(require(a0_0x471214(0xfe))),logger_1=require(a0_0x471214(0xef)),queues_1=require(a0_0x471214(0xf7));Sentry[a0_0x471214(0x100)]({'dsn':process[a0_0x471214(0x118)][a0_0x471214(0x107)]});function a0_0x3a2b(_0x2df110,_0x317652){const _0x3ad5dc=a0_0x3ad5();return a0_0x3a2b=function(_0x3a2bdc,_0x39fe56){_0x3a2bdc=_0x3a2bdc-0xee;let _0x422af7=_0x3ad5dc[_0x3a2bdc];return _0x422af7;},a0_0x3a2b(_0x2df110,_0x317652);}const app=(0x0,express_1['default'])();app[a0_0x471214(0x119)]('queues',{'messageQueue':queues_1[a0_0x471214(0x101)],'sendScheduledMessages':queues_1[a0_0x471214(0x104)]});function a0_0x3ad5(){const _0x44fc33=['219934tvbFLN','Handlers','766290tGIGmD','./bootstrap','logger','status','16385510qFVwLE','getOwnPropertyDescriptor','use','prototype','env','set','11tcsjKa','920927LFWypr','./errors/AppError','configurable','@sentry/node','__importDefault','./utils/logger','./database','__esModule','3756330NPJeNx','get','static','446008OoqJIr','cors','./queues','reflect-metadata','warn','default','error','json','errorHandler','./routes','228mDXNvT','init','messageQueue','create','2JeRgvV','sendScheduledMessages','153FHGDoH','__importStar','SENTRY_DSN','express','defineProperty','requestHandler','3133524QEFajf','8IJAJVf','78OqLBOu'];a0_0x3ad5=function(){return _0x44fc33;};return a0_0x3ad5();}const allowedOrigins=[process[a0_0x471214(0x118)]['FRONTEND_URL'],'https://pps.whatsapp.net/'];app[a0_0x471214(0x116)]((0x0,cors_1[a0_0x471214(0xfa)])({'credentials':!![],'origin':allowedOrigins})),app['use']((0x0,cookie_parser_1['default'])()),app['use'](express_1['default'][a0_0x471214(0xfc)]()),app[a0_0x471214(0x116)](Sentry[a0_0x471214(0x10f)][a0_0x471214(0x10a)]()),app[a0_0x471214(0x116)]('/public',express_1[a0_0x471214(0xfa)][a0_0x471214(0xf4)](upload_1[a0_0x471214(0xfa)]['directory'])),app[a0_0x471214(0x116)](routes_1[a0_0x471214(0xfa)]),app[a0_0x471214(0x116)](Sentry[a0_0x471214(0x10f)][a0_0x471214(0xfd)]()),app[a0_0x471214(0x116)](async(_0x3ec1d6,_0x734c,_0x2e0eb8,_0x4b17c7)=>{const _0x1ee4ce=a0_0x471214;if(_0x3ec1d6 instanceof AppError_1[_0x1ee4ce(0xfa)])return logger_1[_0x1ee4ce(0x112)][_0x1ee4ce(0xf9)](_0x3ec1d6),_0x2e0eb8[_0x1ee4ce(0x113)](_0x3ec1d6['statusCode'])['json']({'error':_0x3ec1d6['message']});return logger_1[_0x1ee4ce(0x112)][_0x1ee4ce(0xfb)](_0x3ec1d6),_0x2e0eb8[_0x1ee4ce(0x113)](0x1f4)[_0x1ee4ce(0xfc)]({'error':'Internal\x20server\x20error'});}),exports[a0_0x471214(0xfa)]=app;