'use strict';const a0_0x56a29d=a0_0x4218;(function(_0x13c4e5,_0xfee215){const _0x2b7577=a0_0x4218,_0x4b44d7=_0x13c4e5();while(!![]){try{const _0xb67ebb=-parseInt(_0x2b7577(0xc4))/0x1+parseInt(_0x2b7577(0xd2))/0x2+parseInt(_0x2b7577(0xd0))/0x3*(-parseInt(_0x2b7577(0xcd))/0x4)+parseInt(_0x2b7577(0xa8))/0x5*(parseInt(_0x2b7577(0xce))/0x6)+parseInt(_0x2b7577(0xbf))/0x7+parseInt(_0x2b7577(0xd5))/0x8*(parseInt(_0x2b7577(0xd4))/0x9)+parseInt(_0x2b7577(0xa9))/0xa;if(_0xb67ebb===_0xfee215)break;else _0x4b44d7['push'](_0x4b44d7['shift']());}catch(_0xd38ce8){_0x4b44d7['push'](_0x4b44d7['shift']());}}}(a0_0x3645,0x8a5ad));var __createBinding=this&&this[a0_0x56a29d(0xb0)]||(Object[a0_0x56a29d(0xac)]?function(_0x2075f7,_0x5eca69,_0x334570,_0x12bdec){const _0xd8ce21=a0_0x56a29d;if(_0x12bdec===undefined)_0x12bdec=_0x334570;var _0x20d68b=Object[_0xd8ce21(0xc0)](_0x5eca69,_0x334570);(!_0x20d68b||('get'in _0x20d68b?!_0x5eca69[_0xd8ce21(0xc3)]:_0x20d68b['writable']||_0x20d68b[_0xd8ce21(0xcc)]))&&(_0x20d68b={'enumerable':!![],'get':function(){return _0x5eca69[_0x334570];}}),Object[_0xd8ce21(0xc9)](_0x2075f7,_0x12bdec,_0x20d68b);}:function(_0x44da07,_0x4a55c9,_0x40524d,_0x47838f){if(_0x47838f===undefined)_0x47838f=_0x40524d;_0x44da07[_0x47838f]=_0x4a55c9[_0x40524d];}),__setModuleDefault=this&&this[a0_0x56a29d(0xb3)]||(Object[a0_0x56a29d(0xac)]?function(_0x28d80b,_0x34c36f){Object['defineProperty'](_0x28d80b,'default',{'enumerable':!![],'value':_0x34c36f});}:function(_0x2f7b80,_0x4dd8d3){const _0x1f5169=a0_0x56a29d;_0x2f7b80[_0x1f5169(0xc1)]=_0x4dd8d3;}),__importStar=this&&this['__importStar']||function(_0x2087f4){const _0xc63c5a=a0_0x56a29d;if(_0x2087f4&&_0x2087f4[_0xc63c5a(0xc3)])return _0x2087f4;var _0x2cbe86={};if(_0x2087f4!=null){for(var _0x301006 in _0x2087f4)if(_0x301006!==_0xc63c5a(0xc1)&&Object[_0xc63c5a(0xb2)][_0xc63c5a(0xd9)][_0xc63c5a(0xaf)](_0x2087f4,_0x301006))__createBinding(_0x2cbe86,_0x2087f4,_0x301006);}return __setModuleDefault(_0x2cbe86,_0x2087f4),_0x2cbe86;},__importDefault=this&&this[a0_0x56a29d(0xca)]||function(_0x3c845a){const _0xc0ec83=a0_0x56a29d;return _0x3c845a&&_0x3c845a[_0xc0ec83(0xc3)]?_0x3c845a:{'default':_0x3c845a};};Object['defineProperty'](exports,a0_0x56a29d(0xc3),{'value':!![]}),require(a0_0x56a29d(0xae)),require(a0_0x56a29d(0xc2)),require(a0_0x56a29d(0xbb));const express_1=__importDefault(require('express')),cors_1=__importDefault(require(a0_0x56a29d(0xb7))),cookie_parser_1=__importDefault(require('cookie-parser')),Sentry=__importStar(require(a0_0x56a29d(0xb5)));require(a0_0x56a29d(0xbc));const upload_1=__importDefault(require(a0_0x56a29d(0xdb))),AppError_1=__importDefault(require(a0_0x56a29d(0xcb))),routes_1=__importDefault(require(a0_0x56a29d(0xd8))),logger_1=require('./utils/logger'),queues_1=require('./queues');function a0_0x3645(){const _0x51df4e=['Handlers','create','warn','./bootstrap','call','__createBinding','errorHandler','prototype','__setModuleDefault','init','@sentry/node','FRONTEND_URL','cors','env','requestHandler','statusCode','express-async-errors','./database','message','queues','2472400hUrEgc','getOwnPropertyDescriptor','default','reflect-metadata','__esModule','658965qtjpNS','/public','use','error','https://pps.whatsapp.net/','defineProperty','__importDefault','./errors/AppError','configurable','12CNEaZV','12paIpdU','static','486285fHngny','body-parser','398570USQGTc','json','9BZtlLB','1641224jexsfT','status','SENTRY_DSN','./routes','hasOwnProperty','sendScheduledMessages','./config/upload','5mb','logger','240640nQgGQW','8580570SfFyxe','directory'];a0_0x3645=function(){return _0x51df4e;};return a0_0x3645();}Sentry[a0_0x56a29d(0xb4)]({'dsn':process[a0_0x56a29d(0xb8)][a0_0x56a29d(0xd7)]});const app=(0x0,express_1[a0_0x56a29d(0xc1)])();app['set'](a0_0x56a29d(0xbe),{'messageQueue':queues_1['messageQueue'],'sendScheduledMessages':queues_1[a0_0x56a29d(0xda)]});function a0_0x4218(_0x4204fb,_0x4aa2c2){const _0x3645d5=a0_0x3645();return a0_0x4218=function(_0x42186f,_0x42a51b){_0x42186f=_0x42186f-0xa8;let _0x3b57d1=_0x3645d5[_0x42186f];return _0x3b57d1;},a0_0x4218(_0x4204fb,_0x4aa2c2);}const allowedOrigins=[process[a0_0x56a29d(0xb8)][a0_0x56a29d(0xb6)],a0_0x56a29d(0xc8)],bodyParser=require(a0_0x56a29d(0xd1));app['use'](bodyParser[a0_0x56a29d(0xd3)]({'limit':a0_0x56a29d(0xdc)})),app['use'](bodyParser['urlencoded']({'limit':a0_0x56a29d(0xdc),'extended':!![]})),app[a0_0x56a29d(0xc6)]((0x0,cors_1[a0_0x56a29d(0xc1)])({'credentials':!![],'origin':allowedOrigins})),app[a0_0x56a29d(0xc6)]((0x0,cookie_parser_1[a0_0x56a29d(0xc1)])()),app[a0_0x56a29d(0xc6)](express_1[a0_0x56a29d(0xc1)][a0_0x56a29d(0xd3)]()),app[a0_0x56a29d(0xc6)](Sentry[a0_0x56a29d(0xab)][a0_0x56a29d(0xb9)]()),app[a0_0x56a29d(0xc6)](a0_0x56a29d(0xc5),express_1[a0_0x56a29d(0xc1)][a0_0x56a29d(0xcf)](upload_1[a0_0x56a29d(0xc1)][a0_0x56a29d(0xaa)])),app[a0_0x56a29d(0xc6)](routes_1[a0_0x56a29d(0xc1)]),app[a0_0x56a29d(0xc6)](Sentry[a0_0x56a29d(0xab)][a0_0x56a29d(0xb1)]()),app['use'](async(_0x54b3e1,_0x5a3301,_0x39eba8,_0x4f27f2)=>{const _0x546c34=a0_0x56a29d;if(_0x54b3e1 instanceof AppError_1[_0x546c34(0xc1)])return logger_1[_0x546c34(0xdd)][_0x546c34(0xad)](_0x54b3e1),_0x39eba8[_0x546c34(0xd6)](_0x54b3e1[_0x546c34(0xba)])[_0x546c34(0xd3)]({'error':_0x54b3e1[_0x546c34(0xbd)]});return logger_1[_0x546c34(0xdd)][_0x546c34(0xc7)](_0x54b3e1),_0x39eba8[_0x546c34(0xd6)](0x1f4)['json']({'error':'Internal\x20server\x20error'});}),exports[a0_0x56a29d(0xc1)]=app;