'use strict';const a0_0x38bbec=a0_0x36e0;(function(_0x5b5476,_0x549916){const _0x393eeb=a0_0x36e0,_0x1fac08=_0x5b5476();while(!![]){try{const _0x3a8753=parseInt(_0x393eeb(0xd6))/0x1+-parseInt(_0x393eeb(0xf0))/0x2+parseInt(_0x393eeb(0xe8))/0x3*(-parseInt(_0x393eeb(0xee))/0x4)+-parseInt(_0x393eeb(0xc6))/0x5*(-parseInt(_0x393eeb(0xd2))/0x6)+-parseInt(_0x393eeb(0xe5))/0x7+-parseInt(_0x393eeb(0xf1))/0x8*(-parseInt(_0x393eeb(0xea))/0x9)+-parseInt(_0x393eeb(0xdc))/0xa*(-parseInt(_0x393eeb(0xcb))/0xb);if(_0x3a8753===_0x549916)break;else _0x1fac08['push'](_0x1fac08['shift']());}catch(_0x5dc596){_0x1fac08['push'](_0x1fac08['shift']());}}}(a0_0x4d82,0x73588));var __createBinding=this&&this[a0_0x38bbec(0xf2)]||(Object[a0_0x38bbec(0xd1)]?function(_0x370225,_0x182cf3,_0x498fe2,_0x1373bc){const _0x4a394a=a0_0x38bbec;if(_0x1373bc===undefined)_0x1373bc=_0x498fe2;var _0x2e3218=Object[_0x4a394a(0xc5)](_0x182cf3,_0x498fe2);(!_0x2e3218||('get'in _0x2e3218?!_0x182cf3[_0x4a394a(0xeb)]:_0x2e3218[_0x4a394a(0xf3)]||_0x2e3218[_0x4a394a(0xf5)]))&&(_0x2e3218={'enumerable':!![],'get':function(){return _0x182cf3[_0x498fe2];}}),Object[_0x4a394a(0xd8)](_0x370225,_0x1373bc,_0x2e3218);}:function(_0x456f56,_0x491a8a,_0x53e531,_0x5abbd0){if(_0x5abbd0===undefined)_0x5abbd0=_0x53e531;_0x456f56[_0x5abbd0]=_0x491a8a[_0x53e531];}),__setModuleDefault=this&&this[a0_0x38bbec(0xef)]||(Object[a0_0x38bbec(0xd1)]?function(_0x2d45b2,_0x5f5d84){const _0x20d074=a0_0x38bbec;Object[_0x20d074(0xd8)](_0x2d45b2,_0x20d074(0xc9),{'enumerable':!![],'value':_0x5f5d84});}:function(_0x304ea3,_0x23caab){_0x304ea3['default']=_0x23caab;}),__importStar=this&&this[a0_0x38bbec(0xdd)]||function(_0x182c8a){const _0x42c92b=a0_0x38bbec;if(_0x182c8a&&_0x182c8a[_0x42c92b(0xeb)])return _0x182c8a;var _0x199e5f={};if(_0x182c8a!=null){for(var _0x4b5deb in _0x182c8a)if(_0x4b5deb!==_0x42c92b(0xc9)&&Object['prototype'][_0x42c92b(0xe7)]['call'](_0x182c8a,_0x4b5deb))__createBinding(_0x199e5f,_0x182c8a,_0x4b5deb);}return __setModuleDefault(_0x199e5f,_0x182c8a),_0x199e5f;},__importDefault=this&&this[a0_0x38bbec(0xe1)]||function(_0x1e819e){const _0xd423c6=a0_0x38bbec;return _0x1e819e&&_0x1e819e[_0xd423c6(0xeb)]?_0x1e819e:{'default':_0x1e819e};};Object[a0_0x38bbec(0xd8)](exports,'__esModule',{'value':!![]}),require(a0_0x38bbec(0xc7)),require(a0_0x38bbec(0xe6)),require(a0_0x38bbec(0xd7));const express_1=__importDefault(require(a0_0x38bbec(0xde))),cors_1=__importDefault(require(a0_0x38bbec(0xd9))),cookie_parser_1=__importDefault(require(a0_0x38bbec(0xdb))),Sentry=__importStar(require(a0_0x38bbec(0xe3)));require('./database');const upload_1=__importDefault(require(a0_0x38bbec(0xc0))),AppError_1=__importDefault(require('./errors/AppError')),routes_1=__importDefault(require(a0_0x38bbec(0xc3))),logger_1=require(a0_0x38bbec(0xec)),queues_1=require(a0_0x38bbec(0xed));function a0_0x36e0(_0x1d9988,_0x3ab00a){const _0x4d8256=a0_0x4d82();return a0_0x36e0=function(_0x36e02b,_0x5920dc){_0x36e02b=_0x36e02b-0xc0;let _0x4a573f=_0x4d8256[_0x36e02b];return _0x4a573f;},a0_0x36e0(_0x1d9988,_0x3ab00a);}Sentry[a0_0x38bbec(0xcd)]({'dsn':process[a0_0x38bbec(0xe0)][a0_0x38bbec(0xc4)]});const app=(0x0,express_1[a0_0x38bbec(0xc9)])();function a0_0x4d82(){const _0x4c6787=['195plPTpz','./bootstrap','set','default','error','198nuMCUP','json','init','https://pps.whatsapp.net/','logger','use','create','135858cLTimQ','queues','errorHandler','Handlers','821400ZAIGWg','express-async-errors','defineProperty','cors','status','cookie-parser','114570QkBLCJ','__importStar','express','warn','env','__importDefault','/public','@sentry/node','statusCode','6218548nXUCQl','reflect-metadata','hasOwnProperty','77247UxvHWn','message','63aNkMHR','__esModule','./utils/logger','./queues','84dsdSmI','__setModuleDefault','193826cLeXAq','100296PBdBcE','__createBinding','writable','sendScheduledMessages','configurable','./config/upload','directory','requestHandler','./routes','SENTRY_DSN','getOwnPropertyDescriptor'];a0_0x4d82=function(){return _0x4c6787;};return a0_0x4d82();}app[a0_0x38bbec(0xc8)](a0_0x38bbec(0xd3),{'messageQueue':queues_1['messageQueue'],'sendScheduledMessages':queues_1[a0_0x38bbec(0xf4)]});const allowedOrigins=[process['env']['FRONTEND_URL'],a0_0x38bbec(0xce)];app[a0_0x38bbec(0xd0)]((0x0,cors_1[a0_0x38bbec(0xc9)])({'credentials':!![],'origin':allowedOrigins})),app[a0_0x38bbec(0xd0)]((0x0,cookie_parser_1[a0_0x38bbec(0xc9)])()),app[a0_0x38bbec(0xd0)](express_1[a0_0x38bbec(0xc9)]['json']()),app[a0_0x38bbec(0xd0)](Sentry[a0_0x38bbec(0xd5)][a0_0x38bbec(0xc2)]()),app[a0_0x38bbec(0xd0)](a0_0x38bbec(0xe2),express_1['default']['static'](upload_1[a0_0x38bbec(0xc9)][a0_0x38bbec(0xc1)])),app[a0_0x38bbec(0xd0)](routes_1[a0_0x38bbec(0xc9)]),app[a0_0x38bbec(0xd0)](Sentry['Handlers'][a0_0x38bbec(0xd4)]()),app['use'](async(_0x32479d,_0x561827,_0x5f01c3,_0x2f8f7)=>{const _0x52afda=a0_0x38bbec;if(_0x32479d instanceof AppError_1['default'])return logger_1[_0x52afda(0xcf)][_0x52afda(0xdf)](_0x32479d),_0x5f01c3[_0x52afda(0xda)](_0x32479d[_0x52afda(0xe4)])[_0x52afda(0xcc)]({'error':_0x32479d[_0x52afda(0xe9)]});return logger_1[_0x52afda(0xcf)][_0x52afda(0xca)](_0x32479d),_0x5f01c3[_0x52afda(0xda)](0x1f4)[_0x52afda(0xcc)]({'error':'Internal\x20server\x20error'});}),exports['default']=app;