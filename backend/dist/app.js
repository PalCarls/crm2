'use strict';const a0_0x3eaff9=a0_0x9d3f;(function(_0x2a0fa3,_0xcd071a){const _0x25588f=a0_0x9d3f,_0x193a14=_0x2a0fa3();while(!![]){try{const _0x5abdd2=-parseInt(_0x25588f(0x132))/0x1*(parseInt(_0x25588f(0x12f))/0x2)+-parseInt(_0x25588f(0x12c))/0x3*(-parseInt(_0x25588f(0x14b))/0x4)+-parseInt(_0x25588f(0x133))/0x5*(parseInt(_0x25588f(0x147))/0x6)+-parseInt(_0x25588f(0x155))/0x7*(-parseInt(_0x25588f(0x148))/0x8)+parseInt(_0x25588f(0x139))/0x9+parseInt(_0x25588f(0x144))/0xa+parseInt(_0x25588f(0x138))/0xb*(-parseInt(_0x25588f(0x149))/0xc);if(_0x5abdd2===_0xcd071a)break;else _0x193a14['push'](_0x193a14['shift']());}catch(_0x2ba015){_0x193a14['push'](_0x193a14['shift']());}}}(a0_0x19b7,0x4b6f6));var __createBinding=this&&this[a0_0x3eaff9(0x12e)]||(Object[a0_0x3eaff9(0x15a)]?function(_0x1a54da,_0x474c68,_0x88884b,_0x19fcad){const _0x2a0a3a=a0_0x3eaff9;if(_0x19fcad===undefined)_0x19fcad=_0x88884b;var _0x4778e5=Object[_0x2a0a3a(0x157)](_0x474c68,_0x88884b);(!_0x4778e5||('get'in _0x4778e5?!_0x474c68[_0x2a0a3a(0x15b)]:_0x4778e5[_0x2a0a3a(0x13c)]||_0x4778e5[_0x2a0a3a(0x14d)]))&&(_0x4778e5={'enumerable':!![],'get':function(){return _0x474c68[_0x88884b];}}),Object[_0x2a0a3a(0x140)](_0x1a54da,_0x19fcad,_0x4778e5);}:function(_0x484f36,_0x21a68f,_0x4b02e7,_0x21c345){if(_0x21c345===undefined)_0x21c345=_0x4b02e7;_0x484f36[_0x21c345]=_0x21a68f[_0x4b02e7];}),__setModuleDefault=this&&this[a0_0x3eaff9(0x150)]||(Object[a0_0x3eaff9(0x15a)]?function(_0x3061fd,_0x4f299d){const _0x5413bc=a0_0x3eaff9;Object[_0x5413bc(0x140)](_0x3061fd,'default',{'enumerable':!![],'value':_0x4f299d});}:function(_0x3d7980,_0x323758){const _0xe5bac0=a0_0x3eaff9;_0x3d7980[_0xe5bac0(0x159)]=_0x323758;}),__importStar=this&&this[a0_0x3eaff9(0x141)]||function(_0x27b6ac){const _0x5507d8=a0_0x3eaff9;if(_0x27b6ac&&_0x27b6ac[_0x5507d8(0x15b)])return _0x27b6ac;var _0x105fb1={};if(_0x27b6ac!=null){for(var _0x116038 in _0x27b6ac)if(_0x116038!==_0x5507d8(0x159)&&Object['prototype'][_0x5507d8(0x14a)][_0x5507d8(0x135)](_0x27b6ac,_0x116038))__createBinding(_0x105fb1,_0x27b6ac,_0x116038);}return __setModuleDefault(_0x105fb1,_0x27b6ac),_0x105fb1;},__importDefault=this&&this[a0_0x3eaff9(0x14e)]||function(_0x444949){return _0x444949&&_0x444949['__esModule']?_0x444949:{'default':_0x444949};};function a0_0x9d3f(_0x560c63,_0x5160cc){const _0x19b7fc=a0_0x19b7();return a0_0x9d3f=function(_0x9d3f74,_0x2b9a90){_0x9d3f74=_0x9d3f74-0x12c;let _0x35c494=_0x19b7fc[_0x9d3f74];return _0x35c494;},a0_0x9d3f(_0x560c63,_0x5160cc);}function a0_0x19b7(){const _0x2d5611=['logger','init','@sentry/node','statusCode','3859751SUUQAY','/public','getOwnPropertyDescriptor','json','default','create','__esModule','reflect-metadata','sendScheduledMessages','21ORkRyV','env','__createBinding','6626RlorDH','cors','https://pps.whatsapp.net/','34DziLMo','65355YdpQTL','./bootstrap','call','SENTRY_DSN','FRONTEND_URL','11IBfvuX','5268186YzQWne','queues','Internal\x20server\x20error','writable','set','Handlers','./database','defineProperty','__importStar','messageQueue','status','2835390YBrvJD','./queues','express-async-errors','48hYEytr','8ceIhgu','11261100ZYYHBN','hasOwnProperty','25332KXCmlR','use','configurable','__importDefault','message','__setModuleDefault'];a0_0x19b7=function(){return _0x2d5611;};return a0_0x19b7();}Object[a0_0x3eaff9(0x140)](exports,'__esModule',{'value':!![]}),require(a0_0x3eaff9(0x134)),require(a0_0x3eaff9(0x15c)),require(a0_0x3eaff9(0x146));const express_1=__importDefault(require('express')),cors_1=__importDefault(require(a0_0x3eaff9(0x130))),cookie_parser_1=__importDefault(require('cookie-parser')),Sentry=__importStar(require(a0_0x3eaff9(0x153)));require(a0_0x3eaff9(0x13f));const upload_1=__importDefault(require('./config/upload')),AppError_1=__importDefault(require('./errors/AppError')),routes_1=__importDefault(require('./routes')),logger_1=require('./utils/logger'),queues_1=require(a0_0x3eaff9(0x145));Sentry[a0_0x3eaff9(0x152)]({'dsn':process[a0_0x3eaff9(0x12d)][a0_0x3eaff9(0x136)]});const app=(0x0,express_1['default'])();app[a0_0x3eaff9(0x13d)](a0_0x3eaff9(0x13a),{'messageQueue':queues_1[a0_0x3eaff9(0x142)],'sendScheduledMessages':queues_1[a0_0x3eaff9(0x15d)]});const allowedOrigins=[process[a0_0x3eaff9(0x12d)][a0_0x3eaff9(0x137)],a0_0x3eaff9(0x131)];app[a0_0x3eaff9(0x14c)]((0x0,cors_1[a0_0x3eaff9(0x159)])({'credentials':!![],'origin':allowedOrigins})),app[a0_0x3eaff9(0x14c)]((0x0,cookie_parser_1[a0_0x3eaff9(0x159)])()),app[a0_0x3eaff9(0x14c)](express_1[a0_0x3eaff9(0x159)][a0_0x3eaff9(0x158)]()),app[a0_0x3eaff9(0x14c)](Sentry[a0_0x3eaff9(0x13e)]['requestHandler']()),app['use'](a0_0x3eaff9(0x156),express_1[a0_0x3eaff9(0x159)]['static'](upload_1[a0_0x3eaff9(0x159)]['directory'])),app[a0_0x3eaff9(0x14c)](routes_1['default']),app['use'](Sentry['Handlers']['errorHandler']()),app[a0_0x3eaff9(0x14c)](async(_0x31d4f7,_0xff8139,_0x4d8ede,_0x542af1)=>{const _0x332ee2=a0_0x3eaff9;if(_0x31d4f7 instanceof AppError_1[_0x332ee2(0x159)])return logger_1[_0x332ee2(0x151)]['warn'](_0x31d4f7),_0x4d8ede[_0x332ee2(0x143)](_0x31d4f7[_0x332ee2(0x154)])['json']({'error':_0x31d4f7[_0x332ee2(0x14f)]});return logger_1[_0x332ee2(0x151)]['error'](_0x31d4f7),_0x4d8ede['status'](0x1f4)[_0x332ee2(0x158)]({'error':_0x332ee2(0x13b)});}),exports[a0_0x3eaff9(0x159)]=app;