'use strict';const a298_0x2b27e0=a298_0xc8dd;function a298_0xc8dd(_0x10d64c,_0x104db6){const _0x1b528a=a298_0x1b52();return a298_0xc8dd=function(_0xc8ddd8,_0x1527e3){_0xc8ddd8=_0xc8ddd8-0x7b;let _0x3fe6e5=_0x1b528a[_0xc8ddd8];return _0x3fe6e5;},a298_0xc8dd(_0x10d64c,_0x104db6);}(function(_0x17f461,_0x1e0aa8){const _0x56f951=a298_0xc8dd,_0x2f7966=_0x17f461();while(!![]){try{const _0x1a331a=parseInt(_0x56f951(0x7d))/0x1*(parseInt(_0x56f951(0x81))/0x2)+parseInt(_0x56f951(0x7b))/0x3+-parseInt(_0x56f951(0x8b))/0x4+parseInt(_0x56f951(0x8d))/0x5+parseInt(_0x56f951(0x87))/0x6+-parseInt(_0x56f951(0x80))/0x7*(-parseInt(_0x56f951(0x8a))/0x8)+-parseInt(_0x56f951(0x89))/0x9;if(_0x1a331a===_0x1e0aa8)break;else _0x2f7966['push'](_0x2f7966['shift']());}catch(_0x3de3ed){_0x2f7966['push'](_0x2f7966['shift']());}}}(a298_0x1b52,0x8b8f6));function a298_0x1b52(){const _0x3485d9=['2704092iNEvsN','token','5161356SPrXbH','72LexBVl','2103280BQNpoC','authorization','1738655kyEoDK','split','449358CUjSLN','default','2FDjNdd','../models/Whatsapp','__importDefault','71869UjqCjG','630340nLGHeP','../errors/AppError','headers','ERR_SESSION_EXPIRED','__esModule','findOne'];a298_0x1b52=function(){return _0x3485d9;};return a298_0x1b52();}var __importDefault=this&&this[a298_0x2b27e0(0x7f)]||function(_0x142021){const _0x39bd70=a298_0x2b27e0;return _0x142021&&_0x142021[_0x39bd70(0x85)]?_0x142021:{'default':_0x142021};};Object['defineProperty'](exports,a298_0x2b27e0(0x85),{'value':!![]});const AppError_1=__importDefault(require(a298_0x2b27e0(0x82))),Whatsapp_1=__importDefault(require(a298_0x2b27e0(0x7e))),isAuthApi=async(_0x2bb6fe,_0x2d3f4b,_0x514e99)=>{const _0x1faf96=a298_0x2b27e0,_0x537e3f=_0x2bb6fe[_0x1faf96(0x83)][_0x1faf96(0x8c)];if(!_0x537e3f)throw new AppError_1[(_0x1faf96(0x7c))](_0x1faf96(0x84),0x191);const [,_0x2b931b]=_0x537e3f[_0x1faf96(0x8e)]('\x20');try{const _0x42fb26=await Whatsapp_1['default'][_0x1faf96(0x86)]({'where':{'token':_0x2b931b}}),_0x20278a=_0x42fb26?.[_0x1faf96(0x88)];if(!_0x20278a)throw new AppError_1['default']('ERR_SESSION_EXPIRED',0x191);if(_0x20278a!==_0x2b931b)throw new AppError_1[(_0x1faf96(0x7c))]('ERR_SESSION_EXPIRED',0x191);}catch(_0x934c6e){throw new AppError_1['default']('Invalid\x20token.\x20We\x27ll\x20try\x20to\x20assign\x20a\x20new\x20one\x20on\x20next\x20request',0x193);}return _0x514e99();};exports['default']=isAuthApi;