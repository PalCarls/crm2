'use strict';function a277_0x2fee(){const _0x481a75=['ERR_SESSION_EXPIRED','token','207402vxPPMb','11IYYDPF','__esModule','default','2673232EErILZ','171020RDvdRa','split','defineProperty','findOne','Invalid\x20token.\x20We\x27ll\x20try\x20to\x20assign\x20a\x20new\x20one\x20on\x20next\x20request','1568870laeAql','6PYERbg','9AEUNlW','2281270DWhlWk','authorization','__importDefault','4454208PaJelY','1374048jGFVPF','14IOIBSQ'];a277_0x2fee=function(){return _0x481a75;};return a277_0x2fee();}const a277_0x48910a=a277_0x56be;(function(_0x2aaa75,_0x5bab41){const _0x32f560=a277_0x56be,_0xbcf5b2=_0x2aaa75();while(!![]){try{const _0x327c85=parseInt(_0x32f560(0xf8))/0x1+parseInt(_0x32f560(0xf3))/0x2*(parseInt(_0x32f560(0xff))/0x3)+parseInt(_0x32f560(0xef))/0x4+-parseInt(_0x32f560(0xeb))/0x5*(parseInt(_0x32f560(0xfe))/0x6)+-parseInt(_0x32f560(0xf0))/0x7*(parseInt(_0x32f560(0xf7))/0x8)+parseInt(_0x32f560(0xee))/0x9+parseInt(_0x32f560(0xfd))/0xa*(parseInt(_0x32f560(0xf4))/0xb);if(_0x327c85===_0x5bab41)break;else _0xbcf5b2['push'](_0xbcf5b2['shift']());}catch(_0x36cb2c){_0xbcf5b2['push'](_0xbcf5b2['shift']());}}}(a277_0x2fee,0x56268));var __importDefault=this&&this[a277_0x48910a(0xed)]||function(_0x55c2b4){const _0x518a2f=a277_0x48910a;return _0x55c2b4&&_0x55c2b4[_0x518a2f(0xf5)]?_0x55c2b4:{'default':_0x55c2b4};};Object[a277_0x48910a(0xfa)](exports,'__esModule',{'value':!![]});function a277_0x56be(_0x26b601,_0x25324a){const _0x2feeb=a277_0x2fee();return a277_0x56be=function(_0x56bee6,_0x1c3ef5){_0x56bee6=_0x56bee6-0xeb;let _0x5e1793=_0x2feeb[_0x56bee6];return _0x5e1793;},a277_0x56be(_0x26b601,_0x25324a);}const AppError_1=__importDefault(require('../errors/AppError')),Whatsapp_1=__importDefault(require('../models/Whatsapp')),isAuthApi=async(_0x49e43e,_0x4be23a,_0x23d795)=>{const _0x3b1223=a277_0x48910a,_0x259756=_0x49e43e['headers'][_0x3b1223(0xec)];if(!_0x259756)throw new AppError_1['default'](_0x3b1223(0xf1),0x191);const [,_0x3d18a0]=_0x259756[_0x3b1223(0xf9)]('\x20');try{const _0x475b4f=await Whatsapp_1[_0x3b1223(0xf6)][_0x3b1223(0xfb)]({'where':{'token':_0x3d18a0}}),_0x428cd8=_0x475b4f?.[_0x3b1223(0xf2)];if(!_0x428cd8)throw new AppError_1['default'](_0x3b1223(0xf1),0x191);if(_0x428cd8!==_0x3d18a0)throw new AppError_1[(_0x3b1223(0xf6))](_0x3b1223(0xf1),0x191);}catch(_0x5a2298){throw new AppError_1[(_0x3b1223(0xf6))](_0x3b1223(0xfc),0x193);}return _0x23d795();};exports[a277_0x48910a(0xf6)]=isAuthApi;