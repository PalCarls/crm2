'use strict';const a305_0x594b47=a305_0x4fc8;(function(_0xee25f2,_0x33b3b1){const _0x4f217d=a305_0x4fc8,_0x360eb9=_0xee25f2();while(!![]){try{const _0x44495d=parseInt(_0x4f217d(0x1e7))/0x1*(parseInt(_0x4f217d(0x1de))/0x2)+parseInt(_0x4f217d(0x1e9))/0x3*(-parseInt(_0x4f217d(0x1dc))/0x4)+parseInt(_0x4f217d(0x1e8))/0x5+parseInt(_0x4f217d(0x1ee))/0x6*(parseInt(_0x4f217d(0x1ef))/0x7)+parseInt(_0x4f217d(0x1e4))/0x8+parseInt(_0x4f217d(0x1f2))/0x9+parseInt(_0x4f217d(0x1ea))/0xa*(-parseInt(_0x4f217d(0x1eb))/0xb);if(_0x44495d===_0x33b3b1)break;else _0x360eb9['push'](_0x360eb9['shift']());}catch(_0x172133){_0x360eb9['push'](_0x360eb9['shift']());}}}(a305_0x4231,0xdf121));function a305_0x4231(){const _0xc2bc60=['findOne','2twAyIL','defineProperty','default','authorization','Invalid\x20token.\x20We\x27ll\x20try\x20to\x20assign\x20a\x20new\x20one\x20on\x20next\x20request','../errors/AppError','10902760VRNsPE','token','__importDefault','1757255pnGckP','5748935WiKhNS','753021AtyPZF','540Bwuzdt','708631DdUUNA','split','__esModule','6BOpeDu','7815549tNCiap','ERR_SESSION_EXPIRED','headers','6867774ohIvMb','28OEUfPi'];a305_0x4231=function(){return _0xc2bc60;};return a305_0x4231();}function a305_0x4fc8(_0x53f45e,_0x62a02e){const _0x4231b8=a305_0x4231();return a305_0x4fc8=function(_0x4fc89a,_0x4654da){_0x4fc89a=_0x4fc89a-0x1dc;let _0x3d78f7=_0x4231b8[_0x4fc89a];return _0x3d78f7;},a305_0x4fc8(_0x53f45e,_0x62a02e);}var __importDefault=this&&this[a305_0x594b47(0x1e6)]||function(_0x2fbc07){return _0x2fbc07&&_0x2fbc07['__esModule']?_0x2fbc07:{'default':_0x2fbc07};};Object[a305_0x594b47(0x1df)](exports,a305_0x594b47(0x1ed),{'value':!![]});const AppError_1=__importDefault(require(a305_0x594b47(0x1e3))),Whatsapp_1=__importDefault(require('../models/Whatsapp')),isAuthApi=async(_0x424dfd,_0x3d0d82,_0xd8b56f)=>{const _0x555fc4=a305_0x594b47,_0x74f10f=_0x424dfd[_0x555fc4(0x1f1)][_0x555fc4(0x1e1)];if(!_0x74f10f)throw new AppError_1[(_0x555fc4(0x1e0))]('ERR_SESSION_EXPIRED',0x191);const [,_0x2a6add]=_0x74f10f[_0x555fc4(0x1ec)]('\x20');try{const _0x12d5e6=await Whatsapp_1[_0x555fc4(0x1e0)][_0x555fc4(0x1dd)]({'where':{'token':_0x2a6add}}),_0x3f9700=_0x12d5e6?.[_0x555fc4(0x1e5)];if(!_0x3f9700)throw new AppError_1[(_0x555fc4(0x1e0))](_0x555fc4(0x1f0),0x191);if(_0x3f9700!==_0x2a6add)throw new AppError_1['default'](_0x555fc4(0x1f0),0x191);}catch(_0x20d298){throw new AppError_1[(_0x555fc4(0x1e0))](_0x555fc4(0x1e2),0x193);}return _0xd8b56f();};exports[a305_0x594b47(0x1e0)]=isAuthApi;