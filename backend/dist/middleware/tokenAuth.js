'use strict';const a298_0x50c5b5=a298_0x3c2c;function a298_0x5479(){const _0x24e0a5=['711ZJaDWJ','6OaUDzC','101248NtgOee','ERR_SESSION_EXPIRED','../models/Whatsapp','465076dZmlxd','1093939RXsTBE','313400OTEFVN','88936aWDORx','__importDefault','Invalid\x20token.\x20We\x27ll\x20try\x20to\x20assign\x20a\x20new\x20one\x20on\x20next\x20request','default','__esModule','split','5871310aQKFxc','243iQCnrl','2042dxgdDY','token'];a298_0x5479=function(){return _0x24e0a5;};return a298_0x5479();}(function(_0x188f2c,_0x1780cb){const _0x2855a9=a298_0x3c2c,_0x48d7d4=_0x188f2c();while(!![]){try{const _0x12a05c=parseInt(_0x2855a9(0xf7))/0x1+parseInt(_0x2855a9(0xf3))/0x2*(-parseInt(_0x2855a9(0xf5))/0x3)+-parseInt(_0x2855a9(0xe8))/0x4+-parseInt(_0x2855a9(0xea))/0x5*(parseInt(_0x2855a9(0xf6))/0x6)+-parseInt(_0x2855a9(0xe9))/0x7+-parseInt(_0x2855a9(0xeb))/0x8*(-parseInt(_0x2855a9(0xf2))/0x9)+parseInt(_0x2855a9(0xf1))/0xa;if(_0x12a05c===_0x1780cb)break;else _0x48d7d4['push'](_0x48d7d4['shift']());}catch(_0x1cea62){_0x48d7d4['push'](_0x48d7d4['shift']());}}}(a298_0x5479,0x646c7));var __importDefault=this&&this[a298_0x50c5b5(0xec)]||function(_0xbb6718){return _0xbb6718&&_0xbb6718['__esModule']?_0xbb6718:{'default':_0xbb6718};};function a298_0x3c2c(_0x111ee1,_0x33eeb4){const _0x5479ef=a298_0x5479();return a298_0x3c2c=function(_0x3c2c72,_0x3409b8){_0x3c2c72=_0x3c2c72-0xe8;let _0x3e18e5=_0x5479ef[_0x3c2c72];return _0x3e18e5;},a298_0x3c2c(_0x111ee1,_0x33eeb4);}Object['defineProperty'](exports,a298_0x50c5b5(0xef),{'value':!![]});const AppError_1=__importDefault(require('../errors/AppError')),Whatsapp_1=__importDefault(require(a298_0x50c5b5(0xf9))),isAuthApi=async(_0x463335,_0x312d73,_0x4e6b3a)=>{const _0x144a5a=a298_0x50c5b5,_0x51942f=_0x463335['headers']['authorization'];if(!_0x51942f)throw new AppError_1[(_0x144a5a(0xee))](_0x144a5a(0xf8),0x191);const [,_0x1c2bcc]=_0x51942f[_0x144a5a(0xf0)]('\x20');try{const _0x3b081b=await Whatsapp_1['default']['findOne']({'where':{'token':_0x1c2bcc}}),_0xe0fcc5=_0x3b081b?.[_0x144a5a(0xf4)];if(!_0xe0fcc5)throw new AppError_1[(_0x144a5a(0xee))](_0x144a5a(0xf8),0x191);if(_0xe0fcc5!==_0x1c2bcc)throw new AppError_1['default'](_0x144a5a(0xf8),0x191);}catch(_0x2d73ea){throw new AppError_1[(_0x144a5a(0xee))](_0x144a5a(0xed),0x193);}return _0x4e6b3a();};exports['default']=isAuthApi;