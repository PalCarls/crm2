<<<<<<< HEAD
'use strict';const a288_0x1b61af=a288_0x4367;(function(_0x3ad000,_0x2cdd45){const _0x361ad1=a288_0x4367,_0x42d183=_0x3ad000();while(!![]){try{const _0x1e5a13=parseInt(_0x361ad1(0xcd))/0x1*(parseInt(_0x361ad1(0xd2))/0x2)+parseInt(_0x361ad1(0xc3))/0x3*(parseInt(_0x361ad1(0xcb))/0x4)+-parseInt(_0x361ad1(0xc6))/0x5*(-parseInt(_0x361ad1(0xc9))/0x6)+parseInt(_0x361ad1(0xd1))/0x7*(-parseInt(_0x361ad1(0xbf))/0x8)+parseInt(_0x361ad1(0xb9))/0x9+-parseInt(_0x361ad1(0xc7))/0xa*(-parseInt(_0x361ad1(0xb8))/0xb)+parseInt(_0x361ad1(0xc1))/0xc*(-parseInt(_0x361ad1(0xd4))/0xd);if(_0x1e5a13===_0x2cdd45)break;else _0x42d183['push'](_0x42d183['shift']());}catch(_0x4c7528){_0x42d183['push'](_0x42d183['shift']());}}}(a288_0xc08e,0xba4de));var __importDefault=this&&this[a288_0x1b61af(0xc5)]||function(_0x1742c5){const _0xe15e12=a288_0x1b61af;return _0x1742c5&&_0x1742c5[_0xe15e12(0xba)]?_0x1742c5:{'default':_0x1742c5};};Object[a288_0x1b61af(0xbb)](exports,a288_0x1b61af(0xba),{'value':!![]});function a288_0xc08e(){const _0x3802c4=['31SdajdM','changed','headers','default','10479ZkbbUd','95830fjXNfB','../errors/AppError','24509992oeKOUS','online','companyId','jsonwebtoken','Invalid\x20token.\x20We\x27ll\x20try\x20to\x20assign\x20a\x20new\x20one\x20on\x20next\x20request','ERR_SESSION_EXPIRED','user','548988SgMQWf','707823vbJjvk','__esModule','defineProperty','../services/UserServices/ShowUserService','verify','reload','5192NIDTXp','split','12RCWjrJ','emit','3052653RQktEm','authorization','__importDefault','8890qkHPck','10ediBNT','message','3336ZNgNTH','update','4ZlwBLA','../config/auth'];a288_0xc08e=function(){return _0x3802c4;};return a288_0xc08e();}function a288_0x4367(_0x4e6ed0,_0x8c7559){const _0xc08ea0=a288_0xc08e();return a288_0x4367=function(_0x4367e3,_0x49f36d){_0x4367e3=_0x4367e3-0xb6;let _0xb265be=_0xc08ea0[_0x4367e3];return _0xb265be;},a288_0x4367(_0x4e6ed0,_0x8c7559);}const jsonwebtoken_1=require(a288_0x1b61af(0xd7)),AppError_1=__importDefault(require(a288_0x1b61af(0xd3))),auth_1=__importDefault(require(a288_0x1b61af(0xcc))),socket_1=require('../libs/socket'),ShowUserService_1=__importDefault(require(a288_0x1b61af(0xbc))),updateUser=async(_0x56bafd,_0x3e7440)=>{const _0x2d03e4=a288_0x1b61af,_0x1e1957=await(0x0,ShowUserService_1[_0x2d03e4(0xd0)])(_0x56bafd,_0x3e7440);_0x1e1957[_0x2d03e4(0xce)]('updatedAt',!![]);let _0x5e0c60=null;_0x5e0c60={'updatedAt':new Date()};if(!_0x1e1957[_0x2d03e4(0xd5)]){_0x5e0c60={..._0x5e0c60,'online':!![]},await _0x1e1957[_0x2d03e4(0xca)](_0x5e0c60),await _0x1e1957[_0x2d03e4(0xbe)]();const _0x3ca7a6=(0x0,socket_1['getIO'])();_0x3ca7a6[_0x2d03e4(0xc2)]('user'+_0x1e1957[_0x2d03e4(0xd6)],{'action':_0x2d03e4(0xca),'user':_0x1e1957});}else await _0x1e1957[_0x2d03e4(0xca)](_0x5e0c60);},isAuth=async(_0x54022e,_0x23803a,_0x5cab3d)=>{const _0xff6645=a288_0x1b61af,_0x6a5f80=_0x54022e[_0xff6645(0xcf)][_0xff6645(0xc4)];if(!_0x6a5f80)throw new AppError_1[(_0xff6645(0xd0))]('ERR_SESSION_EXPIRED',0x191);const [,_0x10bd61]=_0x6a5f80[_0xff6645(0xc0)]('\x20');try{const _0x43bb69=(0x0,jsonwebtoken_1[_0xff6645(0xbd)])(_0x10bd61,auth_1[_0xff6645(0xd0)]['secret']),{id:_0x32777e,profile:_0x32abdd,companyId:_0x21ca46}=_0x43bb69;updateUser(_0x32777e,_0x21ca46),_0x54022e[_0xff6645(0xb7)]={'id':_0x32777e,'profile':_0x32abdd,'companyId':_0x21ca46};}catch(_0x23bdfa){if(_0x23bdfa[_0xff6645(0xc8)]===_0xff6645(0xb6)&&_0x23bdfa['statusCode']===0x191)throw new AppError_1['default'](_0x23bdfa[_0xff6645(0xc8)],0x191);else throw new AppError_1[(_0xff6645(0xd0))](_0xff6645(0xd8),0x193);}return _0x5cab3d();};exports[a288_0x1b61af(0xd0)]=isAuth;
=======
'use strict';function a288_0x92db(_0x1629b3,_0x13b3a3){const _0x38ca35=a288_0x38ca();return a288_0x92db=function(_0x92db05,_0x4e1ddf){_0x92db05=_0x92db05-0xf3;let _0x5250b5=_0x38ca35[_0x92db05];return _0x5250b5;},a288_0x92db(_0x1629b3,_0x13b3a3);}const a288_0x26e8c6=a288_0x92db;(function(_0x307feb,_0x89db79){const _0x25b55a=a288_0x92db,_0x467998=_0x307feb();while(!![]){try{const _0x3a023f=parseInt(_0x25b55a(0x10e))/0x1+parseInt(_0x25b55a(0xf5))/0x2*(-parseInt(_0x25b55a(0xf6))/0x3)+parseInt(_0x25b55a(0x104))/0x4+-parseInt(_0x25b55a(0xf8))/0x5+parseInt(_0x25b55a(0xfa))/0x6+parseInt(_0x25b55a(0xf9))/0x7*(parseInt(_0x25b55a(0xfd))/0x8)+-parseInt(_0x25b55a(0x101))/0x9*(parseInt(_0x25b55a(0xfc))/0xa);if(_0x3a023f===_0x89db79)break;else _0x467998['push'](_0x467998['shift']());}catch(_0x2f2694){_0x467998['push'](_0x467998['shift']());}}}(a288_0x38ca,0xe0b38));var __importDefault=this&&this['__importDefault']||function(_0xd62c7d){return _0xd62c7d&&_0xd62c7d['__esModule']?_0xd62c7d:{'default':_0xd62c7d};};Object['defineProperty'](exports,a288_0x26e8c6(0x10a),{'value':!![]});function a288_0x38ca(){const _0x23e21f=['10sAxFeG','46416EScqTC','verify','default','emit','11283633fIiCYO','update','secret','4790964DWvOjD','reload','statusCode','changed','message','Invalid\x20token.\x20We\x27ll\x20try\x20to\x20assign\x20a\x20new\x20one\x20on\x20next\x20request','__esModule','../services/UserServices/ShowUserService','headers','companyId','1321873zOxAVO','getIO','../errors/AppError','online','2reLUsL','2324775Eegypg','../libs/socket','4986905qrbmTj','1099bLMPbh','3095346BZuymk','user'];a288_0x38ca=function(){return _0x23e21f;};return a288_0x38ca();}const jsonwebtoken_1=require('jsonwebtoken'),AppError_1=__importDefault(require(a288_0x26e8c6(0xf3))),auth_1=__importDefault(require('../config/auth')),socket_1=require(a288_0x26e8c6(0xf7)),ShowUserService_1=__importDefault(require(a288_0x26e8c6(0x10b))),updateUser=async(_0xe7d96a,_0x5b0449)=>{const _0xd27494=a288_0x26e8c6,_0x25b736=await(0x0,ShowUserService_1[_0xd27494(0xff)])(_0xe7d96a,_0x5b0449);_0x25b736[_0xd27494(0x107)]('updatedAt',!![]);let _0x587312=null;_0x587312={'updatedAt':new Date()};if(!_0x25b736[_0xd27494(0xf4)]){_0x587312={..._0x587312,'online':!![]},await _0x25b736[_0xd27494(0x102)](_0x587312),await _0x25b736[_0xd27494(0x105)]();const _0x460da7=(0x0,socket_1[_0xd27494(0x10f)])();_0x460da7[_0xd27494(0x100)](_0xd27494(0xfb)+_0x25b736[_0xd27494(0x10d)],{'action':_0xd27494(0x102),'user':_0x25b736});}else await _0x25b736[_0xd27494(0x102)](_0x587312);},isAuth=async(_0x32717d,_0x1f1c6d,_0x1ef359)=>{const _0x1e831e=a288_0x26e8c6,_0x23265e=_0x32717d[_0x1e831e(0x10c)]['authorization'];if(!_0x23265e)throw new AppError_1[(_0x1e831e(0xff))]('ERR_SESSION_EXPIRED',0x191);const [,_0x2445f3]=_0x23265e['split']('\x20');try{const _0x42d95e=(0x0,jsonwebtoken_1[_0x1e831e(0xfe)])(_0x2445f3,auth_1[_0x1e831e(0xff)][_0x1e831e(0x103)]),{id:_0x984016,profile:_0x1bc83e,companyId:_0x450735}=_0x42d95e;updateUser(_0x984016,_0x450735),_0x32717d['user']={'id':_0x984016,'profile':_0x1bc83e,'companyId':_0x450735};}catch(_0x20ffc6){if(_0x20ffc6[_0x1e831e(0x108)]==='ERR_SESSION_EXPIRED'&&_0x20ffc6[_0x1e831e(0x106)]===0x191)throw new AppError_1[(_0x1e831e(0xff))](_0x20ffc6[_0x1e831e(0x108)],0x191);else throw new AppError_1[(_0x1e831e(0xff))](_0x1e831e(0x109),0x193);}return _0x1ef359();};exports[a288_0x26e8c6(0xff)]=isAuth;
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
