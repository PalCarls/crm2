'use strict';const a326_0x1e7808=a326_0x25be;(function(_0xd5369f,_0x3f7164){const _0x4709df=a326_0x25be,_0x1e0dac=_0xd5369f();while(!![]){try{const _0x1fa6eb=-parseInt(_0x4709df(0x15d))/0x1*(-parseInt(_0x4709df(0x140))/0x2)+-parseInt(_0x4709df(0x139))/0x3*(-parseInt(_0x4709df(0x15e))/0x4)+parseInt(_0x4709df(0x154))/0x5*(parseInt(_0x4709df(0x162))/0x6)+-parseInt(_0x4709df(0x168))/0x7+-parseInt(_0x4709df(0x147))/0x8*(-parseInt(_0x4709df(0x16a))/0x9)+parseInt(_0x4709df(0x146))/0xa+-parseInt(_0x4709df(0x13f))/0xb;if(_0x1fa6eb===_0x3f7164)break;else _0x1e0dac['push'](_0x1e0dac['shift']());}catch(_0x48e409){_0x1e0dac['push'](_0x1e0dac['shift']());}}}(a326_0x181d,0x477e1));function a326_0x25be(_0x275555,_0x3f61f8){const _0x181dff=a326_0x181d();return a326_0x25be=function(_0x25be87,_0x5da6ce){_0x25be87=_0x25be87-0x138;let _0x365d2c=_0x181dff[_0x25be87];return _0x365d2c;},a326_0x25be(_0x275555,_0x3f61f8);}var __importDefault=this&&this[a326_0x1e7808(0x141)]||function(_0x9060f5){return _0x9060f5&&_0x9060f5['__esModule']?_0x9060f5:{'default':_0x9060f5};};function a326_0x181d(){const _0x390f6c=['log','./services/WbotServices/StartAllWhatsAppsSessions','exit','125475fDlZxG','default','27IgkZbE','pid','15ZHuAIU','Express\x20server\x20listening\x20on\x20port\x20','./queues','\x20and\x20worker\x20','express','initIO','14174050yMvXiY','10UKZUqI','__importDefault','cluster','Server\x20started\x20on\x20port:\x20','StartAllWhatsAppsSessions','PORT','4612690JXzJDO','1263056goPGyA','stack','toUTCString','Worker','env','map','./utils/logger','unhandledRejection','defineProperty','error','fork','then','cpus','155xnnGcC','info','startQueueProcess','listen','message','\x20unhandledRejection:','length','uncaughtException','\x20with\x20the\x20single\x20worker\x20','69065yRmgvY','182020mubxKh','\x20uncaughtException:','isMaster','logger','17718WPHeux','all','findAll'];a326_0x181d=function(){return _0x390f6c;};return a326_0x181d();}Object[a326_0x1e7808(0x14f)](exports,'__esModule',{'value':!![]});const http_graceful_shutdown_1=__importDefault(require('http-graceful-shutdown')),socket_1=require('./libs/socket'),logger_1=require(a326_0x1e7808(0x14d)),StartAllWhatsAppsSessions_1=require(a326_0x1e7808(0x166)),Company_1=__importDefault(require('./models/Company')),queues_1=require(a326_0x1e7808(0x13b)),express=require(a326_0x1e7808(0x13d)),os=require('os'),cluster=require(a326_0x1e7808(0x142)),PORT=process[a326_0x1e7808(0x14b)][a326_0x1e7808(0x145)]||0xfa0,clusterWorkerSize=os[a326_0x1e7808(0x153)]()[a326_0x1e7808(0x15a)];console[a326_0x1e7808(0x165)]('clusterWorkerSize',clusterWorkerSize);if(clusterWorkerSize>0x1){if(cluster[a326_0x1e7808(0x160)]){for(let i=0x0;i<clusterWorkerSize;i++){cluster[a326_0x1e7808(0x151)]();}cluster['on'](a326_0x1e7808(0x167),function(_0xbaacb9){const _0x3092e7=a326_0x1e7808;console[_0x3092e7(0x165)](_0x3092e7(0x14a),_0xbaacb9['id'],'\x20has\x20exitted.');});}else{const app=express(),server=app[a326_0x1e7808(0x157)](process[a326_0x1e7808(0x14b)]['PORT'],async()=>{const _0x47b4a0=a326_0x1e7808,_0x43eb80=await Company_1[_0x47b4a0(0x169)][_0x47b4a0(0x164)](),_0x4a1e1b=[];_0x43eb80[_0x47b4a0(0x14c)](async _0x138d5e=>{const _0xb18156=_0x47b4a0,_0x57a150=(0x0,StartAllWhatsAppsSessions_1[_0xb18156(0x144)])(_0x138d5e['id']);_0x4a1e1b['push'](_0x57a150);}),Promise[_0x47b4a0(0x163)](_0x4a1e1b)[_0x47b4a0(0x152)](async()=>{const _0x4937d4=_0x47b4a0;await(0x0,queues_1[_0x4937d4(0x156)])();}),logger_1[_0x47b4a0(0x161)][_0x47b4a0(0x155)](_0x47b4a0(0x143)+process[_0x47b4a0(0x14b)]['PORT']+_0x47b4a0(0x13c)+process['pid']);});process['on'](a326_0x1e7808(0x15b),_0x273bc6=>{const _0x818b3c=a326_0x1e7808;console[_0x818b3c(0x150)](new Date()[_0x818b3c(0x149)]()+_0x818b3c(0x15f),_0x273bc6[_0x818b3c(0x158)]),console[_0x818b3c(0x150)](_0x273bc6[_0x818b3c(0x148)]),process[_0x818b3c(0x167)](0x1);}),process['on'](a326_0x1e7808(0x14e),(_0x9826b1,_0x2799d9)=>{const _0x14c2f9=a326_0x1e7808;console[_0x14c2f9(0x150)](new Date()['toUTCString']()+_0x14c2f9(0x159),_0x9826b1,_0x2799d9),process[_0x14c2f9(0x167)](0x1);}),(0x0,socket_1[a326_0x1e7808(0x13e)])(server),(0x0,http_graceful_shutdown_1[a326_0x1e7808(0x169)])(server);}}else{const app=express();app[a326_0x1e7808(0x157)](PORT,function(){const _0x3c3331=a326_0x1e7808;console['log'](_0x3c3331(0x13a)+PORT+_0x3c3331(0x15c)+process[_0x3c3331(0x138)]);});}