'use strict';const a386_0x548777=a386_0x5301;(function(_0x557263,_0x2d4f1d){const _0x23ab76=a386_0x5301,_0x5e9195=_0x557263();while(!![]){try{const _0x224eee=parseInt(_0x23ab76(0xbf))/0x1+parseInt(_0x23ab76(0xcf))/0x2*(-parseInt(_0x23ab76(0xc6))/0x3)+-parseInt(_0x23ab76(0xcd))/0x4*(parseInt(_0x23ab76(0xd3))/0x5)+-parseInt(_0x23ab76(0xd5))/0x6*(-parseInt(_0x23ab76(0xc3))/0x7)+parseInt(_0x23ab76(0xbb))/0x8+parseInt(_0x23ab76(0xc7))/0x9*(parseInt(_0x23ab76(0xba))/0xa)+parseInt(_0x23ab76(0xcb))/0xb;if(_0x224eee===_0x2d4f1d)break;else _0x5e9195['push'](_0x5e9195['shift']());}catch(_0x2a426d){_0x5e9195['push'](_0x5e9195['shift']());}}}(a386_0x1504,0x790be));function a386_0x5301(_0x20bba9,_0x4f57c8){const _0x15041e=a386_0x1504();return a386_0x5301=function(_0x530120,_0x361080){_0x530120=_0x530120-0xb9;let _0x3346ff=_0x15041e[_0x530120];return _0x3346ff;},a386_0x5301(_0x20bba9,_0x4f57c8);}var __importDefault=this&&this['__importDefault']||function(_0x3d7d8f){const _0x5a5e39=a386_0x5301;return _0x3d7d8f&&_0x3d7d8f[_0x5a5e39(0xe2)]?_0x3d7d8f:{'default':_0x3d7d8f};};Object['defineProperty'](exports,a386_0x548777(0xe2),{'value':!![]});function a386_0x1504(){const _0x15af36=['4962184tEEeSR','http-graceful-shutdown','initIO','toUTCString','612921EphNZu','fork','map','info','371BSEQRd','Worker','listen','6Boghod','9vjnplz','\x20unhandledRejection:','all','./queues','1370204RXPZXn','error','6892jgPlWa','unhandledRejection','452930mbaYtj','env','express','clusterWorkerSize','2540QbRvKG','Server\x20started\x20on\x20port:\x20','17112zOFGpX','exit','uncaughtException','then','pid','./models/Company','default','\x20and\x20worker\x20','./services/WbotServices/StartAllWhatsAppsSessions','stack','./libs/socket','\x20has\x20exitted.','push','__esModule','log','logger','StartAllWhatsAppsSessions','PORT','startQueueProcess','3151060WRtXDw'];a386_0x1504=function(){return _0x15af36;};return a386_0x1504();}const http_graceful_shutdown_1=__importDefault(require(a386_0x548777(0xbc))),socket_1=require(a386_0x548777(0xdf)),logger_1=require('./utils/logger'),StartAllWhatsAppsSessions_1=require(a386_0x548777(0xdd)),Company_1=__importDefault(require(a386_0x548777(0xda))),queues_1=require(a386_0x548777(0xca)),express=require(a386_0x548777(0xd1)),os=require('os'),cluster=require('cluster'),PORT=process[a386_0x548777(0xd0)][a386_0x548777(0xe6)]||0xfa0,clusterWorkerSize=os['cpus']()['length'];console['log'](a386_0x548777(0xd2),clusterWorkerSize);if(clusterWorkerSize>0x1){if(cluster['isMaster']){for(let i=0x0;i<clusterWorkerSize;i++){cluster[a386_0x548777(0xc0)]();}cluster['on']('exit',function(_0xd24f05){const _0x4c1e3a=a386_0x548777;console['log'](_0x4c1e3a(0xc4),_0xd24f05['id'],_0x4c1e3a(0xe0));});}else{const app=express(),server=app[a386_0x548777(0xc5)](process[a386_0x548777(0xd0)]['PORT'],async()=>{const _0x2149e2=a386_0x548777,_0xb82065=await Company_1[_0x2149e2(0xdb)]['findAll'](),_0x8ffcc8=[];_0xb82065[_0x2149e2(0xc1)](async _0x198f64=>{const _0xe89cd4=_0x2149e2,_0x4fe60b=(0x0,StartAllWhatsAppsSessions_1[_0xe89cd4(0xe5)])(_0x198f64['id']);_0x8ffcc8[_0xe89cd4(0xe1)](_0x4fe60b);}),Promise[_0x2149e2(0xc9)](_0x8ffcc8)[_0x2149e2(0xd8)](async()=>{const _0x10a908=_0x2149e2;await(0x0,queues_1[_0x10a908(0xb9)])();}),logger_1[_0x2149e2(0xe4)][_0x2149e2(0xc2)](_0x2149e2(0xd4)+process[_0x2149e2(0xd0)][_0x2149e2(0xe6)]+_0x2149e2(0xdc)+process[_0x2149e2(0xd9)]);});process['on'](a386_0x548777(0xd7),_0x57625a=>{const _0x2b614d=a386_0x548777;console[_0x2b614d(0xcc)](new Date()[_0x2b614d(0xbe)]()+'\x20uncaughtException:',_0x57625a['message']),console[_0x2b614d(0xcc)](_0x57625a[_0x2b614d(0xde)]),process[_0x2b614d(0xd6)](0x1);}),process['on'](a386_0x548777(0xce),(_0x501272,_0x389b61)=>{const _0x1d462f=a386_0x548777;console[_0x1d462f(0xcc)](new Date()['toUTCString']()+_0x1d462f(0xc8),_0x501272,_0x389b61),process['exit'](0x1);}),(0x0,socket_1[a386_0x548777(0xbd)])(server),(0x0,http_graceful_shutdown_1['default'])(server);}}else{const app=express();app[a386_0x548777(0xc5)](PORT,function(){const _0x22af9c=a386_0x548777;console[_0x22af9c(0xe3)]('Express\x20server\x20listening\x20on\x20port\x20'+PORT+'\x20with\x20the\x20single\x20worker\x20'+process[_0x22af9c(0xd9)]);});}