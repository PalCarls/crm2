'use strict';const a355_0x484de7=a355_0x1241;(function(_0x597e67,_0x5834af){const _0x46776f=a355_0x1241,_0xba9d22=_0x597e67();while(!![]){try{const _0x5637b8=-parseInt(_0x46776f(0x1fc))/0x1*(parseInt(_0x46776f(0x206))/0x2)+-parseInt(_0x46776f(0x211))/0x3*(-parseInt(_0x46776f(0x1f9))/0x4)+-parseInt(_0x46776f(0x216))/0x5+parseInt(_0x46776f(0x201))/0x6+parseInt(_0x46776f(0x1fe))/0x7+-parseInt(_0x46776f(0x1f4))/0x8*(parseInt(_0x46776f(0x218))/0x9)+parseInt(_0x46776f(0x20b))/0xa*(parseInt(_0x46776f(0x20c))/0xb);if(_0x5637b8===_0x5834af)break;else _0xba9d22['push'](_0xba9d22['shift']());}catch(_0x1cb883){_0xba9d22['push'](_0xba9d22['shift']());}}}(a355_0x1a6d,0x77bb6));var __importDefault=this&&this[a355_0x484de7(0x1f7)]||function(_0x5e5af4){return _0x5e5af4&&_0x5e5af4['__esModule']?_0x5e5af4:{'default':_0x5e5af4};};function a355_0x1a6d(){const _0x2ed87e=['Express\x20server\x20listening\x20on\x20port\x20','then','unhandledRejection','exit','\x20and\x20worker\x20','findAll','\x20unhandledRejection:','all','./models/Company','fork','uncaughtException','length','\x20has\x20exitted.','1052200tUWeJB','default','StartAllWhatsAppsSessions','__importDefault','./services/WbotServices/StartAllWhatsAppsSessions','37208KQPUNg','defineProperty','log','133EgMBpb','./queues','5161436onnyWC','Worker','isMaster','5515356meKTrN','map','error','toUTCString','express','14502PkYAhB','message','clusterWorkerSize','pid','http-graceful-shutdown','34690pGRxqc','1925qHKZnO','Server\x20started\x20on\x20port:\x20','\x20with\x20the\x20single\x20worker\x20','./utils/logger','env','60OjpRbe','logger','stack','startQueueProcess','__esModule','3659170lWcyfA','listen','18csMgPL','\x20uncaughtException:'];a355_0x1a6d=function(){return _0x2ed87e;};return a355_0x1a6d();}function a355_0x1241(_0x23bb31,_0x381d84){const _0x1a6d01=a355_0x1a6d();return a355_0x1241=function(_0x1241e3,_0x2900a2){_0x1241e3=_0x1241e3-0x1f2;let _0x21768d=_0x1a6d01[_0x1241e3];return _0x21768d;},a355_0x1241(_0x23bb31,_0x381d84);}Object[a355_0x484de7(0x1fa)](exports,a355_0x484de7(0x215),{'value':!![]});const http_graceful_shutdown_1=__importDefault(require(a355_0x484de7(0x20a))),socket_1=require('./libs/socket'),logger_1=require(a355_0x484de7(0x20f)),StartAllWhatsAppsSessions_1=require(a355_0x484de7(0x1f8)),Company_1=__importDefault(require(a355_0x484de7(0x222))),queues_1=require(a355_0x484de7(0x1fd)),express=require(a355_0x484de7(0x205)),os=require('os'),cluster=require('cluster'),PORT=process[a355_0x484de7(0x210)]['PORT']||0xfa0,clusterWorkerSize=os['cpus']()[a355_0x484de7(0x1f2)];console[a355_0x484de7(0x1fb)](a355_0x484de7(0x208),clusterWorkerSize);if(clusterWorkerSize>0x1){if(cluster[a355_0x484de7(0x200)]){for(let i=0x0;i<clusterWorkerSize;i++){cluster[a355_0x484de7(0x223)]();}cluster['on'](a355_0x484de7(0x21d),function(_0x2c8515){const _0x264d15=a355_0x484de7;console['log'](_0x264d15(0x1ff),_0x2c8515['id'],_0x264d15(0x1f3));});}else{const app=express(),server=app[a355_0x484de7(0x217)](process[a355_0x484de7(0x210)]['PORT'],async()=>{const _0x55cc35=a355_0x484de7,_0xa8d3d7=await Company_1[_0x55cc35(0x1f5)][_0x55cc35(0x21f)](),_0x2418ad=[];_0xa8d3d7[_0x55cc35(0x202)](async _0x2bcf83=>{const _0x4428a2=_0x55cc35,_0x3dd11c=(0x0,StartAllWhatsAppsSessions_1[_0x4428a2(0x1f6)])(_0x2bcf83['id']);_0x2418ad['push'](_0x3dd11c);}),Promise[_0x55cc35(0x221)](_0x2418ad)[_0x55cc35(0x21b)](async()=>{const _0x4bdbdb=_0x55cc35;await(0x0,queues_1[_0x4bdbdb(0x214)])();}),logger_1[_0x55cc35(0x212)]['info'](_0x55cc35(0x20d)+process[_0x55cc35(0x210)]['PORT']+_0x55cc35(0x21e)+process['pid']);});process['on'](a355_0x484de7(0x224),_0x37415b=>{const _0x460aa5=a355_0x484de7;console[_0x460aa5(0x203)](new Date()[_0x460aa5(0x204)]()+_0x460aa5(0x219),_0x37415b[_0x460aa5(0x207)]),console['error'](_0x37415b[_0x460aa5(0x213)]),process[_0x460aa5(0x21d)](0x1);}),process['on'](a355_0x484de7(0x21c),(_0x47a5d8,_0x23f0f5)=>{const _0x268b81=a355_0x484de7;console[_0x268b81(0x203)](new Date()['toUTCString']()+_0x268b81(0x220),_0x47a5d8,_0x23f0f5),process[_0x268b81(0x21d)](0x1);}),(0x0,socket_1['initIO'])(server),(0x0,http_graceful_shutdown_1[a355_0x484de7(0x1f5)])(server);}}else{const app=express();app[a355_0x484de7(0x217)](PORT,function(){const _0x1741a2=a355_0x484de7;console[_0x1741a2(0x1fb)](_0x1741a2(0x21a)+PORT+_0x1741a2(0x20e)+process[_0x1741a2(0x209)]);});}