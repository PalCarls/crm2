'use strict';const a343_0x56bb99=a343_0x4cfe;(function(_0x415365,_0x43e453){const _0x30268a=a343_0x4cfe,_0x1cad1a=_0x415365();while(!![]){try{const _0x4c90b3=parseInt(_0x30268a(0x1ed))/0x1*(-parseInt(_0x30268a(0x215))/0x2)+parseInt(_0x30268a(0x20a))/0x3+parseInt(_0x30268a(0x212))/0x4*(parseInt(_0x30268a(0x1f6))/0x5)+-parseInt(_0x30268a(0x216))/0x6*(parseInt(_0x30268a(0x213))/0x7)+parseInt(_0x30268a(0x211))/0x8*(-parseInt(_0x30268a(0x20e))/0x9)+parseInt(_0x30268a(0x1fe))/0xa*(parseInt(_0x30268a(0x210))/0xb)+parseInt(_0x30268a(0x1ff))/0xc;if(_0x4c90b3===_0x43e453)break;else _0x1cad1a['push'](_0x1cad1a['shift']());}catch(_0x1aa891){_0x1cad1a['push'](_0x1cad1a['shift']());}}}(a343_0x31db,0xbeceb));function a343_0x31db(){const _0x86eea8=['./models/Company','initIO','env','map','886788GoYmua','__esModule','push','unhandledRejection','2843001LOjtGX','\x20unhandledRejection:','19888IxktJY','24hwuWzE','1981396KMhBuL','7DlxFsk','Express\x20server\x20listening\x20on\x20port\x20','46ChwmzF','6251562QRZJWB','clusterWorkerSize','cluster','stack','./libs/socket','./services/WbotServices/StartAllWhatsAppsSessions','isMaster','66191FlfCZs','log','PORT','./queues','StartAllWhatsAppsSessions','\x20with\x20the\x20single\x20worker\x20','listen','http-graceful-shutdown','findAll','15uvKaUD','error','default','express','cpus','fork','all','logger','2740rwQgJS','24197988pfpRCI','message','then','\x20and\x20worker\x20','length','exit','pid'];a343_0x31db=function(){return _0x86eea8;};return a343_0x31db();}function a343_0x4cfe(_0x3e27a6,_0x10d683){const _0x31db5f=a343_0x31db();return a343_0x4cfe=function(_0x4cfe08,_0x54bbca){_0x4cfe08=_0x4cfe08-0x1e9;let _0x3d3cfe=_0x31db5f[_0x4cfe08];return _0x3d3cfe;},a343_0x4cfe(_0x3e27a6,_0x10d683);}var __importDefault=this&&this['__importDefault']||function(_0x54d944){return _0x54d944&&_0x54d944['__esModule']?_0x54d944:{'default':_0x54d944};};Object['defineProperty'](exports,a343_0x56bb99(0x20b),{'value':!![]});const http_graceful_shutdown_1=__importDefault(require(a343_0x56bb99(0x1f4))),socket_1=require(a343_0x56bb99(0x1ea)),logger_1=require('./utils/logger'),StartAllWhatsAppsSessions_1=require(a343_0x56bb99(0x1eb)),Company_1=__importDefault(require(a343_0x56bb99(0x206))),queues_1=require(a343_0x56bb99(0x1f0)),express=require(a343_0x56bb99(0x1f9)),os=require('os'),cluster=require(a343_0x56bb99(0x218)),PORT=process[a343_0x56bb99(0x208)][a343_0x56bb99(0x1ef)]||0xfa0,clusterWorkerSize=os[a343_0x56bb99(0x1fa)]()[a343_0x56bb99(0x203)];console[a343_0x56bb99(0x1ee)](a343_0x56bb99(0x217),clusterWorkerSize);if(clusterWorkerSize>0x1){if(cluster[a343_0x56bb99(0x1ec)]){for(let i=0x0;i<clusterWorkerSize;i++){cluster[a343_0x56bb99(0x1fb)]();}cluster['on']('exit',function(_0x1246bb){const _0x423b37=a343_0x56bb99;console[_0x423b37(0x1ee)]('Worker',_0x1246bb['id'],'\x20has\x20exitted.');});}else{const app=express(),server=app[a343_0x56bb99(0x1f3)](process[a343_0x56bb99(0x208)][a343_0x56bb99(0x1ef)],async()=>{const _0x2d4d23=a343_0x56bb99,_0x284ab6=await Company_1[_0x2d4d23(0x1f8)][_0x2d4d23(0x1f5)](),_0xab1901=[];_0x284ab6[_0x2d4d23(0x209)](async _0x2b55a8=>{const _0x3d9dfb=_0x2d4d23,_0x1e696d=(0x0,StartAllWhatsAppsSessions_1[_0x3d9dfb(0x1f1)])(_0x2b55a8['id']);_0xab1901[_0x3d9dfb(0x20c)](_0x1e696d);}),Promise[_0x2d4d23(0x1fc)](_0xab1901)[_0x2d4d23(0x201)](async()=>{await(0x0,queues_1['startQueueProcess'])();}),logger_1[_0x2d4d23(0x1fd)]['info']('Server\x20started\x20on\x20port:\x20'+process[_0x2d4d23(0x208)][_0x2d4d23(0x1ef)]+_0x2d4d23(0x202)+process[_0x2d4d23(0x205)]);});process['on']('uncaughtException',_0x400d04=>{const _0x3518b1=a343_0x56bb99;console[_0x3518b1(0x1f7)](new Date()['toUTCString']()+'\x20uncaughtException:',_0x400d04[_0x3518b1(0x200)]),console[_0x3518b1(0x1f7)](_0x400d04[_0x3518b1(0x1e9)]),process[_0x3518b1(0x204)](0x1);}),process['on'](a343_0x56bb99(0x20d),(_0x106578,_0x4ffe01)=>{const _0xbb48ca=a343_0x56bb99;console[_0xbb48ca(0x1f7)](new Date()['toUTCString']()+_0xbb48ca(0x20f),_0x106578,_0x4ffe01),process[_0xbb48ca(0x204)](0x1);}),(0x0,socket_1[a343_0x56bb99(0x207)])(server),(0x0,http_graceful_shutdown_1['default'])(server);}}else{const app=express();app[a343_0x56bb99(0x1f3)](PORT,function(){const _0x519c84=a343_0x56bb99;console[_0x519c84(0x1ee)](_0x519c84(0x214)+PORT+_0x519c84(0x1f2)+process[_0x519c84(0x205)]);});}