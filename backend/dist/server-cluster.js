<<<<<<< HEAD
'use strict';const a377_0x3773f3=a377_0x3ddc;(function(_0x36f8db,_0x1a8915){const _0x5bc77e=a377_0x3ddc,_0x469797=_0x36f8db();while(!![]){try{const _0x5a25c5=parseInt(_0x5bc77e(0xef))/0x1+-parseInt(_0x5bc77e(0xf2))/0x2*(-parseInt(_0x5bc77e(0xd7))/0x3)+parseInt(_0x5bc77e(0xdd))/0x4*(parseInt(_0x5bc77e(0xca))/0x5)+-parseInt(_0x5bc77e(0xd5))/0x6+-parseInt(_0x5bc77e(0xe7))/0x7+-parseInt(_0x5bc77e(0xdb))/0x8*(-parseInt(_0x5bc77e(0xdf))/0x9)+-parseInt(_0x5bc77e(0xcb))/0xa*(-parseInt(_0x5bc77e(0xee))/0xb);if(_0x5a25c5===_0x1a8915)break;else _0x469797['push'](_0x469797['shift']());}catch(_0x36730d){_0x469797['push'](_0x469797['shift']());}}}(a377_0x27ec,0x6af11));function a377_0x3ddc(_0x34a29f,_0x375427){const _0x27ec57=a377_0x27ec();return a377_0x3ddc=function(_0x3ddc74,_0x4935ab){_0x3ddc74=_0x3ddc74-0xca;let _0x124d68=_0x27ec57[_0x3ddc74];return _0x124d68;},a377_0x3ddc(_0x34a29f,_0x375427);}function a377_0x27ec(){const _0x2415c2=['toUTCString','260994EIdcBA','error','./libs/socket','pid','32gUcWXN','\x20with\x20the\x20single\x20worker\x20','1531108zRYyXK','message','137421aLktCA','cluster','unhandledRejection','all','Worker','./services/WbotServices/StartAllWhatsAppsSessions','__esModule','exit','5765340dTeWuy','\x20unhandledRejection:','uncaughtException','listen','push','cpus','Server\x20started\x20on\x20port:\x20','689029EleNAJ','364885zfwldd','./queues','map','2LDUDzy','__importDefault','PORT','env','5mcGYMu','150LmUJNq','./models/Company','log','findAll','fork','clusterWorkerSize','initIO','stack','http-graceful-shutdown','defineProperty','3442008Vbsjgh'];a377_0x27ec=function(){return _0x2415c2;};return a377_0x27ec();}var __importDefault=this&&this[a377_0x3773f3(0xf3)]||function(_0x2cdab1){const _0x2611d2=a377_0x3773f3;return _0x2cdab1&&_0x2cdab1[_0x2611d2(0xe5)]?_0x2cdab1:{'default':_0x2cdab1};};Object[a377_0x3773f3(0xd4)](exports,a377_0x3773f3(0xe5),{'value':!![]});const http_graceful_shutdown_1=__importDefault(require(a377_0x3773f3(0xd3))),socket_1=require(a377_0x3773f3(0xd9)),logger_1=require('./utils/logger'),StartAllWhatsAppsSessions_1=require(a377_0x3773f3(0xe4)),Company_1=__importDefault(require(a377_0x3773f3(0xcc))),queues_1=require(a377_0x3773f3(0xf0)),express=require('express'),os=require('os'),cluster=require(a377_0x3773f3(0xe0)),PORT=process['env']['PORT']||0xfa0,clusterWorkerSize=os[a377_0x3773f3(0xec)]()['length'];console[a377_0x3773f3(0xcd)](a377_0x3773f3(0xd0),clusterWorkerSize);if(clusterWorkerSize>0x1){if(cluster['isMaster']){for(let i=0x0;i<clusterWorkerSize;i++){cluster[a377_0x3773f3(0xcf)]();}cluster['on'](a377_0x3773f3(0xe6),function(_0x278042){const _0x27e5a4=a377_0x3773f3;console['log'](_0x27e5a4(0xe3),_0x278042['id'],'\x20has\x20exitted.');});}else{const app=express(),server=app['listen'](process[a377_0x3773f3(0xf5)][a377_0x3773f3(0xf4)],async()=>{const _0x1966e5=a377_0x3773f3,_0x23507f=await Company_1['default'][_0x1966e5(0xce)](),_0x14944e=[];_0x23507f[_0x1966e5(0xf1)](async _0x5a7906=>{const _0x32802b=_0x1966e5,_0x19b305=(0x0,StartAllWhatsAppsSessions_1['StartAllWhatsAppsSessions'])(_0x5a7906['id']);_0x14944e[_0x32802b(0xeb)](_0x19b305);}),Promise[_0x1966e5(0xe2)](_0x14944e)['then'](async()=>{await(0x0,queues_1['startQueueProcess'])();}),logger_1['logger']['info'](_0x1966e5(0xed)+process[_0x1966e5(0xf5)][_0x1966e5(0xf4)]+'\x20and\x20worker\x20'+process[_0x1966e5(0xda)]);});process['on'](a377_0x3773f3(0xe9),_0x6e9a2=>{const _0x47cd9c=a377_0x3773f3;console['error'](new Date()[_0x47cd9c(0xd6)]()+'\x20uncaughtException:',_0x6e9a2[_0x47cd9c(0xde)]),console['error'](_0x6e9a2[_0x47cd9c(0xd2)]),process['exit'](0x1);}),process['on'](a377_0x3773f3(0xe1),(_0x448412,_0x1844e0)=>{const _0x2bc54a=a377_0x3773f3;console[_0x2bc54a(0xd8)](new Date()[_0x2bc54a(0xd6)]()+_0x2bc54a(0xe8),_0x448412,_0x1844e0),process[_0x2bc54a(0xe6)](0x1);}),(0x0,socket_1[a377_0x3773f3(0xd1)])(server),(0x0,http_graceful_shutdown_1['default'])(server);}}else{const app=express();app[a377_0x3773f3(0xea)](PORT,function(){const _0x1a8fc4=a377_0x3773f3;console[_0x1a8fc4(0xcd)]('Express\x20server\x20listening\x20on\x20port\x20'+PORT+_0x1a8fc4(0xdc)+process[_0x1a8fc4(0xda)]);});}
=======
'use strict';function a377_0xf0a0(_0x5d691b,_0x25eeb6){const _0x5b308=a377_0x5b30();return a377_0xf0a0=function(_0xf0a0a1,_0x85a974){_0xf0a0a1=_0xf0a0a1-0x1b0;let _0x34cb14=_0x5b308[_0xf0a0a1];return _0x34cb14;},a377_0xf0a0(_0x5d691b,_0x25eeb6);}const a377_0x5e6069=a377_0xf0a0;function a377_0x5b30(){const _0x50ccaa=['push','./libs/socket','all','18fVYuJX','162ydzxij','clusterWorkerSize','5joiFVJ','10817390mwjjsO','StartAllWhatsAppsSessions','pid','9126567TrtOZH','587335OyAMgt','default','./services/WbotServices/StartAllWhatsAppsSessions','map','1032968czuXCR','1135360NtaZuj','listen','isMaster','\x20unhandledRejection:','then','stack','11UeTJvL','logger','\x20with\x20the\x20single\x20worker\x20','\x20has\x20exitted.','Server\x20started\x20on\x20port:\x20','\x20uncaughtException:','\x20and\x20worker\x20','initIO','1344543uXagOX','findAll','log','uncaughtException','PORT','error','env','http-graceful-shutdown','length','Express\x20server\x20listening\x20on\x20port\x20','1950DUMhlM','cpus','startQueueProcess','exit','__esModule','toUTCString','info'];a377_0x5b30=function(){return _0x50ccaa;};return a377_0x5b30();}(function(_0x3bc23e,_0x364fde){const _0x5384e1=a377_0xf0a0,_0x24fdfb=_0x3bc23e();while(!![]){try{const _0xc9aee3=parseInt(_0x5384e1(0x1c6))/0x1*(-parseInt(_0x5384e1(0x1bb))/0x2)+parseInt(_0x5384e1(0x1b1))/0x3+parseInt(_0x5384e1(0x1d2))/0x4*(parseInt(_0x5384e1(0x1c8))/0x5)+-parseInt(_0x5384e1(0x1c5))/0x6*(parseInt(_0x5384e1(0x1cd))/0x7)+parseInt(_0x5384e1(0x1d1))/0x8+-parseInt(_0x5384e1(0x1cc))/0x9+parseInt(_0x5384e1(0x1c9))/0xa*(parseInt(_0x5384e1(0x1d8))/0xb);if(_0xc9aee3===_0x364fde)break;else _0x24fdfb['push'](_0x24fdfb['shift']());}catch(_0x195a61){_0x24fdfb['push'](_0x24fdfb['shift']());}}}(a377_0x5b30,0x7ebf1));var __importDefault=this&&this['__importDefault']||function(_0x50c7fb){const _0x255405=a377_0xf0a0;return _0x50c7fb&&_0x50c7fb[_0x255405(0x1bf)]?_0x50c7fb:{'default':_0x50c7fb};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const http_graceful_shutdown_1=__importDefault(require(a377_0x5e6069(0x1b8))),socket_1=require(a377_0x5e6069(0x1c3)),logger_1=require('./utils/logger'),StartAllWhatsAppsSessions_1=require(a377_0x5e6069(0x1cf)),Company_1=__importDefault(require('./models/Company')),queues_1=require('./queues'),express=require('express'),os=require('os'),cluster=require('cluster'),PORT=process[a377_0x5e6069(0x1b7)]['PORT']||0xfa0,clusterWorkerSize=os[a377_0x5e6069(0x1bc)]()[a377_0x5e6069(0x1b9)];console[a377_0x5e6069(0x1b3)](a377_0x5e6069(0x1c7),clusterWorkerSize);if(clusterWorkerSize>0x1){if(cluster[a377_0x5e6069(0x1d4)]){for(let i=0x0;i<clusterWorkerSize;i++){cluster['fork']();}cluster['on'](a377_0x5e6069(0x1be),function(_0x486fb1){const _0x2d3a86=a377_0x5e6069;console[_0x2d3a86(0x1b3)]('Worker',_0x486fb1['id'],_0x2d3a86(0x1db));});}else{const app=express(),server=app[a377_0x5e6069(0x1d3)](process[a377_0x5e6069(0x1b7)][a377_0x5e6069(0x1b5)],async()=>{const _0x214d65=a377_0x5e6069,_0x3613df=await Company_1[_0x214d65(0x1ce)][_0x214d65(0x1b2)](),_0x29ae69=[];_0x3613df[_0x214d65(0x1d0)](async _0x53c70c=>{const _0x668a47=_0x214d65,_0x9cc93f=(0x0,StartAllWhatsAppsSessions_1[_0x668a47(0x1ca)])(_0x53c70c['id']);_0x29ae69[_0x668a47(0x1c2)](_0x9cc93f);}),Promise[_0x214d65(0x1c4)](_0x29ae69)[_0x214d65(0x1d6)](async()=>{const _0xa63f52=_0x214d65;await(0x0,queues_1[_0xa63f52(0x1bd)])();}),logger_1[_0x214d65(0x1d9)][_0x214d65(0x1c1)](_0x214d65(0x1dc)+process[_0x214d65(0x1b7)][_0x214d65(0x1b5)]+_0x214d65(0x1de)+process[_0x214d65(0x1cb)]);});process['on'](a377_0x5e6069(0x1b4),_0x2fd731=>{const _0x11263c=a377_0x5e6069;console[_0x11263c(0x1b6)](new Date()[_0x11263c(0x1c0)]()+_0x11263c(0x1dd),_0x2fd731['message']),console[_0x11263c(0x1b6)](_0x2fd731[_0x11263c(0x1d7)]),process[_0x11263c(0x1be)](0x1);}),process['on']('unhandledRejection',(_0x110954,_0x4ec0e6)=>{const _0x500b84=a377_0x5e6069;console[_0x500b84(0x1b6)](new Date()['toUTCString']()+_0x500b84(0x1d5),_0x110954,_0x4ec0e6),process[_0x500b84(0x1be)](0x1);}),(0x0,socket_1[a377_0x5e6069(0x1b0)])(server),(0x0,http_graceful_shutdown_1[a377_0x5e6069(0x1ce)])(server);}}else{const app=express();app[a377_0x5e6069(0x1d3)](PORT,function(){const _0xadb2e7=a377_0x5e6069;console[_0xadb2e7(0x1b3)](_0xadb2e7(0x1ba)+PORT+_0xadb2e7(0x1da)+process[_0xadb2e7(0x1cb)]);});}
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
