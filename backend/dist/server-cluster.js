'use strict';function a386_0x2684(){const _0x11f2f0=['\x20with\x20the\x20single\x20worker\x20','env','1778112YoCMog','342741vMbkxi','Express\x20server\x20listening\x20on\x20port\x20','18aTlMwf','114kBXTfq','__importDefault','5669980QmQlJh','map','__esModule','./models/Company','pid','http-graceful-shutdown','push','Worker','./utils/logger','\x20uncaughtException:','./libs/socket','800FvZFJL','PORT','21932PXKAbt','default','logger','info','findAll','123273KAAcZf','\x20unhandledRejection:','fork','970wfbImj','./queues','listen','all','log','exit','express','stack','message','error','./services/WbotServices/StartAllWhatsAppsSessions','cpus','isMaster','296958Fbiaej','unhandledRejection','uncaughtException','83118178nmxluh','initIO'];a386_0x2684=function(){return _0x11f2f0;};return a386_0x2684();}function a386_0x92d9(_0x2bf6de,_0x37d20c){const _0x26848f=a386_0x2684();return a386_0x92d9=function(_0x92d928,_0xb97ccf){_0x92d928=_0x92d928-0x101;let _0x113473=_0x26848f[_0x92d928];return _0x113473;},a386_0x92d9(_0x2bf6de,_0x37d20c);}const a386_0x2b1d24=a386_0x92d9;(function(_0x4832c0,_0x57d790){const _0x5cc179=a386_0x92d9,_0xebe40c=_0x4832c0();while(!![]){try{const _0x22e1cd=-parseInt(_0x5cc179(0x10a))/0x1+-parseInt(_0x5cc179(0x103))/0x2*(parseInt(_0x5cc179(0x10d))/0x3)+parseInt(_0x5cc179(0x11d))/0x4*(-parseInt(_0x5cc179(0x125))/0x5)+-parseInt(_0x5cc179(0x10e))/0x6*(parseInt(_0x5cc179(0x10b))/0x7)+-parseInt(_0x5cc179(0x11b))/0x8*(parseInt(_0x5cc179(0x122))/0x9)+-parseInt(_0x5cc179(0x110))/0xa+parseInt(_0x5cc179(0x106))/0xb;if(_0x22e1cd===_0x57d790)break;else _0xebe40c['push'](_0xebe40c['shift']());}catch(_0x41e9ac){_0xebe40c['push'](_0xebe40c['shift']());}}}(a386_0x2684,0xe9863));var __importDefault=this&&this[a386_0x2b1d24(0x10f)]||function(_0x456462){const _0x5a03db=a386_0x2b1d24;return _0x456462&&_0x456462[_0x5a03db(0x112)]?_0x456462:{'default':_0x456462};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const http_graceful_shutdown_1=__importDefault(require(a386_0x2b1d24(0x115))),socket_1=require(a386_0x2b1d24(0x11a)),logger_1=require(a386_0x2b1d24(0x118)),StartAllWhatsAppsSessions_1=require(a386_0x2b1d24(0x12f)),Company_1=__importDefault(require(a386_0x2b1d24(0x113))),queues_1=require(a386_0x2b1d24(0x126)),express=require(a386_0x2b1d24(0x12b)),os=require('os'),cluster=require('cluster'),PORT=process[a386_0x2b1d24(0x109)][a386_0x2b1d24(0x11c)]||0xfa0,clusterWorkerSize=os[a386_0x2b1d24(0x101)]()['length'];console[a386_0x2b1d24(0x129)]('clusterWorkerSize',clusterWorkerSize);if(clusterWorkerSize>0x1){if(cluster[a386_0x2b1d24(0x102)]){for(let i=0x0;i<clusterWorkerSize;i++){cluster[a386_0x2b1d24(0x124)]();}cluster['on'](a386_0x2b1d24(0x12a),function(_0x46044a){const _0x305523=a386_0x2b1d24;console['log'](_0x305523(0x117),_0x46044a['id'],'\x20has\x20exitted.');});}else{const app=express(),server=app[a386_0x2b1d24(0x127)](process[a386_0x2b1d24(0x109)][a386_0x2b1d24(0x11c)],async()=>{const _0x4ddcb1=a386_0x2b1d24,_0x178397=await Company_1[_0x4ddcb1(0x11e)][_0x4ddcb1(0x121)](),_0x585d94=[];_0x178397[_0x4ddcb1(0x111)](async _0x575295=>{const _0x1b30d3=_0x4ddcb1,_0x25b6ca=(0x0,StartAllWhatsAppsSessions_1['StartAllWhatsAppsSessions'])(_0x575295['id']);_0x585d94[_0x1b30d3(0x116)](_0x25b6ca);}),Promise[_0x4ddcb1(0x128)](_0x585d94)['then'](async()=>{await(0x0,queues_1['startQueueProcess'])();}),logger_1[_0x4ddcb1(0x11f)][_0x4ddcb1(0x120)]('Server\x20started\x20on\x20port:\x20'+process[_0x4ddcb1(0x109)][_0x4ddcb1(0x11c)]+'\x20and\x20worker\x20'+process[_0x4ddcb1(0x114)]);});process['on'](a386_0x2b1d24(0x105),_0x59cfb5=>{const _0x568264=a386_0x2b1d24;console[_0x568264(0x12e)](new Date()['toUTCString']()+_0x568264(0x119),_0x59cfb5[_0x568264(0x12d)]),console[_0x568264(0x12e)](_0x59cfb5[_0x568264(0x12c)]),process[_0x568264(0x12a)](0x1);}),process['on'](a386_0x2b1d24(0x104),(_0x1b505c,_0x2b195e)=>{const _0x2f9c82=a386_0x2b1d24;console[_0x2f9c82(0x12e)](new Date()['toUTCString']()+_0x2f9c82(0x123),_0x1b505c,_0x2b195e),process[_0x2f9c82(0x12a)](0x1);}),(0x0,socket_1[a386_0x2b1d24(0x107)])(server),(0x0,http_graceful_shutdown_1['default'])(server);}}else{const app=express();app[a386_0x2b1d24(0x127)](PORT,function(){const _0x5a8aeb=a386_0x2b1d24;console['log'](_0x5a8aeb(0x10c)+PORT+_0x5a8aeb(0x108)+process[_0x5a8aeb(0x114)]);});}