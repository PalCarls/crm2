'use strict';const a342_0x5665aa=a342_0x1597;(function(_0x56da47,_0x59be79){const _0x1d21fb=a342_0x1597,_0x3e9c22=_0x56da47();while(!![]){try{const _0x4bb376=-parseInt(_0x1d21fb(0x1a8))/0x1*(parseInt(_0x1d21fb(0x1b7))/0x2)+-parseInt(_0x1d21fb(0x1a5))/0x3*(-parseInt(_0x1d21fb(0x1a6))/0x4)+parseInt(_0x1d21fb(0x1b0))/0x5*(parseInt(_0x1d21fb(0x1b8))/0x6)+parseInt(_0x1d21fb(0x1c3))/0x7+-parseInt(_0x1d21fb(0x196))/0x8+parseInt(_0x1d21fb(0x1aa))/0x9+-parseInt(_0x1d21fb(0x1b2))/0xa;if(_0x4bb376===_0x59be79)break;else _0x3e9c22['push'](_0x3e9c22['shift']());}catch(_0x1785dd){_0x3e9c22['push'](_0x3e9c22['shift']());}}}(a342_0x2761,0xb1722));function a342_0x2761(){const _0x5699b3=['PORT','\x20and\x20worker\x20','\x20with\x20the\x20single\x20worker\x20','then','679274rcUwJi','12iAREUE','stack','message','startQueueProcess','\x20has\x20exitted.','findAll','StartAllWhatsAppsSessions','default','pid','error','env','2514323lTIxlw','__importDefault','http-graceful-shutdown','__esModule','fork','1568160CUymHN','./utils/logger','isMaster','initIO','all','express','info','unhandledRejection','uncaughtException','Worker','logger','map','Express\x20server\x20listening\x20on\x20port\x20','clusterWorkerSize','./queues','213UKTZCi','45284dRIKds','./services/WbotServices/StartAllWhatsAppsSessions','1zrptjO','listen','10982007IjBAxf','Server\x20started\x20on\x20port:\x20','toUTCString','log','\x20uncaughtException:','cpus','2938945wPrJJn','exit','22963060aIlKDl'];a342_0x2761=function(){return _0x5699b3;};return a342_0x2761();}function a342_0x1597(_0xf40d7b,_0x373275){const _0x2761df=a342_0x2761();return a342_0x1597=function(_0x1597c8,_0x24e536){_0x1597c8=_0x1597c8-0x196;let _0x5f3e3b=_0x2761df[_0x1597c8];return _0x5f3e3b;},a342_0x1597(_0xf40d7b,_0x373275);}var __importDefault=this&&this[a342_0x5665aa(0x1c4)]||function(_0x3995f6){const _0x285da1=a342_0x5665aa;return _0x3995f6&&_0x3995f6[_0x285da1(0x1c6)]?_0x3995f6:{'default':_0x3995f6};};Object['defineProperty'](exports,a342_0x5665aa(0x1c6),{'value':!![]});const http_graceful_shutdown_1=__importDefault(require(a342_0x5665aa(0x1c5))),socket_1=require('./libs/socket'),logger_1=require(a342_0x5665aa(0x197)),StartAllWhatsAppsSessions_1=require(a342_0x5665aa(0x1a7)),Company_1=__importDefault(require('./models/Company')),queues_1=require(a342_0x5665aa(0x1a4)),express=require(a342_0x5665aa(0x19b)),os=require('os'),cluster=require('cluster'),PORT=process['env'][a342_0x5665aa(0x1b3)]||0xfa0,clusterWorkerSize=os[a342_0x5665aa(0x1af)]()['length'];console['log'](a342_0x5665aa(0x1a3),clusterWorkerSize);if(clusterWorkerSize>0x1){if(cluster[a342_0x5665aa(0x198)]){for(let i=0x0;i<clusterWorkerSize;i++){cluster[a342_0x5665aa(0x1c7)]();}cluster['on']('exit',function(_0x399ff4){const _0x5dcf37=a342_0x5665aa;console[_0x5dcf37(0x1ad)](_0x5dcf37(0x19f),_0x399ff4['id'],_0x5dcf37(0x1bc));});}else{const app=express(),server=app[a342_0x5665aa(0x1a9)](process[a342_0x5665aa(0x1c2)]['PORT'],async()=>{const _0x298928=a342_0x5665aa,_0x9b7948=await Company_1[_0x298928(0x1bf)][_0x298928(0x1bd)](),_0x1e0a7f=[];_0x9b7948[_0x298928(0x1a1)](async _0x18c305=>{const _0x536e5b=_0x298928,_0x24c366=(0x0,StartAllWhatsAppsSessions_1[_0x536e5b(0x1be)])(_0x18c305['id']);_0x1e0a7f['push'](_0x24c366);}),Promise[_0x298928(0x19a)](_0x1e0a7f)[_0x298928(0x1b6)](async()=>{const _0x1fa7e4=_0x298928;await(0x0,queues_1[_0x1fa7e4(0x1bb)])();}),logger_1[_0x298928(0x1a0)][_0x298928(0x19c)](_0x298928(0x1ab)+process[_0x298928(0x1c2)]['PORT']+_0x298928(0x1b4)+process[_0x298928(0x1c0)]);});process['on'](a342_0x5665aa(0x19e),_0x319456=>{const _0x4c7edb=a342_0x5665aa;console[_0x4c7edb(0x1c1)](new Date()['toUTCString']()+_0x4c7edb(0x1ae),_0x319456[_0x4c7edb(0x1ba)]),console['error'](_0x319456[_0x4c7edb(0x1b9)]),process[_0x4c7edb(0x1b1)](0x1);}),process['on'](a342_0x5665aa(0x19d),(_0x411402,_0x1d77c5)=>{const _0x174c09=a342_0x5665aa;console['error'](new Date()[_0x174c09(0x1ac)]()+'\x20unhandledRejection:',_0x411402,_0x1d77c5),process['exit'](0x1);}),(0x0,socket_1[a342_0x5665aa(0x199)])(server),(0x0,http_graceful_shutdown_1[a342_0x5665aa(0x1bf)])(server);}}else{const app=express();app[a342_0x5665aa(0x1a9)](PORT,function(){const _0x4b1227=a342_0x5665aa;console['log'](_0x4b1227(0x1a2)+PORT+_0x4b1227(0x1b5)+process[_0x4b1227(0x1c0)]);});}