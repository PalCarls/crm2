<<<<<<< HEAD
'use strict';const a430_0x3e8fab=a430_0xc0bc;function a430_0x3ea2(){const _0x3dcb8e=['default','findOne','411740fNJNoZ','email','7689XgkBul','3056670Qpnuqf','__importDefault','../../models/Company','198foDxKj','46qyFKmu','5220208dKhZYb','3645606WvytEK','2570100TMFAiw','550878mvXPJZ','findByPk','7viriub','../../errors/AppError','campaignsEnabled','../../models/User','../../models/Setting'];a430_0x3ea2=function(){return _0x3dcb8e;};return a430_0x3ea2();}(function(_0x4189f8,_0x2a9a84){const _0x48a265=a430_0xc0bc,_0x1dfd9c=_0x4189f8();while(!![]){try{const _0x4e94c0=parseInt(_0x48a265(0x1f8))/0x1*(-parseInt(_0x48a265(0x1fd))/0x2)+-parseInt(_0x48a265(0x201))/0x3+-parseInt(_0x48a265(0x200))/0x4+parseInt(_0x48a265(0x1f9))/0x5+parseInt(_0x48a265(0x1ff))/0x6+-parseInt(_0x48a265(0x203))/0x7*(parseInt(_0x48a265(0x1fe))/0x8)+parseInt(_0x48a265(0x1fc))/0x9*(parseInt(_0x48a265(0x1f6))/0xa);if(_0x4e94c0===_0x2a9a84)break;else _0x1dfd9c['push'](_0x1dfd9c['shift']());}catch(_0x5a7f2c){_0x1dfd9c['push'](_0x1dfd9c['shift']());}}}(a430_0x3ea2,0x728f7));function a430_0xc0bc(_0x5250f5,_0x80dfce){const _0x3ea25a=a430_0x3ea2();return a430_0xc0bc=function(_0xc0bc3,_0x3b0cfe){_0xc0bc3=_0xc0bc3-0x1f1;let _0x555273=_0x3ea25a[_0xc0bc3];return _0x555273;},a430_0xc0bc(_0x5250f5,_0x80dfce);}var __importDefault=this&&this[a430_0x3e8fab(0x1fa)]||function(_0x4e82b1){return _0x4e82b1&&_0x4e82b1['__esModule']?_0x4e82b1:{'default':_0x4e82b1};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a430_0x3e8fab(0x204))),Company_1=__importDefault(require(a430_0x3e8fab(0x1fb))),Setting_1=__importDefault(require(a430_0x3e8fab(0x1f3))),User_1=__importDefault(require(a430_0x3e8fab(0x1f2))),UpdateCompanyService=async _0x1165a8=>{const _0x42fec0=a430_0x3e8fab,_0x12327d=await Company_1[_0x42fec0(0x1f4)][_0x42fec0(0x202)](_0x1165a8['id']),{name:_0x3fddfe,phone:_0x4d0035,email:_0x38105f,status:_0x9f19d7,planId:_0x4ac7a6,campaignsEnabled:_0x315f6f,dueDate:_0x32b961,recurrence:_0x461deb,document:_0x169afa,paymentMethod:_0xbe7bd6,password:_0xbdd5d0}=_0x1165a8;if(!_0x12327d)throw new AppError_1[(_0x42fec0(0x1f4))]('ERR_NO_COMPANY_FOUND',0x194);const _0x2461f4=await User_1['default']['findOne']({'where':{'companyId':_0x12327d['id'],'email':_0x38105f}});if(_0x2461f4&&_0x2461f4[_0x42fec0(0x1f7)]!==_0x12327d[_0x42fec0(0x1f7)])throw new AppError_1[(_0x42fec0(0x1f4))]('Usu치rio\x20j치\x20existe\x20com\x20esse\x20e-mail!',0x194);const _0x2c04c3=await User_1[_0x42fec0(0x1f4)][_0x42fec0(0x1f5)]({'where':{'companyId':_0x12327d['id'],'email':_0x12327d[_0x42fec0(0x1f7)]}});if(!_0x2c04c3)throw new AppError_1[(_0x42fec0(0x1f4))]('ERR_NO_USER_FOUND',0x194);await _0x2c04c3['update']({'email':_0x38105f,'password':_0xbdd5d0}),await _0x12327d['update']({'name':_0x3fddfe,'phone':_0x4d0035,'email':_0x38105f,'status':_0x9f19d7,'planId':_0x4ac7a6,'dueDate':_0x32b961,'recurrence':_0x461deb,'document':_0x169afa,'paymentMethod':_0xbe7bd6});if(_0x1165a8[_0x42fec0(0x1f1)]!==undefined){const [_0x11eca9,_0x568425]=await Setting_1[_0x42fec0(0x1f4)]['findOrCreate']({'where':{'companyId':_0x12327d['id'],'key':_0x42fec0(0x1f1)},'defaults':{'companyId':_0x12327d['id'],'key':_0x42fec0(0x1f1),'value':''+_0x315f6f}});!_0x568425&&await _0x11eca9['update']({'value':''+_0x315f6f});}return _0x12327d;};exports[a430_0x3e8fab(0x1f4)]=UpdateCompanyService;
=======
'use strict';const a430_0x1b31c4=a430_0x475b;(function(_0x653b3a,_0x28ff77){const _0x2f840c=a430_0x475b,_0x50be46=_0x653b3a();while(!![]){try{const _0x614968=-parseInt(_0x2f840c(0x1dc))/0x1*(-parseInt(_0x2f840c(0x1cc))/0x2)+-parseInt(_0x2f840c(0x1d8))/0x3*(-parseInt(_0x2f840c(0x1c9))/0x4)+parseInt(_0x2f840c(0x1df))/0x5+-parseInt(_0x2f840c(0x1d0))/0x6+-parseInt(_0x2f840c(0x1db))/0x7+-parseInt(_0x2f840c(0x1cb))/0x8+-parseInt(_0x2f840c(0x1d2))/0x9;if(_0x614968===_0x28ff77)break;else _0x50be46['push'](_0x50be46['shift']());}catch(_0x446769){_0x50be46['push'](_0x50be46['shift']());}}}(a430_0x1d29,0x4c5c5));var __importDefault=this&&this[a430_0x1b31c4(0x1cd)]||function(_0xdc5e33){const _0x2b78c6=a430_0x1b31c4;return _0xdc5e33&&_0xdc5e33[_0x2b78c6(0x1d9)]?_0xdc5e33:{'default':_0xdc5e33};};function a430_0x1d29(){const _0x4135cc=['__esModule','campaignsEnabled','3460268qeZBpD','978WxDBhX','Usu치rio\x20j치\x20existe\x20com\x20esse\x20e-mail!','findByPk','1514310DVngnT','8BezYCr','../../errors/AppError','1003080hNELBZ','1256MxGyQL','__importDefault','../../models/Setting','findOrCreate','1119546MStzTb','update','2374083RdQFon','ERR_NO_COMPANY_FOUND','default','ERR_NO_USER_FOUND','email','../../models/Company','698721XBWoNC'];a430_0x1d29=function(){return _0x4135cc;};return a430_0x1d29();}Object['defineProperty'](exports,a430_0x1b31c4(0x1d9),{'value':!![]});function a430_0x475b(_0x50fdd8,_0x211751){const _0x1d29fd=a430_0x1d29();return a430_0x475b=function(_0x475b9a,_0x32a091){_0x475b9a=_0x475b9a-0x1c9;let _0xca3c64=_0x1d29fd[_0x475b9a];return _0xca3c64;},a430_0x475b(_0x50fdd8,_0x211751);}const AppError_1=__importDefault(require(a430_0x1b31c4(0x1ca))),Company_1=__importDefault(require(a430_0x1b31c4(0x1d7))),Setting_1=__importDefault(require(a430_0x1b31c4(0x1ce))),User_1=__importDefault(require('../../models/User')),UpdateCompanyService=async _0x563206=>{const _0x2f09e6=a430_0x1b31c4,_0xe65187=await Company_1[_0x2f09e6(0x1d4)][_0x2f09e6(0x1de)](_0x563206['id']),{name:_0x14f5a0,phone:_0x352483,email:_0xa15eaf,status:_0x259cdc,planId:_0x5ae107,campaignsEnabled:_0x3ed879,dueDate:_0x33381a,recurrence:_0x390790,document:_0x1725dd,paymentMethod:_0x2f9334,password:_0x21afce}=_0x563206;if(!_0xe65187)throw new AppError_1['default'](_0x2f09e6(0x1d3),0x194);const _0x1116f7=await User_1[_0x2f09e6(0x1d4)]['findOne']({'where':{'companyId':_0xe65187['id'],'email':_0xa15eaf}});if(_0x1116f7&&_0x1116f7[_0x2f09e6(0x1d6)]!==_0xe65187[_0x2f09e6(0x1d6)])throw new AppError_1[(_0x2f09e6(0x1d4))](_0x2f09e6(0x1dd),0x194);const _0x4360cc=await User_1[_0x2f09e6(0x1d4)]['findOne']({'where':{'companyId':_0xe65187['id'],'email':_0xe65187[_0x2f09e6(0x1d6)]}});if(!_0x4360cc)throw new AppError_1[(_0x2f09e6(0x1d4))](_0x2f09e6(0x1d5),0x194);await _0x4360cc['update']({'email':_0xa15eaf,'password':_0x21afce}),await _0xe65187[_0x2f09e6(0x1d1)]({'name':_0x14f5a0,'phone':_0x352483,'email':_0xa15eaf,'status':_0x259cdc,'planId':_0x5ae107,'dueDate':_0x33381a,'recurrence':_0x390790,'document':_0x1725dd,'paymentMethod':_0x2f9334});if(_0x563206[_0x2f09e6(0x1da)]!==undefined){const [_0x56cf62,_0x4e2d1e]=await Setting_1[_0x2f09e6(0x1d4)][_0x2f09e6(0x1cf)]({'where':{'companyId':_0xe65187['id'],'key':'campaignsEnabled'},'defaults':{'companyId':_0xe65187['id'],'key':_0x2f09e6(0x1da),'value':''+_0x3ed879}});!_0x4e2d1e&&await _0x56cf62[_0x2f09e6(0x1d1)]({'value':''+_0x3ed879});}return _0xe65187;};exports['default']=UpdateCompanyService;
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
