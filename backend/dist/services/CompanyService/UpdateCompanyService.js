'use strict';const a430_0x1b31c4=a430_0x475b;(function(_0x653b3a,_0x28ff77){const _0x2f840c=a430_0x475b,_0x50be46=_0x653b3a();while(!![]){try{const _0x614968=-parseInt(_0x2f840c(0x1dc))/0x1*(-parseInt(_0x2f840c(0x1cc))/0x2)+-parseInt(_0x2f840c(0x1d8))/0x3*(-parseInt(_0x2f840c(0x1c9))/0x4)+parseInt(_0x2f840c(0x1df))/0x5+-parseInt(_0x2f840c(0x1d0))/0x6+-parseInt(_0x2f840c(0x1db))/0x7+-parseInt(_0x2f840c(0x1cb))/0x8+-parseInt(_0x2f840c(0x1d2))/0x9;if(_0x614968===_0x28ff77)break;else _0x50be46['push'](_0x50be46['shift']());}catch(_0x446769){_0x50be46['push'](_0x50be46['shift']());}}}(a430_0x1d29,0x4c5c5));var __importDefault=this&&this[a430_0x1b31c4(0x1cd)]||function(_0xdc5e33){const _0x2b78c6=a430_0x1b31c4;return _0xdc5e33&&_0xdc5e33[_0x2b78c6(0x1d9)]?_0xdc5e33:{'default':_0xdc5e33};};function a430_0x1d29(){const _0x4135cc=['__esModule','campaignsEnabled','3460268qeZBpD','978WxDBhX','Usuário\x20já\x20existe\x20com\x20esse\x20e-mail!','findByPk','1514310DVngnT','8BezYCr','../../errors/AppError','1003080hNELBZ','1256MxGyQL','__importDefault','../../models/Setting','findOrCreate','1119546MStzTb','update','2374083RdQFon','ERR_NO_COMPANY_FOUND','default','ERR_NO_USER_FOUND','email','../../models/Company','698721XBWoNC'];a430_0x1d29=function(){return _0x4135cc;};return a430_0x1d29();}Object['defineProperty'](exports,a430_0x1b31c4(0x1d9),{'value':!![]});function a430_0x475b(_0x50fdd8,_0x211751){const _0x1d29fd=a430_0x1d29();return a430_0x475b=function(_0x475b9a,_0x32a091){_0x475b9a=_0x475b9a-0x1c9;let _0xca3c64=_0x1d29fd[_0x475b9a];return _0xca3c64;},a430_0x475b(_0x50fdd8,_0x211751);}const AppError_1=__importDefault(require(a430_0x1b31c4(0x1ca))),Company_1=__importDefault(require(a430_0x1b31c4(0x1d7))),Setting_1=__importDefault(require(a430_0x1b31c4(0x1ce))),User_1=__importDefault(require('../../models/User')),UpdateCompanyService=async _0x563206=>{const _0x2f09e6=a430_0x1b31c4,_0xe65187=await Company_1[_0x2f09e6(0x1d4)][_0x2f09e6(0x1de)](_0x563206['id']),{name:_0x14f5a0,phone:_0x352483,email:_0xa15eaf,status:_0x259cdc,planId:_0x5ae107,campaignsEnabled:_0x3ed879,dueDate:_0x33381a,recurrence:_0x390790,document:_0x1725dd,paymentMethod:_0x2f9334,password:_0x21afce}=_0x563206;if(!_0xe65187)throw new AppError_1['default'](_0x2f09e6(0x1d3),0x194);const _0x1116f7=await User_1[_0x2f09e6(0x1d4)]['findOne']({'where':{'companyId':_0xe65187['id'],'email':_0xa15eaf}});if(_0x1116f7&&_0x1116f7[_0x2f09e6(0x1d6)]!==_0xe65187[_0x2f09e6(0x1d6)])throw new AppError_1[(_0x2f09e6(0x1d4))](_0x2f09e6(0x1dd),0x194);const _0x4360cc=await User_1[_0x2f09e6(0x1d4)]['findOne']({'where':{'companyId':_0xe65187['id'],'email':_0xe65187[_0x2f09e6(0x1d6)]}});if(!_0x4360cc)throw new AppError_1[(_0x2f09e6(0x1d4))](_0x2f09e6(0x1d5),0x194);await _0x4360cc['update']({'email':_0xa15eaf,'password':_0x21afce}),await _0xe65187[_0x2f09e6(0x1d1)]({'name':_0x14f5a0,'phone':_0x352483,'email':_0xa15eaf,'status':_0x259cdc,'planId':_0x5ae107,'dueDate':_0x33381a,'recurrence':_0x390790,'document':_0x1725dd,'paymentMethod':_0x2f9334});if(_0x563206[_0x2f09e6(0x1da)]!==undefined){const [_0x56cf62,_0x4e2d1e]=await Setting_1[_0x2f09e6(0x1d4)][_0x2f09e6(0x1cf)]({'where':{'companyId':_0xe65187['id'],'key':'campaignsEnabled'},'defaults':{'companyId':_0xe65187['id'],'key':_0x2f09e6(0x1da),'value':''+_0x3ed879}});!_0x4e2d1e&&await _0x56cf62[_0x2f09e6(0x1d1)]({'value':''+_0x3ed879});}return _0xe65187;};exports['default']=UpdateCompanyService;