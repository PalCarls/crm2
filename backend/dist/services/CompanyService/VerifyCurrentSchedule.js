'use strict';const a432_0x6f7b60=a432_0x1d2d;(function(_0x51fc1e,_0x101ee8){const _0x50632d=a432_0x1d2d,_0x27b191=_0x51fc1e();while(!![]){try{const _0x2fbba4=parseInt(_0x50632d(0x74))/0x1+parseInt(_0x50632d(0x76))/0x2*(-parseInt(_0x50632d(0x69))/0x3)+-parseInt(_0x50632d(0x68))/0x4+-parseInt(_0x50632d(0x67))/0x5*(-parseInt(_0x50632d(0x6e))/0x6)+parseInt(_0x50632d(0x64))/0x7+-parseInt(_0x50632d(0x73))/0x8+parseInt(_0x50632d(0x72))/0x9;if(_0x2fbba4===_0x101ee8)break;else _0x27b191['push'](_0x27b191['shift']());}catch(_0x53e505){_0x27b191['push'](_0x27b191['shift']());}}}(a432_0x3e8e,0x7823e));function a432_0x3e8e(){const _0x47e779=['../../database','8989074eVjUmY','5332616alSvSB','142639xRJLSM','query','872554UGxAqV','5111687hqRhVk','default','__importDefault','5AGVBHt','861220npQrvM','6XTKkBA','defineProperty','__esModule','QueryTypes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentSchedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeA\x27)\x20\x22startTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeA\x27)\x20\x22endTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeB\x27)\x20\x22startTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeB\x27)\x20\x22endTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeA\x27\x20=\x20\x27\x27\x20then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeA\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeA\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeA\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x20)\x20)\x20or\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeB\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeB\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20))\x20\x22inActivity\x22\x0a\x20\x20\x20\x20\x20\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to_char(current_date,\x20\x27day\x27)\x20currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(array_to_json(array_agg(s))->>0)::jsonb\x20currentSchedule\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20\x22Whatsapps\x22\x20c,\x20jsonb_array_elements(c.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20s->>\x27weekdayEn\x27\x20like\x20trim(to_char(current_date,\x20\x27day\x27))\x20and\x20c.id\x20=\x20:whatsappId\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20c.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20GROUP\x20BY\x201,\x202\x0a\x20\x20\x20\x20\x20\x20)\x20s\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20','2249184pirSvn','SELECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentSchedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeA\x27)\x20\x22startTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeA\x27)\x20\x22endTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeB\x27)\x20\x22startTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeB\x27)\x20\x22endTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeA\x27\x20=\x20\x27\x27\x20then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeA\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeA\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeA\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x20)\x20)\x20or\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeB\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeB\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20))\x20\x22inActivity\x22\x0a\x20\x20\x20\x20\x20\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to_char(current_date,\x20\x27day\x27)\x20currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(array_to_json(array_agg(s))->>0)::jsonb\x20currentSchedule\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20\x22Companies\x22\x20c,\x20jsonb_array_elements(c.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20s->>\x27weekdayEn\x27\x20like\x20trim(to_char(current_date,\x20\x27day\x27))\x20and\x20c.id\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20GROUP\x20BY\x201,\x202\x0a\x20\x20\x20\x20\x20\x20)\x20s\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'];a432_0x3e8e=function(){return _0x47e779;};return a432_0x3e8e();}function a432_0x1d2d(_0x526553,_0x404b02){const _0x3e8ef8=a432_0x3e8e();return a432_0x1d2d=function(_0x1d2d30,_0x4c1ec4){_0x1d2d30=_0x1d2d30-0x64;let _0x31f1c7=_0x3e8ef8[_0x1d2d30];return _0x31f1c7;},a432_0x1d2d(_0x526553,_0x404b02);}var __importDefault=this&&this[a432_0x6f7b60(0x66)]||function(_0x4edb35){const _0x6b5c52=a432_0x6f7b60;return _0x4edb35&&_0x4edb35[_0x6b5c52(0x6b)]?_0x4edb35:{'default':_0x4edb35};};Object[a432_0x6f7b60(0x6a)](exports,'__esModule',{'value':!![]});const sequelize_1=require('sequelize'),database_1=__importDefault(require(a432_0x6f7b60(0x71))),VerifyCurrentSchedule=async(_0x26e09d,_0x4c5c60,_0x126c7f)=>{const _0x4dec08=a432_0x6f7b60;if(Number(_0x126c7f)>0x0&&Number(_0x4c5c60===0x0)){const _0x55bb64=_0x4dec08(0x6d),_0x5493bd=await database_1[_0x4dec08(0x65)]['query'](_0x55bb64,{'replacements':{'whatsappId':_0x126c7f,'companyId':_0x26e09d},'type':sequelize_1['QueryTypes']['SELECT'],'plain':!![]});return _0x5493bd;}else{if(Number(_0x4c5c60)===0x0&&Number(_0x126c7f)===0x0){const _0x193bff=_0x4dec08(0x70),_0x454b50=await database_1[_0x4dec08(0x65)][_0x4dec08(0x75)](_0x193bff,{'replacements':{'companyId':_0x26e09d},'type':sequelize_1[_0x4dec08(0x6c)][_0x4dec08(0x6f)],'plain':!![]});return _0x454b50;}else{const _0x13200b='\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20s.currentSchedule,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeA\x27)\x20\x22startTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeA\x27)\x20\x22endTimeA\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27startTimeB\x27)\x20\x22startTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(s.currentSchedule->>\x27endTimeB\x27)\x20\x22endTimeB\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeA\x27\x20=\x20\x27\x27\x20then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeA\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeA\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeA\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x20)\x20)\x20or\x20(\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27startTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20>=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20>=\x20(s.currentSchedule->>\x27startTimeB\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x0a\x20\x09\x09\x09)\x20and\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09when\x20s.currentSchedule->>\x27endTimeB\x27\x20=\x20\x27\x27then\x20now()::time\x20<=\x20\x2700:00\x27::time\x0a\x20\x20\x20\x20\x09\x09\x09ELSE\x20now()::time\x20<=\x20(s.currentSchedule->>\x27endTimeB\x27)::time\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20end\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20))\x20\x22inActivity\x22\x0a\x20\x20\x20\x20\x20\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20q.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to_char(current_date,\x20\x27day\x27)\x20currentWeekday,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(array_to_json(array_agg(s))->>0)::jsonb\x20currentSchedule\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20\x22Queues\x22\x20q,\x20jsonb_array_elements(q.schedules)\x20s\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20s->>\x27weekdayEn\x27\x20like\x20trim(to_char(current_date,\x20\x27day\x27))\x20and\x20q.id\x20=\x20:queueId\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20q.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20\x20\x20\x20\x20\x20\x20GROUP\x20BY\x201,\x202\x0a\x20\x20\x20\x20\x20\x20)\x20s\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20',_0x564707=await database_1[_0x4dec08(0x65)][_0x4dec08(0x75)](_0x13200b,{'replacements':{'queueId':_0x4c5c60,'companyId':_0x26e09d},'type':sequelize_1[_0x4dec08(0x6c)][_0x4dec08(0x6f)],'plain':!![]});return _0x564707;}}};exports[a432_0x6f7b60(0x65)]=VerifyCurrentSchedule;