'use strict';const a385_0x554d69=a385_0x5388;(function(_0x3322fd,_0x43bd4f){const _0x1272ac=a385_0x5388,_0x492312=_0x3322fd();while(!![]){try{const _0x290efc=-parseInt(_0x1272ac(0xed))/0x1*(parseInt(_0x1272ac(0xd7))/0x2)+-parseInt(_0x1272ac(0xf5))/0x3+parseInt(_0x1272ac(0xef))/0x4*(-parseInt(_0x1272ac(0xd5))/0x5)+-parseInt(_0x1272ac(0xdb))/0x6+parseInt(_0x1272ac(0xf8))/0x7*(parseInt(_0x1272ac(0xf4))/0x8)+parseInt(_0x1272ac(0xcf))/0x9+parseInt(_0x1272ac(0xd9))/0xa*(parseInt(_0x1272ac(0xe3))/0xb);if(_0x290efc===_0x43bd4f)break;else _0x492312['push'](_0x492312['shift']());}catch(_0x3c09c1){_0x492312['push'](_0x492312['shift']());}}}(a385_0x176a,0xcced8));var __createBinding=this&&this[a385_0x554d69(0xde)]||(Object[a385_0x554d69(0xee)]?function(_0x1f9946,_0x2bd958,_0x2612f5,_0x48eace){const _0x22e9ae=a385_0x554d69;if(_0x48eace===undefined)_0x48eace=_0x2612f5;var _0xa11163=Object[_0x22e9ae(0xd1)](_0x2bd958,_0x2612f5);(!_0xa11163||(_0x22e9ae(0xf1)in _0xa11163?!_0x2bd958[_0x22e9ae(0xd4)]:_0xa11163[_0x22e9ae(0xe2)]||_0xa11163['configurable']))&&(_0xa11163={'enumerable':!![],'get':function(){return _0x2bd958[_0x2612f5];}}),Object[_0x22e9ae(0xdd)](_0x1f9946,_0x48eace,_0xa11163);}:function(_0x26ba73,_0x429a1e,_0x2eb335,_0xf68603){if(_0xf68603===undefined)_0xf68603=_0x2eb335;_0x26ba73[_0xf68603]=_0x429a1e[_0x2eb335];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a385_0x554d69(0xee)]?function(_0xae200c,_0x3454ca){const _0x168770=a385_0x554d69;Object['defineProperty'](_0xae200c,_0x168770(0xd2),{'enumerable':!![],'value':_0x3454ca});}:function(_0x3770dc,_0x21bc6b){const _0x4a1010=a385_0x554d69;_0x3770dc[_0x4a1010(0xd2)]=_0x21bc6b;}),__importStar=this&&this[a385_0x554d69(0xe1)]||function(_0x54a7d9){const _0x57b574=a385_0x554d69;if(_0x54a7d9&&_0x54a7d9[_0x57b574(0xd4)])return _0x54a7d9;var _0x972a57={};if(_0x54a7d9!=null){for(var _0x186ed8 in _0x54a7d9)if(_0x186ed8!==_0x57b574(0xd2)&&Object['prototype'][_0x57b574(0xfa)][_0x57b574(0xea)](_0x54a7d9,_0x186ed8))__createBinding(_0x972a57,_0x54a7d9,_0x186ed8);}return __setModuleDefault(_0x972a57,_0x54a7d9),_0x972a57;},__importDefault=this&&this[a385_0x554d69(0xf9)]||function(_0x26f13e){return _0x26f13e&&_0x26f13e['__esModule']?_0x26f13e:{'default':_0x26f13e};};Object['defineProperty'](exports,a385_0x554d69(0xd4),{'value':!![]});function a385_0x5388(_0x349d62,_0x29c582){const _0x176a8b=a385_0x176a();return a385_0x5388=function(_0x5388f2,_0x5b3014){_0x5388f2=_0x5388f2-0xcf;let _0x19b837=_0x176a8b[_0x5388f2];return _0x19b837;},a385_0x5388(_0x349d62,_0x29c582);}const Yup=__importStar(require(a385_0x554d69(0xe8))),AppError_1=__importDefault(require(a385_0x554d69(0xf2))),Company_1=__importDefault(require(a385_0x554d69(0xda))),User_1=__importDefault(require('../../models/User')),Setting_1=__importDefault(require(a385_0x554d69(0xd6))),CreateCompanyService=async _0x1f4977=>{const _0x46eba7=a385_0x554d69,{name:_0x1a74c1,phone:_0x3b9de7,email:_0x55cc74,status:_0x168bde,planId:_0x18df41,password:_0x597c3a,campaignsEnabled:_0x40b83a,dueDate:_0x2c6b81,recurrence:_0x39eb20}=_0x1f4977;console[_0x46eba7(0xe4)](_0x46eba7(0xf0),_0x1f4977[_0x46eba7(0xe5)]);const _0x163c3a=Yup['object']()[_0x46eba7(0xeb)]({'name':Yup[_0x46eba7(0xd0)]()[_0x46eba7(0xe9)](0x2,_0x46eba7(0xf7))[_0x46eba7(0xdc)]('ERR_COMPANY_INVALID_NAME')[_0x46eba7(0xe0)]('Check-unique-name',_0x46eba7(0xf6),async _0x4b8bcd=>{const _0x29adee=_0x46eba7;if(_0x4b8bcd){const _0x2e617a=await Company_1['default'][_0x29adee(0xe7)]({'where':{'name':_0x4b8bcd}});return!_0x2e617a;}return![];})});try{await _0x163c3a['validate']({'name':_0x1a74c1});}catch(_0xd91604){throw new AppError_1['default'](_0xd91604[_0x46eba7(0xd8)]);}const _0x30fbea=await Company_1[_0x46eba7(0xd2)]['create']({'name':_0x1a74c1,'phone':_0x3b9de7,'email':_0x55cc74,'status':_0x168bde,'planId':_0x18df41,'dueDate':_0x2c6b81,'recurrence':_0x39eb20}),_0x5ee2c9=await User_1[_0x46eba7(0xd2)]['create']({'name':_0x30fbea[_0x46eba7(0xdf)],'email':_0x30fbea[_0x46eba7(0xe6)],'password':_0x1f4977[_0x46eba7(0xe5)],'profile':_0x46eba7(0xd3),'companyId':_0x30fbea['id']});if(_0x1f4977[_0x46eba7(0xf3)]!==undefined){const [_0x5cb288,_0x4dea7e]=await Setting_1[_0x46eba7(0xd2)][_0x46eba7(0xec)]({'where':{'companyId':_0x30fbea['id'],'key':_0x46eba7(0xf3)},'defaults':{'companyId':_0x30fbea['id'],'key':_0x46eba7(0xf3),'value':''+_0x40b83a}});!_0x4dea7e&&await _0x5cb288['update']({'value':''+_0x40b83a});}return _0x30fbea;};function a385_0x176a(){const _0x151c6f=['__createBinding','name','test','__importStar','writable','1714493DaxNNg','log','password','email','findOne','yup','min','call','shape','findOrCreate','2ZwopwX','create','22628nvTKVl','ðŸš€\x20Console\x20Log\x20:\x20companyData.password','get','../../errors/AppError','campaignsEnabled','1739016hrxxqO','2852430cSyIwM','ERR_COMPANY_NAME_ALREADY_EXISTS','ERR_COMPANY_INVALID_NAME','49wiDNjt','__importDefault','hasOwnProperty','859338ChDPxt','string','getOwnPropertyDescriptor','default','admin','__esModule','895YfgYle','../../models/Setting','88568ZmUseN','message','110IqHRld','../../models/Company','2641494NwTWyl','required','defineProperty'];a385_0x176a=function(){return _0x151c6f;};return a385_0x176a();}exports[a385_0x554d69(0xd2)]=CreateCompanyService;