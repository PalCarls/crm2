'use strict';const a385_0x19242=a385_0x2c02;(function(_0x474049,_0x5b262f){const _0xc80bb=a385_0x2c02,_0x725545=_0x474049();while(!![]){try{const _0x2db1b0=parseInt(_0xc80bb(0x1ba))/0x1*(-parseInt(_0xc80bb(0x1d3))/0x2)+parseInt(_0xc80bb(0x1c5))/0x3+parseInt(_0xc80bb(0x1bf))/0x4+-parseInt(_0xc80bb(0x1ad))/0x5*(parseInt(_0xc80bb(0x1b6))/0x6)+-parseInt(_0xc80bb(0x1cf))/0x7+-parseInt(_0xc80bb(0x1d7))/0x8+parseInt(_0xc80bb(0x1bb))/0x9;if(_0x2db1b0===_0x5b262f)break;else _0x725545['push'](_0x725545['shift']());}catch(_0x2369ef){_0x725545['push'](_0x725545['shift']());}}}(a385_0x8913,0x2a379));var __createBinding=this&&this[a385_0x19242(0x1cb)]||(Object['create']?function(_0x33811b,_0x3acb6f,_0x35e82f,_0x3fe526){const _0xddb747=a385_0x19242;if(_0x3fe526===undefined)_0x3fe526=_0x35e82f;var _0x3ac173=Object[_0xddb747(0x1b8)](_0x3acb6f,_0x35e82f);(!_0x3ac173||(_0xddb747(0x1b4)in _0x3ac173?!_0x3acb6f[_0xddb747(0x1b9)]:_0x3ac173[_0xddb747(0x1b2)]||_0x3ac173[_0xddb747(0x1c3)]))&&(_0x3ac173={'enumerable':!![],'get':function(){return _0x3acb6f[_0x35e82f];}}),Object[_0xddb747(0x1d4)](_0x33811b,_0x3fe526,_0x3ac173);}:function(_0x470c28,_0x4deaf1,_0x2d00f9,_0x15fa3e){if(_0x15fa3e===undefined)_0x15fa3e=_0x2d00f9;_0x470c28[_0x15fa3e]=_0x4deaf1[_0x2d00f9];}),__setModuleDefault=this&&this[a385_0x19242(0x1d1)]||(Object[a385_0x19242(0x1af)]?function(_0x343ac3,_0xd0aee9){const _0x27e9c3=a385_0x19242;Object[_0x27e9c3(0x1d4)](_0x343ac3,'default',{'enumerable':!![],'value':_0xd0aee9});}:function(_0xb214dd,_0x5b3d09){const _0x15cd72=a385_0x19242;_0xb214dd[_0x15cd72(0x1c0)]=_0x5b3d09;}),__importStar=this&&this['__importStar']||function(_0x1c4c7b){const _0x518fe9=a385_0x19242;if(_0x1c4c7b&&_0x1c4c7b[_0x518fe9(0x1b9)])return _0x1c4c7b;var _0x43627b={};if(_0x1c4c7b!=null){for(var _0x72634f in _0x1c4c7b)if(_0x72634f!==_0x518fe9(0x1c0)&&Object[_0x518fe9(0x1bd)][_0x518fe9(0x1c9)][_0x518fe9(0x1b5)](_0x1c4c7b,_0x72634f))__createBinding(_0x43627b,_0x1c4c7b,_0x72634f);}return __setModuleDefault(_0x43627b,_0x1c4c7b),_0x43627b;},__importDefault=this&&this[a385_0x19242(0x1be)]||function(_0x32cc38){const _0x6b0a1b=a385_0x19242;return _0x32cc38&&_0x32cc38[_0x6b0a1b(0x1b9)]?_0x32cc38:{'default':_0x32cc38};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a385_0x19242(0x1d5))),AppError_1=__importDefault(require('../../errors/AppError')),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require(a385_0x19242(0x1c1))),Setting_1=__importDefault(require(a385_0x19242(0x1ae))),CreateCompanyService=async _0x2fdbee=>{const _0x90d58f=a385_0x19242,{name:_0x11221e,phone:_0x3c734f,email:_0x5971e3,status:_0x3866ab,planId:_0x426714,password:_0x28de1d,campaignsEnabled:_0x211e68,dueDate:_0x5d5f27,recurrence:_0x598944}=_0x2fdbee;console[_0x90d58f(0x1d0)](_0x90d58f(0x1d6),_0x2fdbee[_0x90d58f(0x1c7)]);const _0x2c77cb=Yup[_0x90d58f(0x1b1)]()[_0x90d58f(0x1ca)]({'name':Yup[_0x90d58f(0x1cd)]()[_0x90d58f(0x1c2)](0x2,_0x90d58f(0x1b7))[_0x90d58f(0x1c6)]('ERR_COMPANY_INVALID_NAME')[_0x90d58f(0x1b3)](_0x90d58f(0x1c4),_0x90d58f(0x1b0),async _0x479124=>{const _0x3a87c0=_0x90d58f;if(_0x479124){const _0x22ac46=await Company_1[_0x3a87c0(0x1c0)]['findOne']({'where':{'name':_0x479124}});return!_0x22ac46;}return![];})});try{await _0x2c77cb['validate']({'name':_0x11221e});}catch(_0x138dc9){throw new AppError_1[(_0x90d58f(0x1c0))](_0x138dc9[_0x90d58f(0x1ce)]);}const _0x5ed63c=await Company_1[_0x90d58f(0x1c0)][_0x90d58f(0x1af)]({'name':_0x11221e,'phone':_0x3c734f,'email':_0x5971e3,'status':_0x3866ab,'planId':_0x426714,'dueDate':_0x5d5f27,'recurrence':_0x598944}),_0x21646d=await User_1[_0x90d58f(0x1c0)][_0x90d58f(0x1af)]({'name':_0x5ed63c['name'],'email':_0x5ed63c[_0x90d58f(0x1cc)],'password':_0x2fdbee[_0x90d58f(0x1c7)],'profile':'admin','companyId':_0x5ed63c['id']});if(_0x2fdbee[_0x90d58f(0x1bc)]!==undefined){const [_0x2e1ab5,_0x3633ac]=await Setting_1['default'][_0x90d58f(0x1d2)]({'where':{'companyId':_0x5ed63c['id'],'key':_0x90d58f(0x1bc)},'defaults':{'companyId':_0x5ed63c['id'],'key':_0x90d58f(0x1bc),'value':''+_0x211e68}});!_0x3633ac&&await _0x2e1ab5[_0x90d58f(0x1c8)]({'value':''+_0x211e68});}return _0x5ed63c;};function a385_0x2c02(_0x429412,_0x2c4f98){const _0x8913ed=a385_0x8913();return a385_0x2c02=function(_0x2c02ab,_0x3cf783){_0x2c02ab=_0x2c02ab-0x1ad;let _0x18a0c7=_0x8913ed[_0x2c02ab];return _0x18a0c7;},a385_0x2c02(_0x429412,_0x2c4f98);}exports['default']=CreateCompanyService;function a385_0x8913(){const _0x20528f=['ERR_COMPANY_NAME_ALREADY_EXISTS','object','writable','test','get','call','500646LLGBsd','ERR_COMPANY_INVALID_NAME','getOwnPropertyDescriptor','__esModule','45382eXTbLH','6712128CZxXvK','campaignsEnabled','prototype','__importDefault','985552dYEVzq','default','../../models/User','min','configurable','Check-unique-name','13377cnlsms','required','password','update','hasOwnProperty','shape','__createBinding','email','string','message','860930mbibwV','log','__setModuleDefault','findOrCreate','10fFkLzv','defineProperty','yup','ðŸš€\x20Console\x20Log\x20:\x20companyData.password','2455488NQFWeS','10ZUxGLP','../../models/Setting','create'];a385_0x8913=function(){return _0x20528f;};return a385_0x8913();}