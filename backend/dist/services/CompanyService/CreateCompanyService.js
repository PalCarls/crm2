'use strict';const a369_0x1db209=a369_0x4460;(function(_0x16adf9,_0x557ad){const _0x9a9708=a369_0x4460,_0x2ab5aa=_0x16adf9();while(!![]){try{const _0x1336a8=-parseInt(_0x9a9708(0xe3))/0x1+parseInt(_0x9a9708(0xfc))/0x2+-parseInt(_0x9a9708(0xeb))/0x3*(parseInt(_0x9a9708(0xec))/0x4)+parseInt(_0x9a9708(0xe0))/0x5+-parseInt(_0x9a9708(0xf7))/0x6+parseInt(_0x9a9708(0xe9))/0x7*(-parseInt(_0x9a9708(0x101))/0x8)+-parseInt(_0x9a9708(0xde))/0x9*(-parseInt(_0x9a9708(0xf9))/0xa);if(_0x1336a8===_0x557ad)break;else _0x2ab5aa['push'](_0x2ab5aa['shift']());}catch(_0x47caa7){_0x2ab5aa['push'](_0x2ab5aa['shift']());}}}(a369_0x4a9a,0xe5a7c));var __createBinding=this&&this[a369_0x1db209(0xe1)]||(Object[a369_0x1db209(0xdc)]?function(_0x111617,_0x4679d1,_0x344c31,_0x5e3514){const _0x27089b=a369_0x1db209;if(_0x5e3514===undefined)_0x5e3514=_0x344c31;var _0x3a6e1e=Object['getOwnPropertyDescriptor'](_0x4679d1,_0x344c31);(!_0x3a6e1e||(_0x27089b(0xfb)in _0x3a6e1e?!_0x4679d1[_0x27089b(0x105)]:_0x3a6e1e[_0x27089b(0x102)]||_0x3a6e1e[_0x27089b(0xd6)]))&&(_0x3a6e1e={'enumerable':!![],'get':function(){return _0x4679d1[_0x344c31];}}),Object[_0x27089b(0xdd)](_0x111617,_0x5e3514,_0x3a6e1e);}:function(_0x1083e3,_0x5b4629,_0x59de06,_0x299f8c){if(_0x299f8c===undefined)_0x299f8c=_0x59de06;_0x1083e3[_0x299f8c]=_0x5b4629[_0x59de06];}),__setModuleDefault=this&&this[a369_0x1db209(0x100)]||(Object[a369_0x1db209(0xdc)]?function(_0x4915fa,_0x358394){const _0x4d0b5a=a369_0x1db209;Object[_0x4d0b5a(0xdd)](_0x4915fa,'default',{'enumerable':!![],'value':_0x358394});}:function(_0x318aac,_0x56685f){const _0x1cb985=a369_0x1db209;_0x318aac[_0x1cb985(0xed)]=_0x56685f;}),__importStar=this&&this[a369_0x1db209(0x104)]||function(_0x1231f7){const _0x24ee8b=a369_0x1db209;if(_0x1231f7&&_0x1231f7[_0x24ee8b(0x105)])return _0x1231f7;var _0x54d948={};if(_0x1231f7!=null){for(var _0x33d4ac in _0x1231f7)if(_0x33d4ac!==_0x24ee8b(0xed)&&Object['prototype'][_0x24ee8b(0xff)]['call'](_0x1231f7,_0x33d4ac))__createBinding(_0x54d948,_0x1231f7,_0x33d4ac);}return __setModuleDefault(_0x54d948,_0x1231f7),_0x54d948;},__importDefault=this&&this[a369_0x1db209(0xf5)]||function(_0x4f863b){return _0x4f863b&&_0x4f863b['__esModule']?_0x4f863b:{'default':_0x4f863b};};Object[a369_0x1db209(0xdd)](exports,a369_0x1db209(0x105),{'value':!![]});const Yup=__importStar(require(a369_0x1db209(0xd4))),AppError_1=__importDefault(require(a369_0x1db209(0xfa))),Company_1=__importDefault(require(a369_0x1db209(0xdf))),User_1=__importDefault(require(a369_0x1db209(0xe2))),Setting_1=__importDefault(require('../../models/Setting')),database_1=__importDefault(require(a369_0x1db209(0xf1))),CreateCompanyService=async _0x47c3c0=>{const _0x49dba9=a369_0x1db209,{name:_0x14f336,phone:_0x2fc716,password:_0x440790,email:_0x739eae,status:_0x77cca1,planId:_0x338ccb,dueDate:_0x5081d2,recurrence:_0x3a7cfc,document:_0x552330,paymentMethod:_0x6ab96e,companyUserName:_0x3e03c6}=_0x47c3c0,_0x581948=Yup[_0x49dba9(0xea)]()[_0x49dba9(0xee)]({'name':Yup[_0x49dba9(0xd2)]()[_0x49dba9(0xf0)](0x2,_0x49dba9(0xef))['required']('ERR_COMPANY_INVALID_NAME')});try{await _0x581948[_0x49dba9(0xda)]({'name':_0x14f336});}catch(_0x22706d){throw new AppError_1['default'](_0x22706d[_0x49dba9(0xdb)]);}const _0x460b9e=await database_1[_0x49dba9(0xed)][_0x49dba9(0xd5)]();try{const _0x54c50d=await Company_1[_0x49dba9(0xed)][_0x49dba9(0xdc)]({'name':_0x14f336,'phone':_0x2fc716,'email':_0x739eae,'status':_0x77cca1,'planId':_0x338ccb,'dueDate':_0x5081d2,'recurrence':_0x3a7cfc,'document':_0x552330,'paymentMethod':_0x6ab96e},{'transaction':_0x460b9e});return await User_1['default'][_0x49dba9(0xdc)]({'name':_0x3e03c6?_0x3e03c6:_0x14f336,'email':_0x54c50d[_0x49dba9(0xd7)],'password':_0x440790?_0x440790:_0x49dba9(0xe5),'profile':_0x49dba9(0xe4),'companyId':_0x54c50d['id']},{'transaction':_0x460b9e}),await Setting_1[_0x49dba9(0xed)][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xe7),'value':_0x49dba9(0xf4)},{'transaction':_0x460b9e}),await Setting_1['default'][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xcf),'value':_0x49dba9(0xd1)},{'transaction':_0x460b9e}),await Setting_1[_0x49dba9(0xed)][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xfe),'value':_0x49dba9(0xd1)},{'transaction':_0x460b9e}),await Setting_1[_0x49dba9(0xed)][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xd0),'value':_0x49dba9(0xfd)},{'transaction':_0x460b9e}),await Setting_1['default']['create']({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xd9),'value':_0x49dba9(0xfd)},{'transaction':_0x460b9e}),await Setting_1[_0x49dba9(0xed)][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':'userRating','value':_0x49dba9(0xfd)},{'transaction':_0x460b9e}),await Setting_1[_0x49dba9(0xed)][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xe6),'value':_0x49dba9(0xf8)},{'transaction':_0x460b9e}),await Setting_1[_0x49dba9(0xed)]['create']({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xe8),'value':'disabled'},{'transaction':_0x460b9e}),await Setting_1['default'][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xd8),'value':_0x49dba9(0xfd)},{'transaction':_0x460b9e}),await Setting_1[_0x49dba9(0xed)][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xf6),'value':'disabled'},{'transaction':_0x460b9e}),await Setting_1[_0x49dba9(0xed)][_0x49dba9(0xdc)]({'companyId':_0x54c50d['id'],'key':_0x49dba9(0xd3),'value':'disabled'},{'transaction':_0x460b9e}),await _0x460b9e[_0x49dba9(0xf2)](),_0x54c50d;}catch(_0x479422){await _0x460b9e[_0x49dba9(0x103)]();throw new AppError_1[(_0x49dba9(0xed))](_0x49dba9(0xf3));}};exports[a369_0x1db209(0xed)]=CreateCompanyService;function a369_0x4460(_0xe8309,_0x593398){const _0x4a9ad4=a369_0x4a9a();return a369_0x4460=function(_0x44602c,_0x21dac7){_0x44602c=_0x44602c-0xcf;let _0x3036a7=_0x4a9ad4[_0x44602c];return _0x3036a7;},a369_0x4460(_0xe8309,_0x593398);}function a369_0x4a9a(){const _0x1784f3=['3iLSVkg','840516TulkYY','default','shape','ERR_COMPANY_INVALID_NAME','min','../../database','commit','Não\x20foi\x20possível\x20criar\x20a\x20empresa!','9999999999','__importDefault','sendGreetingAccepted','10112208OJwvVf','text','1260wrSFsu','../../errors/AppError','get','2706020lWNJaS','disabled','sendSignMessage','hasOwnProperty','__setModuleDefault','640IfTacp','writable','rollback','__importStar','__esModule','CheckMsgIsGroup','acceptCallWhatsapp','enabled','string','enableLGPD','yup','transaction','configurable','email','sendMsgTransfTicket','scheduleType','validate','message','create','defineProperty','25101LidEPP','../../models/Company','6990925LjpOcy','__createBinding','../../models/User','255484iminhw','admin','mudar123','chatBotType','hoursCloseTicketsAuto','userRandom','959kFmqCg','object'];a369_0x4a9a=function(){return _0x1784f3;};return a369_0x4a9a();}