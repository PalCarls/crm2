'use strict';const a405_0x1e4668=a405_0x1790;(function(_0x1a5422,_0x34305b){const _0x2458c5=a405_0x1790,_0x36a850=_0x1a5422();while(!![]){try{const _0x5ecd91=-parseInt(_0x2458c5(0x1d1))/0x1+parseInt(_0x2458c5(0x1ca))/0x2*(-parseInt(_0x2458c5(0x1dc))/0x3)+-parseInt(_0x2458c5(0x1c9))/0x4*(parseInt(_0x2458c5(0x1e4))/0x5)+-parseInt(_0x2458c5(0x1df))/0x6+-parseInt(_0x2458c5(0x1e2))/0x7*(-parseInt(_0x2458c5(0x1cc))/0x8)+parseInt(_0x2458c5(0x1e8))/0x9*(parseInt(_0x2458c5(0x1c8))/0xa)+parseInt(_0x2458c5(0x1c3))/0xb;if(_0x5ecd91===_0x34305b)break;else _0x36a850['push'](_0x36a850['shift']());}catch(_0x31d5f0){_0x36a850['push'](_0x36a850['shift']());}}}(a405_0x1e9d,0x8acdc));var __createBinding=this&&this[a405_0x1e4668(0x1c5)]||(Object[a405_0x1e4668(0x1ce)]?function(_0x3d627c,_0x52f4e5,_0x25a4b1,_0x41d2ba){const _0x910f7a=a405_0x1e4668;if(_0x41d2ba===undefined)_0x41d2ba=_0x25a4b1;var _0x368eb4=Object['getOwnPropertyDescriptor'](_0x52f4e5,_0x25a4b1);(!_0x368eb4||(_0x910f7a(0x1d7)in _0x368eb4?!_0x52f4e5[_0x910f7a(0x1d5)]:_0x368eb4[_0x910f7a(0x1d0)]||_0x368eb4[_0x910f7a(0x1db)]))&&(_0x368eb4={'enumerable':!![],'get':function(){return _0x52f4e5[_0x25a4b1];}}),Object[_0x910f7a(0x1e9)](_0x3d627c,_0x41d2ba,_0x368eb4);}:function(_0x38aed2,_0x28d508,_0x6fe298,_0x354e81){if(_0x354e81===undefined)_0x354e81=_0x6fe298;_0x38aed2[_0x354e81]=_0x28d508[_0x6fe298];}),__setModuleDefault=this&&this[a405_0x1e4668(0x1d9)]||(Object['create']?function(_0x1e2fa4,_0x3ba53a){const _0xb2dadf=a405_0x1e4668;Object[_0xb2dadf(0x1e9)](_0x1e2fa4,_0xb2dadf(0x1e7),{'enumerable':!![],'value':_0x3ba53a});}:function(_0x2f59e3,_0x6bcbdb){const _0x428789=a405_0x1e4668;_0x2f59e3[_0x428789(0x1e7)]=_0x6bcbdb;}),__importStar=this&&this[a405_0x1e4668(0x1c6)]||function(_0x55336e){const _0x4c19a8=a405_0x1e4668;if(_0x55336e&&_0x55336e[_0x4c19a8(0x1d5)])return _0x55336e;var _0x57ca55={};if(_0x55336e!=null){for(var _0x323cbf in _0x55336e)if(_0x323cbf!=='default'&&Object[_0x4c19a8(0x1d8)]['hasOwnProperty']['call'](_0x55336e,_0x323cbf))__createBinding(_0x57ca55,_0x55336e,_0x323cbf);}return __setModuleDefault(_0x57ca55,_0x55336e),_0x57ca55;},__importDefault=this&&this[a405_0x1e4668(0x1cf)]||function(_0x76a865){const _0x3a027a=a405_0x1e4668;return _0x76a865&&_0x76a865[_0x3a027a(0x1d5)]?_0x76a865:{'default':_0x76a865};};Object[a405_0x1e4668(0x1e9)](exports,a405_0x1e4668(0x1d5),{'value':!![]});const Yup=__importStar(require(a405_0x1e4668(0x1cb))),AppError_1=__importDefault(require(a405_0x1e4668(0x1d2))),Company_1=__importDefault(require(a405_0x1e4668(0x1c1))),User_1=__importDefault(require(a405_0x1e4668(0x1eb))),database_1=__importDefault(require(a405_0x1e4668(0x1d6))),CompaniesSettings_1=__importDefault(require(a405_0x1e4668(0x1e3))),CreateCompanyService=async _0x3df0f5=>{const _0x40dfbd=a405_0x1e4668,{name:_0x2b5ba9,phone:_0x24546a,password:_0x467ea9,email:_0x4b56f4,status:_0x336d0f,planId:_0x179fcc,dueDate:_0x1caa37,recurrence:_0x24d0a9,document:_0x5314d4,paymentMethod:_0x492a78,companyUserName:_0x1671f2}=_0x3df0f5,_0x20ca87=Yup[_0x40dfbd(0x1c4)]()[_0x40dfbd(0x1c2)]({'name':Yup[_0x40dfbd(0x1e1)]()[_0x40dfbd(0x1e6)](0x2,_0x40dfbd(0x1e5))[_0x40dfbd(0x1e0)](_0x40dfbd(0x1e5))});try{await _0x20ca87['validate']({'name':_0x2b5ba9});}catch(_0x4e8a8e){throw new AppError_1[(_0x40dfbd(0x1e7))](_0x4e8a8e[_0x40dfbd(0x1da)]);}const _0x2c9f8f=await database_1['default']['transaction']();try{const _0x46790c=await Company_1[_0x40dfbd(0x1e7)][_0x40dfbd(0x1ce)]({'name':_0x2b5ba9,'phone':_0x24546a,'email':_0x4b56f4,'status':_0x336d0f,'planId':_0x179fcc,'dueDate':_0x1caa37,'recurrence':_0x24d0a9,'document':_0x5314d4,'paymentMethod':_0x492a78},{'transaction':_0x2c9f8f});return await User_1[_0x40dfbd(0x1e7)][_0x40dfbd(0x1ce)]({'name':_0x1671f2?_0x1671f2:_0x2b5ba9,'email':_0x46790c['email'],'password':_0x467ea9?_0x467ea9:_0x40dfbd(0x1d3),'profile':_0x40dfbd(0x1d4),'companyId':_0x46790c['id']},{'transaction':_0x2c9f8f}),await CompaniesSettings_1[_0x40dfbd(0x1e7)]['create']({'companyId':_0x46790c['id'],'hoursCloseTicketsAuto':'9999999999','chatBotType':_0x40dfbd(0x1dd),'acceptCallWhatsapp':_0x40dfbd(0x1de),'userRandom':_0x40dfbd(0x1de),'sendGreetingMessageOneQueues':_0x40dfbd(0x1de),'sendSignMessage':'enabled','sendFarewellWaitingTicket':_0x40dfbd(0x1ea),'userRating':_0x40dfbd(0x1ea),'sendGreetingAccepted':_0x40dfbd(0x1de),'CheckMsgIsGroup':_0x40dfbd(0x1de),'sendQueuePosition':_0x40dfbd(0x1ea),'scheduleType':_0x40dfbd(0x1ea),'acceptAudioMessageContact':_0x40dfbd(0x1de),'sendMsgTransfTicket':_0x40dfbd(0x1ea),'enableLGPD':_0x40dfbd(0x1ea),'requiredTag':_0x40dfbd(0x1ea),'lgpdDeleteMessage':'disabled','lgpdHideNumber':'disabled','lgpdConsent':_0x40dfbd(0x1ea),'lgpdLink':'','lgpdMessage':'','createdAt':new Date(),'updatedAt':new Date()},{'transaction':_0x2c9f8f}),await _0x2c9f8f[_0x40dfbd(0x1cd)](),_0x46790c;}catch(_0x34dcb1){await _0x2c9f8f['rollback']();throw new AppError_1[(_0x40dfbd(0x1e7))](_0x40dfbd(0x1c7));}};function a405_0x1790(_0x416c7c,_0x9b139b){const _0x1e9d13=a405_0x1e9d();return a405_0x1790=function(_0x1790d8,_0x11213d){_0x1790d8=_0x1790d8-0x1c1;let _0x4a365b=_0x1e9d13[_0x1790d8];return _0x4a365b;},a405_0x1790(_0x416c7c,_0x9b139b);}function a405_0x1e9d(){const _0x18cfa5=['../../models/Company','shape','15987554viqJBI','object','__createBinding','__importStar','Não\x20foi\x20possível\x20criar\x20a\x20empresa!','3029210SMzktI','68HDFZkT','1898474swKiYJ','yup','6010616dOVvuw','commit','create','__importDefault','writable','286416Gzyjna','../../errors/AppError','mudar123','admin','__esModule','../../database','get','prototype','__setModuleDefault','message','configurable','3DUiTNY','text','enabled','5293932OSeeoy','required','string','7LNlwwB','../../models/CompaniesSettings','125585gQgNvJ','ERR_COMPANY_INVALID_NAME','min','default','27ncNmgQ','defineProperty','disabled','../../models/User'];a405_0x1e9d=function(){return _0x18cfa5;};return a405_0x1e9d();}exports[a405_0x1e4668(0x1e7)]=CreateCompanyService;