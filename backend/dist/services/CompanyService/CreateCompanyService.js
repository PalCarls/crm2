'use strict';const a385_0x5c1da7=a385_0x1036;(function(_0x3c1789,_0x1073b2){const _0x2c3ba5=a385_0x1036,_0x387e7f=_0x3c1789();while(!![]){try{const _0x56760f=-parseInt(_0x2c3ba5(0x213))/0x1+-parseInt(_0x2c3ba5(0x21b))/0x2*(parseInt(_0x2c3ba5(0x1ee))/0x3)+parseInt(_0x2c3ba5(0x1f2))/0x4+-parseInt(_0x2c3ba5(0x1fe))/0x5+-parseInt(_0x2c3ba5(0x202))/0x6*(-parseInt(_0x2c3ba5(0x217))/0x7)+-parseInt(_0x2c3ba5(0x1f0))/0x8*(parseInt(_0x2c3ba5(0x1f6))/0x9)+parseInt(_0x2c3ba5(0x216))/0xa;if(_0x56760f===_0x1073b2)break;else _0x387e7f['push'](_0x387e7f['shift']());}catch(_0xdf689){_0x387e7f['push'](_0x387e7f['shift']());}}}(a385_0x3f93,0xdae8f));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x29daee,_0x2633f4,_0x330d0,_0x10fae9){const _0x4be787=a385_0x1036;if(_0x10fae9===undefined)_0x10fae9=_0x330d0;var _0xf4c472=Object[_0x4be787(0x206)](_0x2633f4,_0x330d0);(!_0xf4c472||(_0x4be787(0x1ec)in _0xf4c472?!_0x2633f4[_0x4be787(0x1f7)]:_0xf4c472[_0x4be787(0x1f8)]||_0xf4c472['configurable']))&&(_0xf4c472={'enumerable':!![],'get':function(){return _0x2633f4[_0x330d0];}}),Object[_0x4be787(0x1fa)](_0x29daee,_0x10fae9,_0xf4c472);}:function(_0x42c47a,_0x425b39,_0x1fed3a,_0x4346c2){if(_0x4346c2===undefined)_0x4346c2=_0x1fed3a;_0x42c47a[_0x4346c2]=_0x425b39[_0x1fed3a];}),__setModuleDefault=this&&this[a385_0x5c1da7(0x20c)]||(Object[a385_0x5c1da7(0x20b)]?function(_0x3b5335,_0x4e28c7){const _0x335f2f=a385_0x5c1da7;Object[_0x335f2f(0x1fa)](_0x3b5335,'default',{'enumerable':!![],'value':_0x4e28c7});}:function(_0x23541c,_0x1e5ea7){const _0x416d89=a385_0x5c1da7;_0x23541c[_0x416d89(0x1fc)]=_0x1e5ea7;}),__importStar=this&&this[a385_0x5c1da7(0x214)]||function(_0x474148){const _0x253f29=a385_0x5c1da7;if(_0x474148&&_0x474148[_0x253f29(0x1f7)])return _0x474148;var _0x1c0d44={};if(_0x474148!=null){for(var _0x40aba2 in _0x474148)if(_0x40aba2!=='default'&&Object[_0x253f29(0x1ea)][_0x253f29(0x1f1)][_0x253f29(0x1f3)](_0x474148,_0x40aba2))__createBinding(_0x1c0d44,_0x474148,_0x40aba2);}return __setModuleDefault(_0x1c0d44,_0x474148),_0x1c0d44;},__importDefault=this&&this['__importDefault']||function(_0x4621dd){const _0x46975d=a385_0x5c1da7;return _0x4621dd&&_0x4621dd[_0x46975d(0x1f7)]?_0x4621dd:{'default':_0x4621dd};};Object[a385_0x5c1da7(0x1fa)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a385_0x5c1da7(0x1f4))),AppError_1=__importDefault(require(a385_0x5c1da7(0x211))),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require(a385_0x5c1da7(0x218))),Setting_1=__importDefault(require('../../models/Setting')),database_1=__importDefault(require(a385_0x5c1da7(0x212))),CreateCompanyService=async _0x349dbb=>{const _0x4f7994=a385_0x5c1da7,{name:_0x4c9eaf,phone:_0x5db27f,password:_0x28464d,email:_0x1c3c8d,status:_0x28e867,planId:_0x56f373,dueDate:_0x29eb30,recurrence:_0x576e29,document:_0x51e800,paymentMethod:_0x405ca6,companyUserName:_0x56b97f}=_0x349dbb,_0x20ead4=Yup['object']()[_0x4f7994(0x1f5)]({'name':Yup[_0x4f7994(0x1fb)]()[_0x4f7994(0x21a)](0x2,_0x4f7994(0x219))['required'](_0x4f7994(0x219))});try{await _0x20ead4[_0x4f7994(0x210)]({'name':_0x4c9eaf});}catch(_0x452baf){throw new AppError_1[(_0x4f7994(0x1fc))](_0x452baf[_0x4f7994(0x1f9)]);}const _0x432e7b=await database_1[_0x4f7994(0x1fc)][_0x4f7994(0x215)]();try{const _0x30f7cd=await Company_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'name':_0x4c9eaf,'phone':_0x5db27f,'email':_0x1c3c8d,'status':_0x28e867,'planId':_0x56f373,'dueDate':_0x29eb30,'recurrence':_0x576e29,'document':_0x51e800,'paymentMethod':_0x405ca6},{'transaction':_0x432e7b});return await User_1[_0x4f7994(0x1fc)]['create']({'name':_0x56b97f?_0x56b97f:_0x4c9eaf,'email':_0x30f7cd[_0x4f7994(0x201)],'password':_0x28464d?_0x28464d:_0x4f7994(0x209),'profile':_0x4f7994(0x205),'companyId':_0x30f7cd['id']},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)]['create']({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x21c),'value':_0x4f7994(0x1fd)},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x207),'value':_0x4f7994(0x204)},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x20e),'value':'disabled'},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':'userRating','value':_0x4f7994(0x204)},{'transaction':_0x432e7b}),await Setting_1['default']['create']({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x200),'value':_0x4f7994(0x20f)},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x1e9),'value':_0x4f7994(0x204)},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x203),'value':'disabled'},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x1eb),'value':_0x4f7994(0x204)},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x1ed),'value':'disabled'},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)]['create']({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x1ff),'value':_0x4f7994(0x204)},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':'lgpdDeleteMessage','value':_0x4f7994(0x204)},{'transaction':_0x432e7b}),await Setting_1['default']['create']({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x1ef),'value':_0x4f7994(0x204)},{'transaction':_0x432e7b}),await Setting_1[_0x4f7994(0x1fc)][_0x4f7994(0x20b)]({'companyId':_0x30f7cd['id'],'key':_0x4f7994(0x20d),'value':_0x4f7994(0x204)},{'transaction':_0x432e7b}),await _0x432e7b[_0x4f7994(0x208)](),_0x30f7cd;}catch(_0x164ffa){await _0x432e7b[_0x4f7994(0x20a)]();throw new AppError_1[(_0x4f7994(0x1fc))](_0x4f7994(0x1e8));}};exports[a385_0x5c1da7(0x1fc)]=CreateCompanyService;function a385_0x1036(_0x33c05b,_0x24de26){const _0x3f9379=a385_0x3f93();return a385_0x1036=function(_0x10365b,_0x306793){_0x10365b=_0x10365b-0x1e8;let _0x2d6aec=_0x3f9379[_0x10365b];return _0x2d6aec;},a385_0x1036(_0x33c05b,_0x24de26);}function a385_0x3f93(){const _0x3e7e3e=['mudar123','rollback','create','__setModuleDefault','requiredTag','scheduleType','text','validate','../../errors/AppError','../../database','318690KYRzoS','__importStar','transaction','32411430XYpWkS','623LfrZCd','../../models/User','ERR_COMPANY_INVALID_NAME','min','17912gijgXq','sendSignMessage','Não\x20foi\x20possível\x20criar\x20a\x20empresa!','userRandom','prototype','sendGreetingAccepted','get','enableLGPD','402LbEpCM','lgpdHideNumber','11848FskIMd','hasOwnProperty','196656cRFTyA','call','yup','shape','3231uuVMdh','__esModule','writable','message','defineProperty','string','default','enabled','2493310iRWWJk','lgpdConsent','chatBotType','email','10482UXZTSs','sendMsgTransfTicket','disabled','admin','getOwnPropertyDescriptor','acceptCallWhatsapp','commit'];a385_0x3f93=function(){return _0x3e7e3e;};return a385_0x3f93();}