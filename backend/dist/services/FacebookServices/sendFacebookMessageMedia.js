'use strict';const a482_0x9c2af6=a482_0x37a9;(function(_0x32378a,_0x3c9a51){const _0x5578dd=a482_0x37a9,_0x21eb17=_0x32378a();while(!![]){try{const _0x1a7328=parseInt(_0x5578dd(0x15e))/0x1+-parseInt(_0x5578dd(0x168))/0x2+-parseInt(_0x5578dd(0x171))/0x3*(parseInt(_0x5578dd(0x159))/0x4)+parseInt(_0x5578dd(0x161))/0x5+-parseInt(_0x5578dd(0x165))/0x6+parseInt(_0x5578dd(0x163))/0x7*(-parseInt(_0x5578dd(0x16d))/0x8)+-parseInt(_0x5578dd(0x154))/0x9*(-parseInt(_0x5578dd(0x175))/0xa);if(_0x1a7328===_0x3c9a51)break;else _0x21eb17['push'](_0x21eb17['shift']());}catch(_0xb69676){_0x21eb17['push'](_0x21eb17['shift']());}}}(a482_0x926c,0xb8f4b));var __importDefault=this&&this[a482_0x9c2af6(0x16c)]||function(_0x4fc77b){const _0x1a7d19=a482_0x9c2af6;return _0x4fc77b&&_0x4fc77b[_0x1a7d19(0x169)]?_0x4fc77b:{'default':_0x4fc77b};};function a482_0x37a9(_0x5457e8,_0x2a84fb){const _0x926c76=a482_0x926c();return a482_0x37a9=function(_0x37a913,_0x5f3835){_0x37a913=_0x37a913-0x151;let _0x568e78=_0x926c76[_0x37a913];return _0x568e78;},a482_0x37a9(_0x5457e8,_0x2a84fb);}Object[a482_0x9c2af6(0x160)](exports,a482_0x9c2af6(0x169),{'value':!![]}),exports[a482_0x9c2af6(0x151)]=exports[a482_0x9c2af6(0x15a)]=exports[a482_0x9c2af6(0x157)]=exports['typeAttachment']=void 0x0;const fs_1=__importDefault(require('fs')),AppError_1=__importDefault(require(a482_0x9c2af6(0x178))),graphAPI_1=require(a482_0x9c2af6(0x15d)),typeAttachment=_0x2c30c7=>{const _0x3a23dd=a482_0x9c2af6;if(_0x2c30c7[_0x3a23dd(0x15b)]['includes'](_0x3a23dd(0x16b)))return _0x3a23dd(0x16b);if(_0x2c30c7['mimetype'][_0x3a23dd(0x164)](_0x3a23dd(0x156)))return _0x3a23dd(0x156);if(_0x2c30c7[_0x3a23dd(0x15b)][_0x3a23dd(0x164)]('audio'))return'audio';return _0x3a23dd(0x177);};exports[a482_0x9c2af6(0x170)]=typeAttachment;const sendFacebookMessageMedia=async({media:_0x1b9c07,ticket:_0x444872,body:_0x32c2d0})=>{const _0x252daa=a482_0x9c2af6;try{const _0x2367a5=(0x0,exports[_0x252daa(0x170)])(_0x1b9c07),_0x403256=process[_0x252daa(0x179)][_0x252daa(0x174)]+_0x252daa(0x15c)+_0x444872[_0x252daa(0x166)]+'/'+_0x1b9c07[_0x252daa(0x16e)],_0x3bea9a=await(0x0,graphAPI_1[_0x252daa(0x162)])(_0x444872[_0x252daa(0x173)]['number'],_0x403256,_0x2367a5,_0x444872[_0x252daa(0x176)][_0x252daa(0x16f)]);return await _0x444872[_0x252daa(0x17a)]({'lastMessage':_0x1b9c07['filename']}),fs_1[_0x252daa(0x172)][_0x252daa(0x16a)](_0x1b9c07[_0x252daa(0x15f)]),_0x3bea9a;}catch(_0x344f59){throw new AppError_1[(_0x252daa(0x172))](_0x252daa(0x155));}};exports['sendFacebookMessageMedia']=sendFacebookMessageMedia;function a482_0x926c(){const _0xcf4312=['toString','2485936QJEaUV','__esModule','unlinkSync','image','__importDefault','10262744Uhifik','filename','facebookUserToken','typeAttachment','3ZVQTRa','default','contact','BACKEND_URL','446570DanxHq','whatsapp','file','../../errors/AppError','env','update','.jpg}','sendFacebookMessageFileExternal','number','substring','396QIKTBk','ERR_SENDING_FACEBOOK_MSG','video','sendFacebookMessageMedia','random','2333444sQsljy','sendFacebookMessageMediaExternal','mimetype','/public/company','./graphAPI','1101985aEtCyv','path','defineProperty','7395480njVEKw','sendAttachmentFromUrl','7vgIxqy','includes','4075428Caksub','companyId'];a482_0x926c=function(){return _0xcf4312;};return a482_0x926c();}const sendFacebookMessageMediaExternal=async({url:_0x53d85b,ticket:_0x5df1ad,body:_0x20ecb2})=>{const _0xede889=a482_0x9c2af6;try{const _0x49160f=_0xede889(0x16b),_0x5888f9=await(0x0,graphAPI_1[_0xede889(0x162)])(_0x5df1ad[_0xede889(0x173)][_0xede889(0x152)],_0x53d85b,_0x49160f,_0x5df1ad[_0xede889(0x176)][_0xede889(0x16f)]),_0x547bcc=Math[_0xede889(0x158)]()[_0xede889(0x167)](0x24)['substring'](0x7);return await _0x5df1ad[_0xede889(0x17a)]({'lastMessage':_0x20ecb2||_0x547bcc+_0xede889(0x17b)}),_0x5888f9;}catch(_0x28e848){throw new AppError_1[(_0xede889(0x172))](_0xede889(0x155));}};exports[a482_0x9c2af6(0x15a)]=sendFacebookMessageMediaExternal;const sendFacebookMessageFileExternal=async({url:_0x3248d3,ticket:_0x496c7e,body:_0x87ecd1})=>{const _0x1a7832=a482_0x9c2af6;try{const _0x4fbf5f=_0x1a7832(0x177),_0x32fff5=await(0x0,graphAPI_1[_0x1a7832(0x162)])(_0x496c7e[_0x1a7832(0x173)]['number'],_0x3248d3,_0x4fbf5f,_0x496c7e['whatsapp'][_0x1a7832(0x16f)]),_0x108e98=Math[_0x1a7832(0x158)]()[_0x1a7832(0x167)](0x24)[_0x1a7832(0x153)](0x7);return await _0x496c7e[_0x1a7832(0x17a)]({'lastMessage':_0x87ecd1||_0x108e98+'.pdf}'}),_0x32fff5;}catch(_0x2a29b5){throw new AppError_1[(_0x1a7832(0x172))](_0x1a7832(0x155));}};exports[a482_0x9c2af6(0x151)]=sendFacebookMessageFileExternal;