'use strict';const a449_0x5b92e9=a449_0x2dc9;(function(_0x40152e,_0x3162a0){const _0xafa97e=a449_0x2dc9,_0x45c665=_0x40152e();while(!![]){try{const _0x2745e4=-parseInt(_0xafa97e(0x140))/0x1*(parseInt(_0xafa97e(0x157))/0x2)+-parseInt(_0xafa97e(0x138))/0x3+parseInt(_0xafa97e(0x139))/0x4+parseInt(_0xafa97e(0x158))/0x5+parseInt(_0xafa97e(0x150))/0x6+parseInt(_0xafa97e(0x142))/0x7+parseInt(_0xafa97e(0x153))/0x8*(-parseInt(_0xafa97e(0x14c))/0x9);if(_0x2745e4===_0x3162a0)break;else _0x45c665['push'](_0x45c665['shift']());}catch(_0x3725a7){_0x45c665['push'](_0x45c665['shift']());}}}(a449_0x46f7,0x22723));function a449_0x2dc9(_0x23010b,_0x2f0ef8){const _0x46f74d=a449_0x46f7();return a449_0x2dc9=function(_0x2dc943,_0x1b3d78){_0x2dc943=_0x2dc943-0x137;let _0xdb8eb7=_0x46f74d[_0x2dc943];return _0xdb8eb7;},a449_0x2dc9(_0x23010b,_0x2f0ef8);}function a449_0x46f7(){const _0x440999=['whatsapp','file','image','1744065PPYhvo','includes','./facebookMessageListener','__esModule','265236zigxqD','facebookUserToken','path','8UNQwVQ','audio','unlinkSync','/public/company','11214sjNCeq','899055GlLpOT','ERR_SENDING_FACEBOOK_MSG','BACKEND_URL','118377xtdWcc','744688mdwORe','typeAttachment','mimetype','contact','number','../../errors/AppError','sendAttachmentFromUrl','44GEqWHk','verifyMessage','1475978KfMkwu','video','defineProperty','filename','default','update','companyId'];a449_0x46f7=function(){return _0x440999;};return a449_0x46f7();}var __importDefault=this&&this['__importDefault']||function(_0x2e0897){return _0x2e0897&&_0x2e0897['__esModule']?_0x2e0897:{'default':_0x2e0897};};Object[a449_0x5b92e9(0x144)](exports,a449_0x5b92e9(0x14f),{'value':!![]}),exports[a449_0x5b92e9(0x13a)]=void 0x0;const fs_1=__importDefault(require('fs')),AppError_1=__importDefault(require(a449_0x5b92e9(0x13e))),graphAPI_1=require('./graphAPI'),facebookMessageListener_1=require(a449_0x5b92e9(0x14e)),typeAttachment=_0x4f47c9=>{const _0x20026b=a449_0x5b92e9;if(_0x4f47c9[_0x20026b(0x13b)][_0x20026b(0x14d)](_0x20026b(0x14b)))return'image';if(_0x4f47c9[_0x20026b(0x13b)][_0x20026b(0x14d)](_0x20026b(0x143)))return _0x20026b(0x143);if(_0x4f47c9['mimetype'][_0x20026b(0x14d)](_0x20026b(0x154)))return'audio';return _0x20026b(0x14a);};exports['typeAttachment']=typeAttachment;const sendFacebookMessageMedia=async({media:_0x52702c,url:_0x5c668b,ticket:_0x4d4538,body:_0x6fb286})=>{const _0x4d628c=a449_0x5b92e9;try{const _0x5681dd=(0x0,exports['typeAttachment'])(_0x52702c),_0x4538ec=await(0x0,graphAPI_1[_0x4d628c(0x13f)])(_0x4d4538[_0x4d628c(0x13c)][_0x4d628c(0x13d)],process['env'][_0x4d628c(0x137)]+_0x4d628c(0x156)+_0x4d4538[_0x4d628c(0x148)]+'/'+_0x52702c[_0x4d628c(0x145)],_0x5681dd,_0x4d4538[_0x4d628c(0x149)][_0x4d628c(0x151)]);return await _0x4d4538[_0x4d628c(0x147)]({'lastMessage':_0x6fb286||_0x52702c['filename']}),fs_1[_0x4d628c(0x146)][_0x4d628c(0x155)](_0x52702c[_0x4d628c(0x152)]),await(0x0,facebookMessageListener_1[_0x4d628c(0x141)])(_0x4538ec,_0x6fb286||_0x52702c[_0x4d628c(0x145)],_0x4d4538,_0x4d4538[_0x4d628c(0x13c)]),_0x4538ec;}catch(_0x4739da){throw new AppError_1['default'](_0x4d628c(0x159));}};exports[a449_0x5b92e9(0x146)]=sendFacebookMessageMedia;