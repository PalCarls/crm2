'use strict';const a401_0x4845e3=a401_0x3851;(function(_0x1b3a0b,_0x5a91a0){const _0x515905=a401_0x3851,_0x2a95d8=_0x1b3a0b();while(!![]){try{const _0x3f82dc=parseInt(_0x515905(0x1a0))/0x1*(-parseInt(_0x515905(0x197))/0x2)+-parseInt(_0x515905(0x198))/0x3+parseInt(_0x515905(0x1ac))/0x4+-parseInt(_0x515905(0x1aa))/0x5+parseInt(_0x515905(0x19d))/0x6*(-parseInt(_0x515905(0x1ab))/0x7)+parseInt(_0x515905(0x1b3))/0x8+parseInt(_0x515905(0x19e))/0x9;if(_0x3f82dc===_0x5a91a0)break;else _0x2a95d8['push'](_0x2a95d8['shift']());}catch(_0x4f21f2){_0x2a95d8['push'](_0x2a95d8['shift']());}}}(a401_0x53ef,0x91125));var __importDefault=this&&this[a401_0x4845e3(0x1a9)]||function(_0x1c7060){const _0x4f4caa=a401_0x4845e3;return _0x1c7060&&_0x1c7060[_0x4f4caa(0x1a3)]?_0x1c7060:{'default':_0x1c7060};};Object[a401_0x4845e3(0x1a5)](exports,a401_0x4845e3(0x1a3),{'value':!![]}),exports[a401_0x4845e3(0x19c)]=void 0x0;const fs_1=__importDefault(require('fs')),AppError_1=__importDefault(require(a401_0x4845e3(0x1ad))),graphAPI_1=require(a401_0x4845e3(0x1a7)),facebookMessageListener_1=require(a401_0x4845e3(0x1b6)),typeAttachment=_0x4e6c44=>{const _0x53cb9f=a401_0x4845e3;if(_0x4e6c44[_0x53cb9f(0x1a6)]['includes'](_0x53cb9f(0x1ae)))return'image';if(_0x4e6c44['mimetype'][_0x53cb9f(0x19a)](_0x53cb9f(0x1a8)))return'video';if(_0x4e6c44[_0x53cb9f(0x1a6)][_0x53cb9f(0x19a)]('audio'))return'audio';return'file';};exports['typeAttachment']=typeAttachment;function a401_0x3851(_0x121520,_0x3861bc){const _0x53ef25=a401_0x53ef();return a401_0x3851=function(_0x3851a6,_0x3dd79d){_0x3851a6=_0x3851a6-0x197;let _0x3edf78=_0x53ef25[_0x3851a6];return _0x3edf78;},a401_0x3851(_0x121520,_0x3861bc);}function a401_0x53ef(){const _0x4b16dc=['/public/company','verifyMessage','2343552XMoijy','filename','unlinkSync','./facebookMessageListener','whatsapp','157404SSuCMK','2228373RGUPRr','env','includes','contact','typeAttachment','120ZjtzVI','20220147IDgSme','BACKEND_URL','3qXiorF','sendAttachmentFromUrl','path','__esModule','ERR_SENDING_FACEBOOK_MSG','defineProperty','mimetype','./graphAPI','video','__importDefault','38895gKmTqd','410977WQhQeO','861928CsBoHx','../../errors/AppError','image','facebookUserToken','default'];a401_0x53ef=function(){return _0x4b16dc;};return a401_0x53ef();}const sendFacebookMessageMedia=async({media:_0x292fb6,url:_0x11f99f,ticket:_0x33d58e,body:_0x37c93f})=>{const _0x3d6f9f=a401_0x4845e3;try{const _0x667b8f=(0x0,exports[_0x3d6f9f(0x19c)])(_0x292fb6),_0x2b881d=await(0x0,graphAPI_1[_0x3d6f9f(0x1a1)])(_0x33d58e[_0x3d6f9f(0x19b)]['number'],process[_0x3d6f9f(0x199)][_0x3d6f9f(0x19f)]+_0x3d6f9f(0x1b1)+_0x33d58e['companyId']+'/'+_0x292fb6[_0x3d6f9f(0x1b4)],_0x667b8f,_0x33d58e[_0x3d6f9f(0x1b7)][_0x3d6f9f(0x1af)]);return await _0x33d58e['update']({'lastMessage':_0x37c93f||_0x292fb6['filename']}),fs_1[_0x3d6f9f(0x1b0)][_0x3d6f9f(0x1b5)](_0x292fb6[_0x3d6f9f(0x1a2)]),await(0x0,facebookMessageListener_1[_0x3d6f9f(0x1b2)])(_0x2b881d,_0x37c93f||_0x292fb6[_0x3d6f9f(0x1b4)],_0x33d58e,_0x33d58e[_0x3d6f9f(0x19b)]),_0x2b881d;}catch(_0x195e09){throw new AppError_1['default'](_0x3d6f9f(0x1a4));}};exports['default']=sendFacebookMessageMedia;