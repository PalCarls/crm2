'use strict';function a433_0x45bd(){const _0x3d0793=['whatsapp','log','ERR_SENDING_FACEBOOK_MSG','24BPxNii','./graphAPI','../../helpers/Mustache','facebookUserToken','3mtaLPx','182066yJqyDe','2705733TMTReP','279400auPDel','__esModule','default','259819QyZAMz','2835688EgLxGN','76438oZlKhk','__importDefault','20IGBNAA','87296SitElY'];a433_0x45bd=function(){return _0x3d0793;};return a433_0x45bd();}const a433_0x565e05=a433_0x2451;function a433_0x2451(_0x489c5a,_0x11108b){const _0x45bd51=a433_0x45bd();return a433_0x2451=function(_0x2451bf,_0x4b7509){_0x2451bf=_0x2451bf-0x149;let _0x2a635b=_0x45bd51[_0x2451bf];return _0x2a635b;},a433_0x2451(_0x489c5a,_0x11108b);}(function(_0x26984b,_0x42414b){const _0x3d1ba8=a433_0x2451,_0x2a5d38=_0x26984b();while(!![]){try{const _0x2cabe0=-parseInt(_0x3d1ba8(0x158))/0x1+parseInt(_0x3d1ba8(0x151))/0x2*(parseInt(_0x3d1ba8(0x150))/0x3)+-parseInt(_0x3d1ba8(0x15b))/0x4*(-parseInt(_0x3d1ba8(0x15a))/0x5)+-parseInt(_0x3d1ba8(0x14c))/0x6*(-parseInt(_0x3d1ba8(0x156))/0x7)+parseInt(_0x3d1ba8(0x157))/0x8+-parseInt(_0x3d1ba8(0x152))/0x9+-parseInt(_0x3d1ba8(0x153))/0xa;if(_0x2cabe0===_0x42414b)break;else _0x2a5d38['push'](_0x2a5d38['shift']());}catch(_0xee57f){_0x2a5d38['push'](_0x2a5d38['shift']());}}}(a433_0x45bd,0x43713));var __importDefault=this&&this[a433_0x565e05(0x159)]||function(_0x50a51f){const _0x137485=a433_0x565e05;return _0x50a51f&&_0x50a51f[_0x137485(0x154)]?_0x50a51f:{'default':_0x50a51f};};Object['defineProperty'](exports,a433_0x565e05(0x154),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),graphAPI_1=require(a433_0x565e05(0x14d)),Mustache_1=__importDefault(require(a433_0x565e05(0x14e))),SendWhatsAppMessage=async({body:_0x21839f,ticket:_0x1b15c5})=>{const _0x235654=a433_0x565e05,{number:_0x5b8490}=_0x1b15c5['contact'];try{const _0x1b5447=await(0x0,graphAPI_1['sendText'])(_0x5b8490,(0x0,Mustache_1[_0x235654(0x155)])(_0x21839f,_0x1b15c5),_0x1b15c5[_0x235654(0x149)][_0x235654(0x14f)]);await _0x1b15c5['update']({'lastMessage':_0x21839f});}catch(_0x2afb90){console[_0x235654(0x14a)](_0x2afb90);throw new AppError_1[(_0x235654(0x155))](_0x235654(0x14b));}};exports[a433_0x565e05(0x155)]=SendWhatsAppMessage;