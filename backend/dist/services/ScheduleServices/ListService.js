'use strict';function a495_0x4573(){const _0x5398ed=['user','col','Sequelize','8535WKaRwA','211732qYzazl','561EqLdJO','default','133959tUPpCf','__importDefault','LOWER','1112580ubbzSS','toLowerCase','findAndCountAll','258BwMDOu','../../models/Schedule','contact.name','name','../../models/Contact','2655312EzUTCS','LIKE','38330zzSZKq','4nMunRi','7eYSmbW','__esModule','where','900088LvjfRj','../../models/User','contact'];a495_0x4573=function(){return _0x5398ed;};return a495_0x4573();}const a495_0x1a18fb=a495_0x9012;function a495_0x9012(_0x5928c4,_0x59ebff){const _0x4573cd=a495_0x4573();return a495_0x9012=function(_0x901240,_0x219148){_0x901240=_0x901240-0xfe;let _0x162708=_0x4573cd[_0x901240];return _0x162708;},a495_0x9012(_0x5928c4,_0x59ebff);}(function(_0x5072d4,_0x5610d9){const _0x5e07bb=a495_0x9012,_0x18f01e=_0x5072d4();while(!![]){try{const _0x1e0d32=-parseInt(_0x5e07bb(0x116))/0x1+-parseInt(_0x5e07bb(0x10b))/0x2*(-parseInt(_0x5e07bb(0x119))/0x3)+parseInt(_0x5e07bb(0x10f))/0x4+parseInt(_0x5e07bb(0x115))/0x5*(parseInt(_0x5e07bb(0x103))/0x6)+-parseInt(_0x5e07bb(0x10c))/0x7*(-parseInt(_0x5e07bb(0x108))/0x8)+-parseInt(_0x5e07bb(0x100))/0x9+-parseInt(_0x5e07bb(0x10a))/0xa*(parseInt(_0x5e07bb(0x117))/0xb);if(_0x1e0d32===_0x5610d9)break;else _0x18f01e['push'](_0x18f01e['shift']());}catch(_0x32b3cd){_0x18f01e['push'](_0x18f01e['shift']());}}}(a495_0x4573,0x2e188));var __importDefault=this&&this[a495_0x1a18fb(0xfe)]||function(_0x2e5c22){return _0x2e5c22&&_0x2e5c22['__esModule']?_0x2e5c22:{'default':_0x2e5c22};};Object['defineProperty'](exports,a495_0x1a18fb(0x10d),{'value':!![]});const sequelize_1=require('sequelize'),Contact_1=__importDefault(require(a495_0x1a18fb(0x107))),Schedule_1=__importDefault(require(a495_0x1a18fb(0x104))),User_1=__importDefault(require(a495_0x1a18fb(0x110))),ListService=async({searchParam:_0x3fba7c,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x7808ee})=>{const _0x8e7ed9=a495_0x1a18fb;let _0x321a17={};const _0xf3814a=0x14,_0x4ddccb=_0xf3814a*(+pageNumber-0x1);_0x3fba7c&&(_0x321a17={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1['Sequelize'][_0x8e7ed9(0x10e)](sequelize_1[_0x8e7ed9(0x114)]['fn'](_0x8e7ed9(0xff),sequelize_1['Sequelize'][_0x8e7ed9(0x113)]('Schedule.body')),_0x8e7ed9(0x109),'%'+_0x3fba7c[_0x8e7ed9(0x101)]()+'%')},{'$Contact.name$':sequelize_1['Sequelize'][_0x8e7ed9(0x10e)](sequelize_1[_0x8e7ed9(0x114)]['fn'](_0x8e7ed9(0xff),sequelize_1[_0x8e7ed9(0x114)][_0x8e7ed9(0x113)](_0x8e7ed9(0x105))),_0x8e7ed9(0x109),'%'+_0x3fba7c[_0x8e7ed9(0x101)]()+'%')}]});contactId!==''&&(_0x321a17={..._0x321a17,'contactId':contactId});userId!==''&&(_0x321a17={..._0x321a17,'userId':userId});_0x321a17={..._0x321a17,'companyId':{[sequelize_1['Op']['eq']]:_0x7808ee}};const {count:_0x36bc84,rows:_0x2555fc}=await Schedule_1[_0x8e7ed9(0x118)][_0x8e7ed9(0x102)]({'where':_0x321a17,'limit':_0xf3814a,'offset':_0x4ddccb,'order':[['createdAt','DESC']],'include':[{'model':Contact_1[_0x8e7ed9(0x118)],'as':_0x8e7ed9(0x111),'attributes':['id','name']},{'model':User_1[_0x8e7ed9(0x118)],'as':_0x8e7ed9(0x112),'attributes':['id',_0x8e7ed9(0x106)]}]}),_0x163a04=_0x36bc84>_0x4ddccb+_0x2555fc['length'];return{'schedules':_0x2555fc,'count':_0x36bc84,'hasMore':_0x163a04};};exports[a495_0x1a18fb(0x118)]=ListService;