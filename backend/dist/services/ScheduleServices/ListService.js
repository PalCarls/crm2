'use strict';const a495_0x4e816b=a495_0x1611;(function(_0x5e2e3f,_0x4d33c7){const _0x3e63ea=a495_0x1611,_0x34042a=_0x5e2e3f();while(!![]){try{const _0x5260f9=-parseInt(_0x3e63ea(0xaa))/0x1+-parseInt(_0x3e63ea(0x9d))/0x2+-parseInt(_0x3e63ea(0xab))/0x3+-parseInt(_0x3e63ea(0x97))/0x4*(-parseInt(_0x3e63ea(0xa3))/0x5)+parseInt(_0x3e63ea(0x9f))/0x6+parseInt(_0x3e63ea(0xa8))/0x7*(-parseInt(_0x3e63ea(0xac))/0x8)+parseInt(_0x3e63ea(0x9b))/0x9;if(_0x5260f9===_0x4d33c7)break;else _0x34042a['push'](_0x34042a['shift']());}catch(_0x593c77){_0x34042a['push'](_0x34042a['shift']());}}}(a495_0x2931,0xdb162));function a495_0x2931(){const _0x487e0c=['__esModule','10732914jXusfI','findAndCountAll','default','../../models/Schedule','919375sLMcWu','name','Sequelize','LOWER','Schedule.body','45829hhkTvb','length','1784325dEibXV','1863813tIwGEy','2064BTTwkd','user','../../models/Contact','col','where','toLowerCase','sequelize','contact.name','DESC','defineProperty','16hExbhi','LIKE','createdAt','contact','28352763VavLmW','__importDefault','1365052xqcUeg'];a495_0x2931=function(){return _0x487e0c;};return a495_0x2931();}function a495_0x1611(_0x1c59a3,_0x10515b){const _0x293186=a495_0x2931();return a495_0x1611=function(_0x161187,_0x512f62){_0x161187=_0x161187-0x94;let _0x444685=_0x293186[_0x161187];return _0x444685;},a495_0x1611(_0x1c59a3,_0x10515b);}var __importDefault=this&&this[a495_0x4e816b(0x9c)]||function(_0x8d066e){return _0x8d066e&&_0x8d066e['__esModule']?_0x8d066e:{'default':_0x8d066e};};Object[a495_0x4e816b(0x96)](exports,a495_0x4e816b(0x9e),{'value':!![]});const sequelize_1=require(a495_0x4e816b(0xb2)),Contact_1=__importDefault(require(a495_0x4e816b(0xae))),Schedule_1=__importDefault(require(a495_0x4e816b(0xa2))),User_1=__importDefault(require('../../models/User')),ListService=async({searchParam:_0x57ff16,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x128956})=>{const _0x639e72=a495_0x4e816b;let _0x31138d={};const _0x43888d=0x14,_0x331201=_0x43888d*(+pageNumber-0x1);_0x57ff16&&(_0x31138d={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1['Sequelize'][_0x639e72(0xb0)](sequelize_1[_0x639e72(0xa5)]['fn'](_0x639e72(0xa6),sequelize_1[_0x639e72(0xa5)][_0x639e72(0xaf)](_0x639e72(0xa7))),'LIKE','%'+_0x57ff16[_0x639e72(0xb1)]()+'%')},{'$Contact.name$':sequelize_1[_0x639e72(0xa5)]['where'](sequelize_1['Sequelize']['fn'](_0x639e72(0xa6),sequelize_1[_0x639e72(0xa5)][_0x639e72(0xaf)](_0x639e72(0x94))),_0x639e72(0x98),'%'+_0x57ff16[_0x639e72(0xb1)]()+'%')}]});contactId!==''&&(_0x31138d={..._0x31138d,'contactId':contactId});userId!==''&&(_0x31138d={..._0x31138d,'userId':userId});_0x31138d={..._0x31138d,'companyId':{[sequelize_1['Op']['eq']]:_0x128956}};const {count:_0x15dc13,rows:_0x4491dd}=await Schedule_1['default'][_0x639e72(0xa0)]({'where':_0x31138d,'limit':_0x43888d,'offset':_0x331201,'order':[[_0x639e72(0x99),_0x639e72(0x95)]],'include':[{'model':Contact_1[_0x639e72(0xa1)],'as':_0x639e72(0x9a),'attributes':['id',_0x639e72(0xa4)]},{'model':User_1[_0x639e72(0xa1)],'as':_0x639e72(0xad),'attributes':['id',_0x639e72(0xa4)]}]}),_0xfb9bb=_0x15dc13>_0x331201+_0x4491dd[_0x639e72(0xa9)];return{'schedules':_0x4491dd,'count':_0x15dc13,'hasMore':_0xfb9bb};};exports[a495_0x4e816b(0xa1)]=ListService;