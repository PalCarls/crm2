'use strict';const a562_0x59537e=a562_0x3d1e;function a562_0x3d1e(_0x54fb83,_0x48864e){const _0x117379=a562_0x1173();return a562_0x3d1e=function(_0x3d1e91,_0x5d82ec){_0x3d1e91=_0x3d1e91-0x18f;let _0xe500e=_0x117379[_0x3d1e91];return _0xe500e;},a562_0x3d1e(_0x54fb83,_0x48864e);}(function(_0x12644b,_0x263b42){const _0x16b699=a562_0x3d1e,_0x566ff7=_0x12644b();while(!![]){try{const _0x1e1b91=-parseInt(_0x16b699(0x1a1))/0x1+-parseInt(_0x16b699(0x1a9))/0x2*(-parseInt(_0x16b699(0x1ab))/0x3)+parseInt(_0x16b699(0x19b))/0x4*(-parseInt(_0x16b699(0x194))/0x5)+-parseInt(_0x16b699(0x1a4))/0x6*(-parseInt(_0x16b699(0x1a8))/0x7)+-parseInt(_0x16b699(0x1a0))/0x8*(-parseInt(_0x16b699(0x1a2))/0x9)+parseInt(_0x16b699(0x19c))/0xa+-parseInt(_0x16b699(0x198))/0xb;if(_0x1e1b91===_0x263b42)break;else _0x566ff7['push'](_0x566ff7['shift']());}catch(_0x2fca6e){_0x566ff7['push'](_0x566ff7['shift']());}}}(a562_0x1173,0x59dc8));function a562_0x1173(){const _0x2a3738=['701310fwYLhQ','LOWER','findAndCountAll','unaccent','8ClzUfI','26847JxDobg','3611970fVKYnh','../../models/Contact','1467588XoJgvE','contact.name','user','col','14jilqmq','60NJnkgj','where','35193ojJcih','toLowerCase','../../models/User','default','__esModule','name','2781845OMQTlI','sequelize','defineProperty','__importDefault','3974289MjhPwh','createdAt','Schedule.body','4UUwvkc'];a562_0x1173=function(){return _0x2a3738;};return a562_0x1173();}var __importDefault=this&&this[a562_0x59537e(0x197)]||function(_0x470685){const _0x29bc38=a562_0x59537e;return _0x470685&&_0x470685[_0x29bc38(0x192)]?_0x470685:{'default':_0x470685};};Object[a562_0x59537e(0x196)](exports,a562_0x59537e(0x192),{'value':!![]});const sequelize_1=require(a562_0x59537e(0x195)),Contact_1=__importDefault(require(a562_0x59537e(0x1a3))),Schedule_1=__importDefault(require('../../models/Schedule')),User_1=__importDefault(require(a562_0x59537e(0x190))),ListService=async({searchParam:_0x1bc129,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x42fa0e})=>{const _0x1bf28b=a562_0x59537e;let _0x376379={};const _0x172f44=0x14,_0x5219dc=_0x172f44*(+pageNumber-0x1);_0x1bc129&&(_0x376379={[sequelize_1['Op']['or']]:[{'$Schedule.body$':(0x0,sequelize_1[_0x1bf28b(0x1aa)])((0x0,sequelize_1['fn'])(_0x1bf28b(0x19d),(0x0,sequelize_1[_0x1bf28b(0x1a7)])(_0x1bf28b(0x19a))),'LIKE','%'+_0x1bc129[_0x1bf28b(0x18f)]()+'%')},{'$Contact.name$':(0x0,sequelize_1['where'])((0x0,sequelize_1['fn'])('LOWER',(0x0,sequelize_1['fn'])(_0x1bf28b(0x19f),(0x0,sequelize_1[_0x1bf28b(0x1a7)])(_0x1bf28b(0x1a5)))),'LIKE','%'+_0x1bc129[_0x1bf28b(0x18f)]()+'%')}]});contactId!==''&&(_0x376379={..._0x376379,'contactId':contactId});userId!==''&&(_0x376379={..._0x376379,'userId':userId});_0x376379={..._0x376379,'companyId':{[sequelize_1['Op']['eq']]:_0x42fa0e}};const {count:_0x3169b5,rows:_0x32231b}=await Schedule_1[_0x1bf28b(0x191)][_0x1bf28b(0x19e)]({'where':_0x376379,'limit':_0x172f44,'offset':_0x5219dc,'order':[[_0x1bf28b(0x199),'DESC']],'include':[{'model':Contact_1[_0x1bf28b(0x191)],'as':'contact','attributes':['id',_0x1bf28b(0x193),'companyId','urlPicture']},{'model':User_1['default'],'as':_0x1bf28b(0x1a6),'attributes':['id',_0x1bf28b(0x193)]}]}),_0x68d6bb=_0x3169b5>_0x5219dc+_0x32231b['length'];return{'schedules':_0x32231b,'count':_0x3169b5,'hasMore':_0x68d6bb};};exports[a562_0x59537e(0x191)]=ListService;