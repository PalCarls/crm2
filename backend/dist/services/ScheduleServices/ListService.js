'use strict';function a555_0x54d1(_0x3ab1bc,_0x301e18){const _0x27b6b2=a555_0x27b6();return a555_0x54d1=function(_0x54d1af,_0x50179f){_0x54d1af=_0x54d1af-0x187;let _0x475be7=_0x27b6b2[_0x54d1af];return _0x475be7;},a555_0x54d1(_0x3ab1bc,_0x301e18);}const a555_0x3f87c7=a555_0x54d1;(function(_0x1bb07d,_0x3677da){const _0x3fafb3=a555_0x54d1,_0x556f38=_0x1bb07d();while(!![]){try{const _0x500030=parseInt(_0x3fafb3(0x188))/0x1+parseInt(_0x3fafb3(0x191))/0x2+parseInt(_0x3fafb3(0x19e))/0x3+parseInt(_0x3fafb3(0x1a5))/0x4*(parseInt(_0x3fafb3(0x1a0))/0x5)+parseInt(_0x3fafb3(0x19b))/0x6+-parseInt(_0x3fafb3(0x18e))/0x7*(parseInt(_0x3fafb3(0x18c))/0x8)+-parseInt(_0x3fafb3(0x197))/0x9;if(_0x500030===_0x3677da)break;else _0x556f38['push'](_0x556f38['shift']());}catch(_0x78c619){_0x556f38['push'](_0x556f38['shift']());}}}(a555_0x27b6,0x3782f));function a555_0x27b6(){const _0x473509=['../../models/Schedule','587238XYhPFw','../../models/User','contact','659628OTpkLI','name','1613675lEiFNk','urlPicture','findAndCountAll','../../models/Contact','toLowerCase','4caZASh','companyId','118607WKvJXY','createdAt','__esModule','length','8KrVtWn','LOWER','1454474alOuHr','Schedule.body','DESC','614688ToVeQo','defineProperty','sequelize','default','LIKE','__importDefault','5681502CtAJmw','where','col'];a555_0x27b6=function(){return _0x473509;};return a555_0x27b6();}var __importDefault=this&&this[a555_0x3f87c7(0x196)]||function(_0x4fbc70){return _0x4fbc70&&_0x4fbc70['__esModule']?_0x4fbc70:{'default':_0x4fbc70};};Object[a555_0x3f87c7(0x192)](exports,a555_0x3f87c7(0x18a),{'value':!![]});const sequelize_1=require(a555_0x3f87c7(0x193)),Contact_1=__importDefault(require(a555_0x3f87c7(0x1a3))),Schedule_1=__importDefault(require(a555_0x3f87c7(0x19a))),User_1=__importDefault(require(a555_0x3f87c7(0x19c))),ListService=async({searchParam:_0x2f3fb5,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x2dc614})=>{const _0x5192f3=a555_0x3f87c7;let _0x4c8b81={};const _0x415bb9=0x14,_0xe378fd=_0x415bb9*(+pageNumber-0x1);_0x2f3fb5&&(_0x4c8b81={[sequelize_1['Op']['or']]:[{'$Schedule.body$':(0x0,sequelize_1[_0x5192f3(0x198)])((0x0,sequelize_1['fn'])(_0x5192f3(0x18d),(0x0,sequelize_1[_0x5192f3(0x199)])(_0x5192f3(0x18f))),'LIKE','%'+_0x2f3fb5[_0x5192f3(0x1a4)]()+'%')},{'$Contact.name$':(0x0,sequelize_1['where'])((0x0,sequelize_1['fn'])('LOWER',(0x0,sequelize_1['fn'])('unaccent',(0x0,sequelize_1[_0x5192f3(0x199)])('contact.name'))),_0x5192f3(0x195),'%'+_0x2f3fb5[_0x5192f3(0x1a4)]()+'%')}]});contactId!==''&&(_0x4c8b81={..._0x4c8b81,'contactId':contactId});userId!==''&&(_0x4c8b81={..._0x4c8b81,'userId':userId});_0x4c8b81={..._0x4c8b81,'companyId':{[sequelize_1['Op']['eq']]:_0x2dc614}};const {count:_0x211ba6,rows:_0x43baa6}=await Schedule_1[_0x5192f3(0x194)][_0x5192f3(0x1a2)]({'where':_0x4c8b81,'limit':_0x415bb9,'offset':_0xe378fd,'order':[[_0x5192f3(0x189),_0x5192f3(0x190)]],'include':[{'model':Contact_1[_0x5192f3(0x194)],'as':_0x5192f3(0x19d),'attributes':['id',_0x5192f3(0x19f),_0x5192f3(0x187),_0x5192f3(0x1a1)]},{'model':User_1[_0x5192f3(0x194)],'as':'user','attributes':['id','name']}]}),_0x219d92=_0x211ba6>_0xe378fd+_0x43baa6[_0x5192f3(0x18b)];return{'schedules':_0x43baa6,'count':_0x211ba6,'hasMore':_0x219d92};};exports[a555_0x3f87c7(0x194)]=ListService;