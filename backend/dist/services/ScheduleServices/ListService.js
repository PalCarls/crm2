'use strict';const a516_0x7f4150=a516_0x2bb7;(function(_0x42021f,_0x3d464c){const _0x43aa71=a516_0x2bb7,_0x99b39a=_0x42021f();while(!![]){try{const _0x2558ee=-parseInt(_0x43aa71(0xb8))/0x1+-parseInt(_0x43aa71(0xc0))/0x2*(-parseInt(_0x43aa71(0xb9))/0x3)+parseInt(_0x43aa71(0xb6))/0x4*(parseInt(_0x43aa71(0xc6))/0x5)+parseInt(_0x43aa71(0xc8))/0x6*(-parseInt(_0x43aa71(0xc4))/0x7)+-parseInt(_0x43aa71(0xc7))/0x8+-parseInt(_0x43aa71(0xb4))/0x9+-parseInt(_0x43aa71(0xb7))/0xa*(-parseInt(_0x43aa71(0xc1))/0xb);if(_0x2558ee===_0x3d464c)break;else _0x99b39a['push'](_0x99b39a['shift']());}catch(_0x1a7fd1){_0x99b39a['push'](_0x99b39a['shift']());}}}(a516_0x3a94,0xdc450));var __importDefault=this&&this['__importDefault']||function(_0x36e6e0){return _0x36e6e0&&_0x36e6e0['__esModule']?_0x36e6e0:{'default':_0x36e6e0};};function a516_0x2bb7(_0xfedfe6,_0x960fd4){const _0x3a94cf=a516_0x3a94();return a516_0x2bb7=function(_0x2bb772,_0x29f73f){_0x2bb772=_0x2bb772-0xb4;let _0x141b58=_0x3a94cf[_0x2bb772];return _0x141b58;},a516_0x2bb7(_0xfedfe6,_0x960fd4);}function a516_0x3a94(){const _0x1554b9=['contact.name','4jrPiNp','1107710TCtloQ','498475colXdn','14595TlVKNd','findAndCountAll','default','LIKE','name','user','defineProperty','46vsatLT','253MtRjby','../../models/User','../../models/Schedule','21pofUan','where','6088925xXSVWk','12093448guopOK','857178CtMeMK','contact','length','Schedule.body','LOWER','createdAt','toLowerCase','col','4827996DdjHNK'];a516_0x3a94=function(){return _0x1554b9;};return a516_0x3a94();}Object[a516_0x7f4150(0xbf)](exports,'__esModule',{'value':!![]});const sequelize_1=require('sequelize'),Contact_1=__importDefault(require('../../models/Contact')),Schedule_1=__importDefault(require(a516_0x7f4150(0xc3))),User_1=__importDefault(require(a516_0x7f4150(0xc2))),ListService=async({searchParam:_0x55b448,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x48da8c})=>{const _0x517cf8=a516_0x7f4150;let _0x1a45b0={};const _0x16042c=0x14,_0x44f2f1=_0x16042c*(+pageNumber-0x1);_0x55b448&&(_0x1a45b0={[sequelize_1['Op']['or']]:[{'$Schedule.body$':(0x0,sequelize_1[_0x517cf8(0xc5)])((0x0,sequelize_1['fn'])(_0x517cf8(0xcc),(0x0,sequelize_1[_0x517cf8(0xcf)])(_0x517cf8(0xcb))),'LIKE','%'+_0x55b448[_0x517cf8(0xce)]()+'%')},{'$Contact.name$':(0x0,sequelize_1['where'])((0x0,sequelize_1['fn'])(_0x517cf8(0xcc),(0x0,sequelize_1['fn'])('unaccent',(0x0,sequelize_1[_0x517cf8(0xcf)])(_0x517cf8(0xb5)))),_0x517cf8(0xbc),'%'+_0x55b448[_0x517cf8(0xce)]()+'%')}]});contactId!==''&&(_0x1a45b0={..._0x1a45b0,'contactId':contactId});userId!==''&&(_0x1a45b0={..._0x1a45b0,'userId':userId});_0x1a45b0={..._0x1a45b0,'companyId':{[sequelize_1['Op']['eq']]:_0x48da8c}};const {count:_0x22f123,rows:_0x16e3a5}=await Schedule_1[_0x517cf8(0xbb)][_0x517cf8(0xba)]({'where':_0x1a45b0,'limit':_0x16042c,'offset':_0x44f2f1,'order':[[_0x517cf8(0xcd),'DESC']],'include':[{'model':Contact_1['default'],'as':_0x517cf8(0xc9),'attributes':['id',_0x517cf8(0xbd)]},{'model':User_1[_0x517cf8(0xbb)],'as':_0x517cf8(0xbe),'attributes':['id',_0x517cf8(0xbd)]}]}),_0x19dc19=_0x22f123>_0x44f2f1+_0x16e3a5[_0x517cf8(0xca)];return{'schedules':_0x16e3a5,'count':_0x22f123,'hasMore':_0x19dc19};};exports[a516_0x7f4150(0xbb)]=ListService;