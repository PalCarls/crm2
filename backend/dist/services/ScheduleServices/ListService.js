'use strict';function a555_0x39e4(_0x19fc4f,_0x24d895){const _0x36cafc=a555_0x36ca();return a555_0x39e4=function(_0x39e439,_0xa68de0){_0x39e439=_0x39e439-0x12a;let _0x295a6e=_0x36cafc[_0x39e439];return _0x295a6e;},a555_0x39e4(_0x19fc4f,_0x24d895);}const a555_0x458935=a555_0x39e4;(function(_0x1a7094,_0x6bc078){const _0x1de1c8=a555_0x39e4,_0x57dc3d=_0x1a7094();while(!![]){try{const _0x2d85b3=-parseInt(_0x1de1c8(0x134))/0x1+parseInt(_0x1de1c8(0x13a))/0x2*(parseInt(_0x1de1c8(0x143))/0x3)+parseInt(_0x1de1c8(0x140))/0x4*(parseInt(_0x1de1c8(0x138))/0x5)+parseInt(_0x1de1c8(0x12e))/0x6*(parseInt(_0x1de1c8(0x13c))/0x7)+-parseInt(_0x1de1c8(0x132))/0x8*(-parseInt(_0x1de1c8(0x146))/0x9)+parseInt(_0x1de1c8(0x137))/0xa*(-parseInt(_0x1de1c8(0x12f))/0xb)+-parseInt(_0x1de1c8(0x148))/0xc*(parseInt(_0x1de1c8(0x149))/0xd);if(_0x2d85b3===_0x6bc078)break;else _0x57dc3d['push'](_0x57dc3d['shift']());}catch(_0x5bec53){_0x57dc3d['push'](_0x57dc3d['shift']());}}}(a555_0x36ca,0x9848a));var __importDefault=this&&this[a555_0x458935(0x139)]||function(_0x2428b0){return _0x2428b0&&_0x2428b0['__esModule']?_0x2428b0:{'default':_0x2428b0};};Object['defineProperty'](exports,a555_0x458935(0x130),{'value':!![]});function a555_0x36ca(){const _0x16dc9c=['../../models/Contact','492bcewUL','289601QcJMKK','DESC','findAndCountAll','length','../../models/User','2267292BCnsDA','11wibpJk','__esModule','toLowerCase','17768spOWiW','col','832476TkiTFd','../../models/Schedule','contact.name','8694890VcuFfJ','232355PiBRPk','__importDefault','1638446HTWGuS','unaccent','7KWjpag','createdAt','LOWER','sequelize','84CpDTXZ','urlPicture','name','3rcAoXp','companyId','default','4320uhfDtO'];a555_0x36ca=function(){return _0x16dc9c;};return a555_0x36ca();}const sequelize_1=require(a555_0x458935(0x13f)),Contact_1=__importDefault(require(a555_0x458935(0x147))),Schedule_1=__importDefault(require(a555_0x458935(0x135))),User_1=__importDefault(require(a555_0x458935(0x12d))),ListService=async({searchParam:_0x1dcef0,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x5d8016})=>{const _0x28e6ce=a555_0x458935;let _0x1732aa={};const _0x71e98e=0x14,_0x2adfc7=_0x71e98e*(+pageNumber-0x1);_0x1dcef0&&(_0x1732aa={[sequelize_1['Op']['or']]:[{'$Schedule.body$':(0x0,sequelize_1['where'])((0x0,sequelize_1['fn'])(_0x28e6ce(0x13e),(0x0,sequelize_1['col'])('Schedule.body')),'LIKE','%'+_0x1dcef0['toLowerCase']()+'%')},{'$Contact.name$':(0x0,sequelize_1['where'])((0x0,sequelize_1['fn'])(_0x28e6ce(0x13e),(0x0,sequelize_1['fn'])(_0x28e6ce(0x13b),(0x0,sequelize_1[_0x28e6ce(0x133)])(_0x28e6ce(0x136)))),'LIKE','%'+_0x1dcef0[_0x28e6ce(0x131)]()+'%')}]});contactId!==''&&(_0x1732aa={..._0x1732aa,'contactId':contactId});userId!==''&&(_0x1732aa={..._0x1732aa,'userId':userId});_0x1732aa={..._0x1732aa,'companyId':{[sequelize_1['Op']['eq']]:_0x5d8016}};const {count:_0x1949af,rows:_0x47528a}=await Schedule_1['default'][_0x28e6ce(0x12b)]({'where':_0x1732aa,'limit':_0x71e98e,'offset':_0x2adfc7,'order':[[_0x28e6ce(0x13d),_0x28e6ce(0x12a)]],'include':[{'model':Contact_1[_0x28e6ce(0x145)],'as':'contact','attributes':['id','name',_0x28e6ce(0x144),_0x28e6ce(0x141)]},{'model':User_1['default'],'as':'user','attributes':['id',_0x28e6ce(0x142)]}]}),_0x12bafe=_0x1949af>_0x2adfc7+_0x47528a[_0x28e6ce(0x12c)];return{'schedules':_0x47528a,'count':_0x1949af,'hasMore':_0x12bafe};};exports['default']=ListService;