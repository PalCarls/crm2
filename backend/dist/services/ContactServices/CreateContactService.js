'use strict';const a458_0x402cfc=a458_0x129c;(function(_0x71a68a,_0x43c98e){const _0x10d9db=a458_0x129c,_0x17e1e8=_0x71a68a();while(!![]){try{const _0x3de215=parseInt(_0x10d9db(0x135))/0x1*(parseInt(_0x10d9db(0x14d))/0x2)+-parseInt(_0x10d9db(0x14b))/0x3*(-parseInt(_0x10d9db(0x14c))/0x4)+-parseInt(_0x10d9db(0x145))/0x5+parseInt(_0x10d9db(0x146))/0x6+-parseInt(_0x10d9db(0x143))/0x7*(-parseInt(_0x10d9db(0x14e))/0x8)+-parseInt(_0x10d9db(0x149))/0x9+-parseInt(_0x10d9db(0x13e))/0xa*(parseInt(_0x10d9db(0x13f))/0xb);if(_0x3de215===_0x43c98e)break;else _0x17e1e8['push'](_0x17e1e8['shift']());}catch(_0x586c49){_0x17e1e8['push'](_0x17e1e8['shift']());}}}(a458_0x3189,0x9249c));var __importDefault=this&&this[a458_0x402cfc(0x148)]||function(_0x3f8ec2){const _0x38d54a=a458_0x402cfc;return _0x3f8ec2&&_0x3f8ec2[_0x38d54a(0x144)]?_0x3f8ec2:{'default':_0x3f8ec2};};function a458_0x129c(_0x434252,_0x756004){const _0x318934=a458_0x3189();return a458_0x129c=function(_0x129c9a,_0x203150){_0x129c9a=_0x129c9a-0x135;let _0x3cf87e=_0x318934[_0x129c9a];return _0x3cf87e;},a458_0x129c(_0x434252,_0x756004);}function a458_0x3189(){const _0x351dba=['4208994nwYcfX','push','3motENg','3582168FaUjrz','2320202vogIDF','128HAiOme','1KkXmWA','default','destroy','bulkCreate','findOne','ERR_DUPLICATED_CONTACT','../../models/ContactWallet','name','enabled','50INyaOi','1274702kSfUIM','forEach','../../models/CompaniesSettings','../../models/Contact','221648nXfnEU','__esModule','5450245izQBaA','1044324ASemNG','wallets','__importDefault'];a458_0x3189=function(){return _0x351dba;};return a458_0x3189();}Object['defineProperty'](exports,a458_0x402cfc(0x144),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),CompaniesSettings_1=__importDefault(require(a458_0x402cfc(0x141))),Contact_1=__importDefault(require(a458_0x402cfc(0x142))),ContactWallet_1=__importDefault(require(a458_0x402cfc(0x13b))),CreateContactService=async({name:_0x450b01,number:_0x4b0846,email:email='',acceptAudioMessage:_0x492e74,active:_0x3aa2dd,companyId:_0x3cf4ae,extraInfo:extraInfo=[],remoteJid:remoteJid='',wallets:_0x4fb9e0})=>{const _0x933e9c=a458_0x402cfc,_0x116f29=await Contact_1[_0x933e9c(0x136)]['findOne']({'where':{'number':_0x4b0846,'companyId':_0x3cf4ae}});if(_0x116f29)throw new AppError_1['default'](_0x933e9c(0x13a));const _0x230619=await CompaniesSettings_1[_0x933e9c(0x136)][_0x933e9c(0x139)]({'where':{'companyId':_0x3cf4ae}}),{acceptAudioMessageContact:_0x17d9b4}=_0x230619,_0x1e18de=await Contact_1[_0x933e9c(0x136)]['create']({'name':_0x450b01,'number':_0x4b0846,'email':email,'acceptAudioMessage':_0x17d9b4===_0x933e9c(0x13d)?!![]:![],'active':_0x3aa2dd,'extraInfo':extraInfo,'companyId':_0x3cf4ae,'remoteJid':remoteJid},{'include':['extraInfo',{'association':_0x933e9c(0x147),'attributes':['id',_0x933e9c(0x13c)]}]});if(_0x4fb9e0){await ContactWallet_1[_0x933e9c(0x136)][_0x933e9c(0x137)]({'where':{'companyId':_0x3cf4ae,'contactId':_0x1e18de['id']}});const _0x43a6ee=[];_0x4fb9e0[_0x933e9c(0x140)](_0x41a8b1=>{const _0x1ddb36=_0x933e9c;_0x43a6ee[_0x1ddb36(0x14a)]({'walletId':!_0x41a8b1['id']?_0x41a8b1:_0x41a8b1['id'],'contactId':_0x1e18de['id'],'companyId':_0x3cf4ae});}),await ContactWallet_1['default'][_0x933e9c(0x138)](_0x43a6ee);}return _0x1e18de;};exports['default']=CreateContactService;