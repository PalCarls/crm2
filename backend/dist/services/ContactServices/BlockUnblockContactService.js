'use strict';const a457_0x524b1f=a457_0x2309;function a457_0x2309(_0x5440c4,_0x5f1aa3){const _0x3dd743=a457_0x3dd7();return a457_0x2309=function(_0x230997,_0x14aa1b){_0x230997=_0x230997-0x16b;let _0x119c82=_0x3dd743[_0x230997];return _0x119c82;},a457_0x2309(_0x5440c4,_0x5f1aa3);}(function(_0x1a021d,_0x101313){const _0x56cbd7=a457_0x2309,_0x2a6a7f=_0x1a021d();while(!![]){try{const _0x3689d5=parseInt(_0x56cbd7(0x16c))/0x1+parseInt(_0x56cbd7(0x180))/0x2*(parseInt(_0x56cbd7(0x183))/0x3)+parseInt(_0x56cbd7(0x170))/0x4+parseInt(_0x56cbd7(0x185))/0x5+-parseInt(_0x56cbd7(0x175))/0x6*(-parseInt(_0x56cbd7(0x177))/0x7)+parseInt(_0x56cbd7(0x173))/0x8*(-parseInt(_0x56cbd7(0x182))/0x9)+-parseInt(_0x56cbd7(0x179))/0xa;if(_0x3689d5===_0x101313)break;else _0x2a6a7f['push'](_0x2a6a7f['shift']());}catch(_0x4c088c){_0x2a6a7f['push'](_0x2a6a7f['shift']());}}}(a457_0x3dd7,0x8a6db));var __importDefault=this&&this['__importDefault']||function(_0x4ac6e8){return _0x4ac6e8&&_0x4ac6e8['__esModule']?_0x4ac6e8:{'default':_0x4ac6e8};};Object[a457_0x524b1f(0x184)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a457_0x524b1f(0x187))),GetDefaultWhatsApp_1=__importDefault(require(a457_0x524b1f(0x17a))),wbot_1=require(a457_0x524b1f(0x17b)),Contact_1=__importDefault(require(a457_0x524b1f(0x16e)));function formatBRNumber(_0x570b5e){const _0xeb3bc4=a457_0x524b1f,_0x375dc3=new RegExp(/^(\d{2})(\d{2})\d{1}(\d{8})$/);if(_0x375dc3['test'](_0x570b5e)){const _0x33ecc1=_0x375dc3[_0xeb3bc4(0x172)](_0x570b5e);if(_0x33ecc1&&_0x33ecc1[0x1]==='55'&&Number[_0xeb3bc4(0x17c)](Number[_0xeb3bc4(0x17e)](_0x33ecc1[0x2]))){const _0x1e7f7b=Number[_0xeb3bc4(0x17e)](_0x33ecc1[0x2]);if(_0x1e7f7b<0x1f)return _0x33ecc1[0x0];else{if(_0x1e7f7b>=0x1f)return _0x33ecc1[0x1]+_0x33ecc1[0x2]+_0x33ecc1[0x3];}}}else return _0x570b5e;}function a457_0x3dd7(){const _0x4052af=['@g.us','1626HygMbJ','block','45KYaagZ','1746tCKfwI','defineProperty','4390920fGNKGg','updateBlockStatus','../../errors/AppError','unblock','getWbot','1105999QaNhXL','log','../../models/Contact','ERR_NO_CONTACT_FOUND','4242088YFjIPk','number','exec','724168mLjzph','default','1988682sOHuzP','Não\x20consegui\x20bloquear\x20o\x20contato','7kSEfYm','Não\x20consegui\x20desbloquear\x20o\x20contato','28297100JOjoTf','../../helpers/GetDefaultWhatsApp','../../libs/wbot','isInteger','update','parseInt'];a457_0x3dd7=function(){return _0x4052af;};return a457_0x3dd7();}function createJid(_0x45d284){const _0x10ecf4=a457_0x524b1f;if(_0x45d284['includes']('@g.us')||_0x45d284['includes']('@s.whatsapp.net'))return formatBRNumber(_0x45d284);return _0x45d284['includes']('-')?_0x45d284+_0x10ecf4(0x17f):formatBRNumber(_0x45d284)+'@s.whatsapp.net';}const BlockUnblockContactService=async({contactId:_0x19e6f5,companyId:_0x3c2559,active:_0x127575})=>{const _0x128b14=a457_0x524b1f,_0x3d7446=await Contact_1[_0x128b14(0x174)]['findByPk'](_0x19e6f5);if(!_0x3d7446)throw new AppError_1[(_0x128b14(0x174))](_0x128b14(0x16f),0x194);if(_0x127575)try{const _0x5ea167=await(0x0,GetDefaultWhatsApp_1[_0x128b14(0x174)])(Number(_0x3c2559)),_0x46f3ae=(0x0,wbot_1[_0x128b14(0x16b)])(_0x5ea167['id']),_0x4ef7ae=createJid(_0x3d7446[_0x128b14(0x171)]);await _0x46f3ae[_0x128b14(0x186)](_0x4ef7ae,_0x128b14(0x188)),await _0x3d7446['update']({'active':!![]});}catch(_0x2c1577){console[_0x128b14(0x16d)](_0x128b14(0x178));}if(!_0x127575)try{const _0x40d59b=await(0x0,GetDefaultWhatsApp_1['default'])(Number(_0x3c2559)),_0x3668e3=(0x0,wbot_1[_0x128b14(0x16b)])(_0x40d59b['id']),_0x170380=createJid(_0x3d7446[_0x128b14(0x171)]);await _0x3668e3['updateBlockStatus'](_0x170380,_0x128b14(0x181)),await _0x3d7446[_0x128b14(0x17d)]({'active':![]});}catch(_0xec8cf2){console[_0x128b14(0x16d)](_0x128b14(0x176));}return _0x3d7446;};exports[a457_0x524b1f(0x174)]=BlockUnblockContactService;