'use strict';const a412_0x5204f4=a412_0x427d;function a412_0x1ddd(){const _0x2c8d5e=['1JeHgZM','1956980CBuIsp','exec','17807868WRBvGy','log','__importDefault','test','default','7566658hGJzRu','46278uEJYOC','jid','../../libs/wbot','@s.whatsapp.net','unblock','findByPk','@g.us','__esModule','../../helpers/GetDefaultWhatsApp','7CXMcvd','active','../../models/Contact','802712xOAHyq','companyId','parseInt','Não\x20consegui\x20bloquear\x20o\x20contato','includes','contact.number','7022295YTDASA','350nsKlmG','block','number','update','6walMLE','3665640wcHjCp','updateBlockStatus','10MmeKzj','whatsappCompany.id','ERR_NO_CONTACT_FOUND'];a412_0x1ddd=function(){return _0x2c8d5e;};return a412_0x1ddd();}(function(_0x3af8ee,_0x31c8a1){const _0x1569d6=a412_0x427d,_0xa42117=_0x3af8ee();while(!![]){try{const _0x512efb=parseInt(_0x1569d6(0x98))/0x1*(-parseInt(_0x1569d6(0x99))/0x2)+parseInt(_0x1569d6(0x92))/0x3*(parseInt(_0x1569d6(0x87))/0x4)+-parseInt(_0x1569d6(0x8e))/0x5*(parseInt(_0x1569d6(0x7b))/0x6)+parseInt(_0x1569d6(0x84))/0x7*(parseInt(_0x1569d6(0x93))/0x8)+-parseInt(_0x1569d6(0x8d))/0x9+-parseInt(_0x1569d6(0x95))/0xa*(-parseInt(_0x1569d6(0x7a))/0xb)+parseInt(_0x1569d6(0x9b))/0xc;if(_0x512efb===_0x31c8a1)break;else _0xa42117['push'](_0xa42117['shift']());}catch(_0x52396a){_0xa42117['push'](_0xa42117['shift']());}}}(a412_0x1ddd,0xb2e65));var __importDefault=this&&this[a412_0x5204f4(0x9d)]||function(_0x4ed8e3){const _0x3c82ae=a412_0x5204f4;return _0x4ed8e3&&_0x4ed8e3[_0x3c82ae(0x82)]?_0x4ed8e3:{'default':_0x4ed8e3};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a412_0x427d(_0x3c9315,_0x6bfaa0){const _0x1dddf5=a412_0x1ddd();return a412_0x427d=function(_0x427da8,_0x33a890){_0x427da8=_0x427da8-0x78;let _0x3be708=_0x1dddf5[_0x427da8];return _0x3be708;},a412_0x427d(_0x3c9315,_0x6bfaa0);}const AppError_1=__importDefault(require('../../errors/AppError')),GetDefaultWhatsApp_1=__importDefault(require(a412_0x5204f4(0x83))),wbot_1=require(a412_0x5204f4(0x7d)),Contact_1=__importDefault(require(a412_0x5204f4(0x86)));function formatBRNumber(_0x2fb469){const _0x134ee0=a412_0x5204f4,_0x11fae6=new RegExp(/^(\d{2})(\d{2})\d{1}(\d{8})$/);if(_0x11fae6[_0x134ee0(0x78)](_0x2fb469)){const _0x5816fb=_0x11fae6[_0x134ee0(0x9a)](_0x2fb469);if(_0x5816fb&&_0x5816fb[0x1]==='55'&&Number['isInteger'](Number[_0x134ee0(0x89)](_0x5816fb[0x2]))){const _0x5954c8=Number[_0x134ee0(0x89)](_0x5816fb[0x2]);if(_0x5954c8<0x1f)return _0x5816fb[0x0];else{if(_0x5954c8>=0x1f)return _0x5816fb[0x1]+_0x5816fb[0x2]+_0x5816fb[0x3];}}}else return _0x2fb469;}function createJid(_0x4083ba){const _0x4332f1=a412_0x5204f4;if(_0x4083ba[_0x4332f1(0x8b)](_0x4332f1(0x81))||_0x4083ba[_0x4332f1(0x8b)](_0x4332f1(0x7e)))return formatBRNumber(_0x4083ba);return _0x4083ba[_0x4332f1(0x8b)]('-')?_0x4083ba+_0x4332f1(0x81):formatBRNumber(_0x4083ba)+_0x4332f1(0x7e);}const BlockUnblockContactService=async({contactId:_0x3e8b44,companyId:_0x50a232,active:_0x4b0eac})=>{const _0x5a94e5=a412_0x5204f4,_0x36acd8=await Contact_1[_0x5a94e5(0x79)][_0x5a94e5(0x80)](_0x3e8b44);if(!_0x36acd8)throw new AppError_1['default'](_0x5a94e5(0x97),0x194);console[_0x5a94e5(0x9c)](_0x5a94e5(0x85),_0x4b0eac),console[_0x5a94e5(0x9c)](_0x5a94e5(0x88),_0x50a232),console[_0x5a94e5(0x9c)](_0x5a94e5(0x8c),_0x36acd8[_0x5a94e5(0x90)]);if(_0x4b0eac)try{const _0x1ed8bd=await(0x0,GetDefaultWhatsApp_1[_0x5a94e5(0x79)])(Number(_0x50a232));console[_0x5a94e5(0x9c)](_0x5a94e5(0x96),_0x1ed8bd['id']);const _0x3da3a6=(0x0,wbot_1['getWbot'])(_0x1ed8bd['id']),_0x733182=createJid(_0x36acd8[_0x5a94e5(0x90)]);console['log'](_0x5a94e5(0x7c),_0x733182);const _0x2e08f3=await _0x3da3a6[_0x5a94e5(0x94)](_0x733182,_0x5a94e5(0x7f));console[_0x5a94e5(0x9c)](_0x2e08f3),await _0x36acd8['update']({'active':!![]});}catch(_0x59fa69){console[_0x5a94e5(0x9c)]('Não\x20consegui\x20desbloquear\x20o\x20contato');}if(!_0x4b0eac)try{const _0x43ce88=await(0x0,GetDefaultWhatsApp_1[_0x5a94e5(0x79)])(Number(_0x50a232));console[_0x5a94e5(0x9c)](_0x5a94e5(0x96),_0x43ce88['id']);const _0x57dad2=(0x0,wbot_1['getWbot'])(_0x43ce88['id']),_0x423022=createJid(_0x36acd8[_0x5a94e5(0x90)]);console[_0x5a94e5(0x9c)](_0x5a94e5(0x7c),_0x423022);const _0x532ced=await _0x57dad2[_0x5a94e5(0x94)](_0x423022,_0x5a94e5(0x8f));console[_0x5a94e5(0x9c)](_0x5a94e5(0x8f),_0x532ced),await _0x36acd8[_0x5a94e5(0x91)]({'active':![]});}catch(_0x1165f5){console[_0x5a94e5(0x9c)](_0x5a94e5(0x8a));}return _0x36acd8;};exports['default']=BlockUnblockContactService;