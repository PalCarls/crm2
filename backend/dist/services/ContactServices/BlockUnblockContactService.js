'use strict';function a464_0x5eb8(){const _0x303ace=['default','24ocztTK','getWbot','@g.us','883320giZJSK','342PaaiAb','number','updateBlockStatus','includes','update','Não\x20consegui\x20desbloquear\x20o\x20contato','943788iLyxCS','parseInt','../../helpers/GetDefaultWhatsApp','2935008ItCCDX','log','../../models/Contact','block','../../errors/AppError','__esModule','__importDefault','1115430qolWVw','226107RBHMqP','findByPk','5mVfjJQ','../../libs/wbot','3083878lwfabM','2302KDqkPs','isInteger'];a464_0x5eb8=function(){return _0x303ace;};return a464_0x5eb8();}const a464_0x518cd6=a464_0x4657;(function(_0x29def7,_0x2b37c0){const _0x51c6bd=a464_0x4657,_0x217add=_0x29def7();while(!![]){try{const _0x35e9c7=-parseInt(_0x51c6bd(0x125))/0x1*(parseInt(_0x51c6bd(0x12c))/0x2)+parseInt(_0x51c6bd(0x12b))/0x3+parseInt(_0x51c6bd(0x132))/0x4*(parseInt(_0x51c6bd(0x122))/0x5)+-parseInt(_0x51c6bd(0x135))/0x6+parseInt(_0x51c6bd(0x124))/0x7+parseInt(_0x51c6bd(0x128))/0x8*(parseInt(_0x51c6bd(0x120))/0x9)+parseInt(_0x51c6bd(0x11f))/0xa;if(_0x35e9c7===_0x2b37c0)break;else _0x217add['push'](_0x217add['shift']());}catch(_0x405d74){_0x217add['push'](_0x217add['shift']());}}}(a464_0x5eb8,0x43263));function a464_0x4657(_0x5569be,_0x4e9cda){const _0x5eb829=a464_0x5eb8();return a464_0x4657=function(_0x4657b1,_0x99ec71){_0x4657b1=_0x4657b1-0x11f;let _0x522bb3=_0x5eb829[_0x4657b1];return _0x522bb3;},a464_0x4657(_0x5569be,_0x4e9cda);}var __importDefault=this&&this[a464_0x518cd6(0x13b)]||function(_0x1fb664){const _0x16bf05=a464_0x518cd6;return _0x1fb664&&_0x1fb664[_0x16bf05(0x13a)]?_0x1fb664:{'default':_0x1fb664};};Object['defineProperty'](exports,a464_0x518cd6(0x13a),{'value':!![]});const AppError_1=__importDefault(require(a464_0x518cd6(0x139))),GetDefaultWhatsApp_1=__importDefault(require(a464_0x518cd6(0x134))),wbot_1=require(a464_0x518cd6(0x123)),Contact_1=__importDefault(require(a464_0x518cd6(0x137)));function formatBRNumber(_0x2987be){const _0x14ee58=a464_0x518cd6,_0x7dfe2f=new RegExp(/^(\d{2})(\d{2})\d{1}(\d{8})$/);if(_0x7dfe2f['test'](_0x2987be)){const _0x5734c7=_0x7dfe2f['exec'](_0x2987be);if(_0x5734c7&&_0x5734c7[0x1]==='55'&&Number[_0x14ee58(0x126)](Number[_0x14ee58(0x133)](_0x5734c7[0x2]))){const _0x41ab9d=Number[_0x14ee58(0x133)](_0x5734c7[0x2]);if(_0x41ab9d<0x1f)return _0x5734c7[0x0];else{if(_0x41ab9d>=0x1f)return _0x5734c7[0x1]+_0x5734c7[0x2]+_0x5734c7[0x3];}}}else return _0x2987be;}function createJid(_0x1f3545){const _0x587fba=a464_0x518cd6;if(_0x1f3545['includes'](_0x587fba(0x12a))||_0x1f3545[_0x587fba(0x12f)]('@s.whatsapp.net'))return formatBRNumber(_0x1f3545);return _0x1f3545[_0x587fba(0x12f)]('-')?_0x1f3545+_0x587fba(0x12a):formatBRNumber(_0x1f3545)+'@s.whatsapp.net';}const BlockUnblockContactService=async({contactId:_0x46d1a8,companyId:_0x4699a6,active:_0x24b256})=>{const _0xcf0417=a464_0x518cd6,_0x63d1f5=await Contact_1['default'][_0xcf0417(0x121)](_0x46d1a8);if(!_0x63d1f5)throw new AppError_1['default']('ERR_NO_CONTACT_FOUND',0x194);if(_0x24b256)try{const _0x40cfb=await(0x0,GetDefaultWhatsApp_1[_0xcf0417(0x127)])(Number(_0x4699a6)),_0xfde603=(0x0,wbot_1[_0xcf0417(0x129)])(_0x40cfb['id']),_0x126046=createJid(_0x63d1f5[_0xcf0417(0x12d)]);await _0xfde603[_0xcf0417(0x12e)](_0x126046,'unblock'),await _0x63d1f5[_0xcf0417(0x130)]({'active':!![]});}catch(_0x30d692){console[_0xcf0417(0x136)](_0xcf0417(0x131));}if(!_0x24b256)try{const _0x4cf85f=await(0x0,GetDefaultWhatsApp_1['default'])(Number(_0x4699a6)),_0x379927=(0x0,wbot_1[_0xcf0417(0x129)])(_0x4cf85f['id']),_0x32ce17=createJid(_0x63d1f5[_0xcf0417(0x12d)]);await _0x379927['updateBlockStatus'](_0x32ce17,_0xcf0417(0x138)),await _0x63d1f5[_0xcf0417(0x130)]({'active':![]});}catch(_0x2c2eb2){console['log']('Não\x20consegui\x20bloquear\x20o\x20contato');}return _0x63d1f5;};exports[a464_0x518cd6(0x127)]=BlockUnblockContactService;