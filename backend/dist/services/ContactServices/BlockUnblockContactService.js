'use strict';const a457_0x54a21a=a457_0x1ebe;(function(_0x759fc1,_0x266456){const _0x297189=a457_0x1ebe,_0x5711af=_0x759fc1();while(!![]){try{const _0x52cfd4=parseInt(_0x297189(0x1e4))/0x1+parseInt(_0x297189(0x1ed))/0x2+parseInt(_0x297189(0x1fe))/0x3+-parseInt(_0x297189(0x1fd))/0x4*(-parseInt(_0x297189(0x1e6))/0x5)+parseInt(_0x297189(0x1e3))/0x6*(-parseInt(_0x297189(0x1fc))/0x7)+-parseInt(_0x297189(0x1e9))/0x8+-parseInt(_0x297189(0x1fb))/0x9;if(_0x52cfd4===_0x266456)break;else _0x5711af['push'](_0x5711af['shift']());}catch(_0x386345){_0x5711af['push'](_0x5711af['shift']());}}}(a457_0x207f,0xb7415));function a457_0x207f(){const _0x55163f=['companyId','ERR_NO_CONTACT_FOUND','unblock','exec','number','default','@s.whatsapp.net','__esModule','findByPk','@g.us','block','Não\x20consegui\x20bloquear\x20o\x20contato','11531565yqjCFW','19222FdQAGO','1164OsFfXX','2816718OKwiCc','log','../../libs/wbot','Não\x20consegui\x20desbloquear\x20o\x20contato','test','852nusqmp','156708bePayP','getWbot','15865gDIlbx','contact.number','__importDefault','6010776dwYpoe','updateBlockStatus','update','includes','2308440bxDlZs','defineProperty'];a457_0x207f=function(){return _0x55163f;};return a457_0x207f();}function a457_0x1ebe(_0x4fcb21,_0x19d3f8){const _0x207f30=a457_0x207f();return a457_0x1ebe=function(_0x1ebe5a,_0x275418){_0x1ebe5a=_0x1ebe5a-0x1e2;let _0x290786=_0x207f30[_0x1ebe5a];return _0x290786;},a457_0x1ebe(_0x4fcb21,_0x19d3f8);}var __importDefault=this&&this[a457_0x54a21a(0x1e8)]||function(_0x5c3610){const _0x5b8013=a457_0x54a21a;return _0x5c3610&&_0x5c3610[_0x5b8013(0x1f6)]?_0x5c3610:{'default':_0x5c3610};};Object[a457_0x54a21a(0x1ee)](exports,a457_0x54a21a(0x1f6),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),GetDefaultWhatsApp_1=__importDefault(require('../../helpers/GetDefaultWhatsApp')),wbot_1=require(a457_0x54a21a(0x200)),Contact_1=__importDefault(require('../../models/Contact'));function formatBRNumber(_0x593e1e){const _0x43cfe0=a457_0x54a21a,_0xeb612d=new RegExp(/^(\d{2})(\d{2})\d{1}(\d{8})$/);if(_0xeb612d[_0x43cfe0(0x1e2)](_0x593e1e)){const _0x5917a0=_0xeb612d[_0x43cfe0(0x1f2)](_0x593e1e);if(_0x5917a0&&_0x5917a0[0x1]==='55'&&Number['isInteger'](Number['parseInt'](_0x5917a0[0x2]))){const _0x59f6e8=Number['parseInt'](_0x5917a0[0x2]);if(_0x59f6e8<0x1f)return _0x5917a0[0x0];else{if(_0x59f6e8>=0x1f)return _0x5917a0[0x1]+_0x5917a0[0x2]+_0x5917a0[0x3];}}}else return _0x593e1e;}function createJid(_0x84aa34){const _0x866994=a457_0x54a21a;if(_0x84aa34[_0x866994(0x1ec)](_0x866994(0x1f8))||_0x84aa34[_0x866994(0x1ec)]('@s.whatsapp.net'))return formatBRNumber(_0x84aa34);return _0x84aa34['includes']('-')?_0x84aa34+'@g.us':formatBRNumber(_0x84aa34)+_0x866994(0x1f5);}const BlockUnblockContactService=async({contactId:_0x2536bd,companyId:_0xa1a11,active:_0x7e7e0})=>{const _0x2ad844=a457_0x54a21a,_0x1b8889=await Contact_1[_0x2ad844(0x1f4)][_0x2ad844(0x1f7)](_0x2536bd);if(!_0x1b8889)throw new AppError_1['default'](_0x2ad844(0x1f0),0x194);console[_0x2ad844(0x1ff)]('active',_0x7e7e0),console[_0x2ad844(0x1ff)](_0x2ad844(0x1ef),_0xa1a11),console[_0x2ad844(0x1ff)](_0x2ad844(0x1e7),_0x1b8889['number']);if(_0x7e7e0)try{const _0x1b7bb4=await(0x0,GetDefaultWhatsApp_1[_0x2ad844(0x1f4)])(Number(_0xa1a11)),_0x5a4e7d=(0x0,wbot_1[_0x2ad844(0x1e5)])(_0x1b7bb4['id']),_0x4640dd=createJid(_0x1b8889[_0x2ad844(0x1f3)]);await _0x5a4e7d[_0x2ad844(0x1ea)](_0x4640dd,_0x2ad844(0x1f1)),await _0x1b8889['update']({'active':!![]});}catch(_0x4268c2){console[_0x2ad844(0x1ff)](_0x2ad844(0x201));}if(!_0x7e7e0)try{const _0x5ca45e=await(0x0,GetDefaultWhatsApp_1[_0x2ad844(0x1f4)])(Number(_0xa1a11)),_0x173c9d=(0x0,wbot_1[_0x2ad844(0x1e5)])(_0x5ca45e['id']),_0x14b9b6=createJid(_0x1b8889['number']);await _0x173c9d[_0x2ad844(0x1ea)](_0x14b9b6,_0x2ad844(0x1f9)),await _0x1b8889[_0x2ad844(0x1eb)]({'active':![]});}catch(_0x319c1b){console[_0x2ad844(0x1ff)](_0x2ad844(0x1fa));}return _0x1b8889;};exports[a457_0x54a21a(0x1f4)]=BlockUnblockContactService;