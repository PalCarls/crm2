'use strict';const a426_0x4cb882=a426_0x22e1;(function(_0x264d8f,_0x246b2f){const _0x985dab=a426_0x22e1,_0x8ac987=_0x264d8f();while(!![]){try{const _0x372762=parseInt(_0x985dab(0x71))/0x1*(-parseInt(_0x985dab(0x89))/0x2)+parseInt(_0x985dab(0x83))/0x3+-parseInt(_0x985dab(0x70))/0x4+parseInt(_0x985dab(0x85))/0x5+-parseInt(_0x985dab(0x7f))/0x6*(parseInt(_0x985dab(0x7e))/0x7)+parseInt(_0x985dab(0x8e))/0x8+parseInt(_0x985dab(0x72))/0x9;if(_0x372762===_0x246b2f)break;else _0x8ac987['push'](_0x8ac987['shift']());}catch(_0x3241af){_0x8ac987['push'](_0x8ac987['shift']());}}}(a426_0x1999,0x3de9d));function a426_0x1999(){const _0x26f741=['parseInt','whatsappCompany.id','166187VuLAiz','30asCUVe','jid','isInteger','findByPk','718617siHMGI','active','1824960Rbjmbh','../../models/Contact','update','__importDefault','13874yrAAue','defineProperty','updateBlockStatus','block','../../libs/wbot','1233952ejyDwS','__esModule','contact.number','getWbot','includes','log','224256crhSyC','58WNBOCr','647433pvnYMf','@g.us','@s.whatsapp.net','unblock','default','number','../../errors/AppError','exec','companyId','../../helpers/GetDefaultWhatsApp'];a426_0x1999=function(){return _0x26f741;};return a426_0x1999();}var __importDefault=this&&this[a426_0x4cb882(0x88)]||function(_0x2e4bb1){const _0x14ee83=a426_0x4cb882;return _0x2e4bb1&&_0x2e4bb1[_0x14ee83(0x6b)]?_0x2e4bb1:{'default':_0x2e4bb1};};Object[a426_0x4cb882(0x8a)](exports,a426_0x4cb882(0x6b),{'value':!![]});const AppError_1=__importDefault(require(a426_0x4cb882(0x78))),GetDefaultWhatsApp_1=__importDefault(require(a426_0x4cb882(0x7b))),wbot_1=require(a426_0x4cb882(0x8d)),Contact_1=__importDefault(require(a426_0x4cb882(0x86)));function formatBRNumber(_0x466cc4){const _0x4c057d=a426_0x4cb882,_0x111fcf=new RegExp(/^(\d{2})(\d{2})\d{1}(\d{8})$/);if(_0x111fcf['test'](_0x466cc4)){const _0x260c4c=_0x111fcf[_0x4c057d(0x79)](_0x466cc4);if(_0x260c4c&&_0x260c4c[0x1]==='55'&&Number[_0x4c057d(0x81)](Number[_0x4c057d(0x7c)](_0x260c4c[0x2]))){const _0xbaaba3=Number[_0x4c057d(0x7c)](_0x260c4c[0x2]);if(_0xbaaba3<0x1f)return _0x260c4c[0x0];else{if(_0xbaaba3>=0x1f)return _0x260c4c[0x1]+_0x260c4c[0x2]+_0x260c4c[0x3];}}}else return _0x466cc4;}function createJid(_0x72aef7){const _0x1acef7=a426_0x4cb882;if(_0x72aef7[_0x1acef7(0x6e)]('@g.us')||_0x72aef7[_0x1acef7(0x6e)](_0x1acef7(0x74)))return formatBRNumber(_0x72aef7);return _0x72aef7[_0x1acef7(0x6e)]('-')?_0x72aef7+_0x1acef7(0x73):formatBRNumber(_0x72aef7)+_0x1acef7(0x74);}const BlockUnblockContactService=async({contactId:_0x3f9923,companyId:_0x3ad851,active:_0xfca536})=>{const _0x2c216d=a426_0x4cb882,_0x5a3db9=await Contact_1['default'][_0x2c216d(0x82)](_0x3f9923);if(!_0x5a3db9)throw new AppError_1[(_0x2c216d(0x76))]('ERR_NO_CONTACT_FOUND',0x194);console['log'](_0x2c216d(0x84),_0xfca536),console[_0x2c216d(0x6f)](_0x2c216d(0x7a),_0x3ad851),console[_0x2c216d(0x6f)](_0x2c216d(0x6c),_0x5a3db9[_0x2c216d(0x77)]);if(_0xfca536)try{const _0x662b47=await(0x0,GetDefaultWhatsApp_1['default'])(Number(_0x3ad851));console[_0x2c216d(0x6f)]('whatsappCompany.id',_0x662b47['id']);const _0x442880=(0x0,wbot_1['getWbot'])(_0x662b47['id']),_0x3d93b9=createJid(_0x5a3db9[_0x2c216d(0x77)]);console[_0x2c216d(0x6f)](_0x2c216d(0x80),_0x3d93b9);const _0x2c8a05=await _0x442880[_0x2c216d(0x8b)](_0x3d93b9,_0x2c216d(0x75));console[_0x2c216d(0x6f)](_0x2c8a05),await _0x5a3db9[_0x2c216d(0x87)]({'active':!![]});}catch(_0x404c95){console[_0x2c216d(0x6f)]('Não\x20consegui\x20desbloquear\x20o\x20contato');}if(!_0xfca536)try{const _0x1ee802=await(0x0,GetDefaultWhatsApp_1[_0x2c216d(0x76)])(Number(_0x3ad851));console[_0x2c216d(0x6f)](_0x2c216d(0x7d),_0x1ee802['id']);const _0x3aee76=(0x0,wbot_1[_0x2c216d(0x6d)])(_0x1ee802['id']),_0x1116df=createJid(_0x5a3db9['number']);console[_0x2c216d(0x6f)](_0x2c216d(0x80),_0x1116df);const _0x57358d=await _0x3aee76[_0x2c216d(0x8b)](_0x1116df,_0x2c216d(0x8c));console[_0x2c216d(0x6f)](_0x2c216d(0x8c),_0x57358d),await _0x5a3db9[_0x2c216d(0x87)]({'active':![]});}catch(_0x3645fb){console[_0x2c216d(0x6f)]('Não\x20consegui\x20bloquear\x20o\x20contato');}return _0x5a3db9;};function a426_0x22e1(_0x26236c,_0x1b5fe7){const _0x199978=a426_0x1999();return a426_0x22e1=function(_0x22e159,_0x529fa4){_0x22e159=_0x22e159-0x6b;let _0x211935=_0x199978[_0x22e159];return _0x211935;},a426_0x22e1(_0x26236c,_0x1b5fe7);}exports[a426_0x4cb882(0x76)]=BlockUnblockContactService;