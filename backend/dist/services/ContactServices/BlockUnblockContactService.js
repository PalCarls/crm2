'use strict';const a448_0x2c1fdb=a448_0x5eaa;(function(_0x37a027,_0x3f6459){const _0x179dac=a448_0x5eaa,_0x50197d=_0x37a027();while(!![]){try{const _0x58ca3c=parseInt(_0x179dac(0xd2))/0x1+-parseInt(_0x179dac(0xda))/0x2*(parseInt(_0x179dac(0xe2))/0x3)+-parseInt(_0x179dac(0xd4))/0x4+-parseInt(_0x179dac(0xca))/0x5*(-parseInt(_0x179dac(0xe1))/0x6)+-parseInt(_0x179dac(0xc9))/0x7*(parseInt(_0x179dac(0xcc))/0x8)+parseInt(_0x179dac(0xe4))/0x9+parseInt(_0x179dac(0xcf))/0xa;if(_0x58ca3c===_0x3f6459)break;else _0x50197d['push'](_0x50197d['shift']());}catch(_0x47738c){_0x50197d['push'](_0x50197d['shift']());}}}(a448_0x40b1,0xd26bf));function a448_0x5eaa(_0x261321,_0x4b202c){const _0x40b1e7=a448_0x40b1();return a448_0x5eaa=function(_0x5eaa62,_0x2f5656){_0x5eaa62=_0x5eaa62-0xc6;let _0x489798=_0x40b1e7[_0x5eaa62];return _0x489798;},a448_0x5eaa(_0x261321,_0x4b202c);}var __importDefault=this&&this[a448_0x2c1fdb(0xe0)]||function(_0x404878){const _0x3810f5=a448_0x2c1fdb;return _0x404878&&_0x404878[_0x3810f5(0xe3)]?_0x404878:{'default':_0x404878};};Object[a448_0x2c1fdb(0xd7)](exports,a448_0x2c1fdb(0xe3),{'value':!![]});const AppError_1=__importDefault(require(a448_0x2c1fdb(0xd5))),GetDefaultWhatsApp_1=__importDefault(require(a448_0x2c1fdb(0xe6))),wbot_1=require('../../libs/wbot'),Contact_1=__importDefault(require(a448_0x2c1fdb(0xe7)));function formatBRNumber(_0x15f28d){const _0x313815=a448_0x2c1fdb,_0x46bff8=new RegExp(/^(\d{2})(\d{2})\d{1}(\d{8})$/);if(_0x46bff8['test'](_0x15f28d)){const _0x229ca4=_0x46bff8[_0x313815(0xd8)](_0x15f28d);if(_0x229ca4&&_0x229ca4[0x1]==='55'&&Number[_0x313815(0xce)](Number['parseInt'](_0x229ca4[0x2]))){const _0x1e642a=Number[_0x313815(0xc8)](_0x229ca4[0x2]);if(_0x1e642a<0x1f)return _0x229ca4[0x0];else{if(_0x1e642a>=0x1f)return _0x229ca4[0x1]+_0x229ca4[0x2]+_0x229ca4[0x3];}}}else return _0x15f28d;}function createJid(_0x11e92f){const _0x54e1d5=a448_0x2c1fdb;if(_0x11e92f['includes']('@g.us')||_0x11e92f[_0x54e1d5(0xd0)](_0x54e1d5(0xde)))return formatBRNumber(_0x11e92f);return _0x11e92f[_0x54e1d5(0xd0)]('-')?_0x11e92f+'@g.us':formatBRNumber(_0x11e92f)+_0x54e1d5(0xde);}const BlockUnblockContactService=async({contactId:_0x54b314,companyId:_0x3278f2,active:_0x2be4a6})=>{const _0x365df7=a448_0x2c1fdb,_0x1837d2=await Contact_1[_0x365df7(0xdb)][_0x365df7(0xdf)](_0x54b314);if(!_0x1837d2)throw new AppError_1['default']('ERR_NO_CONTACT_FOUND',0x194);console[_0x365df7(0xd3)](_0x365df7(0xd1),_0x2be4a6),console['log'](_0x365df7(0xd9),_0x3278f2),console['log'](_0x365df7(0xdc),_0x1837d2[_0x365df7(0xdd)]);if(_0x2be4a6)try{const _0x5c33ca=await(0x0,GetDefaultWhatsApp_1[_0x365df7(0xdb)])(Number(_0x3278f2)),_0x26bf72=(0x0,wbot_1[_0x365df7(0xcb)])(_0x5c33ca['id']),_0x222ec3=createJid(_0x1837d2[_0x365df7(0xdd)]);await _0x26bf72[_0x365df7(0xc7)](_0x222ec3,_0x365df7(0xcd)),await _0x1837d2['update']({'active':!![]});}catch(_0x564db4){console[_0x365df7(0xd3)](_0x365df7(0xe5));}if(!_0x2be4a6)try{const _0x1b7408=await(0x0,GetDefaultWhatsApp_1[_0x365df7(0xdb)])(Number(_0x3278f2)),_0x17b127=(0x0,wbot_1[_0x365df7(0xcb)])(_0x1b7408['id']),_0x4a90d8=createJid(_0x1837d2[_0x365df7(0xdd)]);await _0x17b127['updateBlockStatus'](_0x4a90d8,_0x365df7(0xd6)),await _0x1837d2['update']({'active':![]});}catch(_0x244e00){console[_0x365df7(0xd3)](_0x365df7(0xc6));}return _0x1837d2;};function a448_0x40b1(){const _0x286b32=['6508359YOHHBC','Não\x20consegui\x20desbloquear\x20o\x20contato','../../helpers/GetDefaultWhatsApp','../../models/Contact','Não\x20consegui\x20bloquear\x20o\x20contato','updateBlockStatus','parseInt','2051KmKSVe','5zYKUJQ','getWbot','1576mfHpCI','unblock','isInteger','13022290CPrLYw','includes','active','661268HYVBQe','log','6710040Iymlvl','../../errors/AppError','block','defineProperty','exec','companyId','255422PYFlOI','default','contact.number','number','@s.whatsapp.net','findByPk','__importDefault','229086GtmeJf','3xVquYs','__esModule'];a448_0x40b1=function(){return _0x286b32;};return a448_0x40b1();}exports[a448_0x2c1fdb(0xdb)]=BlockUnblockContactService;