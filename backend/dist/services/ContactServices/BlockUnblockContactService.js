'use strict';const a426_0x4bb209=a426_0xe5c8;(function(_0x5195ae,_0x59dcaa){const _0x52ed65=a426_0xe5c8,_0x2b0243=_0x5195ae();while(!![]){try{const _0x2ef74a=parseInt(_0x52ed65(0x1c9))/0x1+-parseInt(_0x52ed65(0x1d3))/0x2*(-parseInt(_0x52ed65(0x1d4))/0x3)+-parseInt(_0x52ed65(0x1c1))/0x4+parseInt(_0x52ed65(0x1dd))/0x5+-parseInt(_0x52ed65(0x1da))/0x6*(-parseInt(_0x52ed65(0x1bd))/0x7)+parseInt(_0x52ed65(0x1d9))/0x8*(-parseInt(_0x52ed65(0x1dc))/0x9)+-parseInt(_0x52ed65(0x1db))/0xa*(parseInt(_0x52ed65(0x1be))/0xb);if(_0x2ef74a===_0x59dcaa)break;else _0x2b0243['push'](_0x2b0243['shift']());}catch(_0x12ea1c){_0x2b0243['push'](_0x2b0243['shift']());}}}(a426_0x3332,0x6a438));var __importDefault=this&&this['__importDefault']||function(_0x2cb633){const _0x32f322=a426_0xe5c8;return _0x2cb633&&_0x2cb633[_0x32f322(0x1de)]?_0x2cb633:{'default':_0x2cb633};};Object[a426_0x4bb209(0x1c2)](exports,'__esModule',{'value':!![]});function a426_0xe5c8(_0x377b7a,_0x51e0e1){const _0x3332d5=a426_0x3332();return a426_0xe5c8=function(_0xe5c855,_0x48f4e7){_0xe5c855=_0xe5c855-0x1bd;let _0x1f0bd9=_0x3332d5[_0xe5c855];return _0x1f0bd9;},a426_0xe5c8(_0x377b7a,_0x51e0e1);}const AppError_1=__importDefault(require('../../errors/AppError')),GetDefaultWhatsApp_1=__importDefault(require(a426_0x4bb209(0x1d5))),wbot_1=require(a426_0x4bb209(0x1c4)),Contact_1=__importDefault(require('../../models/Contact'));function formatBRNumber(_0x2813fb){const _0x5e105b=a426_0x4bb209,_0x532c6d=new RegExp(/^(\d{2})(\d{2})\d{1}(\d{8})$/);if(_0x532c6d[_0x5e105b(0x1d6)](_0x2813fb)){const _0x16251a=_0x532c6d[_0x5e105b(0x1df)](_0x2813fb);if(_0x16251a&&_0x16251a[0x1]==='55'&&Number[_0x5e105b(0x1c8)](Number['parseInt'](_0x16251a[0x2]))){const _0x5b71c0=Number[_0x5e105b(0x1d2)](_0x16251a[0x2]);if(_0x5b71c0<0x1f)return _0x16251a[0x0];else{if(_0x5b71c0>=0x1f)return _0x16251a[0x1]+_0x16251a[0x2]+_0x16251a[0x3];}}}else return _0x2813fb;}function a426_0x3332(){const _0x5e74aa=['default','625844crFiGh','defineProperty','update','../../libs/wbot','companyId','Não\x20consegui\x20bloquear\x20o\x20contato','log','isInteger','394686Uudjzw','findByPk','unblock','jid','block','contact.number','getWbot','@s.whatsapp.net','ERR_NO_CONTACT_FOUND','parseInt','916674AczVVN','3SrHfvW','../../helpers/GetDefaultWhatsApp','test','number','includes','8FAGHnX','150AlAsjV','10qFnuBx','1847583AgfmWQ','226345UwdQPX','__esModule','exec','whatsappCompany.id','22001XjJyLq','1978493TdVIrF','updateBlockStatus'];a426_0x3332=function(){return _0x5e74aa;};return a426_0x3332();}function createJid(_0x4dd0e3){const _0x417f8d=a426_0x4bb209;if(_0x4dd0e3[_0x417f8d(0x1d8)]('@g.us')||_0x4dd0e3['includes'](_0x417f8d(0x1d0)))return formatBRNumber(_0x4dd0e3);return _0x4dd0e3[_0x417f8d(0x1d8)]('-')?_0x4dd0e3+'@g.us':formatBRNumber(_0x4dd0e3)+'@s.whatsapp.net';}const BlockUnblockContactService=async({contactId:_0x558b14,companyId:_0x23448f,active:_0x50d2aa})=>{const _0x3156c2=a426_0x4bb209,_0x369bac=await Contact_1[_0x3156c2(0x1c0)][_0x3156c2(0x1ca)](_0x558b14);if(!_0x369bac)throw new AppError_1[(_0x3156c2(0x1c0))](_0x3156c2(0x1d1),0x194);console[_0x3156c2(0x1c7)]('active',_0x50d2aa),console['log'](_0x3156c2(0x1c5),_0x23448f),console['log'](_0x3156c2(0x1ce),_0x369bac[_0x3156c2(0x1d7)]);if(_0x50d2aa)try{const _0x4339fe=await(0x0,GetDefaultWhatsApp_1[_0x3156c2(0x1c0)])(Number(_0x23448f));console[_0x3156c2(0x1c7)]('whatsappCompany.id',_0x4339fe['id']);const _0x78295d=(0x0,wbot_1[_0x3156c2(0x1cf)])(_0x4339fe['id']),_0xd9cec9=createJid(_0x369bac[_0x3156c2(0x1d7)]);console[_0x3156c2(0x1c7)](_0x3156c2(0x1cc),_0xd9cec9);const _0x1b9964=await _0x78295d[_0x3156c2(0x1bf)](_0xd9cec9,_0x3156c2(0x1cb));console[_0x3156c2(0x1c7)](_0x1b9964),await _0x369bac[_0x3156c2(0x1c3)]({'active':!![]});}catch(_0x2f351d){console[_0x3156c2(0x1c7)]('Não\x20consegui\x20desbloquear\x20o\x20contato');}if(!_0x50d2aa)try{const _0x10f832=await(0x0,GetDefaultWhatsApp_1['default'])(Number(_0x23448f));console[_0x3156c2(0x1c7)](_0x3156c2(0x1e0),_0x10f832['id']);const _0x303946=(0x0,wbot_1[_0x3156c2(0x1cf)])(_0x10f832['id']),_0x109fd3=createJid(_0x369bac[_0x3156c2(0x1d7)]);console[_0x3156c2(0x1c7)](_0x3156c2(0x1cc),_0x109fd3);const _0x1f88d6=await _0x303946[_0x3156c2(0x1bf)](_0x109fd3,_0x3156c2(0x1cd));console['log']('block',_0x1f88d6),await _0x369bac[_0x3156c2(0x1c3)]({'active':![]});}catch(_0x38a820){console[_0x3156c2(0x1c7)](_0x3156c2(0x1c6));}return _0x369bac;};exports[a426_0x4bb209(0x1c0)]=BlockUnblockContactService;