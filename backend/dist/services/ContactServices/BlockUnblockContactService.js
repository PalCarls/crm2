'use strict';function a457_0x3add(_0x438d96,_0x42a09f){const _0x4487a=a457_0x4487();return a457_0x3add=function(_0x3add34,_0x59c285){_0x3add34=_0x3add34-0x1a4;let _0x7a49b9=_0x4487a[_0x3add34];return _0x7a49b9;},a457_0x3add(_0x438d96,_0x42a09f);}const a457_0x546857=a457_0x3add;(function(_0x550a95,_0x2a99da){const _0x596469=a457_0x3add,_0x17b87c=_0x550a95();while(!![]){try{const _0x4cdce8=parseInt(_0x596469(0x1aa))/0x1*(parseInt(_0x596469(0x1bf))/0x2)+parseInt(_0x596469(0x1c5))/0x3*(-parseInt(_0x596469(0x1b7))/0x4)+-parseInt(_0x596469(0x1ab))/0x5+parseInt(_0x596469(0x1c1))/0x6*(-parseInt(_0x596469(0x1a4))/0x7)+parseInt(_0x596469(0x1b5))/0x8*(-parseInt(_0x596469(0x1b6))/0x9)+-parseInt(_0x596469(0x1bb))/0xa+parseInt(_0x596469(0x1b9))/0xb*(parseInt(_0x596469(0x1c2))/0xc);if(_0x4cdce8===_0x2a99da)break;else _0x17b87c['push'](_0x17b87c['shift']());}catch(_0x35f62f){_0x17b87c['push'](_0x17b87c['shift']());}}}(a457_0x4487,0x27efc));var __importDefault=this&&this[a457_0x546857(0x1bd)]||function(_0x98b7ed){return _0x98b7ed&&_0x98b7ed['__esModule']?_0x98b7ed:{'default':_0x98b7ed};};Object['defineProperty'](exports,a457_0x546857(0x1ba),{'value':!![]});const AppError_1=__importDefault(require(a457_0x546857(0x1ac))),GetDefaultWhatsApp_1=__importDefault(require('../../helpers/GetDefaultWhatsApp')),wbot_1=require(a457_0x546857(0x1a7)),Contact_1=__importDefault(require(a457_0x546857(0x1b3)));function a457_0x4487(){const _0x451dab=['Não\x20consegui\x20bloquear\x20o\x20contato','11dhKepK','__esModule','3255870Pneivb','number','__importDefault','update','11422dPegPu','log','492vEEVZM','13455132mcPJKz','ERR_NO_CONTACT_FOUND','includes','9921fjsMJg','parseInt','16156aqOmGX','block','@s.whatsapp.net','../../libs/wbot','@g.us','Não\x20consegui\x20desbloquear\x20o\x20contato','29ScTKZX','405525CePnSy','../../errors/AppError','findByPk','updateBlockStatus','test','default','unblock','isInteger','../../models/Contact','getWbot','8PHEIiy','1859157xdfRUZ','388wSVdCA'];a457_0x4487=function(){return _0x451dab;};return a457_0x4487();}function formatBRNumber(_0x5da02e){const _0x56a5eb=a457_0x546857,_0x5a0a8c=new RegExp(/^(\d{2})(\d{2})\d{1}(\d{8})$/);if(_0x5a0a8c[_0x56a5eb(0x1af)](_0x5da02e)){const _0x170dc2=_0x5a0a8c['exec'](_0x5da02e);if(_0x170dc2&&_0x170dc2[0x1]==='55'&&Number[_0x56a5eb(0x1b2)](Number[_0x56a5eb(0x1c6)](_0x170dc2[0x2]))){const _0x5480b0=Number[_0x56a5eb(0x1c6)](_0x170dc2[0x2]);if(_0x5480b0<0x1f)return _0x170dc2[0x0];else{if(_0x5480b0>=0x1f)return _0x170dc2[0x1]+_0x170dc2[0x2]+_0x170dc2[0x3];}}}else return _0x5da02e;}function createJid(_0x923dbd){const _0x2813ec=a457_0x546857;if(_0x923dbd['includes'](_0x2813ec(0x1a8))||_0x923dbd[_0x2813ec(0x1c4)](_0x2813ec(0x1a6)))return formatBRNumber(_0x923dbd);return _0x923dbd[_0x2813ec(0x1c4)]('-')?_0x923dbd+_0x2813ec(0x1a8):formatBRNumber(_0x923dbd)+_0x2813ec(0x1a6);}const BlockUnblockContactService=async({contactId:_0x25a38f,companyId:_0x59b0fe,active:_0x37400d})=>{const _0x495f51=a457_0x546857,_0x4e995e=await Contact_1[_0x495f51(0x1b0)][_0x495f51(0x1ad)](_0x25a38f);if(!_0x4e995e)throw new AppError_1[(_0x495f51(0x1b0))](_0x495f51(0x1c3),0x194);if(_0x37400d)try{const _0x56769e=await(0x0,GetDefaultWhatsApp_1[_0x495f51(0x1b0)])(Number(_0x59b0fe)),_0x258971=(0x0,wbot_1[_0x495f51(0x1b4)])(_0x56769e['id']),_0x5e718f=createJid(_0x4e995e[_0x495f51(0x1bc)]);await _0x258971[_0x495f51(0x1ae)](_0x5e718f,_0x495f51(0x1b1)),await _0x4e995e[_0x495f51(0x1be)]({'active':!![]});}catch(_0xf1c0c4){console[_0x495f51(0x1c0)](_0x495f51(0x1a9));}if(!_0x37400d)try{const _0x3680d0=await(0x0,GetDefaultWhatsApp_1[_0x495f51(0x1b0)])(Number(_0x59b0fe)),_0x282d5c=(0x0,wbot_1[_0x495f51(0x1b4)])(_0x3680d0['id']),_0x14134d=createJid(_0x4e995e[_0x495f51(0x1bc)]);await _0x282d5c['updateBlockStatus'](_0x14134d,_0x495f51(0x1a5)),await _0x4e995e[_0x495f51(0x1be)]({'active':![]});}catch(_0x32be7d){console[_0x495f51(0x1c0)](_0x495f51(0x1b8));}return _0x4e995e;};exports[a457_0x546857(0x1b0)]=BlockUnblockContactService;