'use strict';const a413_0x211a71=a413_0x8dea;(function(_0x48ec52,_0x36c3cf){const _0x44de6b=a413_0x8dea,_0x56b651=_0x48ec52();while(!![]){try{const _0x32ec23=parseInt(_0x44de6b(0x93))/0x1*(parseInt(_0x44de6b(0x9c))/0x2)+-parseInt(_0x44de6b(0x92))/0x3*(-parseInt(_0x44de6b(0x9e))/0x4)+-parseInt(_0x44de6b(0x8a))/0x5+-parseInt(_0x44de6b(0x8d))/0x6+parseInt(_0x44de6b(0x96))/0x7+-parseInt(_0x44de6b(0x98))/0x8*(parseInt(_0x44de6b(0xb0))/0x9)+-parseInt(_0x44de6b(0xb2))/0xa;if(_0x32ec23===_0x36c3cf)break;else _0x56b651['push'](_0x56b651['shift']());}catch(_0x4d742b){_0x56b651['push'](_0x56b651['shift']());}}}(a413_0x2412,0x82206));function a413_0x8dea(_0x3a44cb,_0xecbdf5){const _0x24123f=a413_0x2412();return a413_0x8dea=function(_0x8dea5a,_0x339fe4){_0x8dea5a=_0x8dea5a-0x88;let _0x2c211d=_0x24123f[_0x8dea5a];return _0x2c211d;},a413_0x8dea(_0x3a44cb,_0xecbdf5);}var __createBinding=this&&this[a413_0x211a71(0xa1)]||(Object[a413_0x211a71(0xa4)]?function(_0x4badc2,_0x549869,_0x3de17f,_0x1b0a7d){const _0x2bc44f=a413_0x211a71;if(_0x1b0a7d===undefined)_0x1b0a7d=_0x3de17f;var _0x132e10=Object['getOwnPropertyDescriptor'](_0x549869,_0x3de17f);(!_0x132e10||('get'in _0x132e10?!_0x549869[_0x2bc44f(0xa7)]:_0x132e10[_0x2bc44f(0xa8)]||_0x132e10[_0x2bc44f(0x91)]))&&(_0x132e10={'enumerable':!![],'get':function(){return _0x549869[_0x3de17f];}}),Object[_0x2bc44f(0xb9)](_0x4badc2,_0x1b0a7d,_0x132e10);}:function(_0x542978,_0x57e677,_0x471f4c,_0x11c09f){if(_0x11c09f===undefined)_0x11c09f=_0x471f4c;_0x542978[_0x11c09f]=_0x57e677[_0x471f4c];}),__setModuleDefault=this&&this[a413_0x211a71(0xb1)]||(Object[a413_0x211a71(0xa4)]?function(_0x616be7,_0x53f50c){const _0x45ab9b=a413_0x211a71;Object[_0x45ab9b(0xb9)](_0x616be7,_0x45ab9b(0xa2),{'enumerable':!![],'value':_0x53f50c});}:function(_0x12f0fa,_0x3875fd){_0x12f0fa['default']=_0x3875fd;}),__importStar=this&&this[a413_0x211a71(0xb7)]||function(_0x103a3b){const _0x2371ac=a413_0x211a71;if(_0x103a3b&&_0x103a3b[_0x2371ac(0xa7)])return _0x103a3b;var _0x252b35={};if(_0x103a3b!=null){for(var _0x4413e1 in _0x103a3b)if(_0x4413e1!=='default'&&Object[_0x2371ac(0x9d)][_0x2371ac(0xac)][_0x2371ac(0xa3)](_0x103a3b,_0x4413e1))__createBinding(_0x252b35,_0x103a3b,_0x4413e1);}return __setModuleDefault(_0x252b35,_0x103a3b),_0x252b35;},__importDefault=this&&this['__importDefault']||function(_0xafc08d){return _0xafc08d&&_0xafc08d['__esModule']?_0xafc08d:{'default':_0xafc08d};};Object[a413_0x211a71(0xb9)](exports,a413_0x211a71(0xa7),{'value':!![]});const CheckSettings_1=__importDefault(require(a413_0x211a71(0x9f))),socket_1=require(a413_0x211a71(0xa6)),Contact_1=__importDefault(require(a413_0x211a71(0x89))),fs_1=__importDefault(require('fs')),path_1=__importStar(require(a413_0x211a71(0xb4))),axios=require(a413_0x211a71(0xba)),CreateOrUpdateContactService=async({name:_0x6d0c86,number:_0x118087,profilePicUrl:_0xa29797,isGroup:_0x4958ca,email:email='',channel:channel=a413_0x211a71(0xab),companyId:_0x54b28c,extraInfo:extraInfo=[],remoteJid:remoteJid=''})=>{const _0x458956=a413_0x211a71,_0x566d77=path_1['default'][_0x458956(0xb3)](__dirname,'..','..','..',_0x458956(0xae)),_0x30f5f2=_0x4958ca?_0x118087:_0x118087[_0x458956(0x99)](/[^0-9]/g,''),_0x2452ff=(0x0,socket_1[_0x458956(0x88)])();let _0x25389f;const _0x4ae65e=_0x25389f?.[_0x458956(0x8f)]||''!==_0xa29797;_0x25389f=await Contact_1['default'][_0x458956(0x8c)]({'where':{'number':_0x30f5f2,'companyId':_0x54b28c}});if(_0x25389f)_0x25389f['remoteJid']=remoteJid,_0x25389f[_0x458956(0x8f)]=_0xa29797,(_0x4958ca||_0x25389f[_0x458956(0x8b)]===_0x30f5f2)&&(_0x25389f[_0x458956(0x8b)]=_0x6d0c86),_0x25389f[_0x458956(0xaf)](),_0x25389f[_0x458956(0xaa)](),_0x2452ff[_0x458956(0xa5)](_0x458956(0xb6)+_0x54b28c+'-contact',{'action':_0x458956(0x9b),'contact':_0x25389f});else{const _0x4d1789=await(0x0,CheckSettings_1[_0x458956(0xa2)])(_0x458956(0xa9));_0x25389f=await Contact_1[_0x458956(0xa2)]['create']({'name':_0x6d0c86,'number':_0x30f5f2,'email':email,'isGroup':_0x4958ca,'extraInfo':extraInfo,'companyId':_0x54b28c,'channel':channel,'acceptAudioMessage':_0x4d1789==='enabled'?!![]:![],'remoteJid':remoteJid,'urlPicture':_0xa29797}),_0x2452ff[_0x458956(0xa5)](_0x458956(0xb6)+_0x54b28c+'-contact',{'action':_0x458956(0xa4),'contact':_0x25389f});}const _0x4d428c=path_1[_0x458956(0xa2)][_0x458956(0xb3)](_0x566d77,_0x458956(0xa0)+_0x54b28c,'contacts');!fs_1[_0x458956(0xa2)][_0x458956(0x95)](_0x4d428c)&&(fs_1['default']['mkdirSync'](_0x4d428c,{'recursive':!![]}),fs_1['default'][_0x458956(0xad)](_0x4d428c,0x1ff));if(_0x4ae65e){let _0x6d64ec;if(_0xa29797[_0x458956(0x97)](_0x458956(0x94)))_0x6d64ec=_0x458956(0x90);else{const _0x1a14ed=await axios[_0x458956(0xb8)](_0xa29797,{'responseType':_0x458956(0xb5)});_0x6d64ec=_0x25389f['id']+_0x458956(0x9a),fs_1[_0x458956(0xa2)]['writeFileSync']((0x0,path_1['join'])(_0x4d428c,_0x6d64ec),_0x1a14ed[_0x458956(0x8e)]);}_0x25389f['update']({'urlPicture':_0x6d64ec}),_0x2452ff[_0x458956(0xa5)](_0x458956(0xb6)+_0x54b28c+'-contact',{'action':'update','contact':_0x25389f});}return _0x25389f;};function a413_0x2412(){const _0x583700=['prototype','40Fulogl','../../helpers/CheckSettings','company','__createBinding','default','call','create','emit','../../libs/socket','__esModule','writable','acceptAudioMessageContact','reload','whatsapp','hasOwnProperty','chmodSync','public','save','9qQcxUN','__setModuleDefault','983340BWxUit','resolve','path','arraybuffer','company-','__importStar','get','defineProperty','axios','getIO','../../models/Contact','2286435BEFWZb','name','findOne','736656PvJLgJ','data','profilePicUrl','nopicture.png','configurable','269097WXPaAI','32815TPCIAr','nopicture','existsSync','3119235MRbBRc','includes','4987400rElwAh','replace','.jpeg','update','30agoElq'];a413_0x2412=function(){return _0x583700;};return a413_0x2412();}exports[a413_0x211a71(0xa2)]=CreateOrUpdateContactService;