'use strict';const a413_0x4b60fd=a413_0x19b9;(function(_0x48d19d,_0x9cc56e){const _0x5119a7=a413_0x19b9,_0xc5eda7=_0x48d19d();while(!![]){try{const _0x16ac3c=parseInt(_0x5119a7(0x150))/0x1*(-parseInt(_0x5119a7(0x128))/0x2)+parseInt(_0x5119a7(0x12f))/0x3+-parseInt(_0x5119a7(0x136))/0x4*(parseInt(_0x5119a7(0x12e))/0x5)+parseInt(_0x5119a7(0x152))/0x6*(parseInt(_0x5119a7(0x148))/0x7)+-parseInt(_0x5119a7(0x15c))/0x8*(parseInt(_0x5119a7(0x14b))/0x9)+-parseInt(_0x5119a7(0x151))/0xa*(parseInt(_0x5119a7(0x15b))/0xb)+-parseInt(_0x5119a7(0x146))/0xc*(-parseInt(_0x5119a7(0x14e))/0xd);if(_0x16ac3c===_0x9cc56e)break;else _0xc5eda7['push'](_0xc5eda7['shift']());}catch(_0x36da9f){_0xc5eda7['push'](_0xc5eda7['shift']());}}}(a413_0x59fa,0x4bc40));var __createBinding=this&&this[a413_0x4b60fd(0x138)]||(Object[a413_0x4b60fd(0x153)]?function(_0x277c9a,_0x1e725c,_0xd89742,_0x2b1d44){const _0x7c12ca=a413_0x4b60fd;if(_0x2b1d44===undefined)_0x2b1d44=_0xd89742;var _0x1ad0d=Object['getOwnPropertyDescriptor'](_0x1e725c,_0xd89742);(!_0x1ad0d||(_0x7c12ca(0x139)in _0x1ad0d?!_0x1e725c[_0x7c12ca(0x135)]:_0x1ad0d[_0x7c12ca(0x133)]||_0x1ad0d[_0x7c12ca(0x159)]))&&(_0x1ad0d={'enumerable':!![],'get':function(){return _0x1e725c[_0xd89742];}}),Object[_0x7c12ca(0x12d)](_0x277c9a,_0x2b1d44,_0x1ad0d);}:function(_0x5eb350,_0x198665,_0x318f39,_0x1cec44){if(_0x1cec44===undefined)_0x1cec44=_0x318f39;_0x5eb350[_0x1cec44]=_0x198665[_0x318f39];}),__setModuleDefault=this&&this[a413_0x4b60fd(0x157)]||(Object[a413_0x4b60fd(0x153)]?function(_0x1ea7fc,_0x50f04c){const _0x3f5560=a413_0x4b60fd;Object['defineProperty'](_0x1ea7fc,_0x3f5560(0x14a),{'enumerable':!![],'value':_0x50f04c});}:function(_0x386d82,_0x28f41c){const _0x1c174b=a413_0x4b60fd;_0x386d82[_0x1c174b(0x14a)]=_0x28f41c;}),__importStar=this&&this[a413_0x4b60fd(0x129)]||function(_0x1aafc9){const _0x11bf56=a413_0x4b60fd;if(_0x1aafc9&&_0x1aafc9['__esModule'])return _0x1aafc9;var _0x4cffb9={};if(_0x1aafc9!=null){for(var _0x97cbbc in _0x1aafc9)if(_0x97cbbc!=='default'&&Object[_0x11bf56(0x14c)]['hasOwnProperty']['call'](_0x1aafc9,_0x97cbbc))__createBinding(_0x4cffb9,_0x1aafc9,_0x97cbbc);}return __setModuleDefault(_0x4cffb9,_0x1aafc9),_0x4cffb9;},__importDefault=this&&this[a413_0x4b60fd(0x143)]||function(_0x2807f3){return _0x2807f3&&_0x2807f3['__esModule']?_0x2807f3:{'default':_0x2807f3};};function a413_0x59fa(){const _0x587b9f=['configurable','writeFileSync','1705lTmOZK','195736sXIwsz','nopicture.png','whatsapp','enabled','path','879804TxsPJQ','__importStar','includes','../../libs/socket','resolve','defineProperty','380cnLkOQ','830559UnuaLD','../../models/Contact','remoteJid','getIO','writable','public','__esModule','10288qWiqYM','save','__createBinding','get','company','findOne','update','join','.jpeg','contacts','acceptAudioMessageContact','company-','existsSync','__importDefault','reload','name','456yWNKsQ','chmodSync','189PkbZas','axios','default','54uoCzmx','prototype','emit','357045loRRUE','nopicture','1pxRiiH','27700QTRyVJ','44742lKaaRb','create','../../helpers/CheckSettings','arraybuffer','profilePicUrl','__setModuleDefault','-contact'];a413_0x59fa=function(){return _0x587b9f;};return a413_0x59fa();}function a413_0x19b9(_0xe6736c,_0x13013a){const _0x59fa01=a413_0x59fa();return a413_0x19b9=function(_0x19b978,_0x1244a3){_0x19b978=_0x19b978-0x127;let _0x1bd008=_0x59fa01[_0x19b978];return _0x1bd008;},a413_0x19b9(_0xe6736c,_0x13013a);}Object['defineProperty'](exports,a413_0x4b60fd(0x135),{'value':!![]});const CheckSettings_1=__importDefault(require(a413_0x4b60fd(0x154))),socket_1=require(a413_0x4b60fd(0x12b)),Contact_1=__importDefault(require(a413_0x4b60fd(0x130))),fs_1=__importDefault(require('fs')),path_1=__importStar(require(a413_0x4b60fd(0x127))),axios=require(a413_0x4b60fd(0x149)),CreateOrUpdateContactService=async({name:_0x4c38e0,number:_0x3d2565,profilePicUrl:_0x1162c5,isGroup:_0x17abf0,email:email='',channel:channel=a413_0x4b60fd(0x15e),companyId:_0xbabf72,extraInfo:extraInfo=[],remoteJid:remoteJid=''})=>{const _0x5d0bb6=a413_0x4b60fd,_0x4afbaa=path_1[_0x5d0bb6(0x14a)][_0x5d0bb6(0x12c)](__dirname,'..','..','..',_0x5d0bb6(0x134)),_0x547a4c=_0x17abf0?_0x3d2565:_0x3d2565['replace'](/[^0-9]/g,''),_0x2fbc64=(0x0,socket_1[_0x5d0bb6(0x132)])();let _0x6b1d88;const _0x5d32e8=_0x6b1d88?.[_0x5d0bb6(0x156)]||''!==_0x1162c5;_0x6b1d88=await Contact_1[_0x5d0bb6(0x14a)][_0x5d0bb6(0x13b)]({'where':{'number':_0x547a4c,'companyId':_0xbabf72}});if(_0x6b1d88)_0x6b1d88[_0x5d0bb6(0x131)]=remoteJid,_0x6b1d88[_0x5d0bb6(0x156)]=_0x1162c5,(_0x17abf0||_0x6b1d88[_0x5d0bb6(0x145)]===_0x547a4c)&&(_0x6b1d88[_0x5d0bb6(0x145)]=_0x4c38e0),_0x6b1d88[_0x5d0bb6(0x137)](),_0x6b1d88[_0x5d0bb6(0x144)](),_0x2fbc64[_0x5d0bb6(0x14d)](_0x5d0bb6(0x141)+_0xbabf72+_0x5d0bb6(0x158),{'action':_0x5d0bb6(0x13c),'contact':_0x6b1d88});else{const _0x17311c=await(0x0,CheckSettings_1[_0x5d0bb6(0x14a)])(_0x5d0bb6(0x140));_0x6b1d88=await Contact_1[_0x5d0bb6(0x14a)]['create']({'name':_0x4c38e0,'number':_0x547a4c,'email':email,'isGroup':_0x17abf0,'extraInfo':extraInfo,'companyId':_0xbabf72,'channel':channel,'acceptAudioMessage':_0x17311c===_0x5d0bb6(0x15f)?!![]:![],'remoteJid':remoteJid,'urlPicture':_0x1162c5}),_0x2fbc64[_0x5d0bb6(0x14d)](_0x5d0bb6(0x141)+_0xbabf72+_0x5d0bb6(0x158),{'action':_0x5d0bb6(0x153),'contact':_0x6b1d88});}const _0x44da72=path_1[_0x5d0bb6(0x14a)][_0x5d0bb6(0x12c)](_0x4afbaa,_0x5d0bb6(0x13a)+_0xbabf72,_0x5d0bb6(0x13f));!fs_1[_0x5d0bb6(0x14a)][_0x5d0bb6(0x142)](_0x44da72)&&(fs_1[_0x5d0bb6(0x14a)]['mkdirSync'](_0x44da72,{'recursive':!![]}),fs_1[_0x5d0bb6(0x14a)][_0x5d0bb6(0x147)](_0x44da72,0x1ff));if(_0x5d32e8){let _0x314e49;if(_0x1162c5[_0x5d0bb6(0x12a)](_0x5d0bb6(0x14f)))_0x314e49=_0x5d0bb6(0x15d);else{const _0x3841ef=await axios[_0x5d0bb6(0x139)](_0x1162c5,{'responseType':_0x5d0bb6(0x155)});_0x314e49=_0x6b1d88['id']+_0x5d0bb6(0x13e),fs_1[_0x5d0bb6(0x14a)][_0x5d0bb6(0x15a)]((0x0,path_1[_0x5d0bb6(0x13d)])(_0x44da72,_0x314e49),_0x3841ef['data']);}_0x6b1d88[_0x5d0bb6(0x13c)]({'urlPicture':_0x314e49}),_0x2fbc64[_0x5d0bb6(0x14d)](_0x5d0bb6(0x141)+_0xbabf72+_0x5d0bb6(0x158),{'action':_0x5d0bb6(0x13c),'contact':_0x6b1d88});}return _0x6b1d88;};exports[a413_0x4b60fd(0x14a)]=CreateOrUpdateContactService;