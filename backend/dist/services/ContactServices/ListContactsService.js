'use strict';const a435_0x1a7aa0=a435_0x3547;(function(_0xc0bef6,_0x4c9623){const _0x3f328c=a435_0x3547,_0x257ef2=_0xc0bef6();while(!![]){try{const _0x3eae3b=parseInt(_0x3f328c(0x1ce))/0x1+-parseInt(_0x3f328c(0x1b6))/0x2*(-parseInt(_0x3f328c(0x1bd))/0x3)+parseInt(_0x3f328c(0x1bc))/0x4+parseInt(_0x3f328c(0x1c0))/0x5*(-parseInt(_0x3f328c(0x1b8))/0x6)+parseInt(_0x3f328c(0x1c8))/0x7*(-parseInt(_0x3f328c(0x1cf))/0x8)+-parseInt(_0x3f328c(0x1b5))/0x9*(parseInt(_0x3f328c(0x1c4))/0xa)+parseInt(_0x3f328c(0x1cd))/0xb*(parseInt(_0x3f328c(0x1b7))/0xc);if(_0x3eae3b===_0x4c9623)break;else _0x257ef2['push'](_0x257ef2['shift']());}catch(_0x3dce36){_0x257ef2['push'](_0x257ef2['shift']());}}}(a435_0x145e,0x441a9));var __importDefault=this&&this[a435_0x1a7aa0(0x1ae)]||function(_0x20ed09){const _0x48394f=a435_0x1a7aa0;return _0x20ed09&&_0x20ed09[_0x48394f(0x1d4)]?_0x20ed09:{'default':_0x20ed09};};Object[a435_0x1a7aa0(0x1cb)](exports,a435_0x1a7aa0(0x1d4),{'value':!![]});function a435_0x3547(_0x157dbb,_0x48854a){const _0x145e44=a435_0x145e();return a435_0x3547=function(_0x3547f6,_0x29e45f){_0x3547f6=_0x3547f6-0x1ae;let _0x33ca8e=_0x145e44[_0x3547f6];return _0x33ca8e;},a435_0x3547(_0x157dbb,_0x48854a);}const sequelize_1=require(a435_0x1a7aa0(0x1d6)),Contact_1=__importDefault(require('../../models/Contact')),Ticket_1=__importDefault(require(a435_0x1a7aa0(0x1b1))),ContactTag_1=__importDefault(require(a435_0x1a7aa0(0x1c6))),lodash_1=require(a435_0x1a7aa0(0x1bb)),Tag_1=__importDefault(require(a435_0x1a7aa0(0x1b0))),remove_accents_1=__importDefault(require('remove-accents')),ListContactsService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x22e77e,tagsIds:_0x1ec31d,isGroup:_0x28dcb3})=>{const _0x1a911c=a435_0x1a7aa0,_0x2e8b22=(0x0,remove_accents_1[_0x1a911c(0x1b9)])(searchParam['toLocaleLowerCase']()[_0x1a911c(0x1b4)]());let _0x15b0c0={[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x1a911c(0x1c5)][_0x1a911c(0x1d3)](sequelize_1[_0x1a911c(0x1c5)]['fn'](_0x1a911c(0x1b2),sequelize_1[_0x1a911c(0x1c5)][_0x1a911c(0x1ba)](_0x1a911c(0x1bf))),_0x1a911c(0x1cc),'%'+_0x2e8b22+'%')},{'number':{[sequelize_1['Op'][_0x1a911c(0x1d2)]]:'%'+_0x2e8b22+'%'}}]};_0x15b0c0={..._0x15b0c0,'companyId':_0x22e77e};if(Array['isArray'](_0x1ec31d)&&_0x1ec31d[_0x1a911c(0x1c7)]>0x0){const _0x277008=[],_0xa0e236=await ContactTag_1[_0x1a911c(0x1b9)][_0x1a911c(0x1c3)]({'where':{'tagId':{[sequelize_1['Op']['in']]:_0x1ec31d}}});_0xa0e236&&_0x277008[_0x1a911c(0x1c1)](_0xa0e236[_0x1a911c(0x1c2)](_0x50aaef=>_0x50aaef[_0x1a911c(0x1be)]));const _0x4856bc=(0x0,lodash_1[_0x1a911c(0x1b3)])(..._0x277008);_0x15b0c0={..._0x15b0c0,'id':{[sequelize_1['Op']['in']]:_0x4856bc}};}_0x28dcb3==='false'&&(_0x15b0c0={..._0x15b0c0,'isGroup':![]});const _0x544f28=0x64,_0x458aa5=_0x544f28*(+pageNumber-0x1),{count:_0x7f21f7,rows:_0x2020a1}=await Contact_1[_0x1a911c(0x1b9)][_0x1a911c(0x1ca)]({'where':_0x15b0c0,'limit':_0x544f28,'include':[{'model':Ticket_1['default'],'as':_0x1a911c(0x1d0),'attributes':['id',_0x1a911c(0x1af),'createdAt',_0x1a911c(0x1c9)]},{'model':Tag_1[_0x1a911c(0x1b9)],'as':_0x1a911c(0x1d7)}],'offset':_0x458aa5,'order':[[_0x1a911c(0x1d5),_0x1a911c(0x1d1)]]}),_0x5e9478=_0x7f21f7>_0x458aa5+_0x2020a1[_0x1a911c(0x1c7)];return{'contacts':_0x2020a1,'count':_0x7f21f7,'hasMore':_0x5e9478};};exports[a435_0x1a7aa0(0x1b9)]=ListContactsService;function a435_0x145e(){const _0x42dcd7=['2AxYxlT','204eFasaO','2216286KwRgHp','default','col','lodash','384668YRfHqK','281226iutfVw','contactId','Contact.name','5oWwloJ','push','map','findAll','670GWyOkP','Sequelize','../../models/ContactTag','length','1059541OHzHGk','updatedAt','findAndCountAll','defineProperty','LIKE','537196jbFYMb','122214eUdGwe','8QhbGeA','tickets','ASC','like','where','__esModule','name','sequelize','tags','__importDefault','status','../../models/Tag','../../models/Ticket','LOWER','intersection','trim','46026xjxFPp'];a435_0x145e=function(){return _0x42dcd7;};return a435_0x145e();}