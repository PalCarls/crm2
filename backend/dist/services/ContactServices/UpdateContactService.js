'use strict';const a425_0x127226=a425_0x1124;(function(_0x5d0819,_0x3f0fc1){const _0x4f6e42=a425_0x1124,_0x57864c=_0x5d0819();while(!![]){try{const _0x32f9c4=parseInt(_0x4f6e42(0x1e3))/0x1*(parseInt(_0x4f6e42(0x1de))/0x2)+-parseInt(_0x4f6e42(0x1f2))/0x3+-parseInt(_0x4f6e42(0x1e6))/0x4*(parseInt(_0x4f6e42(0x1e5))/0x5)+parseInt(_0x4f6e42(0x1d8))/0x6*(parseInt(_0x4f6e42(0x1ee))/0x7)+parseInt(_0x4f6e42(0x1f3))/0x8*(-parseInt(_0x4f6e42(0x1dd))/0x9)+-parseInt(_0x4f6e42(0x1ed))/0xa*(parseInt(_0x4f6e42(0x1f0))/0xb)+parseInt(_0x4f6e42(0x1dc))/0xc;if(_0x32f9c4===_0x3f0fc1)break;else _0x57864c['push'](_0x57864c['shift']());}catch(_0x5e7807){_0x57864c['push'](_0x57864c['shift']());}}}(a425_0x56d1,0xd5727));function a425_0x56d1(){const _0x22f2bc=['389115uqpgnI','4620AKUjxg','active','email','default','__importDefault','678AaJbkn','upsert','45aLFWQd','697908qekgws','../../models/Contact','map','extraInfo','ERR_NO_CONTACT_FOUND','update','all','587710HvFgxo','6876639KXlCHD','../../models/ContactCustomField','143crENRk','findIndex','396045bADeIT','144QUbqVA','__esModule','acceptAudioMessage','companyId','number','remoteJid','6qFCwXw','destroy','profilePicUrl','name','18843396jqpATv'];a425_0x56d1=function(){return _0x22f2bc;};return a425_0x56d1();}function a425_0x1124(_0x2f3720,_0xab5703){const _0x56d1ea=a425_0x56d1();return a425_0x1124=function(_0x1124bc,_0x29dc44){_0x1124bc=_0x1124bc-0x1d3;let _0x272345=_0x56d1ea[_0x1124bc];return _0x272345;},a425_0x1124(_0x2f3720,_0xab5703);}var __importDefault=this&&this[a425_0x127226(0x1e2)]||function(_0x5a306b){const _0x422233=a425_0x127226;return _0x5a306b&&_0x5a306b[_0x422233(0x1d3)]?_0x5a306b:{'default':_0x5a306b};};Object['defineProperty'](exports,a425_0x127226(0x1d3),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require(a425_0x127226(0x1e7))),ContactCustomField_1=__importDefault(require(a425_0x127226(0x1ef))),UpdateContactService=async({contactData:_0x3f8bf4,contactId:_0x3360c1,companyId:_0xf23fa2})=>{const _0x327a70=a425_0x127226,{email:_0x7a768,name:_0x5a0a7e,number:_0x13dc4c,extraInfo:_0x420298,acceptAudioMessage:_0x2b2b8a,active:_0x21d275,disableBot:_0x489cbe,remoteJid:_0x4ea100}=_0x3f8bf4,_0x1b6558=await Contact_1[_0x327a70(0x1e1)]['findOne']({'where':{'id':_0x3360c1},'attributes':['id',_0x327a70(0x1db),_0x327a70(0x1d6),_0x327a70(0x1e0),_0x327a70(0x1d5),_0x327a70(0x1d4),_0x327a70(0x1df),_0x327a70(0x1da),_0x327a70(0x1d7)],'include':[_0x327a70(0x1e9)]});if(_0x1b6558?.['companyId']!==_0xf23fa2)throw new AppError_1['default']('Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa');if(!_0x1b6558)throw new AppError_1['default'](_0x327a70(0x1ea),0x194);return _0x420298&&(await Promise[_0x327a70(0x1ec)](_0x420298['map'](async _0x50ef32=>{const _0x289665=_0x327a70;await ContactCustomField_1[_0x289665(0x1e1)][_0x289665(0x1e4)]({..._0x50ef32,'contactId':_0x1b6558['id']});})),await Promise[_0x327a70(0x1ec)](_0x1b6558[_0x327a70(0x1e9)][_0x327a70(0x1e8)](async _0x22c7a3=>{const _0x310b4f=_0x327a70,_0x1131aa=_0x420298[_0x310b4f(0x1f1)](_0xf573e8=>_0xf573e8['id']===_0x22c7a3['id']);_0x1131aa===-0x1&&await ContactCustomField_1[_0x310b4f(0x1e1)][_0x310b4f(0x1d9)]({'where':{'id':_0x22c7a3['id']}});}))),await _0x1b6558[_0x327a70(0x1eb)]({'name':_0x5a0a7e,'number':_0x13dc4c,'email':_0x7a768,'acceptAudioMessage':_0x2b2b8a,'active':_0x21d275,'disableBot':_0x489cbe,'remoteJid':_0x4ea100}),await _0x1b6558['reload']({'attributes':['id',_0x327a70(0x1db),'number','email',_0x327a70(0x1d4),_0x327a70(0x1df),_0x327a70(0x1da),_0x327a70(0x1d7)],'include':[_0x327a70(0x1e9)]}),_0x1b6558;};exports[a425_0x127226(0x1e1)]=UpdateContactService;