'use strict';const a472_0x1f0a99=a472_0x392c;(function(_0x2ab1d9,_0x4a287c){const _0x70482d=a472_0x392c,_0x18a3ae=_0x2ab1d9();while(!![]){try{const _0x92e503=parseInt(_0x70482d(0x88))/0x1+-parseInt(_0x70482d(0x97))/0x2*(-parseInt(_0x70482d(0x94))/0x3)+parseInt(_0x70482d(0x9e))/0x4+parseInt(_0x70482d(0x9b))/0x5*(parseInt(_0x70482d(0x92))/0x6)+-parseInt(_0x70482d(0x90))/0x7*(parseInt(_0x70482d(0x98))/0x8)+parseInt(_0x70482d(0x81))/0x9+-parseInt(_0x70482d(0x7e))/0xa*(parseInt(_0x70482d(0x8a))/0xb);if(_0x92e503===_0x4a287c)break;else _0x18a3ae['push'](_0x18a3ae['shift']());}catch(_0xc67d5b){_0x18a3ae['push'](_0x18a3ae['shift']());}}}(a472_0x4c8e,0xa39e7));function a472_0x392c(_0x368eb2,_0x23560b){const _0x4c8e48=a472_0x4c8e();return a472_0x392c=function(_0x392cc4,_0x836dec){_0x392cc4=_0x392cc4-0x7c;let _0x21c065=_0x4c8e48[_0x392cc4];return _0x21c065;},a472_0x392c(_0x368eb2,_0x23560b);}var __importDefault=this&&this[a472_0x1f0a99(0x89)]||function(_0xbb13a7){const _0xba008d=a472_0x1f0a99;return _0xbb13a7&&_0xbb13a7[_0xba008d(0x87)]?_0xbb13a7:{'default':_0xbb13a7};};Object['defineProperty'](exports,a472_0x1f0a99(0x87),{'value':!![]});const AppError_1=__importDefault(require(a472_0x1f0a99(0x96))),Contact_1=__importDefault(require(a472_0x1f0a99(0x95))),ContactCustomField_1=__importDefault(require(a472_0x1f0a99(0xa3))),ContactWallet_1=__importDefault(require(a472_0x1f0a99(0x93))),UpdateContactService=async({contactData:_0x2da387,contactId:_0x4abb49,companyId:_0x2274c0})=>{const _0x3a0660=a472_0x1f0a99,{email:_0x32871a,name:_0x3f0a22,number:_0x17e1b4,extraInfo:_0x2be879,acceptAudioMessage:_0x4b41e0,active:_0x4a8db2,disableBot:_0x55256d,remoteJid:_0x35fa1c,wallets:_0xfb37f9}=_0x2da387,_0x320ce6=await Contact_1['default'][_0x3a0660(0x8c)]({'where':{'id':_0x4abb49},'attributes':['id',_0x3a0660(0x8f),_0x3a0660(0x84),'channel',_0x3a0660(0xa4),_0x3a0660(0x7c),'acceptAudioMessage',_0x3a0660(0xa1),_0x3a0660(0x85),_0x3a0660(0x8b),_0x3a0660(0x9c)],'include':['extraInfo',_0x3a0660(0x7d),{'association':_0x3a0660(0x9a),'attributes':['id',_0x3a0660(0x8f)]}]});if(_0x320ce6?.[_0x3a0660(0x7c)]!==_0x2274c0)throw new AppError_1['default'](_0x3a0660(0x9d));if(!_0x320ce6)throw new AppError_1[(_0x3a0660(0x80))](_0x3a0660(0x99),0x194);_0x2be879&&(await Promise['all'](_0x2be879[_0x3a0660(0x83)](async _0x5b197a=>{const _0x5b404f=_0x3a0660;await ContactCustomField_1[_0x5b404f(0x80)][_0x5b404f(0x82)]({..._0x5b197a,'contactId':_0x320ce6['id']});})),await Promise[_0x3a0660(0x86)](_0x320ce6[_0x3a0660(0x9f)]['map'](async _0x13e594=>{const _0x24994b=_0x3a0660,_0x1b348e=_0x2be879['findIndex'](_0x595ab0=>_0x595ab0['id']===_0x13e594['id']);_0x1b348e===-0x1&&await ContactCustomField_1['default'][_0x24994b(0xa0)]({'where':{'id':_0x13e594['id']}});})));if(_0xfb37f9){await ContactWallet_1['default'][_0x3a0660(0xa0)]({'where':{'companyId':_0x2274c0,'contactId':_0x4abb49}});const _0x3af7d3=[];_0xfb37f9[_0x3a0660(0x8e)](_0x24823d=>{_0x3af7d3['push']({'walletId':!_0x24823d['id']?_0x24823d:_0x24823d['id'],'contactId':_0x4abb49,'companyId':_0x2274c0});}),await ContactWallet_1[_0x3a0660(0x80)][_0x3a0660(0x7f)](_0x3af7d3);}return await _0x320ce6[_0x3a0660(0x8d)]({'name':_0x3f0a22,'number':_0x17e1b4,'email':_0x32871a,'acceptAudioMessage':_0x4b41e0,'active':_0x4a8db2,'disableBot':_0x55256d,'remoteJid':_0x35fa1c}),await _0x320ce6[_0x3a0660(0x91)]({'attributes':['id',_0x3a0660(0x8f),'channel',_0x3a0660(0x84),'email',_0x3a0660(0xa2),_0x3a0660(0xa1),_0x3a0660(0x85),'remoteJid'],'include':['extraInfo',_0x3a0660(0x7d),{'association':_0x3a0660(0x9a),'attributes':['id',_0x3a0660(0x8f)]}]}),_0x320ce6;};exports[a472_0x1f0a99(0x80)]=UpdateContactService;function a472_0x4c8e(){const _0x51289e=['3377UiMfnu','remoteJid','findOne','update','forEach','name','468713cAgwfb','reload','5470914uVdDwM','../../models/ContactWallet','18uoTlCH','../../models/Contact','../../errors/AppError','264982nZkVbE','64BjpEUz','ERR_NO_CONTACT_FOUND','wallets','5pxFItG','urlPicture','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','838164ZVIdnz','extraInfo','destroy','active','acceptAudioMessage','../../models/ContactCustomField','email','companyId','tags','69230DPTbWY','bulkCreate','default','6035859JBYUtm','upsert','map','number','profilePicUrl','all','__esModule','744259GblQXm','__importDefault'];a472_0x4c8e=function(){return _0x51289e;};return a472_0x4c8e();}