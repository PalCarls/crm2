'use strict';const a463_0x10b3cf=a463_0x59f0;(function(_0x50d3e9,_0x10bcdf){const _0x181de1=a463_0x59f0,_0x59a35f=_0x50d3e9();while(!![]){try{const _0x484f39=parseInt(_0x181de1(0x1a3))/0x1*(parseInt(_0x181de1(0x19d))/0x2)+-parseInt(_0x181de1(0x1a2))/0x3*(parseInt(_0x181de1(0x1a5))/0x4)+-parseInt(_0x181de1(0x1a6))/0x5*(-parseInt(_0x181de1(0x196))/0x6)+parseInt(_0x181de1(0x198))/0x7+-parseInt(_0x181de1(0x190))/0x8+parseInt(_0x181de1(0x189))/0x9*(parseInt(_0x181de1(0x1aa))/0xa)+parseInt(_0x181de1(0x18e))/0xb*(-parseInt(_0x181de1(0x18b))/0xc);if(_0x484f39===_0x10bcdf)break;else _0x59a35f['push'](_0x59a35f['shift']());}catch(_0x1e8d6d){_0x59a35f['push'](_0x59a35f['shift']());}}}(a463_0x1bb2,0xcf1ec));var __importDefault=this&&this[a463_0x10b3cf(0x193)]||function(_0x4e3d83){const _0x4492ad=a463_0x10b3cf;return _0x4e3d83&&_0x4e3d83[_0x4492ad(0x18d)]?_0x4e3d83:{'default':_0x4e3d83};};function a463_0x59f0(_0x44c8fa,_0x40d62a){const _0x1bb26a=a463_0x1bb2();return a463_0x59f0=function(_0x59f07f,_0x287e0d){_0x59f07f=_0x59f07f-0x188;let _0x30cbde=_0x1bb26a[_0x59f07f];return _0x30cbde;},a463_0x59f0(_0x44c8fa,_0x40d62a);}Object[a463_0x10b3cf(0x199)](exports,a463_0x10b3cf(0x18d),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require(a463_0x10b3cf(0x188))),ContactCustomField_1=__importDefault(require(a463_0x10b3cf(0x1a9))),UpdateContactService=async({contactData:_0x2eb873,contactId:_0x2b72ec,companyId:_0x29f55b})=>{const _0x1ed39d=a463_0x10b3cf,{email:_0x246bbf,name:_0x1a2db5,number:_0x1c4ce9,extraInfo:_0x4faadd,acceptAudioMessage:_0x52589f,active:_0x478118,disableBot:_0x2d89bc,remoteJid:_0xf1bb1b}=_0x2eb873,_0x3e0a9f=await Contact_1['default'][_0x1ed39d(0x18f)]({'where':{'id':_0x2b72ec},'attributes':['id',_0x1ed39d(0x1a8),'number',_0x1ed39d(0x191),_0x1ed39d(0x197),'companyId',_0x1ed39d(0x18c),_0x1ed39d(0x19c),_0x1ed39d(0x192),'remoteJid',_0x1ed39d(0x19b)],'include':['extraInfo']});if(_0x3e0a9f?.['companyId']!==_0x29f55b)throw new AppError_1[(_0x1ed39d(0x18a))]('Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa');if(!_0x3e0a9f)throw new AppError_1[(_0x1ed39d(0x18a))](_0x1ed39d(0x195),0x194);return _0x4faadd&&(await Promise['all'](_0x4faadd['map'](async _0x3f8092=>{const _0x5a9858=_0x1ed39d;await ContactCustomField_1[_0x5a9858(0x18a)][_0x5a9858(0x1a1)]({..._0x3f8092,'contactId':_0x3e0a9f['id']});})),await Promise['all'](_0x3e0a9f['extraInfo'][_0x1ed39d(0x1a7)](async _0x9b1983=>{const _0x1b1bf9=_0x1ed39d,_0x54002f=_0x4faadd[_0x1b1bf9(0x19a)](_0x2a2524=>_0x2a2524['id']===_0x9b1983['id']);_0x54002f===-0x1&&await ContactCustomField_1[_0x1b1bf9(0x18a)][_0x1b1bf9(0x194)]({'where':{'id':_0x9b1983['id']}});}))),await _0x3e0a9f['update']({'name':_0x1a2db5,'number':_0x1c4ce9,'email':_0x246bbf,'acceptAudioMessage':_0x52589f,'active':_0x478118,'disableBot':_0x2d89bc,'remoteJid':_0xf1bb1b}),await _0x3e0a9f[_0x1ed39d(0x1a4)]({'attributes':['id',_0x1ed39d(0x1a8),_0x1ed39d(0x191),_0x1ed39d(0x19e),_0x1ed39d(0x197),_0x1ed39d(0x18c),_0x1ed39d(0x19c),_0x1ed39d(0x192),_0x1ed39d(0x19f)],'include':[_0x1ed39d(0x1a0)]}),_0x3e0a9f;};function a463_0x1bb2(){const _0x392ca8=['urlPicture','active','74sArslp','number','remoteJid','extraInfo','upsert','4878tmzGMx','40142XgakDF','reload','2848LJYCqq','5CFFtxX','map','name','../../models/ContactCustomField','20610QUefBl','../../models/Contact','6309FdZUVn','default','12907236vKodXa','acceptAudioMessage','__esModule','22OFQmdE','findOne','9611152nkwKXD','channel','profilePicUrl','__importDefault','destroy','ERR_NO_CONTACT_FOUND','4819026TFYoDF','email','11378430vionGB','defineProperty','findIndex'];a463_0x1bb2=function(){return _0x392ca8;};return a463_0x1bb2();}exports[a463_0x10b3cf(0x18a)]=UpdateContactService;