'use strict';const a440_0x1325d4=a440_0x3d19;(function(_0x1fb3ac,_0x5e4ba7){const _0x3181b8=a440_0x3d19,_0xc1844a=_0x1fb3ac();while(!![]){try{const _0x108f76=parseInt(_0x3181b8(0x1f2))/0x1*(parseInt(_0x3181b8(0x1e2))/0x2)+parseInt(_0x3181b8(0x1e5))/0x3*(-parseInt(_0x3181b8(0x1f6))/0x4)+-parseInt(_0x3181b8(0x1ef))/0x5*(-parseInt(_0x3181b8(0x1ea))/0x6)+-parseInt(_0x3181b8(0x1dd))/0x7+parseInt(_0x3181b8(0x1fb))/0x8*(parseInt(_0x3181b8(0x1fd))/0x9)+parseInt(_0x3181b8(0x1f7))/0xa*(parseInt(_0x3181b8(0x1f1))/0xb)+-parseInt(_0x3181b8(0x1dc))/0xc*(parseInt(_0x3181b8(0x1df))/0xd);if(_0x108f76===_0x5e4ba7)break;else _0xc1844a['push'](_0xc1844a['shift']());}catch(_0x293402){_0xc1844a['push'](_0xc1844a['shift']());}}}(a440_0x28dd,0xbe87d));var __importDefault=this&&this[a440_0x1325d4(0x1f0)]||function(_0x5e435c){const _0x18c4e8=a440_0x1325d4;return _0x5e435c&&_0x5e435c[_0x18c4e8(0x1e8)]?_0x5e435c:{'default':_0x5e435c};};function a440_0x28dd(){const _0x521e9e=['destroy','name','9GxpJzd','map','findOne','__esModule','acceptAudioMessage','3501570NfPeJq','companyId','../../errors/AppError','email','active','5FxpYhU','__importDefault','3377lPnaYY','5359ivUsme','all','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','defineProperty','685024wjZlzz','25710pbKnsm','extraInfo','ERR_NO_CONTACT_FOUND','reload','32hTlcSz','profilePicUrl','476568bKtRqy','number','remoteJid','findIndex','upsert','24OVMZvg','5901868LSYidx','update','1667926LhGNSX','../../models/ContactCustomField','default','302mvXcwp'];a440_0x28dd=function(){return _0x521e9e;};return a440_0x28dd();}function a440_0x3d19(_0x1b1c1a,_0x4b1aec){const _0x28dd71=a440_0x28dd();return a440_0x3d19=function(_0x3d1995,_0xc858c6){_0x3d1995=_0x3d1995-0x1d8;let _0x502c64=_0x28dd71[_0x3d1995];return _0x502c64;},a440_0x3d19(_0x1b1c1a,_0x4b1aec);}Object[a440_0x1325d4(0x1f5)](exports,a440_0x1325d4(0x1e8),{'value':!![]});const AppError_1=__importDefault(require(a440_0x1325d4(0x1ec))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a440_0x1325d4(0x1e0))),UpdateContactService=async({contactData:_0x359c7b,contactId:_0x51f982,companyId:_0x5ac1ff})=>{const _0x5803ae=a440_0x1325d4,{email:_0x4fc0ed,name:_0x19e730,number:_0x2ee883,extraInfo:_0x5825a1,acceptAudioMessage:_0x4c043f,active:_0x569434,disableBot:_0x2f9dfc,remoteJid:_0x11bcd9}=_0x359c7b,_0x179c0b=await Contact_1['default'][_0x5803ae(0x1e7)]({'where':{'id':_0x51f982},'attributes':['id','name','number',_0x5803ae(0x1ed),'companyId',_0x5803ae(0x1e9),_0x5803ae(0x1ee),_0x5803ae(0x1fc),_0x5803ae(0x1d9)],'include':[_0x5803ae(0x1f8)]});if(_0x179c0b?.[_0x5803ae(0x1eb)]!==_0x5ac1ff)throw new AppError_1[(_0x5803ae(0x1e1))](_0x5803ae(0x1f4));if(!_0x179c0b)throw new AppError_1[(_0x5803ae(0x1e1))](_0x5803ae(0x1f9),0x194);return _0x5825a1&&(await Promise[_0x5803ae(0x1f3)](_0x5825a1[_0x5803ae(0x1e6)](async _0x4aaf9c=>{const _0xfae520=_0x5803ae;await ContactCustomField_1['default'][_0xfae520(0x1db)]({..._0x4aaf9c,'contactId':_0x179c0b['id']});})),await Promise[_0x5803ae(0x1f3)](_0x179c0b[_0x5803ae(0x1f8)][_0x5803ae(0x1e6)](async _0x5e0ebb=>{const _0x4b8557=_0x5803ae,_0x1883b8=_0x5825a1[_0x4b8557(0x1da)](_0x48960b=>_0x48960b['id']===_0x5e0ebb['id']);_0x1883b8===-0x1&&await ContactCustomField_1[_0x4b8557(0x1e1)][_0x4b8557(0x1e3)]({'where':{'id':_0x5e0ebb['id']}});}))),await _0x179c0b[_0x5803ae(0x1de)]({'name':_0x19e730,'number':_0x2ee883,'email':_0x4fc0ed,'acceptAudioMessage':_0x4c043f,'active':_0x569434,'disableBot':_0x2f9dfc,'remoteJid':_0x11bcd9}),await _0x179c0b[_0x5803ae(0x1fa)]({'attributes':['id',_0x5803ae(0x1e4),_0x5803ae(0x1d8),'email',_0x5803ae(0x1e9),'active',_0x5803ae(0x1fc),_0x5803ae(0x1d9)],'include':[_0x5803ae(0x1f8)]}),_0x179c0b;};exports['default']=UpdateContactService;