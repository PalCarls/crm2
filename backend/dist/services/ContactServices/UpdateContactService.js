'use strict';function a426_0x1060(_0x11bc5e,_0x45498e){const _0x111d27=a426_0x111d();return a426_0x1060=function(_0x1060f7,_0xa46270){_0x1060f7=_0x1060f7-0x1c2;let _0x442e42=_0x111d27[_0x1060f7];return _0x442e42;},a426_0x1060(_0x11bc5e,_0x45498e);}const a426_0x536874=a426_0x1060;(function(_0x1d86bb,_0x2fa0ec){const _0x50670e=a426_0x1060,_0x50f12e=_0x1d86bb();while(!![]){try{const _0x5578ca=-parseInt(_0x50670e(0x1c4))/0x1*(-parseInt(_0x50670e(0x1c9))/0x2)+-parseInt(_0x50670e(0x1d3))/0x3*(-parseInt(_0x50670e(0x1cb))/0x4)+-parseInt(_0x50670e(0x1ce))/0x5+parseInt(_0x50670e(0x1d1))/0x6+-parseInt(_0x50670e(0x1df))/0x7+-parseInt(_0x50670e(0x1d2))/0x8*(parseInt(_0x50670e(0x1dd))/0x9)+-parseInt(_0x50670e(0x1d8))/0xa*(-parseInt(_0x50670e(0x1c8))/0xb);if(_0x5578ca===_0x2fa0ec)break;else _0x50f12e['push'](_0x50f12e['shift']());}catch(_0x2b618b){_0x50f12e['push'](_0x50f12e['shift']());}}}(a426_0x111d,0x4bf98));function a426_0x111d(){const _0x8ca0ac=['findOne','companyId','findIndex','2709QGcCLB','email','1357972WXgoap','remoteJid','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','../../models/ContactCustomField','87HphiWs','all','extraInfo','profilePicUrl','11iliGlx','4622OFOQnd','destroy','6136crYOXX','acceptAudioMessage','number','673725pwnHiZ','name','reload','2567424cgwQBM','9320yKbwjh','327tDUqCT','__esModule','default','active','../../errors/AppError','1944310lFWflr','ERR_NO_CONTACT_FOUND'];a426_0x111d=function(){return _0x8ca0ac;};return a426_0x111d();}var __importDefault=this&&this['__importDefault']||function(_0x1b1c48){const _0x3d6496=a426_0x1060;return _0x1b1c48&&_0x1b1c48[_0x3d6496(0x1d4)]?_0x1b1c48:{'default':_0x1b1c48};};Object['defineProperty'](exports,a426_0x536874(0x1d4),{'value':!![]});const AppError_1=__importDefault(require(a426_0x536874(0x1d7))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a426_0x536874(0x1c3))),UpdateContactService=async({contactData:_0x526946,contactId:_0xed4b50,companyId:_0xc703d7})=>{const _0x26ef3b=a426_0x536874,{email:_0x6ad21b,name:_0x3b2de7,number:_0x5c870c,extraInfo:_0x4e7f35,acceptAudioMessage:_0x592d67,active:_0x1eaa9f,disableBot:_0x418ed7,remoteJid:_0x384dbc}=_0x526946,_0x8a75f8=await Contact_1[_0x26ef3b(0x1d5)][_0x26ef3b(0x1da)]({'where':{'id':_0xed4b50},'attributes':['id',_0x26ef3b(0x1cf),_0x26ef3b(0x1cd),_0x26ef3b(0x1de),_0x26ef3b(0x1db),_0x26ef3b(0x1cc),_0x26ef3b(0x1d6),_0x26ef3b(0x1c7),_0x26ef3b(0x1e0)],'include':[_0x26ef3b(0x1c6)]});if(_0x8a75f8?.['companyId']!==_0xc703d7)throw new AppError_1[(_0x26ef3b(0x1d5))](_0x26ef3b(0x1c2));if(!_0x8a75f8)throw new AppError_1['default'](_0x26ef3b(0x1d9),0x194);return _0x4e7f35&&(await Promise['all'](_0x4e7f35['map'](async _0x1c00da=>{const _0x3b9f35=_0x26ef3b;await ContactCustomField_1[_0x3b9f35(0x1d5)]['upsert']({..._0x1c00da,'contactId':_0x8a75f8['id']});})),await Promise[_0x26ef3b(0x1c5)](_0x8a75f8['extraInfo']['map'](async _0x1ea930=>{const _0x7d391e=_0x26ef3b,_0x3bc382=_0x4e7f35[_0x7d391e(0x1dc)](_0x37b03d=>_0x37b03d['id']===_0x1ea930['id']);_0x3bc382===-0x1&&await ContactCustomField_1[_0x7d391e(0x1d5)][_0x7d391e(0x1ca)]({'where':{'id':_0x1ea930['id']}});}))),await _0x8a75f8['update']({'name':_0x3b2de7,'number':_0x5c870c,'email':_0x6ad21b,'acceptAudioMessage':_0x592d67,'active':_0x1eaa9f,'disableBot':_0x418ed7,'remoteJid':_0x384dbc}),await _0x8a75f8[_0x26ef3b(0x1d0)]({'attributes':['id',_0x26ef3b(0x1cf),'number',_0x26ef3b(0x1de),'acceptAudioMessage',_0x26ef3b(0x1d6),_0x26ef3b(0x1c7),_0x26ef3b(0x1e0)],'include':['extraInfo']}),_0x8a75f8;};exports['default']=UpdateContactService;