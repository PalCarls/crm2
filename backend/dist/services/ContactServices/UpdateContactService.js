'use strict';const a409_0x141173=a409_0x1d12;function a409_0x48bd(){const _0x2b05c4=['number','339902QlWWkE','update','email','8546526izBxXH','all','findIndex','companyId','260uQJxyk','428701jrXRCc','default','../../models/ContactCustomField','5SJATCL','extraInfo','__esModule','5336802TEbnUG','remoteJid','defineProperty','9280200FyvNTq','findOne','name','55659IkssSx','__importDefault','../../errors/AppError','upsert','acceptAudioMessage','profilePicUrl','152ByBhGv','1eMhyoD','16304475zPbQEv','reload','map','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','active'];a409_0x48bd=function(){return _0x2b05c4;};return a409_0x48bd();}(function(_0x2a37af,_0x5cb271){const _0x205d68=a409_0x1d12,_0x25ebc8=_0x2a37af();while(!![]){try{const _0x269c18=parseInt(_0x205d68(0xc6))/0x1*(parseInt(_0x205d68(0xcd))/0x2)+-parseInt(_0x205d68(0xe1))/0x3*(-parseInt(_0x205d68(0xd4))/0x4)+parseInt(_0x205d68(0xd8))/0x5*(-parseInt(_0x205d68(0xdb))/0x6)+-parseInt(_0x205d68(0xd5))/0x7*(parseInt(_0x205d68(0xe7))/0x8)+-parseInt(_0x205d68(0xd0))/0x9+parseInt(_0x205d68(0xde))/0xa+parseInt(_0x205d68(0xc7))/0xb;if(_0x269c18===_0x5cb271)break;else _0x25ebc8['push'](_0x25ebc8['shift']());}catch(_0x26c8c5){_0x25ebc8['push'](_0x25ebc8['shift']());}}}(a409_0x48bd,0xbf453));function a409_0x1d12(_0x354674,_0x4a9f41){const _0x48bd82=a409_0x48bd();return a409_0x1d12=function(_0x1d120e,_0x1a68f5){_0x1d120e=_0x1d120e-0xc6;let _0x3b947d=_0x48bd82[_0x1d120e];return _0x3b947d;},a409_0x1d12(_0x354674,_0x4a9f41);}var __importDefault=this&&this[a409_0x141173(0xe2)]||function(_0x5e5609){const _0x1877a3=a409_0x141173;return _0x5e5609&&_0x5e5609[_0x1877a3(0xda)]?_0x5e5609:{'default':_0x5e5609};};Object[a409_0x141173(0xdd)](exports,a409_0x141173(0xda),{'value':!![]});const AppError_1=__importDefault(require(a409_0x141173(0xe3))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a409_0x141173(0xd7))),UpdateContactService=async({contactData:_0x463175,contactId:_0x1dd284,companyId:_0x1a381b})=>{const _0xa1ae51=a409_0x141173,{email:_0x4bee6a,name:_0x114943,number:_0x40c717,extraInfo:_0x1b737b,acceptAudioMessage:_0x378b79,active:_0x253f35,disableBot:_0x4c8a1c,remoteJid:_0x1da4f6}=_0x463175,_0x408399=await Contact_1['default'][_0xa1ae51(0xdf)]({'where':{'id':_0x1dd284},'attributes':['id',_0xa1ae51(0xe0),'number',_0xa1ae51(0xcf),_0xa1ae51(0xd3),_0xa1ae51(0xe5),_0xa1ae51(0xcb),_0xa1ae51(0xe6),'remoteJid'],'include':['extraInfo']});if(_0x408399?.[_0xa1ae51(0xd3)]!==_0x1a381b)throw new AppError_1[(_0xa1ae51(0xd6))](_0xa1ae51(0xca));if(!_0x408399)throw new AppError_1[(_0xa1ae51(0xd6))]('ERR_NO_CONTACT_FOUND',0x194);return _0x1b737b&&(await Promise[_0xa1ae51(0xd1)](_0x1b737b['map'](async _0x197dcb=>{const _0x4e3ef1=_0xa1ae51;await ContactCustomField_1['default'][_0x4e3ef1(0xe4)]({..._0x197dcb,'contactId':_0x408399['id']});})),await Promise[_0xa1ae51(0xd1)](_0x408399[_0xa1ae51(0xd9)][_0xa1ae51(0xc9)](async _0x372a26=>{const _0x1415d4=_0xa1ae51,_0x3b9b0f=_0x1b737b[_0x1415d4(0xd2)](_0x2c3fda=>_0x2c3fda['id']===_0x372a26['id']);_0x3b9b0f===-0x1&&await ContactCustomField_1[_0x1415d4(0xd6)]['destroy']({'where':{'id':_0x372a26['id']}});}))),await _0x408399[_0xa1ae51(0xce)]({'name':_0x114943,'number':_0x40c717,'email':_0x4bee6a,'acceptAudioMessage':_0x378b79,'active':_0x253f35,'disableBot':_0x4c8a1c,'remoteJid':_0x1da4f6}),await _0x408399[_0xa1ae51(0xc8)]({'attributes':['id',_0xa1ae51(0xe0),_0xa1ae51(0xcc),_0xa1ae51(0xcf),'acceptAudioMessage',_0xa1ae51(0xcb),_0xa1ae51(0xe6),_0xa1ae51(0xdc)],'include':[_0xa1ae51(0xd9)]}),_0x408399;};exports[a409_0x141173(0xd6)]=UpdateContactService;