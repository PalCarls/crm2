'use strict';const a425_0x40523a=a425_0x2b91;function a425_0x2b91(_0x6e8ae6,_0x935826){const _0x382a84=a425_0x382a();return a425_0x2b91=function(_0x2b9126,_0x2e37f5){_0x2b9126=_0x2b9126-0x14b;let _0x4c4fd1=_0x382a84[_0x2b9126];return _0x4c4fd1;},a425_0x2b91(_0x6e8ae6,_0x935826);}(function(_0x24a6e8,_0x1d93dc){const _0x42a955=a425_0x2b91,_0x3b1c9f=_0x24a6e8();while(!![]){try{const _0x1fd176=-parseInt(_0x42a955(0x169))/0x1+-parseInt(_0x42a955(0x14b))/0x2*(-parseInt(_0x42a955(0x14c))/0x3)+parseInt(_0x42a955(0x157))/0x4*(-parseInt(_0x42a955(0x15d))/0x5)+-parseInt(_0x42a955(0x15c))/0x6*(-parseInt(_0x42a955(0x165))/0x7)+parseInt(_0x42a955(0x156))/0x8+-parseInt(_0x42a955(0x163))/0x9+parseInt(_0x42a955(0x15f))/0xa;if(_0x1fd176===_0x1d93dc)break;else _0x3b1c9f['push'](_0x3b1c9f['shift']());}catch(_0x243f19){_0x3b1c9f['push'](_0x3b1c9f['shift']());}}}(a425_0x382a,0x7c260));var __importDefault=this&&this[a425_0x40523a(0x154)]||function(_0x103b65){return _0x103b65&&_0x103b65['__esModule']?_0x103b65:{'default':_0x103b65};};Object[a425_0x40523a(0x160)](exports,a425_0x40523a(0x159),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require(a425_0x40523a(0x14e))),ContactCustomField_1=__importDefault(require(a425_0x40523a(0x15e))),UpdateContactService=async({contactData:_0x136494,contactId:_0x4f2587,companyId:_0x2d2cdb})=>{const _0x2889d7=a425_0x40523a,{email:_0xf79fb6,name:_0xb39312,number:_0x419dba,extraInfo:_0x1ef046,acceptAudioMessage:_0xd72f69,active:_0x57b879,disableBot:_0x4aa1e5,remoteJid:_0x30d9e5}=_0x136494,_0xcbfce4=await Contact_1['default'][_0x2889d7(0x168)]({'where':{'id':_0x4f2587},'attributes':['id',_0x2889d7(0x15a),_0x2889d7(0x15b),'email',_0x2889d7(0x158),_0x2889d7(0x14d),'active',_0x2889d7(0x151),_0x2889d7(0x162)],'include':[_0x2889d7(0x155)]});if(_0xcbfce4?.[_0x2889d7(0x158)]!==_0x2d2cdb)throw new AppError_1[(_0x2889d7(0x16a))]('Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa');if(!_0xcbfce4)throw new AppError_1['default'](_0x2889d7(0x161),0x194);return _0x1ef046&&(await Promise[_0x2889d7(0x150)](_0x1ef046[_0x2889d7(0x166)](async _0xf0acf6=>{const _0x132935=_0x2889d7;await ContactCustomField_1[_0x132935(0x16a)][_0x132935(0x167)]({..._0xf0acf6,'contactId':_0xcbfce4['id']});})),await Promise[_0x2889d7(0x150)](_0xcbfce4[_0x2889d7(0x155)][_0x2889d7(0x166)](async _0x2ef51d=>{const _0x2d9a73=_0x2889d7,_0xbed699=_0x1ef046['findIndex'](_0x5495ad=>_0x5495ad['id']===_0x2ef51d['id']);_0xbed699===-0x1&&await ContactCustomField_1['default'][_0x2d9a73(0x152)]({'where':{'id':_0x2ef51d['id']}});}))),await _0xcbfce4[_0x2889d7(0x153)]({'name':_0xb39312,'number':_0x419dba,'email':_0xf79fb6,'acceptAudioMessage':_0xd72f69,'active':_0x57b879,'disableBot':_0x4aa1e5,'remoteJid':_0x30d9e5}),await _0xcbfce4['reload']({'attributes':['id',_0x2889d7(0x15a),_0x2889d7(0x15b),_0x2889d7(0x14f),'acceptAudioMessage',_0x2889d7(0x164),'profilePicUrl','remoteJid'],'include':[_0x2889d7(0x155)]}),_0xcbfce4;};exports[a425_0x40523a(0x16a)]=UpdateContactService;function a425_0x382a(){const _0x4455b6=['destroy','update','__importDefault','extraInfo','4337336aIYXHR','316ABXBkP','companyId','__esModule','name','number','282txineG','22900qgqZaj','../../models/ContactCustomField','5649380goHaey','defineProperty','ERR_NO_CONTACT_FOUND','remoteJid','3791484qgESNc','active','24731WdXGdd','map','upsert','findOne','483349IPYDGr','default','1003602EprcUQ','3xCbbaa','acceptAudioMessage','../../models/Contact','email','all','profilePicUrl'];a425_0x382a=function(){return _0x4455b6;};return a425_0x382a();}