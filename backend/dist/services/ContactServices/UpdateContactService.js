'use strict';const a392_0x38fc67=a392_0x45cc;(function(_0x4558cf,_0x42c6bf){const _0x977b8b=a392_0x45cc,_0x1d2c17=_0x4558cf();while(!![]){try{const _0x583bee=parseInt(_0x977b8b(0x76))/0x1*(-parseInt(_0x977b8b(0x8c))/0x2)+-parseInt(_0x977b8b(0x80))/0x3*(parseInt(_0x977b8b(0x72))/0x4)+-parseInt(_0x977b8b(0x7a))/0x5+parseInt(_0x977b8b(0x78))/0x6*(-parseInt(_0x977b8b(0x82))/0x7)+-parseInt(_0x977b8b(0x73))/0x8+-parseInt(_0x977b8b(0x7c))/0x9*(parseInt(_0x977b8b(0x86))/0xa)+parseInt(_0x977b8b(0x8e))/0xb;if(_0x583bee===_0x42c6bf)break;else _0x1d2c17['push'](_0x1d2c17['shift']());}catch(_0x4bfb5a){_0x1d2c17['push'](_0x1d2c17['shift']());}}}(a392_0x5e91,0xf2417));function a392_0x45cc(_0x5774d6,_0x21e3f9){const _0x5e910f=a392_0x5e91();return a392_0x45cc=function(_0x45cc12,_0x1f5d8e){_0x45cc12=_0x45cc12-0x71;let _0x4fe866=_0x5e910f[_0x45cc12];return _0x4fe866;},a392_0x45cc(_0x5774d6,_0x21e3f9);}function a392_0x5e91(){const _0x255d9b=['companyId','name','534070hWbvtE','../../models/ContactCustomField','__importDefault','defineProperty','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','update','3646XotzIV','acceptAudioMessage','81936954gXECTA','all','map','4UKBskn','3197192qPdyXc','profilePicUrl','extraInfo','953OVepuy','email','168hQuaiX','__esModule','6538580VNtTRR','ERR_NO_CONTACT_FOUND','144rONmdD','default','reload','upsert','3332433NIqCtM','active','261632OOaoAs','remoteJid'];a392_0x5e91=function(){return _0x255d9b;};return a392_0x5e91();}var __importDefault=this&&this[a392_0x38fc67(0x88)]||function(_0x3a5a65){const _0x2c817a=a392_0x38fc67;return _0x3a5a65&&_0x3a5a65[_0x2c817a(0x79)]?_0x3a5a65:{'default':_0x3a5a65};};Object[a392_0x38fc67(0x89)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a392_0x38fc67(0x87))),UpdateContactService=async({contactData:_0xe32faa,contactId:_0x200648,companyId:_0x446cd0})=>{const _0x4a5370=a392_0x38fc67,{email:_0x2e53c8,name:_0x147356,number:_0x3771b1,extraInfo:_0x313706,acceptAudioMessage:_0x288e20,active:_0x1cbf5a,disableBot:_0x293bc5,remoteJid:_0x16f01a}=_0xe32faa,_0x2ec0fe=await Contact_1['default']['findOne']({'where':{'id':_0x200648},'attributes':['id',_0x4a5370(0x85),'number',_0x4a5370(0x77),_0x4a5370(0x84),_0x4a5370(0x8d),_0x4a5370(0x81),_0x4a5370(0x74),_0x4a5370(0x83)],'include':[_0x4a5370(0x75)]});if(_0x2ec0fe?.['companyId']!==_0x446cd0)throw new AppError_1[(_0x4a5370(0x7d))](_0x4a5370(0x8a));if(!_0x2ec0fe)throw new AppError_1[(_0x4a5370(0x7d))](_0x4a5370(0x7b),0x194);return _0x313706&&(await Promise[_0x4a5370(0x8f)](_0x313706[_0x4a5370(0x71)](async _0x3c19e6=>{const _0x485226=_0x4a5370;await ContactCustomField_1[_0x485226(0x7d)][_0x485226(0x7f)]({..._0x3c19e6,'contactId':_0x2ec0fe['id']});})),await Promise['all'](_0x2ec0fe[_0x4a5370(0x75)][_0x4a5370(0x71)](async _0x47f736=>{const _0x2fd966=_0x4a5370,_0x57c0f6=_0x313706['findIndex'](_0x42ef00=>_0x42ef00['id']===_0x47f736['id']);_0x57c0f6===-0x1&&await ContactCustomField_1[_0x2fd966(0x7d)]['destroy']({'where':{'id':_0x47f736['id']}});}))),await _0x2ec0fe[_0x4a5370(0x8b)]({'name':_0x147356,'number':_0x3771b1,'email':_0x2e53c8,'acceptAudioMessage':_0x288e20,'active':_0x1cbf5a,'disableBot':_0x293bc5,'remoteJid':_0x16f01a}),await _0x2ec0fe[_0x4a5370(0x7e)]({'attributes':['id','name','number',_0x4a5370(0x77),_0x4a5370(0x8d),_0x4a5370(0x81),_0x4a5370(0x74),_0x4a5370(0x83)],'include':[_0x4a5370(0x75)]}),_0x2ec0fe;};exports[a392_0x38fc67(0x7d)]=UpdateContactService;