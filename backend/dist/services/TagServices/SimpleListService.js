'use strict';const a527_0x566310=a527_0x21a6;(function(_0x3e9a38,_0x1fdae9){const _0xfb1c79=a527_0x21a6,_0x2f17c9=_0x3e9a38();while(!![]){try{const _0x203663=-parseInt(_0xfb1c79(0x1ae))/0x1*(parseInt(_0xfb1c79(0x1ac))/0x2)+-parseInt(_0xfb1c79(0x1a0))/0x3*(parseInt(_0xfb1c79(0x1b6))/0x4)+parseInt(_0xfb1c79(0x1ab))/0x5+-parseInt(_0xfb1c79(0x1a2))/0x6+-parseInt(_0xfb1c79(0x1a8))/0x7*(-parseInt(_0xfb1c79(0x1a4))/0x8)+-parseInt(_0xfb1c79(0x1b0))/0x9+parseInt(_0xfb1c79(0x1a9))/0xa;if(_0x203663===_0x1fdae9)break;else _0x2f17c9['push'](_0x2f17c9['shift']());}catch(_0x4a519b){_0x2f17c9['push'](_0x2f17c9['shift']());}}}(a527_0xe6d4,0x9dd57));function a527_0x21a6(_0x323348,_0x4980a1){const _0xe6d402=a527_0xe6d4();return a527_0x21a6=function(_0x21a613,_0x3b3e1e){_0x21a613=_0x21a613-0x19b;let _0x82a352=_0xe6d402[_0x21a613];return _0x82a352;},a527_0x21a6(_0x323348,_0x4980a1);}var __importDefault=this&&this[a527_0x566310(0x1a3)]||function(_0x2f6597){return _0x2f6597&&_0x2f6597['__esModule']?_0x2f6597:{'default':_0x2f6597};};function a527_0xe6d4(){const _0x637a51=['COUNT','name','like','3kPorvU','updatedAt','4368546UCuKpq','__importDefault','25784zCeOgC','defineProperty','__esModule','contacts.ContactTag.updatedAt','2786IRpbbx','15928880IfWbbu','default','1841240xJKPtt','132502PXGwpf','contacts.ContactTag.createdAt','8krcgaO','sequelize','4701330QmWmTS','Tag.id','ASC','../../models/Tag','createdAt','contacts.ContactTag.tagId','3267736eBJuLc','../../models/Contact','Sequelize','contacts.id'];a527_0xe6d4=function(){return _0x637a51;};return a527_0xe6d4();}Object[a527_0x566310(0x1a5)](exports,a527_0x566310(0x1a6),{'value':!![]});const sequelize_1=require(a527_0x566310(0x1af)),Tag_1=__importDefault(require(a527_0x566310(0x1b3))),Contact_1=__importDefault(require(a527_0x566310(0x1b7))),ListService=async({companyId:_0x129750,searchParam:_0x51311b,kanban:kanban=0x0})=>{const _0x41adbf=a527_0x566310;let _0x45bea5={};_0x51311b&&(_0x45bea5={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x41adbf(0x19f)]]:'%'+_0x51311b+'%'}},{'color':{[sequelize_1['Op'][_0x41adbf(0x19f)]]:'%'+_0x51311b+'%'}}]});const _0x150bbf=await Tag_1['default']['findAll']({'where':{..._0x45bea5,'companyId':_0x129750,'kanban':kanban},'order':[[_0x41adbf(0x19e),_0x41adbf(0x1b2)]],'include':[{'model':Contact_1['default'],'as':'contacts'}],'attributes':{'exclude':[_0x41adbf(0x1b4),_0x41adbf(0x1a1)],'include':[[sequelize_1[_0x41adbf(0x19b)]['fn'](_0x41adbf(0x19d),sequelize_1[_0x41adbf(0x19b)]['col'](_0x41adbf(0x19c))),'contactsCount']]},'group':[_0x41adbf(0x1b1),_0x41adbf(0x1b5),'contacts.ContactTag.contactId',_0x41adbf(0x1ad),_0x41adbf(0x1a7),_0x41adbf(0x19c)]});return _0x150bbf;};exports[a527_0x566310(0x1aa)]=ListService;