'use strict';const a578_0x2e7487=a578_0x37c0;(function(_0x59de93,_0x31219d){const _0x30952d=a578_0x37c0,_0x37e39d=_0x59de93();while(!![]){try{const _0x21a3d5=parseInt(_0x30952d(0x1d5))/0x1*(-parseInt(_0x30952d(0x1ce))/0x2)+-parseInt(_0x30952d(0x1d6))/0x3*(parseInt(_0x30952d(0x1d4))/0x4)+parseInt(_0x30952d(0x1d3))/0x5+parseInt(_0x30952d(0x1c3))/0x6+parseInt(_0x30952d(0x1c1))/0x7+parseInt(_0x30952d(0x1de))/0x8*(-parseInt(_0x30952d(0x1d7))/0x9)+-parseInt(_0x30952d(0x1c8))/0xa*(parseInt(_0x30952d(0x1d9))/0xb);if(_0x21a3d5===_0x31219d)break;else _0x37e39d['push'](_0x37e39d['shift']());}catch(_0x457727){_0x37e39d['push'](_0x37e39d['shift']());}}}(a578_0x575c,0x733c3));function a578_0x37c0(_0x58d3cf,_0x38e1a3){const _0x575cf1=a578_0x575c();return a578_0x37c0=function(_0x37c074,_0x9af954){_0x37c074=_0x37c074-0x1c1;let _0xbbd16c=_0x575cf1[_0x37c074];return _0xbbd16c;},a578_0x37c0(_0x58d3cf,_0x38e1a3);}function a578_0x575c(){const _0x3ef281=['3596212rEHQht','5OwnnGX','3CPKCvh','1892547CzYnTe','contacts.ContactTag.tagId','87263TrRPgR','COUNT','ASC','createdAt','../../models/Tag','8uhXBGI','col','4838316bliuiO','__esModule','4546518KqANaZ','sequelize','contacts.id','Tag.id','Sequelize','170GXjmXN','contacts','like','defineProperty','contacts.ContactTag.contactId','findAll','210096ljFqMF','updatedAt','default','contacts.ContactTag.createdAt','name','3962495kEZZnu'];a578_0x575c=function(){return _0x3ef281;};return a578_0x575c();}var __importDefault=this&&this['__importDefault']||function(_0x4bc307){const _0x44b1c6=a578_0x37c0;return _0x4bc307&&_0x4bc307[_0x44b1c6(0x1c2)]?_0x4bc307:{'default':_0x4bc307};};Object[a578_0x2e7487(0x1cb)](exports,a578_0x2e7487(0x1c2),{'value':!![]});const sequelize_1=require(a578_0x2e7487(0x1c4)),Tag_1=__importDefault(require(a578_0x2e7487(0x1dd))),Contact_1=__importDefault(require('../../models/Contact')),ListService=async({companyId:_0x2be87d,searchParam:_0x1f32e1,kanban:kanban=0x0})=>{const _0x4c214e=a578_0x2e7487;let _0x415ceb={};_0x1f32e1&&(_0x415ceb={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x4c214e(0x1ca)]]:'%'+_0x1f32e1+'%'}},{'color':{[sequelize_1['Op'][_0x4c214e(0x1ca)]]:'%'+_0x1f32e1+'%'}}]});const _0x543154=await Tag_1[_0x4c214e(0x1d0)][_0x4c214e(0x1cd)]({'where':{..._0x415ceb,'companyId':_0x2be87d,'kanban':kanban},'order':[[_0x4c214e(0x1d2),_0x4c214e(0x1db)]],'include':[{'model':Contact_1[_0x4c214e(0x1d0)],'as':_0x4c214e(0x1c9)}],'attributes':{'exclude':[_0x4c214e(0x1dc),_0x4c214e(0x1cf)],'include':[[sequelize_1[_0x4c214e(0x1c7)]['fn'](_0x4c214e(0x1da),sequelize_1['Sequelize'][_0x4c214e(0x1df)](_0x4c214e(0x1c5))),'contactsCount']]},'group':[_0x4c214e(0x1c6),_0x4c214e(0x1d8),_0x4c214e(0x1cc),_0x4c214e(0x1d1),'contacts.ContactTag.updatedAt',_0x4c214e(0x1c5)]});return _0x543154;};exports[a578_0x2e7487(0x1d0)]=ListService;