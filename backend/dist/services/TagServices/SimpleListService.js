'use strict';const a585_0x2ea7c2=a585_0x31e3;function a585_0x3232(){const _0x28476d=['contacts','ASC','Sequelize','1395149GmmPwN','103180PyveFI','findAll','1353654DWgqmt','defineProperty','821500vmRaHx','name','contacts.ContactTag.updatedAt','16KtZtnO','6YQGVTF','sequelize','__importDefault','updatedAt','contacts.id','like','contactsCount','default','788235PdQdqA','2MLzagu','../../models/Contact','4173587ilqaat','contacts.ContactTag.contactId','260566zafImd','60nHWOTG','Tag.id','__esModule','col','createdAt'];a585_0x3232=function(){return _0x28476d;};return a585_0x3232();}(function(_0x2483c2,_0x4413fa){const _0x179349=a585_0x31e3,_0x143d18=_0x2483c2();while(!![]){try{const _0x1f9ef4=-parseInt(_0x179349(0x1a7))/0x1*(parseInt(_0x179349(0x1c2))/0x2)+-parseInt(_0x179349(0x1c1))/0x3+parseInt(_0x179349(0x1a8))/0x4*(parseInt(_0x179349(0x1b1))/0x5)+-parseInt(_0x179349(0x1b9))/0x6*(parseInt(_0x179349(0x1b0))/0x7)+parseInt(_0x179349(0x1b8))/0x8*(parseInt(_0x179349(0x1b3))/0x9)+-parseInt(_0x179349(0x1b5))/0xa+parseInt(_0x179349(0x1a5))/0xb;if(_0x1f9ef4===_0x4413fa)break;else _0x143d18['push'](_0x143d18['shift']());}catch(_0x46903b){_0x143d18['push'](_0x143d18['shift']());}}}(a585_0x3232,0x2d2a9));var __importDefault=this&&this[a585_0x2ea7c2(0x1bb)]||function(_0x311522){const _0xa0cd8f=a585_0x2ea7c2;return _0x311522&&_0x311522[_0xa0cd8f(0x1aa)]?_0x311522:{'default':_0x311522};};function a585_0x31e3(_0xdf9dc0,_0x763537){const _0x3232cb=a585_0x3232();return a585_0x31e3=function(_0x31e3d2,_0x163b05){_0x31e3d2=_0x31e3d2-0x1a5;let _0x32a8e3=_0x3232cb[_0x31e3d2];return _0x32a8e3;},a585_0x31e3(_0xdf9dc0,_0x763537);}Object[a585_0x2ea7c2(0x1b4)](exports,'__esModule',{'value':!![]});const sequelize_1=require(a585_0x2ea7c2(0x1ba)),Tag_1=__importDefault(require('../../models/Tag')),Contact_1=__importDefault(require(a585_0x2ea7c2(0x1c3))),ListService=async({companyId:_0x2dd502,searchParam:_0x211874,kanban:kanban=0x0})=>{const _0x5430fd=a585_0x2ea7c2;let _0x41a3cc={};_0x211874&&(_0x41a3cc={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x5430fd(0x1be)]]:'%'+_0x211874+'%'}},{'color':{[sequelize_1['Op']['like']]:'%'+_0x211874+'%'}}]});const _0x1a2a80=await Tag_1['default'][_0x5430fd(0x1b2)]({'where':{..._0x41a3cc,'companyId':_0x2dd502,'kanban':kanban},'order':[[_0x5430fd(0x1b6),_0x5430fd(0x1ae)]],'include':[{'model':Contact_1[_0x5430fd(0x1c0)],'as':_0x5430fd(0x1ad)}],'attributes':{'exclude':[_0x5430fd(0x1ac),_0x5430fd(0x1bc)],'include':[[sequelize_1[_0x5430fd(0x1af)]['fn']('COUNT',sequelize_1[_0x5430fd(0x1af)][_0x5430fd(0x1ab)](_0x5430fd(0x1bd))),_0x5430fd(0x1bf)]]},'group':[_0x5430fd(0x1a9),'contacts.ContactTag.tagId',_0x5430fd(0x1a6),'contacts.ContactTag.createdAt',_0x5430fd(0x1b7),_0x5430fd(0x1bd)]});return _0x1a2a80;};exports[a585_0x2ea7c2(0x1c0)]=ListService;