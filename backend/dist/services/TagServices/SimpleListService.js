'use strict';function a521_0x2fc6(){const _0x11f313=['COUNT','contactsCount','45njBPvJ','contacts.ContactTag.updatedAt','34032270ZxJXmh','2180584wYYSDE','defineProperty','contacts','4655748iWViVB','6777880ckYfxK','like','default','Sequelize','Tag.id','../../models/Tag','20518mNEoAq','6UAVcKy','contacts.ContactTag.tagId','965223MFqkco','309ZgsaDy','sequelize','contacts.ContactTag.createdAt','contacts.id','updatedAt','col','name','__importDefault','7849450VJXmRL','contacts.ContactTag.contactId','__esModule'];a521_0x2fc6=function(){return _0x11f313;};return a521_0x2fc6();}const a521_0x3db1d8=a521_0x5a2b;(function(_0x61b20f,_0x219003){const _0x446cfb=a521_0x5a2b,_0x572fb4=_0x61b20f();while(!![]){try{const _0x2713fe=-parseInt(_0x446cfb(0x8e))/0x1+-parseInt(_0x446cfb(0x8b))/0x2*(-parseInt(_0x446cfb(0x8f))/0x3)+-parseInt(_0x446cfb(0x84))/0x4+parseInt(_0x446cfb(0x85))/0x5*(-parseInt(_0x446cfb(0x8c))/0x6)+parseInt(_0x446cfb(0x79))/0x7+parseInt(_0x446cfb(0x81))/0x8*(-parseInt(_0x446cfb(0x7e))/0x9)+parseInt(_0x446cfb(0x80))/0xa;if(_0x2713fe===_0x219003)break;else _0x572fb4['push'](_0x572fb4['shift']());}catch(_0x4b600c){_0x572fb4['push'](_0x572fb4['shift']());}}}(a521_0x2fc6,0xb31d5));function a521_0x5a2b(_0x3f0ee4,_0x4a3a98){const _0x2fc62e=a521_0x2fc6();return a521_0x5a2b=function(_0x5a2b05,_0x274093){_0x5a2b05=_0x5a2b05-0x78;let _0xe3acf=_0x2fc62e[_0x5a2b05];return _0xe3acf;},a521_0x5a2b(_0x3f0ee4,_0x4a3a98);}var __importDefault=this&&this[a521_0x3db1d8(0x78)]||function(_0x110d84){const _0x50ff17=a521_0x3db1d8;return _0x110d84&&_0x110d84[_0x50ff17(0x7b)]?_0x110d84:{'default':_0x110d84};};Object[a521_0x3db1d8(0x82)](exports,a521_0x3db1d8(0x7b),{'value':!![]});const sequelize_1=require(a521_0x3db1d8(0x90)),Tag_1=__importDefault(require(a521_0x3db1d8(0x8a))),Contact_1=__importDefault(require('../../models/Contact')),ListService=async({companyId:_0x51213d,searchParam:_0x1f01a5,kanban:kanban=0x0})=>{const _0x44bd3b=a521_0x3db1d8;let _0x1dd2f0={};_0x1f01a5&&(_0x1dd2f0={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x44bd3b(0x86)]]:'%'+_0x1f01a5+'%'}},{'color':{[sequelize_1['Op'][_0x44bd3b(0x86)]]:'%'+_0x1f01a5+'%'}}]});const _0x5a9f7a=await Tag_1[_0x44bd3b(0x87)]['findAll']({'where':{..._0x1dd2f0,'companyId':_0x51213d,'kanban':kanban},'order':[[_0x44bd3b(0x95),'ASC']],'include':[{'model':Contact_1['default'],'as':_0x44bd3b(0x83)}],'attributes':{'exclude':['createdAt',_0x44bd3b(0x93)],'include':[[sequelize_1[_0x44bd3b(0x88)]['fn'](_0x44bd3b(0x7c),sequelize_1[_0x44bd3b(0x88)][_0x44bd3b(0x94)](_0x44bd3b(0x92))),_0x44bd3b(0x7d)]]},'group':[_0x44bd3b(0x89),_0x44bd3b(0x8d),_0x44bd3b(0x7a),_0x44bd3b(0x91),_0x44bd3b(0x7f),'contacts.id']});return _0x5a9f7a;};exports[a521_0x3db1d8(0x87)]=ListService;