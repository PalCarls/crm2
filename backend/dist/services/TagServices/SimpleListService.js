'use strict';const a506_0x23a327=a506_0x2c71;(function(_0x3d180f,_0x302fbd){const _0x401bde=a506_0x2c71,_0x344bcb=_0x3d180f();while(!![]){try{const _0x598bbf=parseInt(_0x401bde(0x15f))/0x1*(-parseInt(_0x401bde(0x14b))/0x2)+-parseInt(_0x401bde(0x156))/0x3*(parseInt(_0x401bde(0x15c))/0x4)+parseInt(_0x401bde(0x155))/0x5*(parseInt(_0x401bde(0x15b))/0x6)+parseInt(_0x401bde(0x158))/0x7+-parseInt(_0x401bde(0x161))/0x8+parseInt(_0x401bde(0x167))/0x9*(parseInt(_0x401bde(0x151))/0xa)+-parseInt(_0x401bde(0x162))/0xb;if(_0x598bbf===_0x302fbd)break;else _0x344bcb['push'](_0x344bcb['shift']());}catch(_0x46bfab){_0x344bcb['push'](_0x344bcb['shift']());}}}(a506_0x159b,0x8aee5));var __importDefault=this&&this[a506_0x23a327(0x153)]||function(_0x37eca4){const _0x15b809=a506_0x23a327;return _0x37eca4&&_0x37eca4[_0x15b809(0x166)]?_0x37eca4:{'default':_0x37eca4};};Object[a506_0x23a327(0x14e)](exports,a506_0x23a327(0x166),{'value':!![]});function a506_0x159b(){const _0x44b8f5=['contacts','contacts.ContactTag.updatedAt','__esModule','190989RrWPAZ','36qtWxha','Tag.id','contacts.ContactTag.tagId','defineProperty','sequelize','findAll','210ConTOt','col','__importDefault','contactsCount','2138465swgUus','3FRzeUL','updatedAt','7493696LATrdM','like','COUNT','6xmiIrE','799468LUfHzC','default','ASC','28674PhZojr','Sequelize','4424376oQqmKm','1163305QVOSJt','contacts.id'];a506_0x159b=function(){return _0x44b8f5;};return a506_0x159b();}const sequelize_1=require(a506_0x23a327(0x14f)),Tag_1=__importDefault(require('../../models/Tag')),Contact_1=__importDefault(require('../../models/Contact')),ListService=async({companyId:_0x44360a,searchParam:_0x35ae2e,kanban:kanban=0x0})=>{const _0x326e68=a506_0x23a327;let _0x26d70e={};_0x35ae2e&&(_0x26d70e={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x326e68(0x159)]]:'%'+_0x35ae2e+'%'}},{'color':{[sequelize_1['Op'][_0x326e68(0x159)]]:'%'+_0x35ae2e+'%'}}]});const _0x1784d1=await Tag_1[_0x326e68(0x15d)][_0x326e68(0x150)]({'where':{..._0x26d70e,'companyId':_0x44360a,'kanban':kanban},'order':[['name',_0x326e68(0x15e)]],'include':[{'model':Contact_1[_0x326e68(0x15d)],'as':_0x326e68(0x164)}],'attributes':{'exclude':['createdAt',_0x326e68(0x157)],'include':[[sequelize_1['Sequelize']['fn'](_0x326e68(0x15a),sequelize_1[_0x326e68(0x160)][_0x326e68(0x152)](_0x326e68(0x163))),_0x326e68(0x154)]]},'group':[_0x326e68(0x14c),_0x326e68(0x14d),'contacts.ContactTag.contactId','contacts.ContactTag.createdAt',_0x326e68(0x165),_0x326e68(0x163)]});return _0x1784d1;};function a506_0x2c71(_0x156593,_0x365e91){const _0x159bae=a506_0x159b();return a506_0x2c71=function(_0x2c7100,_0x40d300){_0x2c7100=_0x2c7100-0x14b;let _0x326d1d=_0x159bae[_0x2c7100];return _0x326d1d;},a506_0x2c71(_0x156593,_0x365e91);}exports[a506_0x23a327(0x15d)]=ListService;