'use strict';function a471_0x1447(_0x5a1c28,_0x4fbfc6){const _0xec9bfc=a471_0xec9b();return a471_0x1447=function(_0x144794,_0x5cdf2e){_0x144794=_0x144794-0x14b;let _0x59ce11=_0xec9bfc[_0x144794];return _0x59ce11;},a471_0x1447(_0x5a1c28,_0x4fbfc6);}const a471_0x5cce50=a471_0x1447;function a471_0xec9b(){const _0x186a7f=['contactsCount','../../models/Contact','194458FvjRrI','Tag.id','5631310zdihkO','768GiHFjZ','contacts.id','contacts.ContactTag.updatedAt','default','like','21512JhhxPm','80XVIJse','sequelize','col','__esModule','7403720ryLxFO','name','createdAt','contacts','33636ebTYju','125418KnsqYP','defineProperty','contacts.ContactTag.contactId','contacts.ContactTag.tagId','../../models/Tag','COUNT','570HZVUXw','189xaKHMQ','2391639sTEFOs','9wOfYAZ','ASC','Sequelize'];a471_0xec9b=function(){return _0x186a7f;};return a471_0xec9b();}(function(_0x47bf1a,_0x326498){const _0x2fc0c8=a471_0x1447,_0x28c80c=_0x47bf1a();while(!![]){try{const _0x6cf767=parseInt(_0x2fc0c8(0x164))/0x1*(-parseInt(_0x2fc0c8(0x165))/0x2)+parseInt(_0x2fc0c8(0x156))/0x3+-parseInt(_0x2fc0c8(0x14d))/0x4*(-parseInt(_0x2fc0c8(0x154))/0x5)+parseInt(_0x2fc0c8(0x14e))/0x6*(-parseInt(_0x2fc0c8(0x155))/0x7)+parseInt(_0x2fc0c8(0x169))/0x8+-parseInt(_0x2fc0c8(0x157))/0x9*(-parseInt(_0x2fc0c8(0x15e))/0xa)+-parseInt(_0x2fc0c8(0x15c))/0xb*(parseInt(_0x2fc0c8(0x15f))/0xc);if(_0x6cf767===_0x326498)break;else _0x28c80c['push'](_0x28c80c['shift']());}catch(_0x1e8257){_0x28c80c['push'](_0x28c80c['shift']());}}}(a471_0xec9b,0xa8036));var __importDefault=this&&this['__importDefault']||function(_0x158f63){return _0x158f63&&_0x158f63['__esModule']?_0x158f63:{'default':_0x158f63};};Object[a471_0x5cce50(0x14f)](exports,a471_0x5cce50(0x168),{'value':!![]});const sequelize_1=require(a471_0x5cce50(0x166)),Tag_1=__importDefault(require(a471_0x5cce50(0x152))),Contact_1=__importDefault(require(a471_0x5cce50(0x15b))),ListService=async({companyId:_0x277164,searchParam:_0xe3e63a})=>{const _0x27ae09=a471_0x5cce50;let _0x14d476={};_0xe3e63a&&(_0x14d476={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op']['like']]:'%'+_0xe3e63a+'%'}},{'color':{[sequelize_1['Op'][_0x27ae09(0x163)]]:'%'+_0xe3e63a+'%'}}]});const _0x2d8ef4=await Tag_1[_0x27ae09(0x162)]['findAll']({'where':{..._0x14d476,'companyId':_0x277164},'order':[[_0x27ae09(0x16a),_0x27ae09(0x158)]],'include':[{'model':Contact_1[_0x27ae09(0x162)],'as':_0x27ae09(0x14c)}],'attributes':{'exclude':[_0x27ae09(0x14b),'updatedAt'],'include':[[sequelize_1[_0x27ae09(0x159)]['fn'](_0x27ae09(0x153),sequelize_1[_0x27ae09(0x159)][_0x27ae09(0x167)](_0x27ae09(0x160))),_0x27ae09(0x15a)]]},'group':[_0x27ae09(0x15d),_0x27ae09(0x151),_0x27ae09(0x150),'contacts.ContactTag.createdAt',_0x27ae09(0x161),'contacts.id']});return _0x2d8ef4;};exports['default']=ListService;