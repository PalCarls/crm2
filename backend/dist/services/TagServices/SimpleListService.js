'use strict';const a506_0x2bea0f=a506_0x4411;(function(_0x3651da,_0x306330){const _0x4a6ccd=a506_0x4411,_0x379f97=_0x3651da();while(!![]){try{const _0xbcc4ad=-parseInt(_0x4a6ccd(0xbc))/0x1*(-parseInt(_0x4a6ccd(0xc8))/0x2)+parseInt(_0x4a6ccd(0xbe))/0x3*(-parseInt(_0x4a6ccd(0xcd))/0x4)+-parseInt(_0x4a6ccd(0xb8))/0x5*(parseInt(_0x4a6ccd(0xcb))/0x6)+parseInt(_0x4a6ccd(0xcc))/0x7*(parseInt(_0x4a6ccd(0xc6))/0x8)+parseInt(_0x4a6ccd(0xbf))/0x9+parseInt(_0x4a6ccd(0xd1))/0xa+-parseInt(_0x4a6ccd(0xce))/0xb*(parseInt(_0x4a6ccd(0xbd))/0xc);if(_0xbcc4ad===_0x306330)break;else _0x379f97['push'](_0x379f97['shift']());}catch(_0x7e3ed3){_0x379f97['push'](_0x379f97['shift']());}}}(a506_0x259a,0x915f8));function a506_0x259a(){const _0x5e4659=['contacts.ContactTag.contactId','5bwjtEE','contacts','contacts.ContactTag.updatedAt','Sequelize','1yMizBc','12dJHhwY','15dDFeWm','8958951UfRBeX','__importDefault','contacts.ContactTag.tagId','contacts.ContactTag.createdAt','contacts.id','__esModule','like','6897736YGCfYG','sequelize','670494sZAtVo','createdAt','contactsCount','365676wAdxEY','7boUbzF','7636cbLvzS','26257517rsBCxR','col','name','8600830BRBhaS','default','../../models/Tag','ASC'];a506_0x259a=function(){return _0x5e4659;};return a506_0x259a();}var __importDefault=this&&this[a506_0x2bea0f(0xc0)]||function(_0x5337b1){const _0x5e0199=a506_0x2bea0f;return _0x5337b1&&_0x5337b1[_0x5e0199(0xc4)]?_0x5337b1:{'default':_0x5337b1};};function a506_0x4411(_0x35727d,_0x10d990){const _0x259a9e=a506_0x259a();return a506_0x4411=function(_0x4411eb,_0x317c4a){_0x4411eb=_0x4411eb-0xb5;let _0x3b09cb=_0x259a9e[_0x4411eb];return _0x3b09cb;},a506_0x4411(_0x35727d,_0x10d990);}Object['defineProperty'](exports,'__esModule',{'value':!![]});const sequelize_1=require(a506_0x2bea0f(0xc7)),Tag_1=__importDefault(require(a506_0x2bea0f(0xb5))),Contact_1=__importDefault(require('../../models/Contact')),ListService=async({companyId:_0xffcad8,searchParam:_0x1d9087,kanban:kanban=0x0})=>{const _0x593ea1=a506_0x2bea0f;let _0x3b6952={};_0x1d9087&&(_0x3b6952={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x593ea1(0xc5)]]:'%'+_0x1d9087+'%'}},{'color':{[sequelize_1['Op'][_0x593ea1(0xc5)]]:'%'+_0x1d9087+'%'}}]});const _0x18fa4b=await Tag_1[_0x593ea1(0xd2)]['findAll']({'where':{..._0x3b6952,'companyId':_0xffcad8,'kanban':kanban},'order':[[_0x593ea1(0xd0),_0x593ea1(0xb6)]],'include':[{'model':Contact_1['default'],'as':_0x593ea1(0xb9)}],'attributes':{'exclude':[_0x593ea1(0xc9),'updatedAt'],'include':[[sequelize_1[_0x593ea1(0xbb)]['fn']('COUNT',sequelize_1[_0x593ea1(0xbb)][_0x593ea1(0xcf)](_0x593ea1(0xc3))),_0x593ea1(0xca)]]},'group':['Tag.id',_0x593ea1(0xc1),_0x593ea1(0xb7),_0x593ea1(0xc2),_0x593ea1(0xba),_0x593ea1(0xc3)]});return _0x18fa4b;};exports[a506_0x2bea0f(0xd2)]=ListService;