'use strict';function a507_0x4e07(){const _0x159a88=['34159464ejfUko','defineProperty','contacts.ContactTag.updatedAt','contactsCount','contacts','1290150AsATXG','like','contacts.ContactTag.tagId','col','28eEQbLA','name','79854znuigy','createdAt','../../models/Contact','__esModule','contacts.ContactTag.createdAt','4PlOkZJ','2616342sqQcFT','169279akfQgm','4344636nDznGe','__importDefault','Tag.id','4062880MNLRfd','7brdSLa','740TDQfuV','Sequelize','ASC','contacts.id','13BaWYfV','contacts.ContactTag.contactId','default','9XzLoTl'];a507_0x4e07=function(){return _0x159a88;};return a507_0x4e07();}const a507_0x54aed1=a507_0x55e9;(function(_0x622b6b,_0x1aa0d8){const _0xc12570=a507_0x55e9,_0x21c03e=_0x622b6b();while(!![]){try{const _0x400502=parseInt(_0xc12570(0xba))/0x1*(-parseInt(_0xc12570(0xb8))/0x2)+-parseInt(_0xc12570(0xc0))/0x3*(parseInt(_0xc12570(0xbf))/0x4)+-parseInt(_0xc12570(0xb4))/0x5+-parseInt(_0xc12570(0xa2))/0x6*(-parseInt(_0xc12570(0xa6))/0x7)+parseInt(_0xc12570(0xa5))/0x8*(parseInt(_0xc12570(0xae))/0x9)+parseInt(_0xc12570(0xa7))/0xa*(-parseInt(_0xc12570(0xa1))/0xb)+-parseInt(_0xc12570(0xaf))/0xc*(-parseInt(_0xc12570(0xab))/0xd);if(_0x400502===_0x1aa0d8)break;else _0x21c03e['push'](_0x21c03e['shift']());}catch(_0x5a016f){_0x21c03e['push'](_0x21c03e['shift']());}}}(a507_0x4e07,0xa8df6));function a507_0x55e9(_0x2037b6,_0x38678f){const _0x4e073b=a507_0x4e07();return a507_0x55e9=function(_0x55e90f,_0x356bf7){_0x55e90f=_0x55e90f-0xa1;let _0x2b7464=_0x4e073b[_0x55e90f];return _0x2b7464;},a507_0x55e9(_0x2037b6,_0x38678f);}var __importDefault=this&&this[a507_0x54aed1(0xa3)]||function(_0x2c4977){return _0x2c4977&&_0x2c4977['__esModule']?_0x2c4977:{'default':_0x2c4977};};Object[a507_0x54aed1(0xb0)](exports,a507_0x54aed1(0xbd),{'value':!![]});const sequelize_1=require('sequelize'),Tag_1=__importDefault(require('../../models/Tag')),Contact_1=__importDefault(require(a507_0x54aed1(0xbc))),ListService=async({companyId:_0x98d19d,searchParam:_0x108bfc,kanban:kanban=0x0})=>{const _0xbb0a0c=a507_0x54aed1;let _0x182434={};_0x108bfc&&(_0x182434={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op']['like']]:'%'+_0x108bfc+'%'}},{'color':{[sequelize_1['Op'][_0xbb0a0c(0xb5)]]:'%'+_0x108bfc+'%'}}]});const _0x54e37c=await Tag_1[_0xbb0a0c(0xad)]['findAll']({'where':{..._0x182434,'companyId':_0x98d19d,'kanban':kanban},'order':[[_0xbb0a0c(0xb9),_0xbb0a0c(0xa9)]],'include':[{'model':Contact_1[_0xbb0a0c(0xad)],'as':_0xbb0a0c(0xb3)}],'attributes':{'exclude':[_0xbb0a0c(0xbb),'updatedAt'],'include':[[sequelize_1['Sequelize']['fn']('COUNT',sequelize_1[_0xbb0a0c(0xa8)][_0xbb0a0c(0xb7)](_0xbb0a0c(0xaa))),_0xbb0a0c(0xb2)]]},'group':[_0xbb0a0c(0xa4),_0xbb0a0c(0xb6),_0xbb0a0c(0xac),_0xbb0a0c(0xbe),_0xbb0a0c(0xb1),_0xbb0a0c(0xaa)]});return _0x54e37c;};exports[a507_0x54aed1(0xad)]=ListService;