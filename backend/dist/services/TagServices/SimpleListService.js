'use strict';const a578_0x4de225=a578_0x4513;(function(_0x2fa452,_0x2ad0a9){const _0x4892db=a578_0x4513,_0x1b279e=_0x2fa452();while(!![]){try{const _0x180845=-parseInt(_0x4892db(0xa2))/0x1*(parseInt(_0x4892db(0xac))/0x2)+-parseInt(_0x4892db(0xa6))/0x3*(parseInt(_0x4892db(0x9f))/0x4)+-parseInt(_0x4892db(0xb2))/0x5*(-parseInt(_0x4892db(0xb3))/0x6)+-parseInt(_0x4892db(0xa3))/0x7+parseInt(_0x4892db(0xaa))/0x8+-parseInt(_0x4892db(0xad))/0x9+parseInt(_0x4892db(0xb5))/0xa*(parseInt(_0x4892db(0xb6))/0xb);if(_0x180845===_0x2ad0a9)break;else _0x1b279e['push'](_0x1b279e['shift']());}catch(_0x4cd09e){_0x1b279e['push'](_0x1b279e['shift']());}}}(a578_0xdb1e,0x7f927));function a578_0x4513(_0x550e3d,_0x36a18d){const _0xdb1e5c=a578_0xdb1e();return a578_0x4513=function(_0x4513c8,_0x12d784){_0x4513c8=_0x4513c8-0x9c;let _0x35ed30=_0xdb1e5c[_0x4513c8];return _0x35ed30;},a578_0x4513(_0x550e3d,_0x36a18d);}var __importDefault=this&&this[a578_0x4de225(0x9d)]||function(_0x334103){const _0x3fdae8=a578_0x4de225;return _0x334103&&_0x334103[_0x3fdae8(0xb1)]?_0x334103:{'default':_0x334103};};Object[a578_0x4de225(0xaf)](exports,'__esModule',{'value':!![]});function a578_0xdb1e(){const _0x32d728=['updatedAt','Sequelize','__importDefault','contacts','820uMqDMI','../../models/Contact','default','70oeeMkA','5123419jmjXlF','like','col','7887ZmlfHx','contacts.ContactTag.tagId','contacts.ContactTag.updatedAt','Tag.id','1013488OVwcIO','ASC','15074KdfZlr','6927462wYKbRk','contacts.ContactTag.createdAt','defineProperty','createdAt','__esModule','25ySNmrR','212034GzZidq','../../models/Tag','27873240KucPrn','11rqhabx','contacts.ContactTag.contactId','name'];a578_0xdb1e=function(){return _0x32d728;};return a578_0xdb1e();}const sequelize_1=require('sequelize'),Tag_1=__importDefault(require(a578_0x4de225(0xb4))),Contact_1=__importDefault(require(a578_0x4de225(0xa0))),ListService=async({companyId:_0x3b8dad,searchParam:_0x20e890,kanban:kanban=0x0})=>{const _0x5f34cd=a578_0x4de225;let _0x1621c4={};_0x20e890&&(_0x1621c4={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x5f34cd(0xa4)]]:'%'+_0x20e890+'%'}},{'color':{[sequelize_1['Op'][_0x5f34cd(0xa4)]]:'%'+_0x20e890+'%'}}]});const _0x47122c=await Tag_1[_0x5f34cd(0xa1)]['findAll']({'where':{..._0x1621c4,'companyId':_0x3b8dad,'kanban':kanban},'order':[[_0x5f34cd(0xb8),_0x5f34cd(0xab)]],'include':[{'model':Contact_1[_0x5f34cd(0xa1)],'as':_0x5f34cd(0x9e)}],'attributes':{'exclude':[_0x5f34cd(0xb0),_0x5f34cd(0xb9)],'include':[[sequelize_1['Sequelize']['fn']('COUNT',sequelize_1[_0x5f34cd(0x9c)][_0x5f34cd(0xa5)]('contacts.id')),'contactsCount']]},'group':[_0x5f34cd(0xa9),_0x5f34cd(0xa7),_0x5f34cd(0xb7),_0x5f34cd(0xae),_0x5f34cd(0xa8),'contacts.id']});return _0x47122c;};exports[a578_0x4de225(0xa1)]=ListService;