'use strict';var a522_0x4caceb=a522_0x46c4;function a522_0x46c4(_0x4fd854,_0x1d2bbb){var _0x2e81c4=a522_0x2e81();return a522_0x46c4=function(_0x46c4cd,_0x5d9e7f){_0x46c4cd=_0x46c4cd-0x184;var _0x369e66=_0x2e81c4[_0x46c4cd];return _0x369e66;},a522_0x46c4(_0x4fd854,_0x1d2bbb);}(function(_0xecdbfa,_0x52405d){var _0x5b34ce=a522_0x46c4,_0x5635cd=_0xecdbfa();while(!![]){try{var _0x3d051f=parseInt(_0x5b34ce(0x19a))/0x1+-parseInt(_0x5b34ce(0x192))/0x2+-parseInt(_0x5b34ce(0x198))/0x3*(parseInt(_0x5b34ce(0x193))/0x4)+parseInt(_0x5b34ce(0x19d))/0x5*(parseInt(_0x5b34ce(0x184))/0x6)+-parseInt(_0x5b34ce(0x18b))/0x7+-parseInt(_0x5b34ce(0x18a))/0x8+parseInt(_0x5b34ce(0x186))/0x9*(parseInt(_0x5b34ce(0x18f))/0xa);if(_0x3d051f===_0x52405d)break;else _0x5635cd['push'](_0x5635cd['shift']());}catch(_0xd3769b){_0x5635cd['push'](_0x5635cd['shift']());}}}(a522_0x2e81,0x2a8c3));function a522_0x2e81(){var _0x37badc=['defineProperty','object','required','2200504MREClh','303037jMufpy','configurable','reload','getOwnPropertyDescriptor','1928870uPRdmu','__importDefault','__esModule','549610uitfbK','356mrOjiE','validate','get','create','#A4CCCC','10269doXisR','../../errors/AppError','218194bmNmkS','default','prototype','688065XQPKPo','findOrCreate','__importStar','message','string','__setModuleDefault','12eJWCUp','min','27DRNHJT'];a522_0x2e81=function(){return _0x37badc;};return a522_0x2e81();}var __createBinding=this&&this['__createBinding']||(Object[a522_0x4caceb(0x196)]?function(_0x207051,_0x394c85,_0x462cb9,_0x4bb1ab){var _0x26688a=a522_0x4caceb;if(_0x4bb1ab===undefined)_0x4bb1ab=_0x462cb9;var _0x210b24=Object[_0x26688a(0x18e)](_0x394c85,_0x462cb9);(!_0x210b24||(_0x26688a(0x195)in _0x210b24?!_0x394c85[_0x26688a(0x191)]:_0x210b24['writable']||_0x210b24[_0x26688a(0x18c)]))&&(_0x210b24={'enumerable':!![],'get':function(){return _0x394c85[_0x462cb9];}}),Object[_0x26688a(0x187)](_0x207051,_0x4bb1ab,_0x210b24);}:function(_0x284a3c,_0x44ad05,_0x56ce7e,_0x437d72){if(_0x437d72===undefined)_0x437d72=_0x56ce7e;_0x284a3c[_0x437d72]=_0x44ad05[_0x56ce7e];}),__setModuleDefault=this&&this[a522_0x4caceb(0x1a2)]||(Object['create']?function(_0x50df3d,_0x2a806b){var _0x588fd5=a522_0x4caceb;Object['defineProperty'](_0x50df3d,_0x588fd5(0x19b),{'enumerable':!![],'value':_0x2a806b});}:function(_0x496988,_0x1a928e){var _0x8b9837=a522_0x4caceb;_0x496988[_0x8b9837(0x19b)]=_0x1a928e;}),__importStar=this&&this[a522_0x4caceb(0x19f)]||function(_0x43b9e2){var _0xec9c=a522_0x4caceb;if(_0x43b9e2&&_0x43b9e2[_0xec9c(0x191)])return _0x43b9e2;var _0xe88bb6={};if(_0x43b9e2!=null){for(var _0x102d84 in _0x43b9e2)if(_0x102d84!==_0xec9c(0x19b)&&Object[_0xec9c(0x19c)]['hasOwnProperty']['call'](_0x43b9e2,_0x102d84))__createBinding(_0xe88bb6,_0x43b9e2,_0x102d84);}return __setModuleDefault(_0xe88bb6,_0x43b9e2),_0xe88bb6;},__importDefault=this&&this[a522_0x4caceb(0x190)]||function(_0x3c8eb1){var _0x17e62f=a522_0x4caceb;return _0x3c8eb1&&_0x3c8eb1[_0x17e62f(0x191)]?_0x3c8eb1:{'default':_0x3c8eb1};};Object[a522_0x4caceb(0x187)](exports,a522_0x4caceb(0x191),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a522_0x4caceb(0x199))),Tag_1=__importDefault(require('../../models/Tag')),CreateService=async({name:_0x1e7f6f,color:color=a522_0x4caceb(0x197),kanban:_0x5752be,companyId:_0x4be438})=>{var _0x3f7af2=a522_0x4caceb;const _0xfd93dc=Yup[_0x3f7af2(0x188)]()['shape']({'name':Yup[_0x3f7af2(0x1a1)]()[_0x3f7af2(0x189)]()[_0x3f7af2(0x185)](0x3)});try{await _0xfd93dc[_0x3f7af2(0x194)]({'name':_0x1e7f6f});}catch(_0x46ba0f){throw new AppError_1['default'](_0x46ba0f[_0x3f7af2(0x1a0)]);}const [_0x3a88b2]=await Tag_1['default'][_0x3f7af2(0x19e)]({'where':{'name':_0x1e7f6f,'color':color,'kanban':_0x5752be,'companyId':_0x4be438},'defaults':{'name':_0x1e7f6f,'color':color,'kanban':_0x5752be,'companyId':_0x4be438}});return await _0x3a88b2[_0x3f7af2(0x18d)](),_0x3a88b2;};exports['default']=CreateService;