'use strict';const a576_0x13c1da=a576_0x36ce;(function(_0x27cf3a,_0x1a2e1e){const _0xbbf368=a576_0x36ce,_0x2d1955=_0x27cf3a();while(!![]){try{const _0x9d7dcd=-parseInt(_0xbbf368(0x11f))/0x1*(parseInt(_0xbbf368(0x124))/0x2)+parseInt(_0xbbf368(0x12b))/0x3+-parseInt(_0xbbf368(0x12f))/0x4+-parseInt(_0xbbf368(0x118))/0x5*(-parseInt(_0xbbf368(0x113))/0x6)+-parseInt(_0xbbf368(0x122))/0x7+-parseInt(_0xbbf368(0x114))/0x8+-parseInt(_0xbbf368(0x11b))/0x9*(-parseInt(_0xbbf368(0x115))/0xa);if(_0x9d7dcd===_0x1a2e1e)break;else _0x2d1955['push'](_0x2d1955['shift']());}catch(_0x18877f){_0x2d1955['push'](_0x2d1955['shift']());}}}(a576_0x31f4,0x8446e));function a576_0x36ce(_0x43575e,_0x4d2f70){const _0x31f487=a576_0x31f4();return a576_0x36ce=function(_0x36ced6,_0x2e392a){_0x36ced6=_0x36ced6-0x111;let _0x181db2=_0x31f487[_0x36ced6];return _0x181db2;},a576_0x36ce(_0x43575e,_0x4d2f70);}var __importDefault=this&&this[a576_0x13c1da(0x12c)]||function(_0x37df44){return _0x37df44&&_0x37df44['__esModule']?_0x37df44:{'default':_0x37df44};};function a576_0x31f4(){const _0x4fbaaa=['color','4759860QSKcUe','col','1174578PNeOYH','LOWER','like','ASC','default','__esModule','name','476007HnXTgi','__importDefault','findAndCountAll','defineProperty','2147928SJjDGC','../../models/TicketTag','contactTags','sequelize','trim','220230naqKvo','753472EqULDd','9572610lwUOGi','LIKE','../../models/ContactTag','50WLVZQn','ticketTags','length','18IZHQMb','Tag.name','Sequelize','toLocaleLowerCase','1lYrYgX','where'];a576_0x31f4=function(){return _0x4fbaaa;};return a576_0x31f4();}Object[a576_0x13c1da(0x12e)](exports,a576_0x13c1da(0x129),{'value':!![]});const sequelize_1=require(a576_0x13c1da(0x111)),Tag_1=__importDefault(require('../../models/Tag')),ContactTag_1=__importDefault(require(a576_0x13c1da(0x117))),TicketTag_1=__importDefault(require(a576_0x13c1da(0x130))),remove_accents_1=__importDefault(require('remove-accents')),ListService=async({companyId:_0x20af1b,searchParam:searchParam='',pageNumber:pageNumber='1',kanban:kanban=0x0})=>{const _0x51292c=a576_0x13c1da;let _0x13d19b={};const _0x12a3fb=0x64,_0x53a458=_0x12a3fb*(+pageNumber-0x1),_0x2408e3=(0x0,remove_accents_1['default'])(searchParam[_0x51292c(0x11e)]()[_0x51292c(0x112)]());if(Number(kanban)===0x0){searchParam&&(_0x13d19b={[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x51292c(0x11d)][_0x51292c(0x120)](sequelize_1['Sequelize']['fn']('LOWER',sequelize_1[_0x51292c(0x11d)]['col'](_0x51292c(0x11c))),_0x51292c(0x116),'%'+_0x2408e3+'%')},{'color':{[sequelize_1['Op'][_0x51292c(0x126)]]:'%'+_0x2408e3+'%'}}]});const {count:_0x162c66,rows:_0x3d95c3}=await Tag_1['default'][_0x51292c(0x12d)]({'where':{..._0x13d19b,'companyId':_0x20af1b,'kanban':kanban},'limit':_0x12a3fb,'include':[{'model':ContactTag_1['default'],'as':_0x51292c(0x131)}],'attributes':['id',_0x51292c(0x12a),_0x51292c(0x121)],'offset':_0x53a458,'order':[[_0x51292c(0x12a),_0x51292c(0x127)]]}),_0x24700c=_0x162c66>_0x53a458+_0x3d95c3[_0x51292c(0x11a)];return{'tags':_0x3d95c3,'count':_0x162c66,'hasMore':_0x24700c};}else{searchParam&&(_0x13d19b={[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x51292c(0x11d)][_0x51292c(0x120)](sequelize_1[_0x51292c(0x11d)]['fn'](_0x51292c(0x125),sequelize_1[_0x51292c(0x11d)][_0x51292c(0x123)](_0x51292c(0x11c))),_0x51292c(0x116),'%'+_0x2408e3+'%')},{'color':{[sequelize_1['Op'][_0x51292c(0x126)]]:'%'+_0x2408e3+'%'}}]});const {count:_0x58544a,rows:_0x2048d5}=await Tag_1['default'][_0x51292c(0x12d)]({'where':{..._0x13d19b,'companyId':_0x20af1b,'kanban':kanban},'limit':_0x12a3fb,'offset':_0x53a458,'order':[[_0x51292c(0x12a),_0x51292c(0x127)]],'include':[{'model':TicketTag_1[_0x51292c(0x128)],'as':_0x51292c(0x119)}],'attributes':['id',_0x51292c(0x12a),'color']}),_0x211273=_0x58544a>_0x53a458+_0x2048d5['length'];return{'tags':_0x2048d5,'count':_0x58544a,'hasMore':_0x211273};}};exports[a576_0x13c1da(0x128)]=ListService;