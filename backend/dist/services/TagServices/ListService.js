'use strict';const a504_0x34dbf5=a504_0x2f57;(function(_0x55145a,_0x2b5118){const _0x3ae230=a504_0x2f57,_0x21319c=_0x55145a();while(!![]){try{const _0x9a7d6b=-parseInt(_0x3ae230(0x14f))/0x1*(-parseInt(_0x3ae230(0x13b))/0x2)+parseInt(_0x3ae230(0x13a))/0x3*(-parseInt(_0x3ae230(0x147))/0x4)+parseInt(_0x3ae230(0x140))/0x5+-parseInt(_0x3ae230(0x14b))/0x6+-parseInt(_0x3ae230(0x14a))/0x7*(-parseInt(_0x3ae230(0x149))/0x8)+-parseInt(_0x3ae230(0x135))/0x9+-parseInt(_0x3ae230(0x13e))/0xa*(-parseInt(_0x3ae230(0x136))/0xb);if(_0x9a7d6b===_0x2b5118)break;else _0x21319c['push'](_0x21319c['shift']());}catch(_0x5f14f8){_0x21319c['push'](_0x21319c['shift']());}}}(a504_0x4e5a,0x850ca));var __importDefault=this&&this[a504_0x34dbf5(0x13c)]||function(_0x4499c8){const _0x2cc644=a504_0x34dbf5;return _0x4499c8&&_0x4499c8[_0x2cc644(0x138)]?_0x4499c8:{'default':_0x4499c8};};Object['defineProperty'](exports,a504_0x34dbf5(0x138),{'value':!![]});function a504_0x2f57(_0x481f70,_0x87e411){const _0x4e5a63=a504_0x4e5a();return a504_0x2f57=function(_0x2f5727,_0x318323){_0x2f5727=_0x2f5727-0x134;let _0x34dfe7=_0x4e5a63[_0x2f5727];return _0x34dfe7;},a504_0x2f57(_0x481f70,_0x87e411);}const sequelize_1=require(a504_0x34dbf5(0x14e)),Tag_1=__importDefault(require(a504_0x34dbf5(0x137))),ContactTag_1=__importDefault(require('../../models/ContactTag')),TicketTag_1=__importDefault(require(a504_0x34dbf5(0x145))),ListService=async({companyId:_0x48edd4,searchParam:_0x1486ea,pageNumber:pageNumber='1',kanban:kanban=0x0})=>{const _0x11437d=a504_0x34dbf5;let _0x153954={};const _0x120886=0x14,_0x577818=_0x120886*(+pageNumber-0x1);if(Number(kanban)===0x0){_0x1486ea&&(_0x153954={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x11437d(0x14d)]]:'%'+_0x1486ea+'%'}},{'color':{[sequelize_1['Op'][_0x11437d(0x14d)]]:'%'+_0x1486ea+'%'}}]});const {count:_0x3ce172,rows:_0x5db3fc}=await Tag_1[_0x11437d(0x13f)][_0x11437d(0x146)]({'where':{..._0x153954,'companyId':_0x48edd4,'kanban':kanban},'limit':_0x120886,'offset':_0x577818,'order':[[_0x11437d(0x143),_0x11437d(0x13d)]],'subQuery':![],'include':[{'model':ContactTag_1[_0x11437d(0x13f)],'as':_0x11437d(0x141),'attributes':[_0x11437d(0x142)]}],'group':['Tag.id',_0x11437d(0x144),_0x11437d(0x14c)]}),_0x4908f5=_0x3ce172>_0x577818+_0x5db3fc[_0x11437d(0x139)];return{'tags':_0x5db3fc,'count':_0x3ce172,'hasMore':_0x4908f5};}else{_0x1486ea&&(_0x153954={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op']['like']]:'%'+_0x1486ea+'%'}},{'color':{[sequelize_1['Op'][_0x11437d(0x14d)]]:'%'+_0x1486ea+'%'}}]});const {count:_0x3939d5,rows:_0x185cb3}=await Tag_1[_0x11437d(0x13f)]['findAndCountAll']({'where':{..._0x153954,'companyId':_0x48edd4,'kanban':kanban},'limit':_0x120886,'offset':_0x577818,'order':[['name',_0x11437d(0x13d)]],'subQuery':![],'include':[{'model':TicketTag_1[_0x11437d(0x13f)],'as':'ticketTags','attributes':['tagId']}],'group':['Tag.id',_0x11437d(0x148),_0x11437d(0x134)]}),_0x55d119=_0x3939d5>_0x577818+_0x185cb3['length'];return{'tags':_0x185cb3,'count':_0x3939d5,'hasMore':_0x55d119};}};exports[a504_0x34dbf5(0x13f)]=ListService;function a504_0x4e5a(){const _0x530d4a=['contactTags.contactId','like','sequelize','190041hyzDrS','ticketTags.ticketId','3231009ReBnbX','4378cRrCCA','../../models/Tag','__esModule','length','9qipAtM','2snxZyH','__importDefault','ASC','220qWWQIb','default','3019965gbWcZD','contactTags','tagId','name','contactTags.tagId','../../models/TicketTag','findAndCountAll','335076PQPXnV','ticketTags.tagId','3835408LlFZAn','7WivOis','761628BcdkDP'];a504_0x4e5a=function(){return _0x530d4a;};return a504_0x4e5a();}