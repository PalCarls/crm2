'use strict';const a565_0x1a0e0b=a565_0xa43f;(function(_0x1ef89f,_0x4dfd06){const _0x1afca5=a565_0xa43f,_0x15a537=_0x1ef89f();while(!![]){try{const _0x2a1509=-parseInt(_0x1afca5(0x8a))/0x1*(parseInt(_0x1afca5(0x8d))/0x2)+parseInt(_0x1afca5(0x9c))/0x3+parseInt(_0x1afca5(0x92))/0x4*(-parseInt(_0x1afca5(0xa5))/0x5)+-parseInt(_0x1afca5(0x85))/0x6+-parseInt(_0x1afca5(0x8e))/0x7+parseInt(_0x1afca5(0x9b))/0x8+parseInt(_0x1afca5(0x95))/0x9;if(_0x2a1509===_0x4dfd06)break;else _0x15a537['push'](_0x15a537['shift']());}catch(_0x40f79c){_0x15a537['push'](_0x15a537['shift']());}}}(a565_0x101e,0x73434));var __importDefault=this&&this[a565_0x1a0e0b(0x90)]||function(_0x3b8d95){const _0x1b47d6=a565_0x1a0e0b;return _0x3b8d95&&_0x3b8d95[_0x1b47d6(0xa1)]?_0x3b8d95:{'default':_0x3b8d95};};function a565_0xa43f(_0xcba40a,_0x508789){const _0x101ede=a565_0x101e();return a565_0xa43f=function(_0xa43f62,_0x373b71){_0xa43f62=_0xa43f62-0x85;let _0x1bc3a6=_0x101ede[_0xa43f62];return _0x1bc3a6;},a565_0xa43f(_0xcba40a,_0x508789);}function a565_0x101e(){const _0x1eeeb0=['__esModule','LOWER','color','col','5LwbYFE','1497366XeIAUh','like','where','findAndCountAll','../../models/TicketTag','50caifAR','length','default','27754PtJGpE','1635165IfKdIV','Tag.name','__importDefault','../../models/ContactTag','102888XWYDxT','ticketTags','trim','7625313UcpCws','Sequelize','sequelize','LIKE','name','../../models/Tag','311392YzwVJg','2365989sYFlFr','ASC','toLocaleLowerCase','remove-accents','contactTags'];a565_0x101e=function(){return _0x1eeeb0;};return a565_0x101e();}Object['defineProperty'](exports,'__esModule',{'value':!![]});const sequelize_1=require(a565_0x1a0e0b(0x97)),Tag_1=__importDefault(require(a565_0x1a0e0b(0x9a))),ContactTag_1=__importDefault(require(a565_0x1a0e0b(0x91))),TicketTag_1=__importDefault(require(a565_0x1a0e0b(0x89))),remove_accents_1=__importDefault(require(a565_0x1a0e0b(0x9f))),ListService=async({companyId:_0x246fb5,searchParam:searchParam='',pageNumber:pageNumber='1',kanban:kanban=0x0})=>{const _0x87d6d3=a565_0x1a0e0b;let _0x1705f6={};const _0x317810=0x64,_0x79620b=_0x317810*(+pageNumber-0x1),_0xbea951=(0x0,remove_accents_1[_0x87d6d3(0x8c)])(searchParam[_0x87d6d3(0x9e)]()[_0x87d6d3(0x94)]());if(Number(kanban)===0x0){searchParam&&(_0x1705f6={[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x87d6d3(0x96)]['where'](sequelize_1[_0x87d6d3(0x96)]['fn'](_0x87d6d3(0xa2),sequelize_1['Sequelize'][_0x87d6d3(0xa4)](_0x87d6d3(0x8f))),_0x87d6d3(0x98),'%'+_0xbea951+'%')},{'color':{[sequelize_1['Op'][_0x87d6d3(0x86)]]:'%'+_0xbea951+'%'}}]});const {count:_0x5b74c9,rows:_0x14d9b7}=await Tag_1['default'][_0x87d6d3(0x88)]({'where':{..._0x1705f6,'companyId':_0x246fb5,'kanban':kanban},'limit':_0x317810,'include':[{'model':ContactTag_1[_0x87d6d3(0x8c)],'as':_0x87d6d3(0xa0)}],'attributes':['id',_0x87d6d3(0x99),_0x87d6d3(0xa3)],'offset':_0x79620b,'order':[[_0x87d6d3(0x99),'ASC']]}),_0x236ac4=_0x5b74c9>_0x79620b+_0x14d9b7[_0x87d6d3(0x8b)];return{'tags':_0x14d9b7,'count':_0x5b74c9,'hasMore':_0x236ac4};}else{searchParam&&(_0x1705f6={[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x87d6d3(0x96)][_0x87d6d3(0x87)](sequelize_1[_0x87d6d3(0x96)]['fn']('LOWER',sequelize_1[_0x87d6d3(0x96)][_0x87d6d3(0xa4)](_0x87d6d3(0x8f))),'LIKE','%'+_0xbea951+'%')},{'color':{[sequelize_1['Op'][_0x87d6d3(0x86)]]:'%'+_0xbea951+'%'}}]});const {count:_0x51f0cd,rows:_0x32fb7d}=await Tag_1[_0x87d6d3(0x8c)][_0x87d6d3(0x88)]({'where':{..._0x1705f6,'companyId':_0x246fb5,'kanban':kanban},'limit':_0x317810,'offset':_0x79620b,'order':[[_0x87d6d3(0x99),_0x87d6d3(0x9d)]],'include':[{'model':TicketTag_1[_0x87d6d3(0x8c)],'as':_0x87d6d3(0x93)}],'attributes':['id',_0x87d6d3(0x99),_0x87d6d3(0xa3)]}),_0x4fe1b0=_0x51f0cd>_0x79620b+_0x32fb7d[_0x87d6d3(0x8b)];return{'tags':_0x32fb7d,'count':_0x51f0cd,'hasMore':_0x4fe1b0};}};exports[a565_0x1a0e0b(0x8c)]=ListService;