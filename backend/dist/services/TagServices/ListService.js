'use strict';function a486_0x4cdf(){const _0x1149ca=['Tag.id','length','like','default','125guICxm','8OEJxSU','364801EBSusT','__importDefault','1823439bafyXj','288232GinPPH','2056WFgOgT','6071652JFzlen','303366fJvKtT','28882MYRoAY','../../models/Tag','contactTags.tagId','__esModule','name','contactTags.contactId','defineProperty','ASC','../../models/ContactTag','findAndCountAll','tagId','1700yvUyok'];a486_0x4cdf=function(){return _0x1149ca;};return a486_0x4cdf();}const a486_0x3071d9=a486_0x699e;(function(_0x5eb916,_0x47848c){const _0x575fd8=a486_0x699e,_0x46e517=_0x5eb916();while(!![]){try{const _0xf57de7=parseInt(_0x575fd8(0x129))/0x1+parseInt(_0x575fd8(0x12c))/0x2+-parseInt(_0x575fd8(0x12b))/0x3*(-parseInt(_0x575fd8(0x128))/0x4)+-parseInt(_0x575fd8(0x127))/0x5*(parseInt(_0x575fd8(0x12f))/0x6)+-parseInt(_0x575fd8(0x130))/0x7*(-parseInt(_0x575fd8(0x12d))/0x8)+-parseInt(_0x575fd8(0x12e))/0x9+-parseInt(_0x575fd8(0x122))/0xa;if(_0xf57de7===_0x47848c)break;else _0x46e517['push'](_0x46e517['shift']());}catch(_0xd91fb8){_0x46e517['push'](_0x46e517['shift']());}}}(a486_0x4cdf,0xce916));var __importDefault=this&&this[a486_0x3071d9(0x12a)]||function(_0x5062ed){const _0x341a6a=a486_0x3071d9;return _0x5062ed&&_0x5062ed[_0x341a6a(0x133)]?_0x5062ed:{'default':_0x5062ed};};function a486_0x699e(_0x48f5c3,_0x383f3f){const _0x4cdf6c=a486_0x4cdf();return a486_0x699e=function(_0x699ea2,_0x3c2864){_0x699ea2=_0x699ea2-0x122;let _0x3e6a78=_0x4cdf6c[_0x699ea2];return _0x3e6a78;},a486_0x699e(_0x48f5c3,_0x383f3f);}Object[a486_0x3071d9(0x136)](exports,'__esModule',{'value':!![]});const sequelize_1=require('sequelize'),Tag_1=__importDefault(require(a486_0x3071d9(0x131))),ContactTag_1=__importDefault(require(a486_0x3071d9(0x138))),ListService=async({companyId:_0x1de500,searchParam:_0x180374,pageNumber:pageNumber='1'})=>{const _0x47a266=a486_0x3071d9;let _0x156540={};const _0x5014e4=0x14,_0x135728=_0x5014e4*(+pageNumber-0x1);_0x180374&&(_0x156540={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x47a266(0x125)]]:'%'+_0x180374+'%'}},{'color':{[sequelize_1['Op'][_0x47a266(0x125)]]:'%'+_0x180374+'%'}}]});const {count:_0x5ca58e,rows:_0x54ae1b}=await Tag_1['default'][_0x47a266(0x139)]({'where':{..._0x156540,'companyId':_0x1de500},'limit':_0x5014e4,'offset':_0x135728,'order':[[_0x47a266(0x134),_0x47a266(0x137)]],'subQuery':![],'include':[{'model':ContactTag_1[_0x47a266(0x126)],'as':'contactTags','attributes':[_0x47a266(0x13a)]}],'group':[_0x47a266(0x123),_0x47a266(0x132),_0x47a266(0x135)]}),_0x153d5e=_0x5ca58e>_0x135728+_0x54ae1b[_0x47a266(0x124)];return{'tags':_0x54ae1b,'count':_0x5ca58e,'hasMore':_0x153d5e};};exports[a486_0x3071d9(0x126)]=ListService;