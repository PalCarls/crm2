'use strict';const a576_0x4864c8=a576_0x10c1;function a576_0x10c1(_0x4ca2ef,_0x40a91a){const _0x10212b=a576_0x1021();return a576_0x10c1=function(_0x10c1cb,_0xbb0a34){_0x10c1cb=_0x10c1cb-0x197;let _0x3ef79a=_0x10212b[_0x10c1cb];return _0x3ef79a;},a576_0x10c1(_0x4ca2ef,_0x40a91a);}(function(_0x3a8a10,_0x1c24c7){const _0x337327=a576_0x10c1,_0x115f85=_0x3a8a10();while(!![]){try{const _0x426c7c=-parseInt(_0x337327(0x1b2))/0x1*(parseInt(_0x337327(0x1ac))/0x2)+parseInt(_0x337327(0x1af))/0x3*(-parseInt(_0x337327(0x1ae))/0x4)+-parseInt(_0x337327(0x19e))/0x5*(parseInt(_0x337327(0x19b))/0x6)+parseInt(_0x337327(0x1b5))/0x7*(-parseInt(_0x337327(0x19c))/0x8)+parseInt(_0x337327(0x19d))/0x9+parseInt(_0x337327(0x1a4))/0xa+parseInt(_0x337327(0x1a3))/0xb;if(_0x426c7c===_0x1c24c7)break;else _0x115f85['push'](_0x115f85['shift']());}catch(_0x8d39ac){_0x115f85['push'](_0x115f85['shift']());}}}(a576_0x1021,0xd270e));function a576_0x1021(){const _0x484a64=['../../models/Tag','defineProperty','ticketTags','name','61564745FaeBwY','94530lwHFmC','length','../../models/TicketTag','LOWER','like','col','__esModule','color','512390YaAURS','ASC','2048548jymcFZ','6RQJyKs','LIKE','where','3TTEeiA','remove-accents','Sequelize','35khJomo','findAndCountAll','default','../../models/ContactTag','Tag.name','toLocaleLowerCase','18GmHLoz','2505976hekyAg','798732wBrdkw','2456560QSTJfc'];a576_0x1021=function(){return _0x484a64;};return a576_0x1021();}var __importDefault=this&&this['__importDefault']||function(_0xa8d06){const _0x1afe9=a576_0x10c1;return _0xa8d06&&_0xa8d06[_0x1afe9(0x1aa)]?_0xa8d06:{'default':_0xa8d06};};Object[a576_0x4864c8(0x1a0)](exports,a576_0x4864c8(0x1aa),{'value':!![]});const sequelize_1=require('sequelize'),Tag_1=__importDefault(require(a576_0x4864c8(0x19f))),ContactTag_1=__importDefault(require(a576_0x4864c8(0x198))),TicketTag_1=__importDefault(require(a576_0x4864c8(0x1a6))),remove_accents_1=__importDefault(require(a576_0x4864c8(0x1b3))),ListService=async({companyId:_0x466c82,searchParam:searchParam='',pageNumber:pageNumber='1',kanban:kanban=0x0})=>{const _0x1d85ce=a576_0x4864c8;let _0x55e260={};const _0x39e857=0x64,_0x314ad2=_0x39e857*(+pageNumber-0x1),_0x18ecb6=(0x0,remove_accents_1['default'])(searchParam[_0x1d85ce(0x19a)]()['trim']());if(Number(kanban)===0x0){searchParam&&(_0x55e260={[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x1d85ce(0x1b4)][_0x1d85ce(0x1b1)](sequelize_1[_0x1d85ce(0x1b4)]['fn'](_0x1d85ce(0x1a7),sequelize_1[_0x1d85ce(0x1b4)][_0x1d85ce(0x1a9)]('Tag.name')),'LIKE','%'+_0x18ecb6+'%')},{'color':{[sequelize_1['Op'][_0x1d85ce(0x1a8)]]:'%'+_0x18ecb6+'%'}}]});const {count:_0x2bb100,rows:_0x12f481}=await Tag_1[_0x1d85ce(0x197)][_0x1d85ce(0x1b6)]({'where':{..._0x55e260,'companyId':_0x466c82,'kanban':kanban},'limit':_0x39e857,'include':[{'model':ContactTag_1[_0x1d85ce(0x197)],'as':'contactTags'}],'attributes':['id','name','color'],'offset':_0x314ad2,'order':[[_0x1d85ce(0x1a2),_0x1d85ce(0x1ad)]]}),_0xe1a7b1=_0x2bb100>_0x314ad2+_0x12f481[_0x1d85ce(0x1a5)];return{'tags':_0x12f481,'count':_0x2bb100,'hasMore':_0xe1a7b1};}else{searchParam&&(_0x55e260={[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x1d85ce(0x1b4)][_0x1d85ce(0x1b1)](sequelize_1['Sequelize']['fn'](_0x1d85ce(0x1a7),sequelize_1[_0x1d85ce(0x1b4)][_0x1d85ce(0x1a9)](_0x1d85ce(0x199))),_0x1d85ce(0x1b0),'%'+_0x18ecb6+'%')},{'color':{[sequelize_1['Op']['like']]:'%'+_0x18ecb6+'%'}}]});const {count:_0x31889e,rows:_0x1bfca5}=await Tag_1[_0x1d85ce(0x197)][_0x1d85ce(0x1b6)]({'where':{..._0x55e260,'companyId':_0x466c82,'kanban':kanban},'limit':_0x39e857,'offset':_0x314ad2,'order':[[_0x1d85ce(0x1a2),_0x1d85ce(0x1ad)]],'include':[{'model':TicketTag_1['default'],'as':_0x1d85ce(0x1a1)}],'attributes':['id',_0x1d85ce(0x1a2),_0x1d85ce(0x1ab)]}),_0x6b70c4=_0x31889e>_0x314ad2+_0x1bfca5[_0x1d85ce(0x1a5)];return{'tags':_0x1bfca5,'count':_0x31889e,'hasMore':_0x6b70c4};}};exports[a576_0x4864c8(0x197)]=ListService;