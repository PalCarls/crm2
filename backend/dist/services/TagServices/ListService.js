'use strict';function a504_0x25c5(_0x938d5e,_0x2a4598){const _0x3f5828=a504_0x3f58();return a504_0x25c5=function(_0x25c5ff,_0x5c6a29){_0x25c5ff=_0x25c5ff-0xc8;let _0x11fb70=_0x3f5828[_0x25c5ff];return _0x11fb70;},a504_0x25c5(_0x938d5e,_0x2a4598);}const a504_0x18a665=a504_0x25c5;(function(_0xcdf6db,_0x1b1c25){const _0x32fe17=a504_0x25c5,_0x4370cd=_0xcdf6db();while(!![]){try{const _0x1dab2d=parseInt(_0x32fe17(0xe0))/0x1*(parseInt(_0x32fe17(0xc8))/0x2)+parseInt(_0x32fe17(0xcf))/0x3*(-parseInt(_0x32fe17(0xdb))/0x4)+parseInt(_0x32fe17(0xdd))/0x5*(-parseInt(_0x32fe17(0xd3))/0x6)+-parseInt(_0x32fe17(0xe4))/0x7+parseInt(_0x32fe17(0xd7))/0x8*(parseInt(_0x32fe17(0xd4))/0x9)+parseInt(_0x32fe17(0xcb))/0xa*(-parseInt(_0x32fe17(0xde))/0xb)+parseInt(_0x32fe17(0xe5))/0xc*(parseInt(_0x32fe17(0xd2))/0xd);if(_0x1dab2d===_0x1b1c25)break;else _0x4370cd['push'](_0x4370cd['shift']());}catch(_0x5c0a12){_0x4370cd['push'](_0x4370cd['shift']());}}}(a504_0x3f58,0xc3a74));function a504_0x3f58(){const _0x306bad=['4044ccJBWW','__importDefault','../../models/ContactTag','80lrefFU','name','__esModule','ticketTags.ticketId','489366rQKRjC','like','ASC','2835300nQbzEg','26346gRjlZM','4438197qgTGEI','defineProperty','default','8NwELJF','sequelize','findAndCountAll','contactTags.contactId','16BCavbq','length','345qCymVb','806861Krvwqd','ticketTags','730VUGHXY','contactTags','contactTags.tagId','../../models/TicketTag','3485454BygeLw','48rxPPuS','tagId','Tag.id'];a504_0x3f58=function(){return _0x306bad;};return a504_0x3f58();}var __importDefault=this&&this[a504_0x18a665(0xc9)]||function(_0x192e28){const _0x3ea495=a504_0x18a665;return _0x192e28&&_0x192e28[_0x3ea495(0xcd)]?_0x192e28:{'default':_0x192e28};};Object[a504_0x18a665(0xd5)](exports,a504_0x18a665(0xcd),{'value':!![]});const sequelize_1=require(a504_0x18a665(0xd8)),Tag_1=__importDefault(require('../../models/Tag')),ContactTag_1=__importDefault(require(a504_0x18a665(0xca))),TicketTag_1=__importDefault(require(a504_0x18a665(0xe3))),ListService=async({companyId:_0x241d10,searchParam:_0x6766ef,pageNumber:pageNumber='1',kanban:kanban=0x0})=>{const _0x1c8905=a504_0x18a665;let _0x4f4a0f={};const _0xd3e6e0=0x14,_0xcdebf8=_0xd3e6e0*(+pageNumber-0x1);if(Number(kanban)===0x0){_0x6766ef&&(_0x4f4a0f={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op']['like']]:'%'+_0x6766ef+'%'}},{'color':{[sequelize_1['Op']['like']]:'%'+_0x6766ef+'%'}}]});const {count:_0x2cecd1,rows:_0x42ef92}=await Tag_1[_0x1c8905(0xd6)][_0x1c8905(0xd9)]({'where':{..._0x4f4a0f,'companyId':_0x241d10,'kanban':kanban},'limit':_0xd3e6e0,'offset':_0xcdebf8,'order':[[_0x1c8905(0xcc),_0x1c8905(0xd1)]],'subQuery':![],'include':[{'model':ContactTag_1['default'],'as':_0x1c8905(0xe1),'attributes':[_0x1c8905(0xe6)]}],'group':[_0x1c8905(0xe7),_0x1c8905(0xe2),_0x1c8905(0xda)]}),_0x5943cd=_0x2cecd1>_0xcdebf8+_0x42ef92[_0x1c8905(0xdc)];return{'tags':_0x42ef92,'count':_0x2cecd1,'hasMore':_0x5943cd};}else{_0x6766ef&&(_0x4f4a0f={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x1c8905(0xd0)]]:'%'+_0x6766ef+'%'}},{'color':{[sequelize_1['Op'][_0x1c8905(0xd0)]]:'%'+_0x6766ef+'%'}}]});const {count:_0xe6a54c,rows:_0x8ddde3}=await Tag_1[_0x1c8905(0xd6)][_0x1c8905(0xd9)]({'where':{..._0x4f4a0f,'companyId':_0x241d10,'kanban':kanban},'limit':_0xd3e6e0,'offset':_0xcdebf8,'order':[[_0x1c8905(0xcc),_0x1c8905(0xd1)]],'subQuery':![],'include':[{'model':TicketTag_1['default'],'as':_0x1c8905(0xdf),'attributes':[_0x1c8905(0xe6)]}],'group':[_0x1c8905(0xe7),'ticketTags.tagId',_0x1c8905(0xce)]}),_0x30b763=_0xe6a54c>_0xcdebf8+_0x8ddde3[_0x1c8905(0xdc)];return{'tags':_0x8ddde3,'count':_0xe6a54c,'hasMore':_0x30b763};}};exports[a504_0x18a665(0xd6)]=ListService;