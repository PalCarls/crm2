'use strict';const a519_0x50ac39=a519_0x3814;(function(_0x3e7a68,_0x7f67e8){const _0x8ae4ee=a519_0x3814,_0x15b473=_0x3e7a68();while(!![]){try{const _0x1da429=-parseInt(_0x8ae4ee(0x68))/0x1+-parseInt(_0x8ae4ee(0x77))/0x2+-parseInt(_0x8ae4ee(0x76))/0x3*(parseInt(_0x8ae4ee(0x70))/0x4)+parseInt(_0x8ae4ee(0x73))/0x5+-parseInt(_0x8ae4ee(0x83))/0x6+-parseInt(_0x8ae4ee(0x6a))/0x7*(parseInt(_0x8ae4ee(0x7a))/0x8)+parseInt(_0x8ae4ee(0x81))/0x9*(parseInt(_0x8ae4ee(0x7c))/0xa);if(_0x1da429===_0x7f67e8)break;else _0x15b473['push'](_0x15b473['shift']());}catch(_0x2aa0bc){_0x15b473['push'](_0x15b473['shift']());}}}(a519_0x4102,0x23796));function a519_0x3814(_0x1c8e56,_0x1c396c){const _0x41022f=a519_0x4102();return a519_0x3814=function(_0x3814ba,_0x361099){_0x3814ba=_0x3814ba-0x67;let _0x21731b=_0x41022f[_0x3814ba];return _0x21731b;},a519_0x3814(_0x1c8e56,_0x1c396c);}var __importDefault=this&&this[a519_0x50ac39(0x7d)]||function(_0x36618c){return _0x36618c&&_0x36618c['__esModule']?_0x36618c:{'default':_0x36618c};};Object[a519_0x50ac39(0x75)](exports,a519_0x50ac39(0x84),{'value':!![]});const sequelize_1=require(a519_0x50ac39(0x72)),Tag_1=__importDefault(require(a519_0x50ac39(0x6b))),ContactTag_1=__importDefault(require('../../models/ContactTag')),TicketTag_1=__importDefault(require(a519_0x50ac39(0x6d))),ListService=async({companyId:_0x3241c1,searchParam:_0x1b4e94,pageNumber:pageNumber='1',kanban:kanban=0x0})=>{const _0x446eb2=a519_0x50ac39;let _0x2f525c={};console[_0x446eb2(0x6e)](_0x1b4e94);if(Number(kanban)===0x0){_0x1b4e94&&(_0x2f525c={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x446eb2(0x7f)]]:'%'+_0x1b4e94+'%'}},{'color':{[sequelize_1['Op'][_0x446eb2(0x7f)]]:'%'+_0x1b4e94+'%'}}]});const _0x4494f0=0x14,_0xa2a378=_0x4494f0*(+pageNumber-0x1),{count:_0x205f28,rows:_0x2139b3}=await Tag_1[_0x446eb2(0x78)][_0x446eb2(0x69)]({'where':{..._0x2f525c,'companyId':_0x3241c1,'kanban':kanban},'limit':_0x4494f0,'offset':_0xa2a378,'order':[['name',_0x446eb2(0x80)]],'subQuery':![],'include':[{'model':ContactTag_1[_0x446eb2(0x78)],'as':_0x446eb2(0x7e),'attributes':[],'required':![]}],'attributes':['id',_0x446eb2(0x6f),'color',[(0x0,sequelize_1['fn'])(_0x446eb2(0x82),(0x0,sequelize_1['col'])(_0x446eb2(0x6c))),_0x446eb2(0x79)]],'group':[_0x446eb2(0x74)]}),_0x5ab6d4=_0x205f28>_0xa2a378+_0x2139b3[_0x446eb2(0x7b)];return console[_0x446eb2(0x6e)](_0x5ab6d4),{'tags':_0x2139b3,'count':_0x205f28,'hasMore':_0x5ab6d4};}else{_0x1b4e94&&(_0x2f525c={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x446eb2(0x7f)]]:'%'+_0x1b4e94+'%'}},{'color':{[sequelize_1['Op']['like']]:'%'+_0x1b4e94+'%'}}]});const _0x27c4b7=0x14,_0xab10e1=_0x27c4b7*(+pageNumber-0x1),{count:_0x4be635,rows:_0x5a4bd7}=await Tag_1[_0x446eb2(0x78)][_0x446eb2(0x69)]({'where':{..._0x2f525c,'companyId':_0x3241c1,'kanban':kanban},'limit':_0x27c4b7,'offset':_0xab10e1,'order':[[_0x446eb2(0x6f),'ASC']],'subQuery':![],'include':[{'model':TicketTag_1[_0x446eb2(0x78)],'as':_0x446eb2(0x71),'attributes':[],'required':![]}],'attributes':['id',_0x446eb2(0x6f),_0x446eb2(0x67),[(0x0,sequelize_1['fn'])('count',(0x0,sequelize_1['col'])('ticketTags.tagId')),'ticketsCount']],'group':['Tag.id']}),_0x47a3e6=_0x4be635>_0xab10e1+_0x5a4bd7[_0x446eb2(0x7b)];return{'tags':_0x5a4bd7,'count':_0x4be635,'hasMore':_0x47a3e6};}};exports[a519_0x50ac39(0x78)]=ListService;function a519_0x4102(){const _0x5f48ac=['default','contactsCount','5672hSWRtN','length','6889920FAVwiN','__importDefault','contactTags','like','ASC','9cykFxo','count','1208298yBHbGd','__esModule','color','42945MwVIYC','findAndCountAll','1057cafjxi','../../models/Tag','contactTags.tagId','../../models/TicketTag','log','name','26268FcpbLC','ticketTags','sequelize','1010630GKIIUq','Tag.id','defineProperty','129qOwqgK','224096jcFtdR'];a519_0x4102=function(){return _0x5f48ac;};return a519_0x4102();}