'use strict';const a519_0x5e7eb9=a519_0x6d2a;(function(_0x59d896,_0x49dd6e){const _0x1f03d3=a519_0x6d2a,_0x246aa7=_0x59d896();while(!![]){try{const _0x10389a=-parseInt(_0x1f03d3(0x1cf))/0x1*(parseInt(_0x1f03d3(0x1dc))/0x2)+parseInt(_0x1f03d3(0x1cc))/0x3+parseInt(_0x1f03d3(0x1c9))/0x4+-parseInt(_0x1f03d3(0x1ca))/0x5*(-parseInt(_0x1f03d3(0x1cb))/0x6)+-parseInt(_0x1f03d3(0x1d7))/0x7+-parseInt(_0x1f03d3(0x1ce))/0x8*(-parseInt(_0x1f03d3(0x1d2))/0x9)+parseInt(_0x1f03d3(0x1c5))/0xa*(parseInt(_0x1f03d3(0x1da))/0xb);if(_0x10389a===_0x49dd6e)break;else _0x246aa7['push'](_0x246aa7['shift']());}catch(_0x27fa5d){_0x246aa7['push'](_0x246aa7['shift']());}}}(a519_0x5f3f,0x9a862));var __importDefault=this&&this[a519_0x5e7eb9(0x1bf)]||function(_0x220f30){const _0x59c4a3=a519_0x5e7eb9;return _0x220f30&&_0x220f30[_0x59c4a3(0x1d0)]?_0x220f30:{'default':_0x220f30};};Object[a519_0x5e7eb9(0x1c3)](exports,a519_0x5e7eb9(0x1d0),{'value':!![]});function a519_0x5f3f(){const _0x313335=['contactTags','../../models/Tag','defineProperty','sequelize','10iWFLXh','name','color','Tag.id','1329000HyJuXX','2894135OxpDHJ','6EZmrQj','1597578sXobLZ','default','1064FFEXrs','107CnmZex','__esModule','like','3951FExfKN','log','ticketTags.tagId','ticketTags','length','5336562YvRkup','ticketsCount','ASC','3422551FNFBrg','count','7810MmeqHQ','findAndCountAll','contactsCount','__importDefault','col'];a519_0x5f3f=function(){return _0x313335;};return a519_0x5f3f();}function a519_0x6d2a(_0x2f9956,_0xd73677){const _0x5f3f0e=a519_0x5f3f();return a519_0x6d2a=function(_0x6d2aaa,_0x28864a){_0x6d2aaa=_0x6d2aaa-0x1bf;let _0x4742e7=_0x5f3f0e[_0x6d2aaa];return _0x4742e7;},a519_0x6d2a(_0x2f9956,_0xd73677);}const sequelize_1=require(a519_0x5e7eb9(0x1c4)),Tag_1=__importDefault(require(a519_0x5e7eb9(0x1c2))),ContactTag_1=__importDefault(require('../../models/ContactTag')),TicketTag_1=__importDefault(require('../../models/TicketTag')),ListService=async({companyId:_0x3e59e0,searchParam:_0x111df1,pageNumber:pageNumber='1',kanban:kanban=0x0})=>{const _0x248e73=a519_0x5e7eb9;let _0x5060ee={};console[_0x248e73(0x1d3)](_0x111df1);if(Number(kanban)===0x0){_0x111df1&&(_0x5060ee={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op']['like']]:'%'+_0x111df1+'%'}},{'color':{[sequelize_1['Op'][_0x248e73(0x1d1)]]:'%'+_0x111df1+'%'}}]});const _0x1344ec=0x14,_0x3279b6=_0x1344ec*(+pageNumber-0x1),{count:_0x5457a7,rows:_0x4f742b}=await Tag_1[_0x248e73(0x1cd)][_0x248e73(0x1dd)]({'where':{..._0x5060ee,'companyId':_0x3e59e0,'kanban':kanban},'limit':_0x1344ec,'offset':_0x3279b6,'order':[[_0x248e73(0x1c6),_0x248e73(0x1d9)]],'subQuery':![],'include':[{'model':ContactTag_1[_0x248e73(0x1cd)],'as':_0x248e73(0x1c1),'attributes':[],'required':![]}],'attributes':['id',_0x248e73(0x1c6),_0x248e73(0x1c7),[(0x0,sequelize_1['fn'])(_0x248e73(0x1db),(0x0,sequelize_1['col'])('contactTags.tagId')),_0x248e73(0x1de)]],'group':[_0x248e73(0x1c8)]}),_0x36c6fa=_0x5457a7>_0x3279b6+_0x4f742b['length'];return console['log'](_0x36c6fa),{'tags':_0x4f742b,'count':_0x5457a7,'hasMore':_0x36c6fa};}else{_0x111df1&&(_0x5060ee={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x248e73(0x1d1)]]:'%'+_0x111df1+'%'}},{'color':{[sequelize_1['Op'][_0x248e73(0x1d1)]]:'%'+_0x111df1+'%'}}]});const _0x2a6429=0x14,_0x1d6cf1=_0x2a6429*(+pageNumber-0x1),{count:_0x239a59,rows:_0x5b69be}=await Tag_1['default'][_0x248e73(0x1dd)]({'where':{..._0x5060ee,'companyId':_0x3e59e0,'kanban':kanban},'limit':_0x2a6429,'offset':_0x1d6cf1,'order':[[_0x248e73(0x1c6),_0x248e73(0x1d9)]],'subQuery':![],'include':[{'model':TicketTag_1[_0x248e73(0x1cd)],'as':_0x248e73(0x1d5),'attributes':[],'required':![]}],'attributes':['id','name',_0x248e73(0x1c7),[(0x0,sequelize_1['fn'])(_0x248e73(0x1db),(0x0,sequelize_1[_0x248e73(0x1c0)])(_0x248e73(0x1d4))),_0x248e73(0x1d8)]],'group':[_0x248e73(0x1c8)]}),_0x12022f=_0x239a59>_0x1d6cf1+_0x5b69be[_0x248e73(0x1d6)];return{'tags':_0x5b69be,'count':_0x239a59,'hasMore':_0x12022f};}};exports[a519_0x5e7eb9(0x1cd)]=ListService;