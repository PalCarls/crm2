'use strict';const a396_0x5ee071=a396_0x4a1e;(function(_0x3bdceb,_0x5ca7d8){const _0x50fa3e=a396_0x4a1e,_0x44d2dc=_0x3bdceb();while(!![]){try{const _0x577eeb=parseInt(_0x50fa3e(0x120))/0x1*(parseInt(_0x50fa3e(0x122))/0x2)+-parseInt(_0x50fa3e(0x126))/0x3*(parseInt(_0x50fa3e(0x11d))/0x4)+-parseInt(_0x50fa3e(0x11f))/0x5+parseInt(_0x50fa3e(0x11c))/0x6*(parseInt(_0x50fa3e(0x131))/0x7)+parseInt(_0x50fa3e(0x128))/0x8+-parseInt(_0x50fa3e(0x12a))/0x9+-parseInt(_0x50fa3e(0x129))/0xa*(-parseInt(_0x50fa3e(0x130))/0xb);if(_0x577eeb===_0x5ca7d8)break;else _0x44d2dc['push'](_0x44d2dc['shift']());}catch(_0x1d9b6a){_0x44d2dc['push'](_0x44d2dc['shift']());}}}(a396_0x592e,0x9c344));function a396_0x592e(){const _0x496458=['../../helpers/CreateTokens','../../config/auth','jsonwebtoken','__esModule','refreshSecret','2893zrInuW','469903LeqTLF','../UserServices/ShowUserService','default','ERR_SESSION_EXPIRED','RefreshTokenService','24aaySYA','4vGxpDk','createRefreshToken','5353660wHCdJT','11PnKrlR','verify','64970eGKkfW','../../errors/AppError','createAccessToken','clearCookie','1415853RaflQF','jrt','6068440BPTHgz','73330YxGmGH','10174410HguaLy'];a396_0x592e=function(){return _0x496458;};return a396_0x592e();}var __importDefault=this&&this['__importDefault']||function(_0x3ccfac){const _0x3592cb=a396_0x4a1e;return _0x3ccfac&&_0x3ccfac[_0x3592cb(0x12e)]?_0x3ccfac:{'default':_0x3ccfac};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a396_0x5ee071(0x11b)]=void 0x0;function a396_0x4a1e(_0x412fe5,_0x3ae52c){const _0x592e44=a396_0x592e();return a396_0x4a1e=function(_0x4a1e8b,_0x34965b){_0x4a1e8b=_0x4a1e8b-0x11b;let _0x439bae=_0x592e44[_0x4a1e8b];return _0x439bae;},a396_0x4a1e(_0x412fe5,_0x3ae52c);}const jsonwebtoken_1=require(a396_0x5ee071(0x12d)),AppError_1=__importDefault(require(a396_0x5ee071(0x123))),ShowUserService_1=__importDefault(require(a396_0x5ee071(0x132))),auth_1=__importDefault(require(a396_0x5ee071(0x12c))),CreateTokens_1=require(a396_0x5ee071(0x12b)),RefreshTokenService=async(_0x1616c0,_0x369e27)=>{const _0x3a8e12=a396_0x5ee071;try{const _0x3cec72=(0x0,jsonwebtoken_1[_0x3a8e12(0x121)])(_0x369e27,auth_1[_0x3a8e12(0x133)][_0x3a8e12(0x12f)]),{id:_0x5435cc,tokenVersion:_0x5e5eae,companyId:_0xc30537}=_0x3cec72,_0x12d824=await(0x0,ShowUserService_1[_0x3a8e12(0x133)])(_0x5435cc,_0xc30537);if(_0x12d824['tokenVersion']!==_0x5e5eae){_0x1616c0[_0x3a8e12(0x125)](_0x3a8e12(0x127));throw new AppError_1[(_0x3a8e12(0x133))]('ERR_SESSION_EXPIRED',0x191);}const _0x4fd64c=(0x0,CreateTokens_1[_0x3a8e12(0x124)])(_0x12d824),_0x2759de=(0x0,CreateTokens_1[_0x3a8e12(0x11e)])(_0x12d824);return{'user':_0x12d824,'newToken':_0x4fd64c,'refreshToken':_0x2759de};}catch(_0x5c488a){_0x1616c0['clearCookie'](_0x3a8e12(0x127));throw new AppError_1[(_0x3a8e12(0x133))](_0x3a8e12(0x134),0x191);}};exports[a396_0x5ee071(0x11b)]=RefreshTokenService;