'use strict';const a365_0x5e5b6d=a365_0x5dad;(function(_0x4676ce,_0x1a5c8d){const _0x32311d=a365_0x5dad,_0x4d7038=_0x4676ce();while(!![]){try{const _0x137e51=-parseInt(_0x32311d(0xc1))/0x1*(parseInt(_0x32311d(0xb5))/0x2)+parseInt(_0x32311d(0xcf))/0x3*(parseInt(_0x32311d(0xc7))/0x4)+-parseInt(_0x32311d(0xc9))/0x5*(-parseInt(_0x32311d(0xc0))/0x6)+-parseInt(_0x32311d(0xbb))/0x7+parseInt(_0x32311d(0xcb))/0x8*(parseInt(_0x32311d(0xcc))/0x9)+-parseInt(_0x32311d(0xba))/0xa+-parseInt(_0x32311d(0xca))/0xb*(-parseInt(_0x32311d(0xc8))/0xc);if(_0x137e51===_0x1a5c8d)break;else _0x4d7038['push'](_0x4d7038['shift']());}catch(_0xd86af7){_0x4d7038['push'](_0x4d7038['shift']());}}}(a365_0xa882,0x9eaeb));function a365_0x5dad(_0x12ca04,_0x5ed393){const _0xa88235=a365_0xa882();return a365_0x5dad=function(_0x5dad64,_0x3cebc3){_0x5dad64=_0x5dad64-0xb5;let _0x365e56=_0xa88235[_0x5dad64];return _0x365e56;},a365_0x5dad(_0x12ca04,_0x5ed393);}function a365_0xa882(){const _0x3105a7=['1720411ERoAlS','108192ElmeVC','45twwoZB','RefreshTokenService','refreshSecret','3040419gtHHcn','../UserServices/ShowUserService','410otAprH','default','tokenVersion','jrt','verify','8734200XAVBvn','964173MQDFBK','clearCookie','__esModule','../../errors/AppError','../../helpers/CreateTokens','3589002BwPRgR','5429ZqlOUy','../../config/auth','jsonwebtoken','createRefreshToken','defineProperty','ERR_SESSION_EXPIRED','4BxrRvn','84XiSzzv','5kGUFPj'];a365_0xa882=function(){return _0x3105a7;};return a365_0xa882();}var __importDefault=this&&this['__importDefault']||function(_0x53a6bd){const _0x3ae521=a365_0x5dad;return _0x53a6bd&&_0x53a6bd[_0x3ae521(0xbd)]?_0x53a6bd:{'default':_0x53a6bd};};Object[a365_0x5e5b6d(0xc5)](exports,'__esModule',{'value':!![]}),exports[a365_0x5e5b6d(0xcd)]=void 0x0;const jsonwebtoken_1=require(a365_0x5e5b6d(0xc3)),AppError_1=__importDefault(require(a365_0x5e5b6d(0xbe))),ShowUserService_1=__importDefault(require(a365_0x5e5b6d(0xd0))),auth_1=__importDefault(require(a365_0x5e5b6d(0xc2))),CreateTokens_1=require(a365_0x5e5b6d(0xbf)),RefreshTokenService=async(_0x1a2b31,_0x40a50e)=>{const _0xba2e36=a365_0x5e5b6d;try{const _0xbac0e0=(0x0,jsonwebtoken_1[_0xba2e36(0xb9)])(_0x40a50e,auth_1[_0xba2e36(0xb6)][_0xba2e36(0xce)]),{id:_0x3fb649,tokenVersion:_0x410eea,companyId:_0x4e2257}=_0xbac0e0,_0x493c5f=await(0x0,ShowUserService_1[_0xba2e36(0xb6)])(_0x3fb649);if(_0x493c5f[_0xba2e36(0xb7)]!==_0x410eea){_0x1a2b31[_0xba2e36(0xbc)](_0xba2e36(0xb8));throw new AppError_1['default']('ERR_SESSION_EXPIRED',0x191);}const _0x5a3b47=(0x0,CreateTokens_1['createAccessToken'])(_0x493c5f),_0xd69113=(0x0,CreateTokens_1[_0xba2e36(0xc4)])(_0x493c5f);return{'user':_0x493c5f,'newToken':_0x5a3b47,'refreshToken':_0xd69113};}catch(_0x2cb364){_0x1a2b31[_0xba2e36(0xbc)](_0xba2e36(0xb8));throw new AppError_1[(_0xba2e36(0xb6))](_0xba2e36(0xc6),0x191);}};exports[a365_0x5e5b6d(0xcd)]=RefreshTokenService;