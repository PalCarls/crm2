'use strict';function a336_0x144c(_0x1373db,_0x54feaf){const _0x1c1ea2=a336_0x1c1e();return a336_0x144c=function(_0x144cbf,_0x30ab95){_0x144cbf=_0x144cbf-0x83;let _0x34c4f0=_0x1c1ea2[_0x144cbf];return _0x34c4f0;},a336_0x144c(_0x1373db,_0x54feaf);}const a336_0x7086ab=a336_0x144c;(function(_0x144741,_0x421906){const _0x2fea93=a336_0x144c,_0x415a31=_0x144741();while(!![]){try{const _0x4a60e1=-parseInt(_0x2fea93(0x8d))/0x1+parseInt(_0x2fea93(0x9b))/0x2+-parseInt(_0x2fea93(0x99))/0x3*(-parseInt(_0x2fea93(0x85))/0x4)+-parseInt(_0x2fea93(0x8e))/0x5*(parseInt(_0x2fea93(0x83))/0x6)+parseInt(_0x2fea93(0x8f))/0x7+-parseInt(_0x2fea93(0x8a))/0x8*(-parseInt(_0x2fea93(0x84))/0x9)+-parseInt(_0x2fea93(0x90))/0xa;if(_0x4a60e1===_0x421906)break;else _0x415a31['push'](_0x415a31['shift']());}catch(_0x1be209){_0x415a31['push'](_0x415a31['shift']());}}}(a336_0x1c1e,0x7a7c1));function a336_0x1c1e(){const _0x2cfdd4=['1686RSaKVt','18wzIran','1032lCaoLE','../UserServices/ShowUserService','__esModule','../../helpers/CreateTokens','createAccessToken','143872VUawWL','verify','ERR_SESSION_EXPIRED','83179KUsSxB','15CDaYyG','6175995pSiZNe','9242610FKEswP','RefreshTokenService','jrt','defineProperty','default','refreshSecret','../../config/auth','clearCookie','jsonwebtoken','690Ydfnhd','createRefreshToken','1064774mjbmeX'];a336_0x1c1e=function(){return _0x2cfdd4;};return a336_0x1c1e();}var __importDefault=this&&this['__importDefault']||function(_0x587722){const _0x5540eb=a336_0x144c;return _0x587722&&_0x587722[_0x5540eb(0x87)]?_0x587722:{'default':_0x587722};};Object[a336_0x7086ab(0x93)](exports,'__esModule',{'value':!![]}),exports[a336_0x7086ab(0x91)]=void 0x0;const jsonwebtoken_1=require(a336_0x7086ab(0x98)),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require(a336_0x7086ab(0x86))),auth_1=__importDefault(require(a336_0x7086ab(0x96))),CreateTokens_1=require(a336_0x7086ab(0x88)),RefreshTokenService=async(_0x1ac61c,_0x4dc709)=>{const _0x5dda3d=a336_0x7086ab;try{const _0x1974aa=(0x0,jsonwebtoken_1[_0x5dda3d(0x8b)])(_0x4dc709,auth_1[_0x5dda3d(0x94)][_0x5dda3d(0x95)]),{id:_0x336c4a,tokenVersion:_0x465e32,companyId:_0x4d98db}=_0x1974aa,_0x49f381=await(0x0,ShowUserService_1[_0x5dda3d(0x94)])(_0x336c4a);if(_0x49f381['tokenVersion']!==_0x465e32){_0x1ac61c[_0x5dda3d(0x97)](_0x5dda3d(0x92));throw new AppError_1[(_0x5dda3d(0x94))](_0x5dda3d(0x8c),0x191);}const _0xdc15f0=(0x0,CreateTokens_1[_0x5dda3d(0x89)])(_0x49f381),_0x103b34=(0x0,CreateTokens_1[_0x5dda3d(0x9a)])(_0x49f381);return{'user':_0x49f381,'newToken':_0xdc15f0,'refreshToken':_0x103b34};}catch(_0x1697b1){_0x1ac61c[_0x5dda3d(0x97)](_0x5dda3d(0x92));throw new AppError_1[(_0x5dda3d(0x94))](_0x5dda3d(0x8c),0x191);}};exports['RefreshTokenService']=RefreshTokenService;