'use strict';function a321_0x5c20(){const _0x18a8e8=['clearCookie','33872YSPbEO','jsonwebtoken','tokenVersion','../../helpers/CreateTokens','jrt','9yweUmx','1902357pXbRKz','../../config/auth','4418320XQulpc','default','RefreshTokenService','__esModule','createRefreshToken','987crjFXU','655234OHfmqO','refreshSecret','ERR_SESSION_EXPIRED','verify','5QocvXl','215886oXZvvg','674682nMFppS','10184WNrXpg','createAccessToken'];a321_0x5c20=function(){return _0x18a8e8;};return a321_0x5c20();}const a321_0x22f91a=a321_0x1616;(function(_0xe2aa62,_0x3a477f){const _0x39eb7e=a321_0x1616,_0x477204=_0xe2aa62();while(!![]){try{const _0x20812e=-parseInt(_0x39eb7e(0x92))/0x1+-parseInt(_0x39eb7e(0x8d))/0x2+parseInt(_0x39eb7e(0x9c))/0x3*(parseInt(_0x39eb7e(0x97))/0x4)+-parseInt(_0x39eb7e(0x91))/0x5*(parseInt(_0x39eb7e(0x93))/0x6)+-parseInt(_0x39eb7e(0x8c))/0x7*(-parseInt(_0x39eb7e(0x94))/0x8)+parseInt(_0x39eb7e(0x9d))/0x9+parseInt(_0x39eb7e(0x9f))/0xa;if(_0x20812e===_0x3a477f)break;else _0x477204['push'](_0x477204['shift']());}catch(_0x2d1ee8){_0x477204['push'](_0x477204['shift']());}}}(a321_0x5c20,0x315a8));function a321_0x1616(_0x21a9ee,_0x4316c6){const _0x5c20f7=a321_0x5c20();return a321_0x1616=function(_0x161620,_0x451960){_0x161620=_0x161620-0x89;let _0x410547=_0x5c20f7[_0x161620];return _0x410547;},a321_0x1616(_0x21a9ee,_0x4316c6);}var __importDefault=this&&this['__importDefault']||function(_0x4170d9){return _0x4170d9&&_0x4170d9['__esModule']?_0x4170d9:{'default':_0x4170d9};};Object['defineProperty'](exports,a321_0x22f91a(0x8a),{'value':!![]}),exports[a321_0x22f91a(0x89)]=void 0x0;const jsonwebtoken_1=require(a321_0x22f91a(0x98)),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require('../UserServices/ShowUserService')),auth_1=__importDefault(require(a321_0x22f91a(0x9e))),CreateTokens_1=require(a321_0x22f91a(0x9a)),RefreshTokenService=async(_0x3d047d,_0x48a6a4)=>{const _0x323e5e=a321_0x22f91a;try{const _0x5842c9=(0x0,jsonwebtoken_1[_0x323e5e(0x90)])(_0x48a6a4,auth_1[_0x323e5e(0xa0)][_0x323e5e(0x8e)]),{id:_0x4e4f02,tokenVersion:_0x1bcc2d,companyId:_0x1e3ed9}=_0x5842c9,_0x4463a0=await(0x0,ShowUserService_1[_0x323e5e(0xa0)])(_0x4e4f02);if(_0x4463a0[_0x323e5e(0x99)]!==_0x1bcc2d){_0x3d047d[_0x323e5e(0x96)](_0x323e5e(0x9b));throw new AppError_1['default'](_0x323e5e(0x8f),0x191);}const _0x4abd97=(0x0,CreateTokens_1[_0x323e5e(0x95)])(_0x4463a0),_0x1ebca2=(0x0,CreateTokens_1[_0x323e5e(0x8b)])(_0x4463a0);return{'user':_0x4463a0,'newToken':_0x4abd97,'refreshToken':_0x1ebca2};}catch(_0x570b47){_0x3d047d['clearCookie']('jrt');throw new AppError_1[(_0x323e5e(0xa0))](_0x323e5e(0x8f),0x191);}};exports[a321_0x22f91a(0x89)]=RefreshTokenService;