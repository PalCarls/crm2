'use strict';const a365_0x1cade1=a365_0x56a1;(function(_0x448905,_0x27988c){const _0x369f3e=a365_0x56a1,_0x1757c2=_0x448905();while(!![]){try{const _0x381063=parseInt(_0x369f3e(0x188))/0x1+-parseInt(_0x369f3e(0x17a))/0x2+-parseInt(_0x369f3e(0x189))/0x3+-parseInt(_0x369f3e(0x178))/0x4*(parseInt(_0x369f3e(0x186))/0x5)+-parseInt(_0x369f3e(0x17b))/0x6+-parseInt(_0x369f3e(0x177))/0x7*(parseInt(_0x369f3e(0x18a))/0x8)+parseInt(_0x369f3e(0x182))/0x9;if(_0x381063===_0x27988c)break;else _0x1757c2['push'](_0x1757c2['shift']());}catch(_0x22ef32){_0x1757c2['push'](_0x1757c2['shift']());}}}(a365_0x9c01,0x63313));function a365_0x56a1(_0x4d6759,_0x54bdb0){const _0x9c01eb=a365_0x9c01();return a365_0x56a1=function(_0x56a1ff,_0x3946fd){_0x56a1ff=_0x56a1ff-0x177;let _0x576b00=_0x9c01eb[_0x56a1ff];return _0x576b00;},a365_0x56a1(_0x4d6759,_0x54bdb0);}var __importDefault=this&&this['__importDefault']||function(_0x42c1f7){return _0x42c1f7&&_0x42c1f7['__esModule']?_0x42c1f7:{'default':_0x42c1f7};};Object[a365_0x1cade1(0x184)](exports,a365_0x1cade1(0x18c),{'value':!![]}),exports[a365_0x1cade1(0x17f)]=void 0x0;const jsonwebtoken_1=require(a365_0x1cade1(0x183)),AppError_1=__importDefault(require(a365_0x1cade1(0x17c))),ShowUserService_1=__importDefault(require(a365_0x1cade1(0x187))),auth_1=__importDefault(require(a365_0x1cade1(0x185))),CreateTokens_1=require(a365_0x1cade1(0x181)),RefreshTokenService=async(_0x47b574,_0x29a004)=>{const _0x334277=a365_0x1cade1;try{const _0x240f7c=(0x0,jsonwebtoken_1[_0x334277(0x17e)])(_0x29a004,auth_1['default']['refreshSecret']),{id:_0x430856,tokenVersion:_0x14408e,companyId:_0x424c28}=_0x240f7c,_0x238697=await(0x0,ShowUserService_1[_0x334277(0x17d)])(_0x430856);if(_0x238697[_0x334277(0x179)]!==_0x14408e){_0x47b574[_0x334277(0x18b)](_0x334277(0x180));throw new AppError_1['default']('ERR_SESSION_EXPIRED',0x191);}const _0x4f1665=(0x0,CreateTokens_1['createAccessToken'])(_0x238697),_0x3da8dc=(0x0,CreateTokens_1[_0x334277(0x18d)])(_0x238697);return{'user':_0x238697,'newToken':_0x4f1665,'refreshToken':_0x3da8dc};}catch(_0x3afaad){_0x47b574['clearCookie']('jrt');throw new AppError_1[(_0x334277(0x17d))]('ERR_SESSION_EXPIRED',0x191);}};function a365_0x9c01(){const _0xc12c0b=['111283IFEbkF','709584aOXRcu','251144cISxKr','clearCookie','__esModule','createRefreshToken','28NVSPni','515568tKtmEL','tokenVersion','34014SHxsOV','4162440DCoJQl','../../errors/AppError','default','verify','RefreshTokenService','jrt','../../helpers/CreateTokens','14630751KhBady','jsonwebtoken','defineProperty','../../config/auth','10gVzLJX','../UserServices/ShowUserService'];a365_0x9c01=function(){return _0xc12c0b;};return a365_0x9c01();}exports[a365_0x1cade1(0x17f)]=RefreshTokenService;