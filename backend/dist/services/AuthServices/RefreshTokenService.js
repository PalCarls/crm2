'use strict';const a353_0x4d8e11=a353_0x450b;(function(_0xf2c030,_0x35e05a){const _0x441a55=a353_0x450b,_0x175352=_0xf2c030();while(!![]){try{const _0x23647b=parseInt(_0x441a55(0x7e))/0x1*(parseInt(_0x441a55(0x6d))/0x2)+parseInt(_0x441a55(0x78))/0x3+-parseInt(_0x441a55(0x76))/0x4*(parseInt(_0x441a55(0x79))/0x5)+parseInt(_0x441a55(0x7d))/0x6*(-parseInt(_0x441a55(0x6c))/0x7)+-parseInt(_0x441a55(0x75))/0x8+parseInt(_0x441a55(0x72))/0x9*(parseInt(_0x441a55(0x82))/0xa)+parseInt(_0x441a55(0x7c))/0xb;if(_0x23647b===_0x35e05a)break;else _0x175352['push'](_0x175352['shift']());}catch(_0x3f5bd1){_0x175352['push'](_0x175352['shift']());}}}(a353_0x29d4,0x3cb82));var __importDefault=this&&this[a353_0x4d8e11(0x6e)]||function(_0x5a4bfe){const _0x208aa0=a353_0x4d8e11;return _0x5a4bfe&&_0x5a4bfe[_0x208aa0(0x70)]?_0x5a4bfe:{'default':_0x5a4bfe};};Object['defineProperty'](exports,a353_0x4d8e11(0x70),{'value':!![]}),exports['RefreshTokenService']=void 0x0;const jsonwebtoken_1=require(a353_0x4d8e11(0x71)),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require(a353_0x4d8e11(0x77))),auth_1=__importDefault(require(a353_0x4d8e11(0x84))),CreateTokens_1=require(a353_0x4d8e11(0x80)),RefreshTokenService=async(_0x5719a7,_0x3d8ead)=>{const _0x55147d=a353_0x4d8e11;try{const _0x4489a5=(0x0,jsonwebtoken_1[_0x55147d(0x74)])(_0x3d8ead,auth_1['default']['refreshSecret']),{id:_0x130f71,tokenVersion:_0x4e1480,companyId:_0xd115b5}=_0x4489a5,_0x5a716d=await(0x0,ShowUserService_1[_0x55147d(0x7f)])(_0x130f71);if(_0x5a716d['tokenVersion']!==_0x4e1480){_0x5719a7[_0x55147d(0x7b)]('jrt');throw new AppError_1['default'](_0x55147d(0x73),0x191);}const _0x1b84c4=(0x0,CreateTokens_1[_0x55147d(0x81)])(_0x5a716d),_0x591381=(0x0,CreateTokens_1[_0x55147d(0x83)])(_0x5a716d);return{'user':_0x5a716d,'newToken':_0x1b84c4,'refreshToken':_0x591381};}catch(_0x146450){_0x5719a7['clearCookie'](_0x55147d(0x6f));throw new AppError_1[(_0x55147d(0x7f))]('ERR_SESSION_EXPIRED',0x191);}};exports[a353_0x4d8e11(0x7a)]=RefreshTokenService;function a353_0x450b(_0x48e14c,_0xa52e59){const _0x29d4d0=a353_0x29d4();return a353_0x450b=function(_0x450be7,_0x4f8321){_0x450be7=_0x450be7-0x6c;let _0x45e79c=_0x29d4d0[_0x450be7];return _0x45e79c;},a353_0x450b(_0x48e14c,_0xa52e59);}function a353_0x29d4(){const _0xf11569=['3485520hDgLYM','492028MqzGdQ','../UserServices/ShowUserService','452712bQrHUS','5WcNDHW','RefreshTokenService','clearCookie','4861747whQFmP','153582ffvjDr','166338bskThH','default','../../helpers/CreateTokens','createAccessToken','22070tsdZGo','createRefreshToken','../../config/auth','119bfpGdM','2WVbKeA','__importDefault','jrt','__esModule','jsonwebtoken','1971spGGvj','ERR_SESSION_EXPIRED','verify'];a353_0x29d4=function(){return _0xf11569;};return a353_0x29d4();}