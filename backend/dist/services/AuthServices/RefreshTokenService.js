'use strict';const a387_0x46e030=a387_0x2983;(function(_0x2d0440,_0x136290){const _0x3874fd=a387_0x2983,_0x19f210=_0x2d0440();while(!![]){try{const _0x270a1e=parseInt(_0x3874fd(0x187))/0x1+-parseInt(_0x3874fd(0x180))/0x2+parseInt(_0x3874fd(0x196))/0x3+parseInt(_0x3874fd(0x195))/0x4+-parseInt(_0x3874fd(0x18b))/0x5*(-parseInt(_0x3874fd(0x18e))/0x6)+-parseInt(_0x3874fd(0x193))/0x7+-parseInt(_0x3874fd(0x183))/0x8*(parseInt(_0x3874fd(0x182))/0x9);if(_0x270a1e===_0x136290)break;else _0x19f210['push'](_0x19f210['shift']());}catch(_0x25dbee){_0x19f210['push'](_0x19f210['shift']());}}}(a387_0xbedc,0xc6e9d));var __importDefault=this&&this['__importDefault']||function(_0x5859ae){const _0x2ba5f6=a387_0x2983;return _0x5859ae&&_0x5859ae[_0x2ba5f6(0x188)]?_0x5859ae:{'default':_0x5859ae};};function a387_0xbedc(){const _0x1a9c82=['../../helpers/CreateTokens','RefreshTokenService','../UserServices/ShowUserService','1055168rhLMIK','__esModule','ERR_SESSION_EXPIRED','createAccessToken','371005cRLEUH','default','jrt','84wmMJoo','refreshSecret','createRefreshToken','../../errors/AppError','../../config/auth','36204KxXSlv','tokenVersion','4365028DTIcST','3102042EfehTW','verify','3117018nBLojp','clearCookie','18891vyEZTl','7016tjItwK'];a387_0xbedc=function(){return _0x1a9c82;};return a387_0xbedc();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a387_0x46e030(0x185)]=void 0x0;const jsonwebtoken_1=require('jsonwebtoken'),AppError_1=__importDefault(require(a387_0x46e030(0x191))),ShowUserService_1=__importDefault(require(a387_0x46e030(0x186))),auth_1=__importDefault(require(a387_0x46e030(0x192))),CreateTokens_1=require(a387_0x46e030(0x184)),RefreshTokenService=async(_0x363854,_0x4f0748)=>{const _0x1062de=a387_0x46e030;try{const _0x351c0f=(0x0,jsonwebtoken_1[_0x1062de(0x197)])(_0x4f0748,auth_1['default'][_0x1062de(0x18f)]),{id:_0x1985ff,tokenVersion:_0x447034,companyId:_0x2a7f01}=_0x351c0f,_0x3ea008=await(0x0,ShowUserService_1[_0x1062de(0x18c)])(_0x1985ff,_0x2a7f01);if(_0x3ea008[_0x1062de(0x194)]!==_0x447034){_0x363854[_0x1062de(0x181)](_0x1062de(0x18d));throw new AppError_1[(_0x1062de(0x18c))](_0x1062de(0x189),0x191);}const _0x206f0d=(0x0,CreateTokens_1[_0x1062de(0x18a)])(_0x3ea008),_0x4e976e=(0x0,CreateTokens_1[_0x1062de(0x190)])(_0x3ea008);return{'user':_0x3ea008,'newToken':_0x206f0d,'refreshToken':_0x4e976e};}catch(_0xb523e2){_0x363854[_0x1062de(0x181)](_0x1062de(0x18d));throw new AppError_1['default'](_0x1062de(0x189),0x191);}};function a387_0x2983(_0x459d38,_0x43aa1b){const _0xbedcc4=a387_0xbedc();return a387_0x2983=function(_0x298376,_0x2c4425){_0x298376=_0x298376-0x180;let _0x5eae52=_0xbedcc4[_0x298376];return _0x5eae52;},a387_0x2983(_0x459d38,_0x43aa1b);}exports[a387_0x46e030(0x185)]=RefreshTokenService;