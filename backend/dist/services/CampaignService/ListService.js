'use strict';const a331_0x856d05=a331_0x3f29;function a331_0x576c(){const _0x119d45=['LIKE','18fSdyFu','findAndCountAll','../../models/Whatsapp','650717INbjuc','8523EJjdmO','default','lodash','14208HSWiyu','3050555ASxZDU','where','2729592JeYIxt','isEmpty','col','Campaign.name','toLowerCase','__esModule','1795497Lkcnpw','../../models/Campaign','10TgtgpM','name','trim','595392vrijto','589240SDwHBs','3GAayAh'];a331_0x576c=function(){return _0x119d45;};return a331_0x576c();}function a331_0x3f29(_0x57462c,_0x58c820){const _0x576c7f=a331_0x576c();return a331_0x3f29=function(_0x3f297d,_0x560f48){_0x3f297d=_0x3f297d-0x1dc;let _0x278c2d=_0x576c7f[_0x3f297d];return _0x278c2d;},a331_0x3f29(_0x57462c,_0x58c820);}(function(_0x354e9a,_0x40fe2e){const _0x1bcaf2=a331_0x3f29,_0x18667b=_0x354e9a();while(!![]){try{const _0x13a440=parseInt(_0x1bcaf2(0x1ed))/0x1+-parseInt(_0x1bcaf2(0x1f4))/0x2+parseInt(_0x1bcaf2(0x1e8))/0x3*(parseInt(_0x1bcaf2(0x1e7))/0x4)+-parseInt(_0x1bcaf2(0x1f2))/0x5+-parseInt(_0x1bcaf2(0x1ea))/0x6*(-parseInt(_0x1bcaf2(0x1e6))/0x7)+parseInt(_0x1bcaf2(0x1f1))/0x8*(parseInt(_0x1bcaf2(0x1ee))/0x9)+-parseInt(_0x1bcaf2(0x1e3))/0xa*(-parseInt(_0x1bcaf2(0x1e1))/0xb);if(_0x13a440===_0x40fe2e)break;else _0x18667b['push'](_0x18667b['shift']());}catch(_0x1e48f4){_0x18667b['push'](_0x18667b['shift']());}}}(a331_0x576c,0xe16fb));var __importDefault=this&&this['__importDefault']||function(_0x14c859){const _0x42512d=a331_0x3f29;return _0x14c859&&_0x14c859[_0x42512d(0x1e0)]?_0x14c859:{'default':_0x14c859};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const sequelize_1=require('sequelize'),Campaign_1=__importDefault(require(a331_0x856d05(0x1e2))),lodash_1=require(a331_0x856d05(0x1f0)),ContactList_1=__importDefault(require('../../models/ContactList')),Whatsapp_1=__importDefault(require(a331_0x856d05(0x1ec))),ListService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x40df94})=>{const _0xeccf2c=a331_0x856d05;let _0x5c976b={'companyId':_0x40df94};!(0x0,lodash_1[_0xeccf2c(0x1dc)])(searchParam)&&(_0x5c976b={..._0x5c976b,[sequelize_1['Op']['or']]:[{'name':(0x0,sequelize_1[_0xeccf2c(0x1f3)])((0x0,sequelize_1['fn'])('LOWER',(0x0,sequelize_1[_0xeccf2c(0x1dd)])(_0xeccf2c(0x1de))),_0xeccf2c(0x1e9),'%'+searchParam[_0xeccf2c(0x1df)]()[_0xeccf2c(0x1e5)]()+'%')}]});const _0x559d50=0x14,_0x42211d=_0x559d50*(+pageNumber-0x1),{count:_0x221802,rows:_0x369576}=await Campaign_1[_0xeccf2c(0x1ef)][_0xeccf2c(0x1eb)]({'where':_0x5c976b,'limit':_0x559d50,'offset':_0x42211d,'order':[[_0xeccf2c(0x1e4),'ASC']],'include':[{'model':ContactList_1[_0xeccf2c(0x1ef)]},{'model':Whatsapp_1[_0xeccf2c(0x1ef)],'attributes':['id','name']}]}),_0xb403f=_0x221802>_0x42211d+_0x369576['length'];return{'records':_0x369576,'count':_0x221802,'hasMore':_0xb403f};};exports['default']=ListService;