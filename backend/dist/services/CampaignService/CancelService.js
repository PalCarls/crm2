'use strict';const a356_0x30f2a8=a356_0x1378;(function(_0x389063,_0x390429){const _0x18e2a6=a356_0x1378,_0x21327e=_0x389063();while(!![]){try{const _0x3344e0=-parseInt(_0x18e2a6(0x1c6))/0x1*(-parseInt(_0x18e2a6(0x1c4))/0x2)+-parseInt(_0x18e2a6(0x1b8))/0x3*(parseInt(_0x18e2a6(0x1c7))/0x4)+parseInt(_0x18e2a6(0x1bf))/0x5*(-parseInt(_0x18e2a6(0x1c0))/0x6)+-parseInt(_0x18e2a6(0x1c9))/0x7*(parseInt(_0x18e2a6(0x1bd))/0x8)+-parseInt(_0x18e2a6(0x1c5))/0x9+-parseInt(_0x18e2a6(0x1cf))/0xa+-parseInt(_0x18e2a6(0x1d0))/0xb*(-parseInt(_0x18e2a6(0x1bb))/0xc);if(_0x3344e0===_0x390429)break;else _0x21327e['push'](_0x21327e['shift']());}catch(_0x2de77e){_0x21327e['push'](_0x21327e['shift']());}}}(a356_0x26bf,0x93888));function a356_0x26bf(){const _0x35d3b8=['findByPk','__esModule','3147arjsqP','defineProperty','not','64838112SmkPEx','push','104FTahAO','jobId','158235MeYpQe','114EDXvZG','default','sequelize','getJob','166hrfZdv','10012950ndpJfi','3057kSveoQ','4468NiHhKf','../../models/CampaignShipping','581294atGhqJ','findAll','campaignQueue','CancelService','remove','../../models/Campaign','10874890EymtnF','11jGawQk','__importDefault'];a356_0x26bf=function(){return _0x35d3b8;};return a356_0x26bf();}function a356_0x1378(_0x91e10e,_0x132bdf){const _0x26bf30=a356_0x26bf();return a356_0x1378=function(_0x13784d,_0x5866b6){_0x13784d=_0x13784d-0x1b5;let _0x1ffbf6=_0x26bf30[_0x13784d];return _0x1ffbf6;},a356_0x1378(_0x91e10e,_0x132bdf);}var __importDefault=this&&this[a356_0x30f2a8(0x1b5)]||function(_0x577558){const _0xbb63b2=a356_0x30f2a8;return _0x577558&&_0x577558[_0xbb63b2(0x1b7)]?_0x577558:{'default':_0x577558};};Object[a356_0x30f2a8(0x1b9)](exports,a356_0x30f2a8(0x1b7),{'value':!![]}),exports['CancelService']=void 0x0;const sequelize_1=require(a356_0x30f2a8(0x1c2)),Campaign_1=__importDefault(require(a356_0x30f2a8(0x1ce))),CampaignShipping_1=__importDefault(require(a356_0x30f2a8(0x1c8))),queues_1=require('../../queues');async function CancelService(_0x568fa8){const _0x41e4aa=a356_0x30f2a8,_0x10a725=await Campaign_1[_0x41e4aa(0x1c1)][_0x41e4aa(0x1b6)](_0x568fa8);await _0x10a725['update']({'status':'CANCELADA'});const _0x36286c=await CampaignShipping_1[_0x41e4aa(0x1c1)][_0x41e4aa(0x1ca)]({'where':{'campaignId':_0x10a725['id'],'jobId':{[sequelize_1['Op'][_0x41e4aa(0x1ba)]]:null},'deliveredAt':null}}),_0x26eb61=[];for(let _0x5bc090 of _0x36286c){const _0x1ea042=await queues_1[_0x41e4aa(0x1cb)][_0x41e4aa(0x1c3)](+_0x5bc090[_0x41e4aa(0x1be)]);_0x26eb61[_0x41e4aa(0x1bc)](_0x1ea042[_0x41e4aa(0x1cd)]());}await Promise['all'](_0x26eb61);}exports[a356_0x30f2a8(0x1cc)]=CancelService;