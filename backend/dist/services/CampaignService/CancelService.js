'use strict';const a357_0xffa92a=a357_0x30a8;(function(_0x368d1a,_0x22c941){const _0x395c73=a357_0x30a8,_0x2ccbd3=_0x368d1a();while(!![]){try{const _0x342e4a=-parseInt(_0x395c73(0x12b))/0x1+-parseInt(_0x395c73(0x129))/0x2+parseInt(_0x395c73(0x127))/0x3+parseInt(_0x395c73(0x133))/0x4*(parseInt(_0x395c73(0x131))/0x5)+parseInt(_0x395c73(0x135))/0x6*(parseInt(_0x395c73(0x134))/0x7)+parseInt(_0x395c73(0x137))/0x8+-parseInt(_0x395c73(0x11e))/0x9*(parseInt(_0x395c73(0x122))/0xa);if(_0x342e4a===_0x22c941)break;else _0x2ccbd3['push'](_0x2ccbd3['shift']());}catch(_0x4a354e){_0x2ccbd3['push'](_0x2ccbd3['shift']());}}}(a357_0x417a,0x7bdc8));function a357_0x417a(){const _0x51f6f2=['2070236mvmHgP','12YCcRwg','campaignQueue','6207152jnxeOX','17964171mSqbii','update','__importDefault','default','10EpVOZJ','push','sequelize','findByPk','../../models/CampaignShipping','1341717rIIToY','../../queues','230312dldieY','defineProperty','13325DONgQL','CancelService','findAll','__esModule','CANCELADA','../../models/Campaign','4505pdlZQi','jobId','3628TicnZR'];a357_0x417a=function(){return _0x51f6f2;};return a357_0x417a();}var __importDefault=this&&this[a357_0xffa92a(0x120)]||function(_0x31aab5){const _0x46ccf5=a357_0xffa92a;return _0x31aab5&&_0x31aab5[_0x46ccf5(0x12e)]?_0x31aab5:{'default':_0x31aab5};};function a357_0x30a8(_0x5c54df,_0x1ca919){const _0x417afd=a357_0x417a();return a357_0x30a8=function(_0x30a81d,_0x26ddfb){_0x30a81d=_0x30a81d-0x11e;let _0x1a815d=_0x417afd[_0x30a81d];return _0x1a815d;},a357_0x30a8(_0x5c54df,_0x1ca919);}Object[a357_0xffa92a(0x12a)](exports,'__esModule',{'value':!![]}),exports[a357_0xffa92a(0x12c)]=void 0x0;const sequelize_1=require(a357_0xffa92a(0x124)),Campaign_1=__importDefault(require(a357_0xffa92a(0x130))),CampaignShipping_1=__importDefault(require(a357_0xffa92a(0x126))),queues_1=require(a357_0xffa92a(0x128));async function CancelService(_0x377143){const _0x544b4e=a357_0xffa92a,_0x3cd579=await Campaign_1[_0x544b4e(0x121)][_0x544b4e(0x125)](_0x377143);await _0x3cd579[_0x544b4e(0x11f)]({'status':_0x544b4e(0x12f)});const _0x5f0043=await CampaignShipping_1[_0x544b4e(0x121)][_0x544b4e(0x12d)]({'where':{'campaignId':_0x3cd579['id'],'jobId':{[sequelize_1['Op']['not']]:null},'deliveredAt':null}}),_0x5e9783=[];for(let _0x707b64 of _0x5f0043){const _0x461c03=await queues_1[_0x544b4e(0x136)]['getJob'](+_0x707b64[_0x544b4e(0x132)]);_0x5e9783[_0x544b4e(0x123)](_0x461c03['remove']());}await Promise['all'](_0x5e9783);}exports[a357_0xffa92a(0x12c)]=CancelService;