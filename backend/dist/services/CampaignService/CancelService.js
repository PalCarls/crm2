'use strict';const a400_0x4b142e=a400_0x1d4a;(function(_0x1a100b,_0x22167e){const _0x3c7e8c=a400_0x1d4a,_0x523ddf=_0x1a100b();while(!![]){try{const _0x2d477b=parseInt(_0x3c7e8c(0xff))/0x1*(parseInt(_0x3c7e8c(0xeb))/0x2)+-parseInt(_0x3c7e8c(0xfa))/0x3+parseInt(_0x3c7e8c(0xfd))/0x4*(parseInt(_0x3c7e8c(0xf1))/0x5)+-parseInt(_0x3c7e8c(0xfc))/0x6*(-parseInt(_0x3c7e8c(0xf3))/0x7)+parseInt(_0x3c7e8c(0xf8))/0x8*(-parseInt(_0x3c7e8c(0xf0))/0x9)+parseInt(_0x3c7e8c(0xf2))/0xa+-parseInt(_0x3c7e8c(0x100))/0xb*(parseInt(_0x3c7e8c(0xea))/0xc);if(_0x2d477b===_0x22167e)break;else _0x523ddf['push'](_0x523ddf['shift']());}catch(_0x4d1fcf){_0x523ddf['push'](_0x523ddf['shift']());}}}(a400_0x3e20,0x5ba93));function a400_0x3e20(){const _0x1191db=['693EqvvQh','5hxtHvR','7122030MCSLNx','616VBHEIf','getJob','../../models/Campaign','sequelize','jobId','39128IuCMzY','CANCELADA','1485819xszVeZ','default','29310vlUXKo','1915092MXmvQg','../../models/CampaignShipping','4021vkgBbh','27511VUtApi','all','defineProperty','__importDefault','remove','1908MSThMo','12yNCixh','findByPk','not','CancelService','__esModule'];a400_0x3e20=function(){return _0x1191db;};return a400_0x3e20();}var __importDefault=this&&this[a400_0x4b142e(0xe8)]||function(_0x391fe3){const _0x1f39a9=a400_0x4b142e;return _0x391fe3&&_0x391fe3[_0x1f39a9(0xef)]?_0x391fe3:{'default':_0x391fe3};};Object[a400_0x4b142e(0x102)](exports,a400_0x4b142e(0xef),{'value':!![]}),exports[a400_0x4b142e(0xee)]=void 0x0;function a400_0x1d4a(_0xe20e5b,_0x576dfd){const _0x3e2031=a400_0x3e20();return a400_0x1d4a=function(_0x1d4a8c,_0x5db401){_0x1d4a8c=_0x1d4a8c-0xe8;let _0x168361=_0x3e2031[_0x1d4a8c];return _0x168361;},a400_0x1d4a(_0xe20e5b,_0x576dfd);}const sequelize_1=require(a400_0x4b142e(0xf6)),Campaign_1=__importDefault(require(a400_0x4b142e(0xf5))),CampaignShipping_1=__importDefault(require(a400_0x4b142e(0xfe))),queues_1=require('../../queues');async function CancelService(_0x2137ad){const _0xe489e5=a400_0x4b142e,_0x82561a=await Campaign_1[_0xe489e5(0xfb)][_0xe489e5(0xec)](_0x2137ad);await _0x82561a['update']({'status':_0xe489e5(0xf9)});const _0x20377e=await CampaignShipping_1[_0xe489e5(0xfb)]['findAll']({'where':{'campaignId':_0x82561a['id'],'jobId':{[sequelize_1['Op'][_0xe489e5(0xed)]]:null},'deliveredAt':null}}),_0x10dd85=[];for(let _0x5d0e3c of _0x20377e){const _0xb1624a=await queues_1['campaignQueue'][_0xe489e5(0xf4)](+_0x5d0e3c[_0xe489e5(0xf7)]);_0x10dd85['push'](_0xb1624a[_0xe489e5(0xe9)]());}await Promise[_0xe489e5(0x101)](_0x10dd85);}exports[a400_0x4b142e(0xee)]=CancelService;