'use strict';const a356_0x5cebe1=a356_0x5719;(function(_0x5c4fb4,_0x1509a5){const _0x3a61f4=a356_0x5719,_0x184412=_0x5c4fb4();while(!![]){try{const _0x446b34=parseInt(_0x3a61f4(0x1d4))/0x1*(parseInt(_0x3a61f4(0x1c9))/0x2)+parseInt(_0x3a61f4(0x1cb))/0x3*(-parseInt(_0x3a61f4(0x1bf))/0x4)+-parseInt(_0x3a61f4(0x1c8))/0x5*(parseInt(_0x3a61f4(0x1cc))/0x6)+-parseInt(_0x3a61f4(0x1d7))/0x7+parseInt(_0x3a61f4(0x1d0))/0x8+-parseInt(_0x3a61f4(0x1c7))/0x9*(-parseInt(_0x3a61f4(0x1c0))/0xa)+parseInt(_0x3a61f4(0x1c2))/0xb*(parseInt(_0x3a61f4(0x1c3))/0xc);if(_0x446b34===_0x1509a5)break;else _0x184412['push'](_0x184412['shift']());}catch(_0x3d4fb3){_0x184412['push'](_0x184412['shift']());}}}(a356_0xc3c1,0xbfdfb));var __importDefault=this&&this[a356_0x5cebe1(0x1c4)]||function(_0x2da0a1){const _0x237580=a356_0x5cebe1;return _0x2da0a1&&_0x2da0a1[_0x237580(0x1d3)]?_0x2da0a1:{'default':_0x2da0a1};};Object[a356_0x5cebe1(0x1cd)](exports,a356_0x5cebe1(0x1d3),{'value':!![]}),exports['CancelService']=void 0x0;function a356_0x5719(_0x471689,_0x3ea68e){const _0xc3c104=a356_0xc3c1();return a356_0x5719=function(_0x571967,_0x174a6a){_0x571967=_0x571967-0x1be;let _0x1c818c=_0xc3c104[_0x571967];return _0x1c818c;},a356_0x5719(_0x471689,_0x3ea68e);}const sequelize_1=require('sequelize'),Campaign_1=__importDefault(require(a356_0x5cebe1(0x1c6))),CampaignShipping_1=__importDefault(require('../../models/CampaignShipping')),queues_1=require(a356_0x5cebe1(0x1c1));function a356_0xc3c1(){const _0x12c82a=['499410GWyCxR','6454362pQGEFM','defineProperty','CANCELADA','findAll','10856672VQXgZM','CancelService','jobId','__esModule','1jARVOS','default','all','10092145TpYRRQ','remove','20pSFBBF','123230nXLBzN','../../queues','66BuNhEU','1574808xFIhxe','__importDefault','push','../../models/Campaign','450jgVqOu','5YtNwsF','2750178qHFTVN','campaignQueue'];a356_0xc3c1=function(){return _0x12c82a;};return a356_0xc3c1();}async function CancelService(_0x172acc){const _0x4d60bb=a356_0x5cebe1,_0x314fe1=await Campaign_1[_0x4d60bb(0x1d5)]['findByPk'](_0x172acc);await _0x314fe1['update']({'status':_0x4d60bb(0x1ce)});const _0xb80581=await CampaignShipping_1[_0x4d60bb(0x1d5)][_0x4d60bb(0x1cf)]({'where':{'campaignId':_0x314fe1['id'],'jobId':{[sequelize_1['Op']['not']]:null},'deliveredAt':null}}),_0x5b2c57=[];for(let _0x337e1c of _0xb80581){const _0x79433d=await queues_1[_0x4d60bb(0x1ca)]['getJob'](+_0x337e1c[_0x4d60bb(0x1d2)]);_0x5b2c57[_0x4d60bb(0x1c5)](_0x79433d[_0x4d60bb(0x1be)]());}await Promise[_0x4d60bb(0x1d6)](_0x5b2c57);}exports[a356_0x5cebe1(0x1d1)]=CancelService;