'use strict';const a391_0x2c335e=a391_0x10d3;function a391_0x10d3(_0x2e2e41,_0x2d9b86){const _0x2c1274=a391_0x2c12();return a391_0x10d3=function(_0x10d39e,_0x5dc864){_0x10d39e=_0x10d39e-0x12f;let _0x46cc96=_0x2c1274[_0x10d39e];return _0x46cc96;},a391_0x10d3(_0x2e2e41,_0x2d9b86);}(function(_0x439ef1,_0x5e6b2f){const _0x5d2b75=a391_0x10d3,_0x514190=_0x439ef1();while(!![]){try{const _0x33de18=parseInt(_0x5d2b75(0x136))/0x1+parseInt(_0x5d2b75(0x13f))/0x2*(parseInt(_0x5d2b75(0x133))/0x3)+-parseInt(_0x5d2b75(0x135))/0x4+parseInt(_0x5d2b75(0x130))/0x5+-parseInt(_0x5d2b75(0x141))/0x6+-parseInt(_0x5d2b75(0x132))/0x7+parseInt(_0x5d2b75(0x134))/0x8;if(_0x33de18===_0x5e6b2f)break;else _0x514190['push'](_0x514190['shift']());}catch(_0x5771b7){_0x514190['push'](_0x514190['shift']());}}}(a391_0x2c12,0xad0d0));function a391_0x2c12(){const _0x302b2c=['2151880rHxuAm','CANCELADA','4625180TfhaVC','3rdmEEF','8587152CJqypr','3592532IFjSze','632905JiHcKI','findAll','campaignQueue','getJob','default','CancelService','update','../../models/CampaignShipping','__esModule','2509396SQSPZS','../../models/Campaign','6742104QHdOwX','sequelize','remove','jobId','__importDefault','all'];a391_0x2c12=function(){return _0x302b2c;};return a391_0x2c12();}var __importDefault=this&&this[a391_0x2c335e(0x145)]||function(_0x264b41){const _0x5ddfa6=a391_0x2c335e;return _0x264b41&&_0x264b41[_0x5ddfa6(0x13e)]?_0x264b41:{'default':_0x264b41};};Object['defineProperty'](exports,a391_0x2c335e(0x13e),{'value':!![]}),exports[a391_0x2c335e(0x13b)]=void 0x0;const sequelize_1=require(a391_0x2c335e(0x142)),Campaign_1=__importDefault(require(a391_0x2c335e(0x140))),CampaignShipping_1=__importDefault(require(a391_0x2c335e(0x13d))),queues_1=require('../../queues');async function CancelService(_0x569eeb){const _0x24e2bf=a391_0x2c335e,_0x3f19f5=await Campaign_1[_0x24e2bf(0x13a)]['findByPk'](_0x569eeb);await _0x3f19f5[_0x24e2bf(0x13c)]({'status':_0x24e2bf(0x131)});const _0xd01ce5=await CampaignShipping_1[_0x24e2bf(0x13a)][_0x24e2bf(0x137)]({'where':{'campaignId':_0x3f19f5['id'],'jobId':{[sequelize_1['Op']['not']]:null},'deliveredAt':null}}),_0x1d3d22=[];for(let _0x2d55b5 of _0xd01ce5){const _0xd9b0f7=await queues_1[_0x24e2bf(0x138)][_0x24e2bf(0x139)](+_0x2d55b5[_0x24e2bf(0x144)]);_0x1d3d22['push'](_0xd9b0f7[_0x24e2bf(0x143)]());}await Promise[_0x24e2bf(0x12f)](_0x1d3d22);}exports['CancelService']=CancelService;