'use strict';const a407_0x1e9bdb=a407_0x5af7;function a407_0x5af7(_0x50de06,_0x16be45){const _0x5d0501=a407_0x5d05();return a407_0x5af7=function(_0x5af703,_0x4c742b){_0x5af703=_0x5af703-0xe7;let _0x2f33a0=_0x5d0501[_0x5af703];return _0x2f33a0;},a407_0x5af7(_0x50de06,_0x16be45);}(function(_0x38b7f6,_0x386df1){const _0x5644b7=a407_0x5af7,_0x1878bd=_0x38b7f6();while(!![]){try{const _0x36bb66=-parseInt(_0x5644b7(0xee))/0x1*(-parseInt(_0x5644b7(0xec))/0x2)+parseInt(_0x5644b7(0xfb))/0x3*(-parseInt(_0x5644b7(0xfd))/0x4)+-parseInt(_0x5644b7(0xef))/0x5*(parseInt(_0x5644b7(0x100))/0x6)+-parseInt(_0x5644b7(0xe9))/0x7+-parseInt(_0x5644b7(0xf9))/0x8*(-parseInt(_0x5644b7(0xfc))/0x9)+parseInt(_0x5644b7(0xf8))/0xa*(-parseInt(_0x5644b7(0xf0))/0xb)+-parseInt(_0x5644b7(0xf7))/0xc*(-parseInt(_0x5644b7(0xf3))/0xd);if(_0x36bb66===_0x386df1)break;else _0x1878bd['push'](_0x1878bd['shift']());}catch(_0x5b59a8){_0x1878bd['push'](_0x1878bd['shift']());}}}(a407_0x5d05,0xc379e));var __importDefault=this&&this[a407_0x1e9bdb(0x101)]||function(_0x4284de){const _0x272b21=a407_0x1e9bdb;return _0x4284de&&_0x4284de[_0x272b21(0xeb)]?_0x4284de:{'default':_0x4284de};};Object[a407_0x1e9bdb(0xea)](exports,a407_0x1e9bdb(0xeb),{'value':!![]}),exports[a407_0x1e9bdb(0xf5)]=void 0x0;const sequelize_1=require(a407_0x1e9bdb(0xe7)),Campaign_1=__importDefault(require(a407_0x1e9bdb(0xf1))),CampaignShipping_1=__importDefault(require(a407_0x1e9bdb(0xfe))),queues_1=require(a407_0x1e9bdb(0xf4));function a407_0x5d05(){const _0x1155ee=['444UIiyMP','10yrDaPo','1832ytBwBu','jobId','266190lbpJSA','52713EGiUmj','32JgRxeC','../../models/CampaignShipping','push','602388VTbxgg','__importDefault','update','default','sequelize','campaignQueue','10197768SNRtbQ','defineProperty','__esModule','251950xHOwNT','getJob','1dHtjnK','25tTDYzE','14154767WljzDh','../../models/Campaign','findByPk','1155557kNhbxl','../../queues','CancelService','remove'];a407_0x5d05=function(){return _0x1155ee;};return a407_0x5d05();}async function CancelService(_0x1cddd7){const _0x278385=a407_0x1e9bdb,_0x4e27b5=await Campaign_1[_0x278385(0x103)][_0x278385(0xf2)](_0x1cddd7);await _0x4e27b5[_0x278385(0x102)]({'status':'CANCELADA'});const _0x1ea2fb=await CampaignShipping_1[_0x278385(0x103)]['findAll']({'where':{'campaignId':_0x4e27b5['id'],'jobId':{[sequelize_1['Op']['not']]:null},'deliveredAt':null}}),_0x2652d6=[];for(let _0x38f86c of _0x1ea2fb){const _0x3a479a=await queues_1[_0x278385(0xe8)][_0x278385(0xed)](+_0x38f86c[_0x278385(0xfa)]);_0x2652d6[_0x278385(0xff)](_0x3a479a[_0x278385(0xf6)]());}await Promise['all'](_0x2652d6);}exports[a407_0x1e9bdb(0xf5)]=CancelService;