'use strict';const a341_0x1d6e77=a341_0x2468;function a341_0x2468(_0x3bc8c4,_0x2e2d11){const _0x21f878=a341_0x21f8();return a341_0x2468=function(_0x2468ef,_0x4f4bd6){_0x2468ef=_0x2468ef-0x73;let _0x5db456=_0x21f878[_0x2468ef];return _0x5db456;},a341_0x2468(_0x3bc8c4,_0x2e2d11);}(function(_0x59240c,_0x1f26e8){const _0x5e5727=a341_0x2468,_0x2da331=_0x59240c();while(!![]){try{const _0x3261cb=-parseInt(_0x5e5727(0x80))/0x1+parseInt(_0x5e5727(0x79))/0x2*(parseInt(_0x5e5727(0x85))/0x3)+parseInt(_0x5e5727(0x8c))/0x4+parseInt(_0x5e5727(0x78))/0x5*(-parseInt(_0x5e5727(0x7d))/0x6)+parseInt(_0x5e5727(0x7b))/0x7+-parseInt(_0x5e5727(0x87))/0x8*(parseInt(_0x5e5727(0x7e))/0x9)+parseInt(_0x5e5727(0x81))/0xa;if(_0x3261cb===_0x1f26e8)break;else _0x2da331['push'](_0x2da331['shift']());}catch(_0x576bfd){_0x2da331['push'](_0x2da331['shift']());}}}(a341_0x21f8,0xb2066));var __importDefault=this&&this[a341_0x1d6e77(0x89)]||function(_0x126d7a){return _0x126d7a&&_0x126d7a['__esModule']?_0x126d7a:{'default':_0x126d7a};};Object[a341_0x1d6e77(0x7a)](exports,a341_0x1d6e77(0x88),{'value':!![]}),exports['CancelService']=void 0x0;const sequelize_1=require('sequelize'),Campaign_1=__importDefault(require(a341_0x1d6e77(0x8b))),CampaignShipping_1=__importDefault(require(a341_0x1d6e77(0x8a))),queues_1=require('../../queues');async function CancelService(_0x3f6436){const _0x3c111e=a341_0x1d6e77,_0x123a7a=await Campaign_1[_0x3c111e(0x83)][_0x3c111e(0x73)](_0x3f6436);await _0x123a7a[_0x3c111e(0x7f)]({'status':_0x3c111e(0x86)});const _0x1e8355=await CampaignShipping_1[_0x3c111e(0x83)][_0x3c111e(0x74)]({'where':{'campaignId':_0x123a7a['id'],'jobId':{[sequelize_1['Op'][_0x3c111e(0x84)]]:null},'deliveredAt':null}}),_0x4d6a38=[];for(let _0xa9268e of _0x1e8355){const _0x4b1d6e=await queues_1[_0x3c111e(0x82)]['getJob'](+_0xa9268e['jobId']);_0x4d6a38[_0x3c111e(0x75)](_0x4b1d6e[_0x3c111e(0x77)]());}await Promise[_0x3c111e(0x76)](_0x4d6a38);}function a341_0x21f8(){const _0x2a0f01=['campaignQueue','default','not','765471VPAnBH','CANCELADA','8KuFHPE','__esModule','__importDefault','../../models/CampaignShipping','../../models/Campaign','148tEGrFv','findByPk','findAll','push','all','remove','30lYmZCJ','2SUtZho','defineProperty','3799929GqClQS','CancelService','765966jsxIuO','6944913PzPHPY','update','356371VPwgrT','18251430pmnEfQ'];a341_0x21f8=function(){return _0x2a0f01;};return a341_0x21f8();}exports[a341_0x1d6e77(0x7c)]=CancelService;