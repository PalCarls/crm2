'use strict';function a374_0x4e35(_0x54d3d9,_0x1c9863){const _0x405d84=a374_0x405d();return a374_0x4e35=function(_0x4e3533,_0x51279d){_0x4e3533=_0x4e3533-0xb0;let _0x4f80e8=_0x405d84[_0x4e3533];return _0x4f80e8;},a374_0x4e35(_0x54d3d9,_0x1c9863);}const a374_0x303b0f=a374_0x4e35;function a374_0x405d(){const _0x4f0cae=['426bfFZxG','12496pORfBv','72975KaTKZK','../../queues','1190765nNChdA','campaignQueue','jobId','findByPk','202798kYSqwT','__importDefault','CANCELADA','__esModule','284913PBpETc','11675650vscGNh','8yOpING','defineProperty','CancelService','findAll','sequelize','2942260JZjvwI','../../models/Campaign','6462ydrkkV'];a374_0x405d=function(){return _0x4f0cae;};return a374_0x405d();}(function(_0xa5cb7b,_0x505a1c){const _0x32b003=a374_0x4e35,_0x5a4cad=_0xa5cb7b();while(!![]){try{const _0x47dd12=-parseInt(_0x32b003(0xc3))/0x1*(parseInt(_0x32b003(0xb3))/0x2)+-parseInt(_0x32b003(0xb1))/0x3+parseInt(_0x32b003(0xb8))/0x4+parseInt(_0x32b003(0xbf))/0x5+parseInt(_0x32b003(0xbb))/0x6*(parseInt(_0x32b003(0xbd))/0x7)+-parseInt(_0x32b003(0xbc))/0x8*(-parseInt(_0x32b003(0xba))/0x9)+-parseInt(_0x32b003(0xb2))/0xa;if(_0x47dd12===_0x505a1c)break;else _0x5a4cad['push'](_0x5a4cad['shift']());}catch(_0x432488){_0x5a4cad['push'](_0x5a4cad['shift']());}}}(a374_0x405d,0xb9f51));var __importDefault=this&&this[a374_0x303b0f(0xc4)]||function(_0x36a8e9){return _0x36a8e9&&_0x36a8e9['__esModule']?_0x36a8e9:{'default':_0x36a8e9};};Object[a374_0x303b0f(0xb4)](exports,a374_0x303b0f(0xb0),{'value':!![]}),exports[a374_0x303b0f(0xb5)]=void 0x0;const sequelize_1=require(a374_0x303b0f(0xb7)),Campaign_1=__importDefault(require(a374_0x303b0f(0xb9))),CampaignShipping_1=__importDefault(require('../../models/CampaignShipping')),queues_1=require(a374_0x303b0f(0xbe));async function CancelService(_0x4f7dd5){const _0x4bea46=a374_0x303b0f,_0x4990bc=await Campaign_1['default'][_0x4bea46(0xc2)](_0x4f7dd5);await _0x4990bc['update']({'status':_0x4bea46(0xc5)});const _0x4451d2=await CampaignShipping_1['default'][_0x4bea46(0xb6)]({'where':{'campaignId':_0x4990bc['id'],'jobId':{[sequelize_1['Op']['not']]:null},'deliveredAt':null}}),_0x42dbfa=[];for(let _0x3912ac of _0x4451d2){const _0x45324b=await queues_1[_0x4bea46(0xc0)]['getJob'](+_0x3912ac[_0x4bea46(0xc1)]);_0x42dbfa['push'](_0x45324b['remove']());}await Promise['all'](_0x42dbfa);}exports[a374_0x303b0f(0xb5)]=CancelService;