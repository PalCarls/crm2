'use strict';const a391_0x2c39b1=a391_0x233c;function a391_0x233c(_0x2de772,_0x48fa5){const _0x1cc41b=a391_0x1cc4();return a391_0x233c=function(_0x233c30,_0x585151){_0x233c30=_0x233c30-0x65;let _0x12143e=_0x1cc41b[_0x233c30];return _0x12143e;},a391_0x233c(_0x2de772,_0x48fa5);}(function(_0xc13240,_0x4fe351){const _0x2d6e74=a391_0x233c,_0x3b72b0=_0xc13240();while(!![]){try{const _0x28a1ca=parseInt(_0x2d6e74(0x73))/0x1+-parseInt(_0x2d6e74(0x7c))/0x2*(parseInt(_0x2d6e74(0x72))/0x3)+parseInt(_0x2d6e74(0x77))/0x4*(-parseInt(_0x2d6e74(0x6e))/0x5)+parseInt(_0x2d6e74(0x78))/0x6*(-parseInt(_0x2d6e74(0x6b))/0x7)+-parseInt(_0x2d6e74(0x7b))/0x8*(-parseInt(_0x2d6e74(0x7f))/0x9)+-parseInt(_0x2d6e74(0x66))/0xa*(-parseInt(_0x2d6e74(0x69))/0xb)+-parseInt(_0x2d6e74(0x6c))/0xc*(parseInt(_0x2d6e74(0x7e))/0xd);if(_0x28a1ca===_0x4fe351)break;else _0x3b72b0['push'](_0x3b72b0['shift']());}catch(_0x53c92e){_0x3b72b0['push'](_0x3b72b0['shift']());}}}(a391_0x1cc4,0x975e6));var __importDefault=this&&this['__importDefault']||function(_0x570b47){return _0x570b47&&_0x570b47['__esModule']?_0x570b47:{'default':_0x570b47};};Object[a391_0x2c39b1(0x6d)](exports,a391_0x2c39b1(0x7a),{'value':!![]}),exports[a391_0x2c39b1(0x6f)]=void 0x0;const sequelize_1=require(a391_0x2c39b1(0x74)),Campaign_1=__importDefault(require(a391_0x2c39b1(0x80))),CampaignShipping_1=__importDefault(require(a391_0x2c39b1(0x70))),queues_1=require('../../queues');function a391_0x1cc4(){const _0xfb70b5=['318814sfhYcc','all','13ekTcnv','21861TgDNdQ','../../models/Campaign','remove','882620FGKvad','default','getJob','66tmgmbg','update','47033nDAhvs','14125116grBhFZ','defineProperty','45Uxgzcp','CancelService','../../models/CampaignShipping','findAll','3xNdexm','879082oqcZaF','sequelize','findByPk','CANCELADA','283516EieTUL','30TVxlOt','push','__esModule','4016sOESXk'];a391_0x1cc4=function(){return _0xfb70b5;};return a391_0x1cc4();}async function CancelService(_0x35fac2){const _0x3f1cb9=a391_0x2c39b1,_0x2e167b=await Campaign_1[_0x3f1cb9(0x67)][_0x3f1cb9(0x75)](_0x35fac2);await _0x2e167b[_0x3f1cb9(0x6a)]({'status':_0x3f1cb9(0x76)});const _0x246e1c=await CampaignShipping_1['default'][_0x3f1cb9(0x71)]({'where':{'campaignId':_0x2e167b['id'],'jobId':{[sequelize_1['Op']['not']]:null},'deliveredAt':null}}),_0x36b2af=[];for(let _0xb611d0 of _0x246e1c){const _0x35107f=await queues_1['campaignQueue'][_0x3f1cb9(0x68)](+_0xb611d0['jobId']);_0x36b2af[_0x3f1cb9(0x79)](_0x35107f[_0x3f1cb9(0x65)]());}await Promise[_0x3f1cb9(0x7d)](_0x36b2af);}exports[a391_0x2c39b1(0x6f)]=CancelService;