'use strict';const a358_0x430bee=a358_0x4e38;(function(_0x1c4b77,_0xd3c908){const _0x160b35=a358_0x4e38,_0x1d90b5=_0x1c4b77();while(!![]){try{const _0x1ff173=parseInt(_0x160b35(0x1b5))/0x1*(-parseInt(_0x160b35(0x1c3))/0x2)+-parseInt(_0x160b35(0x1be))/0x3+-parseInt(_0x160b35(0x1d1))/0x4+parseInt(_0x160b35(0x1b8))/0x5+-parseInt(_0x160b35(0x1b6))/0x6*(parseInt(_0x160b35(0x1c9))/0x7)+-parseInt(_0x160b35(0x1d4))/0x8*(parseInt(_0x160b35(0x1c5))/0x9)+parseInt(_0x160b35(0x1bd))/0xa;if(_0x1ff173===_0xd3c908)break;else _0x1d90b5['push'](_0x1d90b5['shift']());}catch(_0x22c4b7){_0x1d90b5['push'](_0x1d90b5['shift']());}}}(a358_0xcfa0,0x4746e));function a358_0xcfa0(){const _0x7031ca=['1342vwWtdL','__importDefault','4167xEczLW','name','default','__importStar','2633218tKazVJ','../../models/ContactList','PROGRAMADA','../../models/Campaign','min','ERR_CAMPAIGN_INVALID_NAME','call','__setModuleDefault','1781664RcUbyB','defineProperty','shape','5560NpAIFr','object','hasOwnProperty','string','required','11WqYuNr','6IgaMSO','getOwnPropertyDescriptor','1063150iXassh','create','../../models/Whatsapp','prototype','__createBinding','12397770FYRsuI','29103NgkodR','scheduledAt','__esModule','ERR_CAMPAIGN_REQUIRED','get'];a358_0xcfa0=function(){return _0x7031ca;};return a358_0xcfa0();}var __createBinding=this&&this[a358_0x430bee(0x1bc)]||(Object[a358_0x430bee(0x1b9)]?function(_0x2adb4f,_0x325860,_0x17d365,_0xe5a456){const _0x38f40c=a358_0x430bee;if(_0xe5a456===undefined)_0xe5a456=_0x17d365;var _0x1197ad=Object[_0x38f40c(0x1b7)](_0x325860,_0x17d365);(!_0x1197ad||(_0x38f40c(0x1c2)in _0x1197ad?!_0x325860[_0x38f40c(0x1c0)]:_0x1197ad['writable']||_0x1197ad['configurable']))&&(_0x1197ad={'enumerable':!![],'get':function(){return _0x325860[_0x17d365];}}),Object[_0x38f40c(0x1d2)](_0x2adb4f,_0xe5a456,_0x1197ad);}:function(_0x1b3eb9,_0x1a3fd3,_0x143dcd,_0xaf6dc7){if(_0xaf6dc7===undefined)_0xaf6dc7=_0x143dcd;_0x1b3eb9[_0xaf6dc7]=_0x1a3fd3[_0x143dcd];}),__setModuleDefault=this&&this[a358_0x430bee(0x1d0)]||(Object[a358_0x430bee(0x1b9)]?function(_0x442a93,_0x489653){const _0x32cc11=a358_0x430bee;Object[_0x32cc11(0x1d2)](_0x442a93,'default',{'enumerable':!![],'value':_0x489653});}:function(_0x634400,_0x3bd7f2){const _0x39105b=a358_0x430bee;_0x634400[_0x39105b(0x1c7)]=_0x3bd7f2;}),__importStar=this&&this[a358_0x430bee(0x1c8)]||function(_0x35242b){const _0x4efdbb=a358_0x430bee;if(_0x35242b&&_0x35242b[_0x4efdbb(0x1c0)])return _0x35242b;var _0x595234={};if(_0x35242b!=null){for(var _0xfbf29b in _0x35242b)if(_0xfbf29b!==_0x4efdbb(0x1c7)&&Object[_0x4efdbb(0x1bb)][_0x4efdbb(0x1b2)][_0x4efdbb(0x1cf)](_0x35242b,_0xfbf29b))__createBinding(_0x595234,_0x35242b,_0xfbf29b);}return __setModuleDefault(_0x595234,_0x35242b),_0x595234;},__importDefault=this&&this[a358_0x430bee(0x1c4)]||function(_0x2e12e3){const _0x28071b=a358_0x430bee;return _0x2e12e3&&_0x2e12e3[_0x28071b(0x1c0)]?_0x2e12e3:{'default':_0x2e12e3};};function a358_0x4e38(_0x36578e,_0x197d98){const _0xcfa0b0=a358_0xcfa0();return a358_0x4e38=function(_0x4e3849,_0x40c3fc){_0x4e3849=_0x4e3849-0x1b1;let _0x56e993=_0xcfa0b0[_0x4e3849];return _0x56e993;},a358_0x4e38(_0x36578e,_0x197d98);}Object['defineProperty'](exports,a358_0x430bee(0x1c0),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),Campaign_1=__importDefault(require(a358_0x430bee(0x1cc))),ContactList_1=__importDefault(require(a358_0x430bee(0x1ca))),Whatsapp_1=__importDefault(require(a358_0x430bee(0x1ba))),CreateService=async _0x1644f7=>{const _0x3f9371=a358_0x430bee,{name:_0x390dd5}=_0x1644f7,_0x328025=Yup[_0x3f9371(0x1b1)]()[_0x3f9371(0x1d3)]({'name':Yup[_0x3f9371(0x1b3)]()[_0x3f9371(0x1cd)](0x3,_0x3f9371(0x1ce))[_0x3f9371(0x1b4)](_0x3f9371(0x1c1))});try{await _0x328025['validate']({'name':_0x390dd5});}catch(_0x403c48){throw new AppError_1['default'](_0x403c48['message']);}_0x1644f7[_0x3f9371(0x1bf)]!=null&&_0x1644f7[_0x3f9371(0x1bf)]!=''&&(_0x1644f7['status']=_0x3f9371(0x1cb));const _0x162614=await Campaign_1['default'][_0x3f9371(0x1b9)](_0x1644f7);return await _0x162614['reload']({'include':[{'model':ContactList_1['default']},{'model':Whatsapp_1[_0x3f9371(0x1c7)],'attributes':['id',_0x3f9371(0x1c6)]}]}),_0x162614;};exports[a358_0x430bee(0x1c7)]=CreateService;