'use strict';function a401_0x2698(_0x25034f,_0x1d1436){const _0x215aa4=a401_0x215a();return a401_0x2698=function(_0x269817,_0x53f8ae){_0x269817=_0x269817-0xb5;let _0x4f86de=_0x215aa4[_0x269817];return _0x4f86de;},a401_0x2698(_0x25034f,_0x1d1436);}const a401_0x3b60a9=a401_0x2698;(function(_0x334489,_0x308a47){const _0x21352f=a401_0x2698,_0xaf892a=_0x334489();while(!![]){try{const _0x27c558=parseInt(_0x21352f(0xc8))/0x1*(parseInt(_0x21352f(0xdf))/0x2)+-parseInt(_0x21352f(0xc9))/0x3*(parseInt(_0x21352f(0xb5))/0x4)+parseInt(_0x21352f(0xc0))/0x5*(parseInt(_0x21352f(0xd7))/0x6)+parseInt(_0x21352f(0xdb))/0x7*(-parseInt(_0x21352f(0xc3))/0x8)+-parseInt(_0x21352f(0xce))/0x9+parseInt(_0x21352f(0xd3))/0xa*(parseInt(_0x21352f(0xe0))/0xb)+-parseInt(_0x21352f(0xc6))/0xc*(parseInt(_0x21352f(0xcf))/0xd);if(_0x27c558===_0x308a47)break;else _0xaf892a['push'](_0xaf892a['shift']());}catch(_0x45059f){_0xaf892a['push'](_0xaf892a['shift']());}}}(a401_0x215a,0xdedce));var __createBinding=this&&this[a401_0x3b60a9(0xd5)]||(Object[a401_0x3b60a9(0xdc)]?function(_0x55cc7f,_0x4eda5f,_0x273665,_0x900a33){const _0x2d633a=a401_0x3b60a9;if(_0x900a33===undefined)_0x900a33=_0x273665;var _0x3d32fb=Object[_0x2d633a(0xde)](_0x4eda5f,_0x273665);(!_0x3d32fb||(_0x2d633a(0xd9)in _0x3d32fb?!_0x4eda5f[_0x2d633a(0xb7)]:_0x3d32fb[_0x2d633a(0xb6)]||_0x3d32fb[_0x2d633a(0xbb)]))&&(_0x3d32fb={'enumerable':!![],'get':function(){return _0x4eda5f[_0x273665];}}),Object[_0x2d633a(0xbd)](_0x55cc7f,_0x900a33,_0x3d32fb);}:function(_0x599540,_0x37b436,_0x4598ea,_0x2674f9){if(_0x2674f9===undefined)_0x2674f9=_0x4598ea;_0x599540[_0x2674f9]=_0x37b436[_0x4598ea];}),__setModuleDefault=this&&this[a401_0x3b60a9(0xd8)]||(Object[a401_0x3b60a9(0xdc)]?function(_0x67de9b,_0x2a393d){const _0x512a43=a401_0x3b60a9;Object['defineProperty'](_0x67de9b,_0x512a43(0xc4),{'enumerable':!![],'value':_0x2a393d});}:function(_0x250b3f,_0x506b01){_0x250b3f['default']=_0x506b01;}),__importStar=this&&this[a401_0x3b60a9(0xcd)]||function(_0x18ac3b){const _0x3c0489=a401_0x3b60a9;if(_0x18ac3b&&_0x18ac3b[_0x3c0489(0xb7)])return _0x18ac3b;var _0x57d8f9={};if(_0x18ac3b!=null){for(var _0x10c0a5 in _0x18ac3b)if(_0x10c0a5!==_0x3c0489(0xc4)&&Object[_0x3c0489(0xbc)][_0x3c0489(0xc2)][_0x3c0489(0xcc)](_0x18ac3b,_0x10c0a5))__createBinding(_0x57d8f9,_0x18ac3b,_0x10c0a5);}return __setModuleDefault(_0x57d8f9,_0x18ac3b),_0x57d8f9;},__importDefault=this&&this[a401_0x3b60a9(0xd1)]||function(_0x527142){return _0x527142&&_0x527142['__esModule']?_0x527142:{'default':_0x527142};};Object[a401_0x3b60a9(0xbd)](exports,a401_0x3b60a9(0xb7),{'value':!![]});const Yup=__importStar(require(a401_0x3b60a9(0xb8))),AppError_1=__importDefault(require(a401_0x3b60a9(0xb9))),Campaign_1=__importDefault(require(a401_0x3b60a9(0xbe))),ContactList_1=__importDefault(require(a401_0x3b60a9(0xc5))),Whatsapp_1=__importDefault(require('../../models/Whatsapp')),User_1=__importDefault(require(a401_0x3b60a9(0xd0))),Queue_1=__importDefault(require(a401_0x3b60a9(0xc1))),CreateService=async _0x54c296=>{const _0x3c6038=a401_0x3b60a9,{name:_0xdf115e}=_0x54c296,_0x4b5b14=Yup['object']()[_0x3c6038(0xd2)]({'name':Yup[_0x3c6038(0xba)]()[_0x3c6038(0xd6)](0x3,_0x3c6038(0xbf))['required'](_0x3c6038(0xdd))});try{await _0x4b5b14[_0x3c6038(0xc7)]({'name':_0xdf115e});}catch(_0x2b0b60){throw new AppError_1['default'](_0x2b0b60[_0x3c6038(0xcb)]);}_0x54c296[_0x3c6038(0xda)]!=null&&_0x54c296[_0x3c6038(0xda)]!=''&&(_0x54c296['status']='PROGRAMADA');const _0x545a11=await Campaign_1[_0x3c6038(0xc4)]['create'](_0x54c296);return await _0x545a11[_0x3c6038(0xca)]({'include':[{'model':ContactList_1[_0x3c6038(0xc4)]},{'model':Whatsapp_1[_0x3c6038(0xc4)],'attributes':['id',_0x3c6038(0xd4)]},{'model':User_1['default'],'attributes':['id',_0x3c6038(0xd4)]},{'model':Queue_1[_0x3c6038(0xc4)],'attributes':['id','name']}]}),_0x545a11;};function a401_0x215a(){const _0x52f998=['__importDefault','shape','3790seajus','name','__createBinding','min','4685190WRDALi','__setModuleDefault','get','scheduledAt','406tyAYED','create','ERR_CAMPAIGN_REQUIRED','getOwnPropertyDescriptor','3594858ZpFWep','31295BmzmEP','4488HWHcNQ','writable','__esModule','yup','../../errors/AppError','string','configurable','prototype','defineProperty','../../models/Campaign','ERR_CAMPAIGN_INVALID_NAME','10rQvpWS','../../models/Queue','hasOwnProperty','105576NPArhJ','default','../../models/ContactList','6060BQZByV','validate','1BVhwEe','4707auKMnE','reload','message','call','__importStar','3829941fbzMoX','14755XdBmwA','../../models/User'];a401_0x215a=function(){return _0x52f998;};return a401_0x215a();}exports['default']=CreateService;