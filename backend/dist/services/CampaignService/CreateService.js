'use strict';const a392_0x2b6bc9=a392_0x267a;function a392_0xebb8(){const _0x4e188b=['54cFzYms','getOwnPropertyDescriptor','../../models/Campaign','message','__importStar','../../errors/AppError','min','name','string','yup','__esModule','5781193JXcmIn','configurable','ERR_CAMPAIGN_INVALID_NAME','validate','18610404uYIDFk','190345ZkMeaX','../../models/Whatsapp','scheduledAt','5519696fnDyWd','8PPghFc','create','__createBinding','__importDefault','required','default','69VdCoXo','hasOwnProperty','70228robLwX','reload','378065wplfJA','defineProperty','../../models/ContactList','prototype','__setModuleDefault','3732201WsNtrv','10hmBwTR','status','2mhjual'];a392_0xebb8=function(){return _0x4e188b;};return a392_0xebb8();}function a392_0x267a(_0x5c9cb1,_0x2297c8){const _0xebb842=a392_0xebb8();return a392_0x267a=function(_0x267ade,_0x311ad9){_0x267ade=_0x267ade-0xdd;let _0x49bd87=_0xebb842[_0x267ade];return _0x49bd87;},a392_0x267a(_0x5c9cb1,_0x2297c8);}(function(_0x10a604,_0x3a3863){const _0x4a8f15=a392_0x267a,_0x3799c5=_0x10a604();while(!![]){try{const _0x157a3=parseInt(_0x4a8f15(0xfa))/0x1*(-parseInt(_0x4a8f15(0x102))/0x2)+parseInt(_0x4a8f15(0xf6))/0x3*(-parseInt(_0x4a8f15(0xf8))/0x4)+parseInt(_0x4a8f15(0xec))/0x5*(parseInt(_0x4a8f15(0x103))/0x6)+parseInt(_0x4a8f15(0xef))/0x7*(-parseInt(_0x4a8f15(0xf0))/0x8)+-parseInt(_0x4a8f15(0xff))/0x9*(parseInt(_0x4a8f15(0x100))/0xa)+parseInt(_0x4a8f15(0xe7))/0xb+parseInt(_0x4a8f15(0xeb))/0xc;if(_0x157a3===_0x3a3863)break;else _0x3799c5['push'](_0x3799c5['shift']());}catch(_0x2245dc){_0x3799c5['push'](_0x3799c5['shift']());}}}(a392_0xebb8,0x69f26));var __createBinding=this&&this[a392_0x2b6bc9(0xf2)]||(Object[a392_0x2b6bc9(0xf1)]?function(_0x1592a9,_0x4d8033,_0x1523d1,_0x201cfb){const _0x5e6f5e=a392_0x2b6bc9;if(_0x201cfb===undefined)_0x201cfb=_0x1523d1;var _0x35e201=Object[_0x5e6f5e(0xdd)](_0x4d8033,_0x1523d1);(!_0x35e201||('get'in _0x35e201?!_0x4d8033[_0x5e6f5e(0xe6)]:_0x35e201['writable']||_0x35e201[_0x5e6f5e(0xe8)]))&&(_0x35e201={'enumerable':!![],'get':function(){return _0x4d8033[_0x1523d1];}}),Object[_0x5e6f5e(0xfb)](_0x1592a9,_0x201cfb,_0x35e201);}:function(_0xdcc2e,_0x53b844,_0x44752b,_0x2488d2){if(_0x2488d2===undefined)_0x2488d2=_0x44752b;_0xdcc2e[_0x2488d2]=_0x53b844[_0x44752b];}),__setModuleDefault=this&&this[a392_0x2b6bc9(0xfe)]||(Object[a392_0x2b6bc9(0xf1)]?function(_0x13270a,_0x275eb4){const _0x5a6752=a392_0x2b6bc9;Object[_0x5a6752(0xfb)](_0x13270a,_0x5a6752(0xf5),{'enumerable':!![],'value':_0x275eb4});}:function(_0x4cfe24,_0x547d01){const _0x36b761=a392_0x2b6bc9;_0x4cfe24[_0x36b761(0xf5)]=_0x547d01;}),__importStar=this&&this[a392_0x2b6bc9(0xe0)]||function(_0x52f13f){const _0x2cd88d=a392_0x2b6bc9;if(_0x52f13f&&_0x52f13f[_0x2cd88d(0xe6)])return _0x52f13f;var _0x768b3e={};if(_0x52f13f!=null){for(var _0x1cffb1 in _0x52f13f)if(_0x1cffb1!==_0x2cd88d(0xf5)&&Object[_0x2cd88d(0xfd)][_0x2cd88d(0xf7)]['call'](_0x52f13f,_0x1cffb1))__createBinding(_0x768b3e,_0x52f13f,_0x1cffb1);}return __setModuleDefault(_0x768b3e,_0x52f13f),_0x768b3e;},__importDefault=this&&this[a392_0x2b6bc9(0xf3)]||function(_0x3ad662){const _0x50e60a=a392_0x2b6bc9;return _0x3ad662&&_0x3ad662[_0x50e60a(0xe6)]?_0x3ad662:{'default':_0x3ad662};};Object[a392_0x2b6bc9(0xfb)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a392_0x2b6bc9(0xe5))),AppError_1=__importDefault(require(a392_0x2b6bc9(0xe1))),Campaign_1=__importDefault(require(a392_0x2b6bc9(0xde))),ContactList_1=__importDefault(require(a392_0x2b6bc9(0xfc))),Whatsapp_1=__importDefault(require(a392_0x2b6bc9(0xed))),User_1=__importDefault(require('../../models/User')),Queue_1=__importDefault(require('../../models/Queue')),CreateService=async _0xa9399d=>{const _0x7ea301=a392_0x2b6bc9,{name:_0x39e3c3}=_0xa9399d,_0xda3bd5=Yup['object']()['shape']({'name':Yup[_0x7ea301(0xe4)]()[_0x7ea301(0xe2)](0x3,_0x7ea301(0xe9))[_0x7ea301(0xf4)]('ERR_CAMPAIGN_REQUIRED')});try{await _0xda3bd5[_0x7ea301(0xea)]({'name':_0x39e3c3});}catch(_0x419d26){throw new AppError_1['default'](_0x419d26[_0x7ea301(0xdf)]);}_0xa9399d['scheduledAt']!=null&&_0xa9399d[_0x7ea301(0xee)]!=''&&(_0xa9399d[_0x7ea301(0x101)]='PROGRAMADA');const _0xbdae6a=await Campaign_1[_0x7ea301(0xf5)]['create'](_0xa9399d);return await _0xbdae6a[_0x7ea301(0xf9)]({'include':[{'model':ContactList_1[_0x7ea301(0xf5)]},{'model':Whatsapp_1[_0x7ea301(0xf5)],'attributes':['id',_0x7ea301(0xe3)]},{'model':User_1['default'],'attributes':['id',_0x7ea301(0xe3)]},{'model':Queue_1[_0x7ea301(0xf5)],'attributes':['id',_0x7ea301(0xe3)]}]}),_0xbdae6a;};exports[a392_0x2b6bc9(0xf5)]=CreateService;