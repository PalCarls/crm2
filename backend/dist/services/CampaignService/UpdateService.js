'use strict';const a408_0x4ff44b=a408_0x2078;function a408_0x5e41(){const _0x40fa0f=['../../models/Campaign','299630ymhrKv','name','../../models/Whatsapp','3540396cInjhq','235ueNCrO','__esModule','3750691IpbYus','1993431tMMgsz','58732TIflrg','143294fRoFdw','scheduledAt','../../models/Queue','PROGRAMADA','../../models/ContactList','2VVpnyQ','../../errors/AppError','../../models/User','indexOf','CANCELADA','reload','9MPMLop','defineProperty','55KCZneY','3105544LUVCoj','INATIVA','status','default'];a408_0x5e41=function(){return _0x40fa0f;};return a408_0x5e41();}(function(_0xfd47e4,_0x3a8888){const _0x6f9c13=a408_0x2078,_0x22346a=_0xfd47e4();while(!![]){try{const _0x361cf4=-parseInt(_0x6f9c13(0x139))/0x1*(-parseInt(_0x6f9c13(0x13e))/0x2)+parseInt(_0x6f9c13(0x137))/0x3+-parseInt(_0x6f9c13(0x138))/0x4*(parseInt(_0x6f9c13(0x134))/0x5)+parseInt(_0x6f9c13(0x133))/0x6+-parseInt(_0x6f9c13(0x136))/0x7+parseInt(_0x6f9c13(0x147))/0x8*(parseInt(_0x6f9c13(0x144))/0x9)+parseInt(_0x6f9c13(0x130))/0xa*(-parseInt(_0x6f9c13(0x146))/0xb);if(_0x361cf4===_0x3a8888)break;else _0x22346a['push'](_0x22346a['shift']());}catch(_0x1dabf5){_0x22346a['push'](_0x22346a['shift']());}}}(a408_0x5e41,0x642bd));var __importDefault=this&&this['__importDefault']||function(_0x411342){const _0x178892=a408_0x2078;return _0x411342&&_0x411342[_0x178892(0x135)]?_0x411342:{'default':_0x411342};};function a408_0x2078(_0x45cb71,_0x18a692){const _0x5e410b=a408_0x5e41();return a408_0x2078=function(_0x2078bd,_0x3665d2){_0x2078bd=_0x2078bd-0x130;let _0x2d4709=_0x5e410b[_0x2078bd];return _0x2d4709;},a408_0x2078(_0x45cb71,_0x18a692);}Object[a408_0x4ff44b(0x145)](exports,a408_0x4ff44b(0x135),{'value':!![]});const AppError_1=__importDefault(require(a408_0x4ff44b(0x13f))),Campaign_1=__importDefault(require(a408_0x4ff44b(0x14b))),ContactList_1=__importDefault(require(a408_0x4ff44b(0x13d))),Queue_1=__importDefault(require(a408_0x4ff44b(0x13b))),User_1=__importDefault(require(a408_0x4ff44b(0x140))),Whatsapp_1=__importDefault(require(a408_0x4ff44b(0x132))),UpdateService=async _0x4d2e91=>{const _0x3e95ac=a408_0x4ff44b,{id:_0x2e7f60}=_0x4d2e91,_0x246f31=await Campaign_1[_0x3e95ac(0x14a)]['findByPk'](_0x2e7f60);if(!_0x246f31)throw new AppError_1[(_0x3e95ac(0x14a))]('ERR_NO_CAMPAIGN_FOUND',0x194);if([_0x3e95ac(0x148),_0x3e95ac(0x13c),_0x3e95ac(0x142)][_0x3e95ac(0x141)](_0x4d2e91[_0x3e95ac(0x149)])===-0x1)throw new AppError_1[(_0x3e95ac(0x14a))]('Só\x20é\x20permitido\x20alterar\x20campanha\x20Inativa\x20e\x20Programada',0x190);return _0x4d2e91[_0x3e95ac(0x13a)]!=null&&_0x4d2e91[_0x3e95ac(0x13a)]!=''&&_0x4d2e91[_0x3e95ac(0x149)]===_0x3e95ac(0x148)&&(_0x4d2e91['status']=_0x3e95ac(0x13c)),await _0x246f31['update'](_0x4d2e91),await _0x246f31[_0x3e95ac(0x143)]({'include':[{'model':ContactList_1[_0x3e95ac(0x14a)]},{'model':Whatsapp_1['default'],'attributes':['id','name']},{'model':User_1[_0x3e95ac(0x14a)],'attributes':['id',_0x3e95ac(0x131)]},{'model':Queue_1[_0x3e95ac(0x14a)],'attributes':['id',_0x3e95ac(0x131)]}]}),_0x246f31;};exports['default']=UpdateService;