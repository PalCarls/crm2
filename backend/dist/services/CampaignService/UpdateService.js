'use strict';function a399_0x2f0a(){const _0x208407=['2319884WiGAtz','__importDefault','update','7kKBZBW','3206226VaBKtd','status','ERR_NO_CAMPAIGN_FOUND','__esModule','name','../../models/Whatsapp','CANCELADA','13214040WzRZYy','../../models/Campaign','scheduledAt','PROGRAMADA','INATIVA','../../models/Queue','default','531870ZtIZhJ','../../models/User','indexOf','2098200axbTfq','defineProperty','67976EFjnFm','1025815jGbsYE'];a399_0x2f0a=function(){return _0x208407;};return a399_0x2f0a();}const a399_0x4a3b86=a399_0x510d;(function(_0x38a16b,_0x51280c){const _0x1e6c4f=a399_0x510d,_0xab6847=_0x38a16b();while(!![]){try{const _0x557bc2=-parseInt(_0x1e6c4f(0x79))/0x1+-parseInt(_0x1e6c4f(0x74))/0x2+-parseInt(_0x1e6c4f(0x77))/0x3+-parseInt(_0x1e6c4f(0x7b))/0x4+-parseInt(_0x1e6c4f(0x7a))/0x5+parseInt(_0x1e6c4f(0x7f))/0x6+parseInt(_0x1e6c4f(0x7e))/0x7*(parseInt(_0x1e6c4f(0x6d))/0x8);if(_0x557bc2===_0x51280c)break;else _0xab6847['push'](_0xab6847['shift']());}catch(_0x3b5be2){_0xab6847['push'](_0xab6847['shift']());}}}(a399_0x2f0a,0x59c41));var __importDefault=this&&this[a399_0x4a3b86(0x7c)]||function(_0x2f9cf5){const _0x2140d6=a399_0x4a3b86;return _0x2f9cf5&&_0x2f9cf5[_0x2140d6(0x69)]?_0x2f9cf5:{'default':_0x2f9cf5};};Object[a399_0x4a3b86(0x78)](exports,a399_0x4a3b86(0x69),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Campaign_1=__importDefault(require(a399_0x4a3b86(0x6e))),ContactList_1=__importDefault(require('../../models/ContactList')),Queue_1=__importDefault(require(a399_0x4a3b86(0x72))),User_1=__importDefault(require(a399_0x4a3b86(0x75))),Whatsapp_1=__importDefault(require(a399_0x4a3b86(0x6b))),UpdateService=async _0x24a018=>{const _0x4083fd=a399_0x4a3b86,{id:_0x31f7e7}=_0x24a018,_0x58a64a=await Campaign_1[_0x4083fd(0x73)]['findByPk'](_0x31f7e7);if(!_0x58a64a)throw new AppError_1[(_0x4083fd(0x73))](_0x4083fd(0x68),0x194);if([_0x4083fd(0x71),'PROGRAMADA',_0x4083fd(0x6c)][_0x4083fd(0x76)](_0x24a018['status'])===-0x1)throw new AppError_1['default']('Só\x20é\x20permitido\x20alterar\x20campanha\x20Inativa\x20e\x20Programada',0x190);return _0x24a018['scheduledAt']!=null&&_0x24a018[_0x4083fd(0x6f)]!=''&&_0x24a018[_0x4083fd(0x80)]===_0x4083fd(0x71)&&(_0x24a018[_0x4083fd(0x80)]=_0x4083fd(0x70)),await _0x58a64a[_0x4083fd(0x7d)](_0x24a018),await _0x58a64a['reload']({'include':[{'model':ContactList_1['default']},{'model':Whatsapp_1[_0x4083fd(0x73)],'attributes':['id',_0x4083fd(0x6a)]},{'model':User_1[_0x4083fd(0x73)],'attributes':['id',_0x4083fd(0x6a)]},{'model':Queue_1['default'],'attributes':['id','name']}]}),_0x58a64a;};function a399_0x510d(_0x248d30,_0x9c5d0){const _0x2f0a7e=a399_0x2f0a();return a399_0x510d=function(_0x510d35,_0x306df0){_0x510d35=_0x510d35-0x68;let _0x5d4c48=_0x2f0a7e[_0x510d35];return _0x5d4c48;},a399_0x510d(_0x248d30,_0x9c5d0);}exports['default']=UpdateService;