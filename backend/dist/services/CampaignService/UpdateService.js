'use strict';const a377_0x555b9f=a377_0x50b3;function a377_0x50b3(_0x3d0fce,_0x43bca3){const _0x2095d0=a377_0x2095();return a377_0x50b3=function(_0x50b314,_0x49676a){_0x50b314=_0x50b314-0x91;let _0x10a78d=_0x2095d0[_0x50b314];return _0x10a78d;},a377_0x50b3(_0x3d0fce,_0x43bca3);}(function(_0x1dde3e,_0x83f43f){const _0x534605=a377_0x50b3,_0x3f536d=_0x1dde3e();while(!![]){try{const _0x1f4b20=-parseInt(_0x534605(0x9a))/0x1+-parseInt(_0x534605(0x98))/0x2*(-parseInt(_0x534605(0xa1))/0x3)+-parseInt(_0x534605(0xa7))/0x4+parseInt(_0x534605(0xa6))/0x5+parseInt(_0x534605(0x9c))/0x6+-parseInt(_0x534605(0x96))/0x7*(parseInt(_0x534605(0xa2))/0x8)+parseInt(_0x534605(0xa4))/0x9;if(_0x1f4b20===_0x83f43f)break;else _0x3f536d['push'](_0x3f536d['shift']());}catch(_0x4177f1){_0x3f536d['push'](_0x3f536d['shift']());}}}(a377_0x2095,0xbe253));var __importDefault=this&&this[a377_0x555b9f(0x92)]||function(_0x48e829){const _0x38c68c=a377_0x555b9f;return _0x48e829&&_0x48e829[_0x38c68c(0x9f)]?_0x48e829:{'default':_0x48e829};};Object[a377_0x555b9f(0xa0)](exports,a377_0x555b9f(0x9f),{'value':!![]});function a377_0x2095(){const _0x1f6106=['update','status','__esModule','defineProperty','4186587NRprEX','328728kdyeLh','../../models/ContactList','9962010TYNRsP','Só\x20é\x20permitido\x20alterar\x20campanha\x20Inativa\x20e\x20Programada','2076635ApfWjT','3897524oCdmMB','INATIVA','default','../../models/Whatsapp','ERR_NO_CAMPAIGN_FOUND','name','../../models/Campaign','__importDefault','CANCELADA','findByPk','indexOf','189PvCbkt','PROGRAMADA','2lbxgbp','scheduledAt','794017TSXFiX','reload','4433664WHQDDL'];a377_0x2095=function(){return _0x1f6106;};return a377_0x2095();}const AppError_1=__importDefault(require('../../errors/AppError')),Campaign_1=__importDefault(require(a377_0x555b9f(0x91))),ContactList_1=__importDefault(require(a377_0x555b9f(0xa3))),Whatsapp_1=__importDefault(require(a377_0x555b9f(0xaa))),UpdateService=async _0x20d06c=>{const _0x2087df=a377_0x555b9f,{id:_0x4ec1f0}=_0x20d06c,_0x10810c=await Campaign_1[_0x2087df(0xa9)][_0x2087df(0x94)](_0x4ec1f0);if(!_0x10810c)throw new AppError_1[(_0x2087df(0xa9))](_0x2087df(0xab),0x194);if([_0x2087df(0xa8),'PROGRAMADA',_0x2087df(0x93)][_0x2087df(0x95)](_0x20d06c['status'])===-0x1)throw new AppError_1[(_0x2087df(0xa9))](_0x2087df(0xa5),0x190);return _0x20d06c['scheduledAt']!=null&&_0x20d06c[_0x2087df(0x99)]!=''&&_0x20d06c[_0x2087df(0x9e)]==='INATIVA'&&(_0x20d06c['status']=_0x2087df(0x97)),await _0x10810c[_0x2087df(0x9d)](_0x20d06c),await _0x10810c[_0x2087df(0x9b)]({'include':[{'model':ContactList_1['default']},{'model':Whatsapp_1[_0x2087df(0xa9)],'attributes':['id',_0x2087df(0xac)]}]}),_0x10810c;};exports[a377_0x555b9f(0xa9)]=UpdateService;