'use strict';function a382_0x1ff3(_0x5ac6a0,_0x29a393){const _0x3b3e9d=a382_0x3b3e();return a382_0x1ff3=function(_0x1ff367,_0x306b49){_0x1ff367=_0x1ff367-0x17f;let _0x2259c9=_0x3b3e9d[_0x1ff367];return _0x2259c9;},a382_0x1ff3(_0x5ac6a0,_0x29a393);}function a382_0x3b3e(){const _0x1080fe=['__esModule','1916200tTqfMw','9wPiCIj','defineProperty','1618305hJVOLQ','CANCELADA','8815510hbAdhN','28AxnnOD','name','status','1393834zYIWWl','reload','update','2460992qoVNAx','../../models/ContactList','__importDefault','2046246kiFHgZ','scheduledAt','default','PROGRAMADA','../../models/Campaign','1542GkWKIt','INATIVA','findByPk','Só\x20é\x20permitido\x20alterar\x20campanha\x20Inativa\x20e\x20Programada','115qEavHb'];a382_0x3b3e=function(){return _0x1080fe;};return a382_0x3b3e();}const a382_0x513bfe=a382_0x1ff3;(function(_0x5eb395,_0x3c305f){const _0x51d30c=a382_0x1ff3,_0x14279a=_0x5eb395();while(!![]){try{const _0x51d3ac=-parseInt(_0x51d30c(0x191))/0x1+parseInt(_0x51d30c(0x197))/0x2+-parseInt(_0x51d30c(0x18b))/0x3+-parseInt(_0x51d30c(0x188))/0x4+-parseInt(_0x51d30c(0x186))/0x5*(-parseInt(_0x51d30c(0x182))/0x6)+-parseInt(_0x51d30c(0x18e))/0x7*(-parseInt(_0x51d30c(0x194))/0x8)+parseInt(_0x51d30c(0x189))/0x9*(parseInt(_0x51d30c(0x18d))/0xa);if(_0x51d3ac===_0x3c305f)break;else _0x14279a['push'](_0x14279a['shift']());}catch(_0x240d1b){_0x14279a['push'](_0x14279a['shift']());}}}(a382_0x3b3e,0xb1eba));var __importDefault=this&&this[a382_0x513bfe(0x196)]||function(_0x285325){const _0x56768f=a382_0x513bfe;return _0x285325&&_0x285325[_0x56768f(0x187)]?_0x285325:{'default':_0x285325};};Object[a382_0x513bfe(0x18a)](exports,a382_0x513bfe(0x187),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Campaign_1=__importDefault(require(a382_0x513bfe(0x181))),ContactList_1=__importDefault(require(a382_0x513bfe(0x195))),Whatsapp_1=__importDefault(require('../../models/Whatsapp')),UpdateService=async _0x2b0ad2=>{const _0x57e5d9=a382_0x513bfe,{id:_0x4b8c64}=_0x2b0ad2,_0x1a3ff9=await Campaign_1['default'][_0x57e5d9(0x184)](_0x4b8c64);if(!_0x1a3ff9)throw new AppError_1['default']('ERR_NO_CAMPAIGN_FOUND',0x194);if([_0x57e5d9(0x183),_0x57e5d9(0x180),_0x57e5d9(0x18c)]['indexOf'](_0x2b0ad2['status'])===-0x1)throw new AppError_1['default'](_0x57e5d9(0x185),0x190);return _0x2b0ad2[_0x57e5d9(0x198)]!=null&&_0x2b0ad2[_0x57e5d9(0x198)]!=''&&_0x2b0ad2[_0x57e5d9(0x190)]===_0x57e5d9(0x183)&&(_0x2b0ad2[_0x57e5d9(0x190)]='PROGRAMADA'),await _0x1a3ff9[_0x57e5d9(0x193)](_0x2b0ad2),await _0x1a3ff9[_0x57e5d9(0x192)]({'include':[{'model':ContactList_1[_0x57e5d9(0x17f)]},{'model':Whatsapp_1['default'],'attributes':['id',_0x57e5d9(0x18f)]}]}),_0x1a3ff9;};exports['default']=UpdateService;