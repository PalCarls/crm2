'use strict';const a364_0x18965e=a364_0x59ca;function a364_0x113c(){const _0x578003=['31278NTlVXZ','25556btCGGr','ERR_NO_CAMPAIGN_FOUND','506816iGkzUx','../../models/Whatsapp','scheduledAt','status','reload','256828dypWyp','6824ElXfFd','142062hHpcFO','../../models/ContactList','5661YSALlv','Só\x20é\x20permitido\x20alterar\x20campanha\x20Inativa\x20e\x20Programada','INATIVA','indexOf','__esModule','270zWPRfa','findByPk','update','385jsuvZf','CANCELADA','2327794NUybFe','57pQiCuC','PROGRAMADA','name','../../errors/AppError','../../models/Campaign','default','defineProperty'];a364_0x113c=function(){return _0x578003;};return a364_0x113c();}(function(_0x1c081e,_0x15986b){const _0x3b0669=a364_0x59ca,_0x5b0d7e=_0x1c081e();while(!![]){try{const _0x1de029=parseInt(_0x3b0669(0x1c6))/0x1+parseInt(_0x3b0669(0x1cd))/0x2+-parseInt(_0x3b0669(0x1da))/0x3*(parseInt(_0x3b0669(0x1c4))/0x4)+-parseInt(_0x3b0669(0x1d7))/0x5*(parseInt(_0x3b0669(0x1e1))/0x6)+parseInt(_0x3b0669(0x1d9))/0x7+-parseInt(_0x3b0669(0x1cc))/0x8*(-parseInt(_0x3b0669(0x1cf))/0x9)+-parseInt(_0x3b0669(0x1d4))/0xa*(parseInt(_0x3b0669(0x1cb))/0xb);if(_0x1de029===_0x15986b)break;else _0x5b0d7e['push'](_0x5b0d7e['shift']());}catch(_0x35b009){_0x5b0d7e['push'](_0x5b0d7e['shift']());}}}(a364_0x113c,0x47b6a));var __importDefault=this&&this['__importDefault']||function(_0x37ae9e){const _0x5b37bd=a364_0x59ca;return _0x37ae9e&&_0x37ae9e[_0x5b37bd(0x1d3)]?_0x37ae9e:{'default':_0x37ae9e};};function a364_0x59ca(_0x4dc3ab,_0x158929){const _0x113c51=a364_0x113c();return a364_0x59ca=function(_0x59ca4e,_0x3bf9d0){_0x59ca4e=_0x59ca4e-0x1c4;let _0x9c0402=_0x113c51[_0x59ca4e];return _0x9c0402;},a364_0x59ca(_0x4dc3ab,_0x158929);}Object[a364_0x18965e(0x1e0)](exports,a364_0x18965e(0x1d3),{'value':!![]});const AppError_1=__importDefault(require(a364_0x18965e(0x1dd))),Campaign_1=__importDefault(require(a364_0x18965e(0x1de))),ContactList_1=__importDefault(require(a364_0x18965e(0x1ce))),Whatsapp_1=__importDefault(require(a364_0x18965e(0x1c7))),UpdateService=async _0x3f44ee=>{const _0x1b4467=a364_0x18965e,{id:_0x45c8bf}=_0x3f44ee,_0x31b91b=await Campaign_1[_0x1b4467(0x1df)][_0x1b4467(0x1d5)](_0x45c8bf);if(!_0x31b91b)throw new AppError_1['default'](_0x1b4467(0x1c5),0x194);if([_0x1b4467(0x1d1),_0x1b4467(0x1db),_0x1b4467(0x1d8)][_0x1b4467(0x1d2)](_0x3f44ee['status'])===-0x1)throw new AppError_1[(_0x1b4467(0x1df))](_0x1b4467(0x1d0),0x190);return _0x3f44ee[_0x1b4467(0x1c8)]!=null&&_0x3f44ee['scheduledAt']!=''&&_0x3f44ee[_0x1b4467(0x1c9)]==='INATIVA'&&(_0x3f44ee[_0x1b4467(0x1c9)]=_0x1b4467(0x1db)),await _0x31b91b[_0x1b4467(0x1d6)](_0x3f44ee),await _0x31b91b[_0x1b4467(0x1ca)]({'include':[{'model':ContactList_1[_0x1b4467(0x1df)]},{'model':Whatsapp_1[_0x1b4467(0x1df)],'attributes':['id',_0x1b4467(0x1dc)]}]}),_0x31b91b;};exports['default']=UpdateService;