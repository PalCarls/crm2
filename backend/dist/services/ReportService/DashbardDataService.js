'use strict';function a557_0x454a(_0x5670e0,_0x4c04ff){const _0x3b7b6e=a557_0x3b7b();return a557_0x454a=function(_0x454a80,_0x4b9cc6){_0x454a80=_0x454a80-0x1d7;let _0x5c81f2=_0x3b7b6e[_0x454a80];return _0x5c81f2;},a557_0x454a(_0x5670e0,_0x4c04ff);}const a557_0x2ddc33=a557_0x454a;(function(_0x158596,_0x1114be){const _0x1c2460=a557_0x454a,_0x88baaf=_0x158596();while(!![]){try{const _0x5803a0=parseInt(_0x1c2460(0x1f8))/0x1*(parseInt(_0x1c2460(0x1fe))/0x2)+-parseInt(_0x1c2460(0x1f6))/0x3*(parseInt(_0x1c2460(0x1de))/0x4)+-parseInt(_0x1c2460(0x1eb))/0x5*(-parseInt(_0x1c2460(0x1e6))/0x6)+-parseInt(_0x1c2460(0x1ea))/0x7+-parseInt(_0x1c2460(0x1d8))/0x8+-parseInt(_0x1c2460(0x1e3))/0x9*(parseInt(_0x1c2460(0x1f3))/0xa)+parseInt(_0x1c2460(0x1e0))/0xb*(parseInt(_0x1c2460(0x1e2))/0xc);if(_0x5803a0===_0x1114be)break;else _0x88baaf['push'](_0x88baaf['shift']());}catch(_0x50f8f3){_0x88baaf['push'](_0x88baaf['shift']());}}}(a557_0x3b7b,0xd12ee));var __createBinding=this&&this[a557_0x2ddc33(0x1e8)]||(Object[a557_0x2ddc33(0x1f7)]?function(_0x47a663,_0x500a20,_0x46ab37,_0x3eb50d){const _0xf88c3=a557_0x2ddc33;if(_0x3eb50d===undefined)_0x3eb50d=_0x46ab37;var _0x40b68a=Object[_0xf88c3(0x1dd)](_0x500a20,_0x46ab37);(!_0x40b68a||(_0xf88c3(0x1fc)in _0x40b68a?!_0x500a20['__esModule']:_0x40b68a[_0xf88c3(0x1d9)]||_0x40b68a[_0xf88c3(0x1f4)]))&&(_0x40b68a={'enumerable':!![],'get':function(){return _0x500a20[_0x46ab37];}}),Object[_0xf88c3(0x1f2)](_0x47a663,_0x3eb50d,_0x40b68a);}:function(_0x4e611a,_0x41f772,_0x3008e6,_0x5ef27f){if(_0x5ef27f===undefined)_0x5ef27f=_0x3008e6;_0x4e611a[_0x5ef27f]=_0x41f772[_0x3008e6];}),__setModuleDefault=this&&this[a557_0x2ddc33(0x1ec)]||(Object['create']?function(_0x2219c4,_0x5cf227){const _0x5e1092=a557_0x2ddc33;Object['defineProperty'](_0x2219c4,_0x5e1092(0x1f9),{'enumerable':!![],'value':_0x5cf227});}:function(_0x518f37,_0x54d353){const _0x23a812=a557_0x2ddc33;_0x518f37[_0x23a812(0x1f9)]=_0x54d353;}),__importStar=this&&this['__importStar']||function(_0x21234c){const _0x383b38=a557_0x2ddc33;if(_0x21234c&&_0x21234c[_0x383b38(0x1db)])return _0x21234c;var _0x48c79f={};if(_0x21234c!=null){for(var _0x17b2a4 in _0x21234c)if(_0x17b2a4!==_0x383b38(0x1f9)&&Object[_0x383b38(0x1e7)][_0x383b38(0x1d7)]['call'](_0x21234c,_0x17b2a4))__createBinding(_0x48c79f,_0x21234c,_0x17b2a4);}return __setModuleDefault(_0x48c79f,_0x21234c),_0x48c79f;},__importDefault=this&&this[a557_0x2ddc33(0x1da)]||function(_0x1dd80d){const _0x102b77=a557_0x2ddc33;return _0x1dd80d&&_0x1dd80d[_0x102b77(0x1db)]?_0x1dd80d:{'default':_0x1dd80d};};Object[a557_0x2ddc33(0x1f2)](exports,a557_0x2ddc33(0x1db),{'value':!![]});const sequelize_1=require('sequelize'),_=__importStar(require('lodash')),database_1=__importDefault(require(a557_0x2ddc33(0x1f5))),fs=require('fs');async function DashboardDataService(_0x4e5a40,_0x519dcc){const _0x2a6b68=a557_0x2ddc33,_0x375ca3='\x0a\x20\x20\x20\x20with\x0a\x20\x20\x20\x20traking\x20as\x20(\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20c.name\x20\x22companyName\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20u.name\x20\x22userName\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20u.online\x20\x22userOnline\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20w.name\x20\x22whatsappName\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ct.name\x20\x22contactName\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ct.number\x20\x22contactNumber\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(t.\x22status\x22\x20=\x20\x27closed\x27)\x20\x22finished\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(tt.\x22userId\x22\x20is\x20null\x20and\x20coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22)\x20is\x20null\x20and\x20t.\x22status\x22\x20=\x20\x27pending\x27)\x20\x22pending\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20coalesce((\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27day\x27,\x20age(coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22)))\x20*\x2024\x20*\x2060)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27hour\x27,\x20age(coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22),\x20tt.\x22startedAt\x22))\x20*\x2060)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27minutes\x27,\x20age(coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22),\x20tt.\x22startedAt\x22)))\x0a\x20\x20\x20\x20\x20\x20\x20\x20),\x200)\x20\x22supportTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20coalesce((\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27day\x27,\x20age(\x20tt.\x22queuedAt\x22,\x20tt.\x22startedAt\x22))\x20*\x2024\x20*\x2060)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27hour\x27,\x20age(tt.\x22queuedAt\x22,\x20tt.\x22startedAt\x22))\x20*\x2060)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27minutes\x27,\x20age(tt.\x22queuedAt\x22,\x20tt.\x22startedAt\x22)))\x0a\x20\x20\x20\x20\x20\x20\x20\x20),\x200)\x20\x22waitTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20t.status,\x0a\x20\x20\x20\x20\x20\x20\x20\x20tt.*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ct.\x22id\x22\x20\x22contactId\x22\x0a\x20\x20\x20\x20\x20\x20from\x20\x22TicketTraking\x22\x20tt\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Companies\x22\x20c\x20on\x20c.id\x20=\x20tt.\x22companyId\x22\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Users\x22\x20u\x20on\x20u.id\x20=\x20tt.\x22userId\x22\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Whatsapps\x22\x20w\x20on\x20w.id\x20=\x20tt.\x22whatsappId\x22\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Tickets\x22\x20t\x20on\x20t.id\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Contacts\x22\x20ct\x20on\x20ct.id\x20=\x20t.\x22contactId\x22\x0a\x20\x20\x20\x20\x20\x20--\x20filterPeriod\x0a\x20\x20\x20\x20),\x0a\x20\x20\x20\x20counters\x20as\x20(\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20avg(\x22supportTime\x22)\x20from\x20traking\x20where\x20\x22supportTime\x22\x20>\x200)\x20\x22avgSupportTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20avg(\x22waitTime\x22)\x20from\x20traking\x20where\x20\x22waitTime\x22\x20>\x200)\x20\x22avgWaitTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20count(distinct\x20\x22id\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20status\x20like\x20\x27open\x27\x20and\x20t.\x22companyId\x22\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22supportHappening\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20count(distinct\x20\x22id\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20status\x20like\x20\x27pending\x27\x20and\x20t.\x22companyId\x22\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22supportPending\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20traking\x20where\x20finished)\x20\x22supportFinished\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20count(leads.id)\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ct1.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20count(tt1.id)\x20total\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20tt1\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Tickets\x22\x20t1\x20on\x20t1.id\x20=\x20tt1.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Contacts\x22\x20ct1\x20on\x20ct1.id\x20=\x20t1.\x22contactId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20group\x20by\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20having\x20count(tt1.id)\x20=\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20leads\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22leads\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20traking\x20where\x20\x22status\x22\x20=\x20\x27closed\x27)\x20\x22tickets\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20traking\x20where\x20\x22status\x22\x20=\x20\x27nps\x27)\x20\x22waitRating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20traking\x20where\x20\x22status\x22\x20=\x20\x27closed\x27\x20and\x20\x22rated\x22\x20=\x20false)\x20\x22withoutRating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20traking\x20where\x20\x22status\x22\x20=\x20\x27closed\x27\x20and\x20\x22rated\x22\x20=\x20true)\x20\x22withRating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(((select\x20count(id)\x20from\x20traking\x20where\x20\x22rated\x22\x20=\x20true)*\x20100)\x20/\x20nullif((select\x20count(id)\x20from\x20traking),0))\x20\x22percRating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=\x20true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.\x22rate\x22\x20>\x208\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22npsPromotersPerc\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=\x20true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.\x22rate\x22\x20in\x20(7,8)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22npsPassivePerc\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=\x20true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.\x22rate\x22\x20<\x207\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22npsDetractorsPerc\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20sum(nps.promoter)\x20-\x20sum(nps.detractor)\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x20promoter\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20,0\x20detractor\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.\x22rate\x22\x20>\x208\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20union\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200,(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.rate\x20<\x207))\x20nps\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22npsScore\x22\x0a\x20\x20\x20\x20),\x0a\x20\x20\x20\x20attedants\x20as\x20(\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20u1.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20u1.\x22name\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20u1.\x22online\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20avg(t.\x22waitTime\x22)\x20\x22avgWaitTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20avg(t.\x22supportTime\x22)\x20\x22avgSupportTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20count(t.\x22id\x22)\x20\x22tickets\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20round(coalesce(avg(ur.\x22rate\x22),\x200),2)\x20\x22rating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20coalesce(count(ur.\x22id\x22),\x200)\x20\x22countRating\x22\x0a\x20\x20\x20\x20\x20\x20from\x20\x22Users\x22\x20u1\x0a\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20traking\x20t\x20on\x20t.\x22userId\x22\x20=\x20u1.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22userId\x22\x20=\x20t.\x22userId\x22\x20and\x20ur.\x22ticketId\x22\x20=\x20t.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20where\x20u1.\x22companyId\x22\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20group\x20by\x201,\x202\x0a\x20\x20\x20\x20\x20\x20order\x20by\x20u1.\x22name\x22\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(select\x20coalesce(jsonb_build_object(\x27counters\x27,\x20c.*)->>\x27counters\x27,\x20\x27{}\x27)::jsonb\x20from\x20counters\x20c)\x20counters,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(select\x20coalesce(json_agg(a.*),\x20\x27[]\x27)::jsonb\x20from\x20attedants\x20a)\x20attendants;\x0a\x20\x20';let _0x711aff=_0x2a6b68(0x1e4);const _0x2903aa=[_0x4e5a40];_[_0x2a6b68(0x1ed)](_0x519dcc,'days')&&(_0x711aff+=_0x2a6b68(0x1fb),_0x2903aa[_0x2a6b68(0x1ef)](parseInt((''+_0x519dcc[_0x2a6b68(0x1dc)])[_0x2a6b68(0x1f1)](/\D/g,''),0xa)));_[_0x2a6b68(0x1ed)](_0x519dcc,_0x2a6b68(0x1fd))&&(_0x711aff+=_0x2a6b68(0x1e1),_0x2903aa['push'](_0x519dcc[_0x2a6b68(0x1fd)]+_0x2a6b68(0x1e9)));_['has'](_0x519dcc,_0x2a6b68(0x1fa))&&(_0x711aff+='\x20and\x20tt.\x22createdAt\x22\x20<=\x20?',_0x2903aa[_0x2a6b68(0x1ef)](_0x519dcc[_0x2a6b68(0x1fa)]+_0x2a6b68(0x1df)));_0x2903aa[_0x2a6b68(0x1ef)](_0x4e5a40),_0x2903aa[_0x2a6b68(0x1ef)](_0x4e5a40),_0x2903aa[_0x2a6b68(0x1ef)](_0x4e5a40),_0x2903aa[_0x2a6b68(0x1ef)](_0x4e5a40),_0x2903aa[_0x2a6b68(0x1ef)](_0x4e5a40);const _0x5c35f8=_0x375ca3[_0x2a6b68(0x1f1)]('--\x20filterPeriod',_0x711aff),_0x1869ae=await database_1['default'][_0x2a6b68(0x1ee)](_0x5c35f8,{'replacements':_0x2903aa,'type':sequelize_1[_0x2a6b68(0x1e5)][_0x2a6b68(0x1f0)],'plain':!![]});return _0x1869ae;}function a557_0x3b7b(){const _0x367904=['has','query','push','SELECT','replace','defineProperty','116930DVCWMn','configurable','../../database','87MwfCZe','create','266613MGCedq','default','date_to','\x20and\x20tt.\x22createdAt\x22\x20>=\x20(now()\x20-\x20\x27?\x20days\x27::interval)','get','date_from','12qUSIct','hasOwnProperty','11607832ObJfkR','writable','__importDefault','__esModule','days','getOwnPropertyDescriptor','163700cgkpae','\x2023:59:59','930655niROqe','\x20and\x20tt.\x22createdAt\x22\x20>=\x20?','360qGKxKQ','9kyQUDc','where\x20tt.\x22companyId\x22\x20=\x20?','QueryTypes','2223462lXqofA','prototype','__createBinding','\x2000:00:00','7014658CgxpWh','5UTUIFt','__setModuleDefault'];a557_0x3b7b=function(){return _0x367904;};return a557_0x3b7b();}exports[a557_0x2ddc33(0x1f9)]=DashboardDataService;