'use strict';const a490_0x2e73f6=a490_0x474a;(function(_0x5b7893,_0x4290cd){const _0x3e4d4c=a490_0x474a,_0x2ec690=_0x5b7893();while(!![]){try{const _0x36de80=parseInt(_0x3e4d4c(0x1a5))/0x1*(-parseInt(_0x3e4d4c(0x19a))/0x2)+-parseInt(_0x3e4d4c(0x183))/0x3+parseInt(_0x3e4d4c(0x196))/0x4*(parseInt(_0x3e4d4c(0x19e))/0x5)+parseInt(_0x3e4d4c(0x1a8))/0x6+-parseInt(_0x3e4d4c(0x18b))/0x7+-parseInt(_0x3e4d4c(0x185))/0x8+-parseInt(_0x3e4d4c(0x18c))/0x9*(-parseInt(_0x3e4d4c(0x193))/0xa);if(_0x36de80===_0x4290cd)break;else _0x2ec690['push'](_0x2ec690['shift']());}catch(_0x114c19){_0x2ec690['push'](_0x2ec690['shift']());}}}(a490_0x16ff,0x8a23d));var __createBinding=this&&this[a490_0x2e73f6(0x1ab)]||(Object[a490_0x2e73f6(0x19b)]?function(_0x15b728,_0x5c367c,_0x26bb50,_0x3d9387){const _0x18614c=a490_0x2e73f6;if(_0x3d9387===undefined)_0x3d9387=_0x26bb50;var _0x169fda=Object[_0x18614c(0x194)](_0x5c367c,_0x26bb50);(!_0x169fda||(_0x18614c(0x1ae)in _0x169fda?!_0x5c367c[_0x18614c(0x18a)]:_0x169fda[_0x18614c(0x186)]||_0x169fda[_0x18614c(0x189)]))&&(_0x169fda={'enumerable':!![],'get':function(){return _0x5c367c[_0x26bb50];}}),Object[_0x18614c(0x19c)](_0x15b728,_0x3d9387,_0x169fda);}:function(_0x5d1619,_0x51b5ea,_0x42b5e6,_0xba5303){if(_0xba5303===undefined)_0xba5303=_0x42b5e6;_0x5d1619[_0xba5303]=_0x51b5ea[_0x42b5e6];}),__setModuleDefault=this&&this[a490_0x2e73f6(0x1a3)]||(Object['create']?function(_0x5a6782,_0x33ee2f){const _0x17fb05=a490_0x2e73f6;Object[_0x17fb05(0x19c)](_0x5a6782,_0x17fb05(0x197),{'enumerable':!![],'value':_0x33ee2f});}:function(_0x33120b,_0x590c0e){const _0x2e1bab=a490_0x2e73f6;_0x33120b[_0x2e1bab(0x197)]=_0x590c0e;}),__importStar=this&&this[a490_0x2e73f6(0x192)]||function(_0x293723){const _0x157730=a490_0x2e73f6;if(_0x293723&&_0x293723[_0x157730(0x18a)])return _0x293723;var _0x4edffe={};if(_0x293723!=null){for(var _0x3737f0 in _0x293723)if(_0x3737f0!=='default'&&Object[_0x157730(0x198)][_0x157730(0x1a9)][_0x157730(0x18f)](_0x293723,_0x3737f0))__createBinding(_0x4edffe,_0x293723,_0x3737f0);}return __setModuleDefault(_0x4edffe,_0x293723),_0x4edffe;},__importDefault=this&&this[a490_0x2e73f6(0x19d)]||function(_0x13bc53){const _0x4f5b9f=a490_0x2e73f6;return _0x13bc53&&_0x13bc53[_0x4f5b9f(0x18a)]?_0x13bc53:{'default':_0x13bc53};};function a490_0x474a(_0xd328e0,_0x57170f){const _0x16ff7a=a490_0x16ff();return a490_0x474a=function(_0x474a94,_0x36ca39){_0x474a94=_0x474a94-0x183;let _0x10ecf6=_0x16ff7a[_0x474a94];return _0x10ecf6;},a490_0x474a(_0xd328e0,_0x57170f);}Object[a490_0x2e73f6(0x19c)](exports,a490_0x2e73f6(0x18a),{'value':!![]});function a490_0x16ff(){const _0x1d77a9=['__createBinding','date_from','../../database','get','3221724cvxdwO','date_to','5850304uxlswi','writable','\x20and\x20tt.\x22createdAt\x22\x20>=\x20(now()\x20-\x20\x27?\x20days\x27::interval)','\x0a\x20\x20\x20\x20with\x0a\x20\x20\x20\x20traking\x20as\x20(\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20c.name\x20\x22companyName\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20u.name\x20\x22userName\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20u.online\x20\x22userOnline\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20w.name\x20\x22whatsappName\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ct.name\x20\x22contactName\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ct.number\x20\x22contactNumber\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22)\x20is\x20not\x20null)\x20\x22finished\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(tt.\x22userId\x22\x20is\x20null\x20and\x20coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22)\x20is\x20null)\x20\x22pending\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20coalesce((\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27day\x27,\x20age(coalesce(tt.\x22ratingAt\x22,\x20coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22))\x20,\x20tt.\x22startedAt\x22))\x20*\x2024\x20*\x2060)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27hour\x27,\x20age(coalesce(tt.\x22ratingAt\x22,\x20coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22)),\x20tt.\x22startedAt\x22))\x20*\x2060)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27minutes\x27,\x20age(coalesce(tt.\x22ratingAt\x22,\x20coalesce(tt.\x22closedAt\x22,tt.\x22finishedAt\x22)),\x20tt.\x22startedAt\x22)))\x0a\x20\x20\x20\x20\x20\x20\x20\x20),\x200)\x20\x22supportTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20coalesce((\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27day\x27,\x20age(tt.\x22startedAt\x22,\x20tt.\x22queuedAt\x22))\x20*\x2024\x20*\x2060)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27hour\x27,\x20age(tt.\x22startedAt\x22,\x20tt.\x22queuedAt\x22))\x20*\x2060)\x20+\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(date_part(\x27minutes\x27,\x20age(tt.\x22startedAt\x22,\x20tt.\x22queuedAt\x22)))\x0a\x20\x20\x20\x20\x20\x20\x20\x20),\x200)\x20\x22waitTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20t.status,\x0a\x20\x20\x20\x20\x20\x20\x20\x20tt.*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ct.\x22id\x22\x20\x22contactId\x22\x0a\x20\x20\x20\x20\x20\x20from\x20\x22TicketTraking\x22\x20tt\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Companies\x22\x20c\x20on\x20c.id\x20=\x20tt.\x22companyId\x22\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Users\x22\x20u\x20on\x20u.id\x20=\x20tt.\x22userId\x22\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Whatsapps\x22\x20w\x20on\x20w.id\x20=\x20tt.\x22whatsappId\x22\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Tickets\x22\x20t\x20on\x20t.id\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Contacts\x22\x20ct\x20on\x20ct.id\x20=\x20t.\x22contactId\x22\x0a\x20\x20\x20\x20\x20\x20--\x20filterPeriod\x0a\x20\x20\x20\x20),\x0a\x20\x20\x20\x20counters\x20as\x20(\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20avg(\x22supportTime\x22)\x20from\x20traking\x20where\x20\x22supportTime\x22\x20>\x200)\x20\x22avgSupportTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20avg(\x22waitTime\x22)\x20from\x20traking\x20where\x20\x22waitTime\x22\x20>\x200)\x20\x22avgWaitTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20count(distinct\x20\x22id\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20status\x20like\x20\x27open\x27\x20and\x20t.\x22companyId\x22\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22supportHappening\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20count(distinct\x20\x22id\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20status\x20like\x20\x27pending\x27\x20and\x20t.\x22companyId\x22\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22supportPending\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20traking\x20where\x20finished)\x20\x22supportFinished\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20count(leads.id)\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ct1.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20count(tt1.id)\x20total\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20tt1\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Tickets\x22\x20t1\x20on\x20t1.id\x20=\x20tt1.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Contacts\x22\x20ct1\x20on\x20ct1.id\x20=\x20t1.\x22contactId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20group\x20by\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20having\x20count(tt1.id)\x20=\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20leads\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22leads\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20\x22Tickets\x22\x20t\x20where\x20\x22status\x22\x20=\x20\x27closed\x27\x20and\x20t.\x22companyId\x22\x20=\x20?)\x20\x22tickets\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20\x22Tickets\x22\x20t\x20where\x20t.\x22status\x22\x20=\x20\x27nps\x27\x20and\x20t.\x22companyId\x22\x20=\x20?)\x20\x22waitRating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20traking\x20where\x20\x22status\x22\x20=\x20\x27closed\x27\x20and\x20\x22rated\x22\x20=\x20false)\x20\x22withoutRating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20count(id)\x20from\x20traking\x20where\x20\x22status\x22\x20=\x20\x27closed\x27\x20and\x20\x22rated\x22\x20=\x20true)\x20\x22withRating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(((select\x20count(id)\x20from\x20traking\x20where\x20\x22rated\x22\x20=\x20true)*\x20100)\x20/\x20nullif((select\x20count(id)\x20from\x20traking),0))\x20\x22percRating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=\x20true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.\x22rate\x22\x20>\x208\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22npsPromotersPerc\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20(select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=\x20true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.\x22rate\x22\x20in\x20(7,8)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22npsPassivePerc\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=\x20true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.\x22rate\x22\x20<\x207\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22npsDetractorsPerc\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20sum(nps.promoter)\x20-\x20sum(nps.detractor)\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x20promoter\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20,0\x20detractor\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.\x22rate\x22\x20>\x208\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20union\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200,(100*count(tt.*))/NULLIF((select\x20count(*)\x20total\x20from\x20traking\x20tt\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x20where\x20rated=\x20true),0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20traking\x20\x20tt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inner\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22ticketId\x22\x20=\x20tt.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20tt.rated\x20=true\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20ur.rate\x20<\x207))\x20nps\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20\x22npsScore\x22\x0a\x20\x20\x20\x20),\x0a\x20\x20\x20\x20attedants\x20as\x20(\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20u1.id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20u1.\x22name\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20u1.\x22online\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20avg(t.\x22waitTime\x22)\x20\x22avgWaitTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20avg(t.\x22supportTime\x22)\x20\x22avgSupportTime\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20count(t.\x22id\x22)\x20\x22tickets\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20round(coalesce(avg(ur.\x22rate\x22),\x200),2)\x20\x22rating\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20coalesce(count(ur.\x22id\x22),\x200)\x20\x22countRating\x22\x0a\x20\x20\x20\x20\x20\x20from\x20\x22Users\x22\x20u1\x0a\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20traking\x20t\x20on\x20t.\x22userId\x22\x20=\x20u1.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22UserRatings\x22\x20ur\x20on\x20ur.\x22userId\x22\x20=\x20t.\x22userId\x22\x20and\x20ur.\x22ticketId\x22\x20=\x20t.\x22ticketId\x22\x0a\x20\x20\x20\x20\x20\x20where\x20u1.\x22companyId\x22\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20group\x20by\x201,\x202\x0a\x20\x20\x20\x20\x20\x20order\x20by\x20u1.\x22name\x22\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(select\x20coalesce(jsonb_build_object(\x27counters\x27,\x20c.*)->>\x27counters\x27,\x20\x27{}\x27)::jsonb\x20from\x20counters\x20c)\x20counters,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(select\x20coalesce(json_agg(a.*),\x20\x27[]\x27)::jsonb\x20from\x20attedants\x20a)\x20attendants;\x0a\x20\x20','configurable','__esModule','5141976HEhmMP','24259059MdRynU','has','QueryTypes','call','sequelize','\x2023:59:59','__importStar','10rCIKmB','getOwnPropertyDescriptor','lodash','455528IrddMR','default','prototype','days','8AmYopM','create','defineProperty','__importDefault','15FrDWaz','push','\x20and\x20tt.\x22createdAt\x22\x20>=\x20?','replace','\x20and\x20tt.\x22createdAt\x22\x20<=\x20?','__setModuleDefault','log','122682ufUUcw','\x2000:00:00','SELECT','3355296WdBMbi','hasOwnProperty','where\x20tt.\x22companyId\x22\x20=\x20?'];a490_0x16ff=function(){return _0x1d77a9;};return a490_0x16ff();}const sequelize_1=require(a490_0x2e73f6(0x190)),_=__importStar(require(a490_0x2e73f6(0x195))),database_1=__importDefault(require(a490_0x2e73f6(0x1ad))),fs=require('fs');async function DashboardDataService(_0x19260f,_0x2a396b){const _0x4fb8cb=a490_0x2e73f6,_0x3b8acb=_0x4fb8cb(0x188);let _0x2908b7=_0x4fb8cb(0x1aa);const _0x1cbcef=[_0x19260f];_[_0x4fb8cb(0x18d)](_0x2a396b,_0x4fb8cb(0x199))&&(_0x2908b7+=_0x4fb8cb(0x187),_0x1cbcef[_0x4fb8cb(0x19f)](parseInt((''+_0x2a396b[_0x4fb8cb(0x199)])[_0x4fb8cb(0x1a1)](/\D/g,''),0xa)));_[_0x4fb8cb(0x18d)](_0x2a396b,'date_from')&&(_0x2908b7+=_0x4fb8cb(0x1a0),_0x1cbcef[_0x4fb8cb(0x19f)](_0x2a396b[_0x4fb8cb(0x1ac)]+_0x4fb8cb(0x1a6)));_['has'](_0x2a396b,_0x4fb8cb(0x184))&&(_0x2908b7+=_0x4fb8cb(0x1a2),_0x1cbcef[_0x4fb8cb(0x19f)](_0x2a396b['date_to']+_0x4fb8cb(0x191)));_0x1cbcef[_0x4fb8cb(0x19f)](_0x19260f),_0x1cbcef[_0x4fb8cb(0x19f)](_0x19260f),_0x1cbcef[_0x4fb8cb(0x19f)](_0x19260f),_0x1cbcef[_0x4fb8cb(0x19f)](_0x19260f),_0x1cbcef[_0x4fb8cb(0x19f)](_0x19260f),console[_0x4fb8cb(0x1a4)](_0x1cbcef);const _0x250fbf=_0x3b8acb[_0x4fb8cb(0x1a1)]('--\x20filterPeriod',_0x2908b7),_0x1afa2b=await database_1[_0x4fb8cb(0x197)]['query'](_0x250fbf,{'replacements':_0x1cbcef,'type':sequelize_1[_0x4fb8cb(0x18e)][_0x4fb8cb(0x1a7)],'plain':!![]});return _0x1afa2b;}exports[a490_0x2e73f6(0x197)]=DashboardDataService;