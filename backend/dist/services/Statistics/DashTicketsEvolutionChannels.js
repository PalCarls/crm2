'use strict';function a568_0x168c(_0x37de46,_0x23078c){const _0x36add8=a568_0x36ad();return a568_0x168c=function(_0x168c20,_0x4aeca4){_0x168c20=_0x168c20-0x172;let _0x456883=_0x36add8[_0x168c20];return _0x456883;},a568_0x168c(_0x37de46,_0x23078c);}const a568_0xb8b81=a568_0x168c;(function(_0x501c3a,_0x38f088){const _0x43caf9=a568_0x168c,_0x399205=_0x501c3a();while(!![]){try{const _0x1afb23=-parseInt(_0x43caf9(0x17b))/0x1*(-parseInt(_0x43caf9(0x184))/0x2)+parseInt(_0x43caf9(0x17e))/0x3*(-parseInt(_0x43caf9(0x173))/0x4)+parseInt(_0x43caf9(0x17f))/0x5+-parseInt(_0x43caf9(0x17c))/0x6+-parseInt(_0x43caf9(0x17d))/0x7*(parseInt(_0x43caf9(0x175))/0x8)+parseInt(_0x43caf9(0x176))/0x9*(-parseInt(_0x43caf9(0x185))/0xa)+-parseInt(_0x43caf9(0x17a))/0xb*(-parseInt(_0x43caf9(0x174))/0xc);if(_0x1afb23===_0x38f088)break;else _0x399205['push'](_0x399205['shift']());}catch(_0x3c3bac){_0x399205['push'](_0x399205['shift']());}}}(a568_0x36ad,0x807ce));function a568_0x36ad(){const _0x3f0083=['defineProperty','default','sequelize','748jnGVEH','600MMHigk','__esModule','\x0a\x20\x20select\x20dt_ref,\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20dt_referencia\x20,\x20label,\x20qtd,\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20--to_char(date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20\x27DD/MM/YYYY\x27)\x20,\x0a\x20\x20t.channel\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x20\x20AND\x20lt.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20t.channel\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a','40TZalZF','10092RTsxWf','1304RzZFoZ','59832JlouqN','query','SELECT','../../database','20416cUvmZd','1067xuszLz','5034870WRYbho','18452FWaKWi','8529BsghQV','1312275cNsNHh','QueryTypes'];a568_0x36ad=function(){return _0x3f0083;};return a568_0x36ad();}var __importDefault=this&&this['__importDefault']||function(_0x2f8a91){const _0x275892=a568_0x168c;return _0x2f8a91&&_0x2f8a91[_0x275892(0x186)]?_0x2f8a91:{'default':_0x2f8a91};};Object[a568_0xb8b81(0x181)](exports,a568_0xb8b81(0x186),{'value':!![]});const sequelize_1=require(a568_0xb8b81(0x183)),database_1=__importDefault(require(a568_0xb8b81(0x179))),query=a568_0xb8b81(0x172),queryAdmin='\x0a\x20\x20select\x20dt_ref,\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20dt_referencia\x20,\x20label,\x20qtd,\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20--to_char(date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20\x27DD/MM/YYYY\x27)\x20,\x0a\x20\x20t.channel\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20t.channel\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a',DashTicketsEvolutionChannels=async({startDate:_0x47bc93,endDate:_0x23679d,companyId:_0x7846ce,userId:_0x41a60c,userProfile:_0x3dda0e})=>{const _0x5b6d4a=a568_0xb8b81,_0x430281=await database_1[_0x5b6d4a(0x182)][_0x5b6d4a(0x177)](_0x3dda0e=='admin'?queryAdmin:query,{'replacements':{'companyId':_0x7846ce,'startDate':_0x47bc93,'endDate':_0x23679d,'userId':_0x41a60c},'type':sequelize_1[_0x5b6d4a(0x180)][_0x5b6d4a(0x178)]});return _0x430281;};exports[a568_0xb8b81(0x182)]=DashTicketsEvolutionChannels;