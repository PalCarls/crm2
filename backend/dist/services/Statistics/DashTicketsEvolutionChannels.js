'use strict';function a557_0x5010(_0x5e3078,_0x588731){const _0x4f169c=a557_0x4f16();return a557_0x5010=function(_0x5010b9,_0x46f27c){_0x5010b9=_0x5010b9-0x1d8;let _0x5287df=_0x4f169c[_0x5010b9];return _0x5287df;},a557_0x5010(_0x5e3078,_0x588731);}const a557_0x51edcc=a557_0x5010;(function(_0x4f6d90,_0x4ac7a5){const _0x3a1d6c=a557_0x5010,_0x16399e=_0x4f6d90();while(!![]){try{const _0x55b9de=-parseInt(_0x3a1d6c(0x1e8))/0x1+parseInt(_0x3a1d6c(0x1e5))/0x2*(-parseInt(_0x3a1d6c(0x1de))/0x3)+parseInt(_0x3a1d6c(0x1e3))/0x4*(parseInt(_0x3a1d6c(0x1ea))/0x5)+parseInt(_0x3a1d6c(0x1dc))/0x6+parseInt(_0x3a1d6c(0x1e2))/0x7+parseInt(_0x3a1d6c(0x1d9))/0x8*(parseInt(_0x3a1d6c(0x1da))/0x9)+parseInt(_0x3a1d6c(0x1db))/0xa*(-parseInt(_0x3a1d6c(0x1dd))/0xb);if(_0x55b9de===_0x4ac7a5)break;else _0x16399e['push'](_0x16399e['shift']());}catch(_0x3a3d71){_0x16399e['push'](_0x16399e['shift']());}}}(a557_0x4f16,0xa78fe));function a557_0x4f16(){const _0x240277=['8MslWYW','7472880IyXFUL','630BmOWKK','7558002cbhcOp','61061ZadjAa','390696GJjxhB','defineProperty','\x0a\x20\x20select\x20dt_ref,\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20dt_referencia\x20,\x20label,\x20qtd,\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20--to_char(date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20\x27DD/MM/YYYY\x27)\x20,\x0a\x20\x20t.channel\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x20\x20AND\x20lt.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20t.channel\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a','query','1482803pAhRFW','172420ZohaYY','\x0a\x20\x20select\x20dt_ref,\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20dt_referencia\x20,\x20label,\x20qtd,\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20--to_char(date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20\x27DD/MM/YYYY\x27)\x20,\x0a\x20\x20t.channel\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20t.channel\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a','8oiZaRV','sequelize','admin','960366pgtRkT','default','25kDKwRj','QueryTypes','__esModule'];a557_0x4f16=function(){return _0x240277;};return a557_0x4f16();}var __importDefault=this&&this['__importDefault']||function(_0x2e2f72){const _0x3c99d1=a557_0x5010;return _0x2e2f72&&_0x2e2f72[_0x3c99d1(0x1d8)]?_0x2e2f72:{'default':_0x2e2f72};};Object[a557_0x51edcc(0x1df)](exports,a557_0x51edcc(0x1d8),{'value':!![]});const sequelize_1=require(a557_0x51edcc(0x1e6)),database_1=__importDefault(require('../../database')),query=a557_0x51edcc(0x1e0),queryAdmin=a557_0x51edcc(0x1e4),DashTicketsEvolutionChannels=async({startDate:_0x2a2ab7,endDate:_0xd558fc,companyId:_0x100fac,userId:_0x4b906a,userProfile:_0x309037})=>{const _0x314fdd=a557_0x51edcc,_0x3110e7=await database_1[_0x314fdd(0x1e9)][_0x314fdd(0x1e1)](_0x309037==_0x314fdd(0x1e7)?queryAdmin:query,{'replacements':{'companyId':_0x100fac,'startDate':_0x2a2ab7,'endDate':_0xd558fc,'userId':_0x4b906a},'type':sequelize_1[_0x314fdd(0x1eb)]['SELECT']});return _0x3110e7;};exports[a557_0x51edcc(0x1e9)]=DashTicketsEvolutionChannels;