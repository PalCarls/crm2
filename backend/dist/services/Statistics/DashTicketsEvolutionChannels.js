'use strict';const a557_0x4a2b71=a557_0x445f;(function(_0x6d00f8,_0x1e5339){const _0x5f27e0=a557_0x445f,_0xa0c73=_0x6d00f8();while(!![]){try{const _0x40fdde=-parseInt(_0x5f27e0(0x6d))/0x1*(-parseInt(_0x5f27e0(0x6e))/0x2)+-parseInt(_0x5f27e0(0x67))/0x3*(-parseInt(_0x5f27e0(0x78))/0x4)+parseInt(_0x5f27e0(0x6a))/0x5+-parseInt(_0x5f27e0(0x6f))/0x6*(parseInt(_0x5f27e0(0x68))/0x7)+parseInt(_0x5f27e0(0x65))/0x8*(-parseInt(_0x5f27e0(0x73))/0x9)+parseInt(_0x5f27e0(0x6c))/0xa*(parseInt(_0x5f27e0(0x70))/0xb)+-parseInt(_0x5f27e0(0x75))/0xc*(-parseInt(_0x5f27e0(0x76))/0xd);if(_0x40fdde===_0x1e5339)break;else _0xa0c73['push'](_0xa0c73['shift']());}catch(_0x2f1a23){_0xa0c73['push'](_0xa0c73['shift']());}}}(a557_0x5298,0x6acca));var __importDefault=this&&this[a557_0x4a2b71(0x72)]||function(_0x45ddea){const _0x7793a=a557_0x4a2b71;return _0x45ddea&&_0x45ddea[_0x7793a(0x74)]?_0x45ddea:{'default':_0x45ddea};};function a557_0x445f(_0x24a609,_0x4f9045){const _0x529813=a557_0x5298();return a557_0x445f=function(_0x445f93,_0x3555a0){_0x445f93=_0x445f93-0x65;let _0x491f7f=_0x529813[_0x445f93];return _0x491f7f;},a557_0x445f(_0x24a609,_0x4f9045);}function a557_0x5298(){const _0x77d726=['__esModule','22644VooVKJ','1729NkYCGT','query','1420AmEFuc','sequelize','../../database','88xoPqpw','defineProperty','2271EFzzZC','110082HOPOuV','QueryTypes','3798760IwiXSO','default','44350dxngAq','176678hcudrc','4OrwvDE','294UbPpvG','286GyvqzP','admin','__importDefault','441900DghOdY'];a557_0x5298=function(){return _0x77d726;};return a557_0x5298();}Object[a557_0x4a2b71(0x66)](exports,a557_0x4a2b71(0x74),{'value':!![]});const sequelize_1=require(a557_0x4a2b71(0x79)),database_1=__importDefault(require(a557_0x4a2b71(0x7a))),query='\x0a\x20\x20select\x20dt_ref,\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20dt_referencia\x20,\x20label,\x20qtd,\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20--to_char(date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20\x27DD/MM/YYYY\x27)\x20,\x0a\x20\x20t.channel\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x20\x20AND\x20lt.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20t.channel\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a',queryAdmin='\x0a\x20\x20select\x20dt_ref,\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20dt_referencia\x20,\x20label,\x20qtd,\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20--to_char(date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20\x27DD/MM/YYYY\x27)\x20,\x0a\x20\x20t.channel\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22),\x20t.channel\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a',DashTicketsEvolutionChannels=async({startDate:_0x1532dc,endDate:_0x117647,companyId:_0x11e3e8,userId:_0x1f8fd2,userProfile:_0x47efcd})=>{const _0x301c59=a557_0x4a2b71,_0x1661a9=await database_1['default'][_0x301c59(0x77)](_0x47efcd==_0x301c59(0x71)?queryAdmin:query,{'replacements':{'companyId':_0x11e3e8,'startDate':_0x1532dc,'endDate':_0x117647,'userId':_0x1f8fd2},'type':sequelize_1[_0x301c59(0x69)]['SELECT']});return _0x1661a9;};exports[a557_0x4a2b71(0x6b)]=DashTicketsEvolutionChannels;