'use strict';const a556_0x16e9af=a556_0x56a9;(function(_0x4d9ab5,_0x4301d4){const _0x1b1a8f=a556_0x56a9,_0x20e315=_0x4d9ab5();while(!![]){try{const _0x11ca20=-parseInt(_0x1b1a8f(0x1ab))/0x1+parseInt(_0x1b1a8f(0x199))/0x2*(parseInt(_0x1b1a8f(0x1a1))/0x3)+-parseInt(_0x1b1a8f(0x1a4))/0x4*(-parseInt(_0x1b1a8f(0x1a7))/0x5)+parseInt(_0x1b1a8f(0x19b))/0x6*(-parseInt(_0x1b1a8f(0x1a8))/0x7)+-parseInt(_0x1b1a8f(0x19c))/0x8*(-parseInt(_0x1b1a8f(0x19e))/0x9)+-parseInt(_0x1b1a8f(0x1a3))/0xa*(parseInt(_0x1b1a8f(0x1ad))/0xb)+parseInt(_0x1b1a8f(0x1aa))/0xc;if(_0x11ca20===_0x4301d4)break;else _0x20e315['push'](_0x20e315['shift']());}catch(_0x3dc11a){_0x20e315['push'](_0x20e315['shift']());}}}(a556_0x3800,0x5b531));function a556_0x56a9(_0x3c0728,_0x40bb11){const _0x38009f=a556_0x3800();return a556_0x56a9=function(_0x56a986,_0x55e3c8){_0x56a986=_0x56a986-0x199;let _0x178208=_0x38009f[_0x56a986];return _0x178208;},a556_0x56a9(_0x3c0728,_0x40bb11);}var __importDefault=this&&this[a556_0x16e9af(0x19d)]||function(_0x3b4a81){const _0x18ec06=a556_0x16e9af;return _0x3b4a81&&_0x3b4a81[_0x18ec06(0x1a6)]?_0x3b4a81:{'default':_0x3b4a81};};Object[a556_0x16e9af(0x1ac)](exports,a556_0x16e9af(0x1a6),{'value':!![]});const sequelize_1=require(a556_0x16e9af(0x1a0)),database_1=__importDefault(require(a556_0x16e9af(0x1a9))),queryAdmin=a556_0x16e9af(0x1a2),query='\x0a\x20\x20select\x0a\x20\x20dt_ref,\x0a\x20\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20as\x20label,\x0a\x20\x20qtd\x0a\x20\x20--ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x0a\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x20and\x20lt.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a',DashTicketsEvolutionByPeriod=async({startDate:_0xb89b9f,endDate:_0xd6e70e,companyId:_0x2a3850,userId:_0x2f9ba9,userProfile:_0x3186fe})=>{const _0x1266cd=a556_0x16e9af,_0x4ab299=await database_1['default'][_0x1266cd(0x19f)](_0x3186fe=='admin'?queryAdmin:query,{'replacements':{'companyId':_0x2a3850,'startDate':_0xb89b9f,'endDate':_0xd6e70e,'userId':_0x2f9ba9},'type':sequelize_1[_0x1266cd(0x1a5)]['SELECT']});return _0x4ab299;};exports[a556_0x16e9af(0x19a)]=DashTicketsEvolutionByPeriod;function a556_0x3800(){const _0x34dd77=['2524313vKtRaa','12wKOKYi','default','4200690KIawkC','1093616lBWsoY','__importDefault','36zdbZvS','query','sequelize','204159ajpYGw','\x0a\x20\x20select\x0a\x20\x20dt_ref,\x0a\x20\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20as\x20label,\x0a\x20\x20qtd\x0a\x20\x20--ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x0a\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a','10oSanLB','88DhWQRu','QueryTypes','__esModule','70045GrHdLS','7ycypJN','../../database','7347348lbiYpu','571940yjDZnp','defineProperty'];a556_0x3800=function(){return _0x34dd77;};return a556_0x3800();}