'use strict';function a567_0x2977(_0x54657b,_0x6f7a7f){const _0x3c6f4d=a567_0x3c6f();return a567_0x2977=function(_0x297738,_0x47fcaf){_0x297738=_0x297738-0x123;let _0x3b31c2=_0x3c6f4d[_0x297738];return _0x3b31c2;},a567_0x2977(_0x54657b,_0x6f7a7f);}const a567_0x615019=a567_0x2977;(function(_0x1b008b,_0x106778){const _0x28e136=a567_0x2977,_0x28edf9=_0x1b008b();while(!![]){try{const _0x5bb113=parseInt(_0x28e136(0x123))/0x1+-parseInt(_0x28e136(0x134))/0x2*(parseInt(_0x28e136(0x12b))/0x3)+-parseInt(_0x28e136(0x12a))/0x4*(-parseInt(_0x28e136(0x128))/0x5)+-parseInt(_0x28e136(0x124))/0x6+-parseInt(_0x28e136(0x12c))/0x7+parseInt(_0x28e136(0x12f))/0x8+-parseInt(_0x28e136(0x130))/0x9;if(_0x5bb113===_0x106778)break;else _0x28edf9['push'](_0x28edf9['shift']());}catch(_0x3ff07a){_0x28edf9['push'](_0x28edf9['shift']());}}}(a567_0x3c6f,0xaa2d8));function a567_0x3c6f(){const _0x19dc82=['5150128BviAQO','1251558skpPne','QueryTypes','admin','defineProperty','4VswjBz','SELECT','1382318AnILjh','3799350KRQQTk','__esModule','__importDefault','\x0a\x20\x20select\x0a\x20\x20dt_ref,\x0a\x20\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20as\x20label,\x0a\x20\x20qtd\x0a\x20\x20--ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x0a\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x20and\x20lt.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a','30OjYAoW','\x0a\x20\x20select\x0a\x20\x20dt_ref,\x0a\x20\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20as\x20label,\x0a\x20\x20qtd\x0a\x20\x20--ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x0a\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a','396772PslFOg','95442IflMGl','7617953RuWgGC','sequelize','default'];a567_0x3c6f=function(){return _0x19dc82;};return a567_0x3c6f();}var __importDefault=this&&this[a567_0x615019(0x126)]||function(_0x97a60){const _0x533027=a567_0x615019;return _0x97a60&&_0x97a60[_0x533027(0x125)]?_0x97a60:{'default':_0x97a60};};Object[a567_0x615019(0x133)](exports,a567_0x615019(0x125),{'value':!![]});const sequelize_1=require(a567_0x615019(0x12d)),database_1=__importDefault(require('../../database')),queryAdmin=a567_0x615019(0x129),query=a567_0x615019(0x127),DashTicketsEvolutionByPeriod=async({startDate:_0x227b2b,endDate:_0x568a80,companyId:_0x25cc9e,userId:_0x3c8563,userProfile:_0x2a43a1})=>{const _0x1d6b48=a567_0x615019,_0xb26d0f=await database_1[_0x1d6b48(0x12e)]['query'](_0x2a43a1==_0x1d6b48(0x132)?queryAdmin:query,{'replacements':{'companyId':_0x25cc9e,'startDate':_0x227b2b,'endDate':_0x568a80,'userId':_0x3c8563},'type':sequelize_1[_0x1d6b48(0x131)][_0x1d6b48(0x135)]});return _0xb26d0f;};exports['default']=DashTicketsEvolutionByPeriod;