'use strict';function a564_0x1fd3(){const _0x2ae543=['8677108fgkKYT','where','sequelize','default','map','like','__importDefault','411035vYBrNW','3260520bBGdoy','trim','between','parseISO','18kNMpDK','findAll','54PvjYGK','3asdAPh','endOfDay','ddds','1009780VxBXaL','129633rAsbbd','ASC','number','__esModule','col','find','LOWER','forEach','10DtVfPW','Contact.name','LIKE','estado','concat','537844TzeIHe','toLowerCase','1436538DZFABr','email','../../models/Tag','tags','name','defineProperty','../../models/Contact','Sequelize'];a564_0x1fd3=function(){return _0x2ae543;};return a564_0x1fd3();}const a564_0x40ffdf=a564_0x2148;(function(_0x1b4174,_0x5e5a79){const _0x599dce=a564_0x2148,_0x5ae5b7=_0x1b4174();while(!![]){try{const _0x355a62=-parseInt(_0x599dce(0x1f4))/0x1+parseInt(_0x599dce(0x1e5))/0x2*(-parseInt(_0x599dce(0x1d2))/0x3)+parseInt(_0x599dce(0x1e3))/0x4+parseInt(_0x599dce(0x1d5))/0x5+parseInt(_0x599dce(0x1d1))/0x6*(-parseInt(_0x599dce(0x1d6))/0x7)+-parseInt(_0x599dce(0x1f5))/0x8*(-parseInt(_0x599dce(0x1f9))/0x9)+-parseInt(_0x599dce(0x1de))/0xa*(-parseInt(_0x599dce(0x1ed))/0xb);if(_0x355a62===_0x5e5a79)break;else _0x5ae5b7['push'](_0x5ae5b7['shift']());}catch(_0xea0f76){_0x5ae5b7['push'](_0x5ae5b7['shift']());}}}(a564_0x1fd3,0x9d530));var __importDefault=this&&this[a564_0x40ffdf(0x1f3)]||function(_0x758872){const _0x3b9ae0=a564_0x40ffdf;return _0x758872&&_0x758872[_0x3b9ae0(0x1d9)]?_0x758872:{'default':_0x758872};};function a564_0x2148(_0x160a4f,_0x34bfc0){const _0x1fd327=a564_0x1fd3();return a564_0x2148=function(_0x214818,_0xef267c){_0x214818=_0x214818-0x1d0;let _0xb560ff=_0x1fd327[_0x214818];return _0xb560ff;},a564_0x2148(_0x160a4f,_0x34bfc0);}Object[a564_0x40ffdf(0x1ea)](exports,a564_0x40ffdf(0x1d9),{'value':!![]});const date_fns_1=require('date-fns'),sequelize_1=require(a564_0x40ffdf(0x1ef)),Contact_1=__importDefault(require(a564_0x40ffdf(0x1eb))),Tag_1=__importDefault(require(a564_0x40ffdf(0x1e7))),dddsPorEstado=[{'estado':'AC','ddds':['68']},{'estado':'AL','ddds':['82']},{'estado':'AM','ddds':['92','97']},{'estado':'AP','ddds':['96']},{'estado':'BA','ddds':['71','73','74','75','77']},{'estado':'CE','ddds':['85','88']},{'estado':'DF','ddds':['61']},{'estado':'ES','ddds':['27','28']},{'estado':'GO','ddds':['62','64']},{'estado':'MA','ddds':['98','99']},{'estado':'MG','ddds':['31','32','33','34','35','37','38']},{'estado':'MS','ddds':['67']},{'estado':'MT','ddds':['65','66']},{'estado':'PA','ddds':['91','93','94']},{'estado':'PB','ddds':['83']},{'estado':'PE','ddds':['81','87']},{'estado':'PI','ddds':['86','89']},{'estado':'PR','ddds':['41','42','43','44','45','46']},{'estado':'RJ','ddds':['21','22','24']},{'estado':'RN','ddds':['84']},{'estado':'RO','ddds':['69']},{'estado':'RR','ddds':['95']},{'estado':'RS','ddds':['51','53','54','55']},{'estado':'SC','ddds':['47','48','49']},{'estado':'SE','ddds':['79']},{'estado':'SP','ddds':['11','12','13','14','15','16','17','18','19']},{'estado':'TO','ddds':['63']}],ListContactsService=async({startDate:_0x5ca078,endDate:_0x568d27,companyId:_0x29a5f8,tags:_0x49edf4,wallets:_0x36ac87,ddds:_0x5b4cf7,userId:_0x19dbca,profile:_0x30e6ab,searchParam:_0x5c57f4})=>{const _0x26b31e=a564_0x40ffdf;let _0x4fd12e=[],_0x4cf32a={'companyId':_0x29a5f8,'isGroup':![]};_0x5c57f4&&(_0x4cf32a={..._0x4cf32a,[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x26b31e(0x1ec)][_0x26b31e(0x1ee)](sequelize_1[_0x26b31e(0x1ec)]['fn'](_0x26b31e(0x1dc),sequelize_1[_0x26b31e(0x1ec)][_0x26b31e(0x1da)](_0x26b31e(0x1df))),_0x26b31e(0x1e0),'%'+_0x5c57f4[_0x26b31e(0x1e4)]()[_0x26b31e(0x1f6)]()+'%')},{'number':{[sequelize_1['Op'][_0x26b31e(0x1f2)]]:'%'+_0x5c57f4[_0x26b31e(0x1e4)]()[_0x26b31e(0x1f6)]()+'%'}}]});_0x5ca078&&_0x568d27&&(_0x4cf32a={..._0x4cf32a,'createdAt':{[sequelize_1['Op'][_0x26b31e(0x1f7)]]:[+(0x0,date_fns_1['startOfDay'])((0x0,date_fns_1['parseISO'])(_0x5ca078)),+(0x0,date_fns_1[_0x26b31e(0x1d3)])((0x0,date_fns_1[_0x26b31e(0x1f8)])(_0x568d27))]}});_0x49edf4&&(_0x4fd12e=[{'model':Tag_1['default'],'as':_0x26b31e(0x1e8),'where':{'id':{[sequelize_1['Op']['in']]:_0x49edf4}},'required':!![]}]);if(_0x5b4cf7){let _0x2add98=[];_0x5b4cf7[_0x26b31e(0x1dd)](_0x40ac2c=>{const _0x5119ec=_0x26b31e;if(_0x40ac2c){const _0x25f9bf=dddsPorEstado[_0x5119ec(0x1db)](_0x15fa35=>_0x15fa35[_0x5119ec(0x1e1)]===_0x40ac2c)?.[_0x5119ec(0x1d4)];_0x25f9bf&&(_0x2add98=_0x2add98[_0x5119ec(0x1e2)](_0x25f9bf));}}),_0x4cf32a={..._0x4cf32a,'number':{[sequelize_1['Op']['or']]:_0x2add98[_0x26b31e(0x1f1)](_0x3aa89b=>({[sequelize_1['Op'][_0x26b31e(0x1f2)]]:'55'+_0x3aa89b+'%'}))}};}const _0x549cb1=await Contact_1[_0x26b31e(0x1f0)][_0x26b31e(0x1d0)]({'where':_0x4cf32a,'attributes':['id',_0x26b31e(0x1e9),_0x26b31e(0x1d8),_0x26b31e(0x1e6)],'include':_0x4fd12e,'order':[[_0x26b31e(0x1e9),_0x26b31e(0x1d7)]]});return{'contacts':_0x549cb1};};exports[a564_0x40ffdf(0x1f0)]=ListContactsService;