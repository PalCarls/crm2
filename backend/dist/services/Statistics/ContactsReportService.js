'use strict';const a571_0x2ce491=a571_0x181d;(function(_0x43780a,_0x5874f9){const _0x592437=a571_0x181d,_0x5fb4a5=_0x43780a();while(!![]){try{const _0x10a3f3=-parseInt(_0x592437(0x192))/0x1+-parseInt(_0x592437(0x182))/0x2+parseInt(_0x592437(0x187))/0x3*(parseInt(_0x592437(0x18d))/0x4)+-parseInt(_0x592437(0x189))/0x5+-parseInt(_0x592437(0x19d))/0x6+-parseInt(_0x592437(0x188))/0x7*(-parseInt(_0x592437(0x195))/0x8)+parseInt(_0x592437(0x185))/0x9;if(_0x10a3f3===_0x5874f9)break;else _0x5fb4a5['push'](_0x5fb4a5['shift']());}catch(_0x38f334){_0x5fb4a5['push'](_0x5fb4a5['shift']());}}}(a571_0xab0a,0xdce52));function a571_0xab0a(){const _0x407c57=['defineProperty','find','toLowerCase','9378312WfagQW','sequelize','concat','startOfDay','like','forEach','name','default','Contact.name','ASC','LOWER','2271890Vijqjt','__esModule','endOfDay','37079982LYWFpO','tags','69NvGtRT','7KnrgXS','1805070JBDMvP','col','date-fns','../../models/Contact','19924fqTLbH','parseISO','__importDefault','trim','where','1677533CpXdnD','between','number','11262152VJGppS','ddds','Sequelize','estado','../../models/Tag'];a571_0xab0a=function(){return _0x407c57;};return a571_0xab0a();}var __importDefault=this&&this[a571_0x2ce491(0x18f)]||function(_0x4321b5){const _0x2d9d65=a571_0x2ce491;return _0x4321b5&&_0x4321b5[_0x2d9d65(0x183)]?_0x4321b5:{'default':_0x4321b5};};Object[a571_0x2ce491(0x19a)](exports,a571_0x2ce491(0x183),{'value':!![]});function a571_0x181d(_0x3c9c9b,_0x5f6796){const _0xab0afe=a571_0xab0a();return a571_0x181d=function(_0x181dd1,_0x36175c){_0x181dd1=_0x181dd1-0x17a;let _0x1958bb=_0xab0afe[_0x181dd1];return _0x1958bb;},a571_0x181d(_0x3c9c9b,_0x5f6796);}const date_fns_1=require(a571_0x2ce491(0x18b)),sequelize_1=require(a571_0x2ce491(0x19e)),Contact_1=__importDefault(require(a571_0x2ce491(0x18c))),Tag_1=__importDefault(require(a571_0x2ce491(0x199))),dddsPorEstado=[{'estado':'AC','ddds':['68']},{'estado':'AL','ddds':['82']},{'estado':'AM','ddds':['92','97']},{'estado':'AP','ddds':['96']},{'estado':'BA','ddds':['71','73','74','75','77']},{'estado':'CE','ddds':['85','88']},{'estado':'DF','ddds':['61']},{'estado':'ES','ddds':['27','28']},{'estado':'GO','ddds':['62','64']},{'estado':'MA','ddds':['98','99']},{'estado':'MG','ddds':['31','32','33','34','35','37','38']},{'estado':'MS','ddds':['67']},{'estado':'MT','ddds':['65','66']},{'estado':'PA','ddds':['91','93','94']},{'estado':'PB','ddds':['83']},{'estado':'PE','ddds':['81','87']},{'estado':'PI','ddds':['86','89']},{'estado':'PR','ddds':['41','42','43','44','45','46']},{'estado':'RJ','ddds':['21','22','24']},{'estado':'RN','ddds':['84']},{'estado':'RO','ddds':['69']},{'estado':'RR','ddds':['95']},{'estado':'RS','ddds':['51','53','54','55']},{'estado':'SC','ddds':['47','48','49']},{'estado':'SE','ddds':['79']},{'estado':'SP','ddds':['11','12','13','14','15','16','17','18','19']},{'estado':'TO','ddds':['63']}],ListContactsService=async({startDate:_0x3275d5,endDate:_0x2b1d03,companyId:_0x345c99,tags:_0x5bd36c,wallets:_0x3f048e,ddds:_0x57ef1a,userId:_0x110e17,profile:_0x518f97,searchParam:_0x3a9664})=>{const _0x3dbe95=a571_0x2ce491;let _0xdc5b05=[],_0x1a7bec={'companyId':_0x345c99,'isGroup':![]};_0x3a9664&&(_0x1a7bec={..._0x1a7bec,[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x3dbe95(0x197)][_0x3dbe95(0x191)](sequelize_1[_0x3dbe95(0x197)]['fn'](_0x3dbe95(0x181),sequelize_1['Sequelize'][_0x3dbe95(0x18a)](_0x3dbe95(0x17f))),'LIKE','%'+_0x3a9664['toLowerCase']()[_0x3dbe95(0x190)]()+'%')},{'number':{[sequelize_1['Op'][_0x3dbe95(0x17b)]]:'%'+_0x3a9664[_0x3dbe95(0x19c)]()['trim']()+'%'}}]});_0x3275d5&&_0x2b1d03&&(_0x1a7bec={..._0x1a7bec,'createdAt':{[sequelize_1['Op'][_0x3dbe95(0x193)]]:[+(0x0,date_fns_1[_0x3dbe95(0x17a)])((0x0,date_fns_1[_0x3dbe95(0x18e)])(_0x3275d5)),+(0x0,date_fns_1[_0x3dbe95(0x184)])((0x0,date_fns_1[_0x3dbe95(0x18e)])(_0x2b1d03))]}});_0x5bd36c&&(_0xdc5b05=[{'model':Tag_1['default'],'as':_0x3dbe95(0x186),'where':{'id':{[sequelize_1['Op']['in']]:_0x5bd36c}},'required':!![]}]);if(_0x57ef1a){let _0x500354=[];_0x57ef1a[_0x3dbe95(0x17c)](_0x58c567=>{const _0x50e689=_0x3dbe95;if(_0x58c567){const _0x174121=dddsPorEstado[_0x50e689(0x19b)](_0x5213f2=>_0x5213f2[_0x50e689(0x198)]===_0x58c567)?.[_0x50e689(0x196)];_0x174121&&(_0x500354=_0x500354[_0x50e689(0x19f)](_0x174121));}}),_0x1a7bec={..._0x1a7bec,'number':{[sequelize_1['Op']['or']]:_0x500354['map'](_0x34c686=>({[sequelize_1['Op'][_0x3dbe95(0x17b)]]:'55'+_0x34c686+'%'}))}};}const _0xe3062a=await Contact_1[_0x3dbe95(0x17e)]['findAll']({'where':_0x1a7bec,'attributes':['id','name',_0x3dbe95(0x194),'email'],'include':_0xdc5b05,'order':[[_0x3dbe95(0x17d),_0x3dbe95(0x180)]]});return{'contacts':_0xe3062a};};exports[a571_0x2ce491(0x17e)]=ListContactsService;