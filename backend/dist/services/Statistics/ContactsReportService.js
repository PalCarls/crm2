'use strict';const a553_0x2ff157=a553_0x4ca9;(function(_0x10be52,_0x1ddf14){const _0x2acb87=a553_0x4ca9,_0x1f3f56=_0x10be52();while(!![]){try{const _0x3f44b9=-parseInt(_0x2acb87(0x1ad))/0x1*(-parseInt(_0x2acb87(0x1b0))/0x2)+parseInt(_0x2acb87(0x1ac))/0x3*(-parseInt(_0x2acb87(0x1b5))/0x4)+parseInt(_0x2acb87(0x1ab))/0x5+-parseInt(_0x2acb87(0x1b4))/0x6*(-parseInt(_0x2acb87(0x1ae))/0x7)+parseInt(_0x2acb87(0x1a6))/0x8+-parseInt(_0x2acb87(0x1b9))/0x9+-parseInt(_0x2acb87(0x1bb))/0xa;if(_0x3f44b9===_0x1ddf14)break;else _0x1f3f56['push'](_0x1f3f56['shift']());}catch(_0x3616bf){_0x1f3f56['push'](_0x1f3f56['shift']());}}}(a553_0x17be,0x35b09));function a553_0x17be(){const _0x5b359e=['../../models/Contact','default','map','3113376RJkqnr','Contact.name','like','Sequelize','findAll','1275970IeqpNG','28071aWeOFq','1213hjKivI','1939mOUbxM','sequelize','82aeEPig','LIKE','find','where','5370ezHbhC','116JKdcZg','col','__esModule','LOWER','187623gPIfVG','tags','4299010dPnxHT','__importDefault','toLowerCase','parseISO','defineProperty','name'];a553_0x17be=function(){return _0x5b359e;};return a553_0x17be();}var __importDefault=this&&this[a553_0x2ff157(0x1bc)]||function(_0x1f06c3){const _0x583e8b=a553_0x2ff157;return _0x1f06c3&&_0x1f06c3[_0x583e8b(0x1b7)]?_0x1f06c3:{'default':_0x1f06c3};};Object[a553_0x2ff157(0x1bf)](exports,'__esModule',{'value':!![]});function a553_0x4ca9(_0x2c18ce,_0x418416){const _0x17beec=a553_0x17be();return a553_0x4ca9=function(_0x4ca94d,_0x1300f2){_0x4ca94d=_0x4ca94d-0x1a5;let _0x28002b=_0x17beec[_0x4ca94d];return _0x28002b;},a553_0x4ca9(_0x2c18ce,_0x418416);}const date_fns_1=require('date-fns'),sequelize_1=require(a553_0x2ff157(0x1af)),Contact_1=__importDefault(require(a553_0x2ff157(0x1c1))),Tag_1=__importDefault(require('../../models/Tag')),dddsPorEstado=[{'estado':'AC','ddds':['68']},{'estado':'AL','ddds':['82']},{'estado':'AM','ddds':['92','97']},{'estado':'AP','ddds':['96']},{'estado':'BA','ddds':['71','73','74','75','77']},{'estado':'CE','ddds':['85','88']},{'estado':'DF','ddds':['61']},{'estado':'ES','ddds':['27','28']},{'estado':'GO','ddds':['62','64']},{'estado':'MA','ddds':['98','99']},{'estado':'MG','ddds':['31','32','33','34','35','37','38']},{'estado':'MS','ddds':['67']},{'estado':'MT','ddds':['65','66']},{'estado':'PA','ddds':['91','93','94']},{'estado':'PB','ddds':['83']},{'estado':'PE','ddds':['81','87']},{'estado':'PI','ddds':['86','89']},{'estado':'PR','ddds':['41','42','43','44','45','46']},{'estado':'RJ','ddds':['21','22','24']},{'estado':'RN','ddds':['84']},{'estado':'RO','ddds':['69']},{'estado':'RR','ddds':['95']},{'estado':'RS','ddds':['51','53','54','55']},{'estado':'SC','ddds':['47','48','49']},{'estado':'SE','ddds':['79']},{'estado':'SP','ddds':['11','12','13','14','15','16','17','18','19']},{'estado':'TO','ddds':['63']}],ListContactsService=async({startDate:_0x4cb4b6,endDate:_0x5cbce1,companyId:_0x3eb491,tags:_0x3b0026,wallets:_0x4e0af6,ddds:_0x5bbdc,userId:_0x2e01bc,profile:_0x37137e,searchParam:_0x483140})=>{const _0x3b1f18=a553_0x2ff157;let _0x54e036=[],_0x320a37={'companyId':_0x3eb491,'isGroup':![]};_0x483140&&(_0x320a37={..._0x320a37,[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x3b1f18(0x1a9)][_0x3b1f18(0x1b3)](sequelize_1[_0x3b1f18(0x1a9)]['fn'](_0x3b1f18(0x1b8),sequelize_1[_0x3b1f18(0x1a9)][_0x3b1f18(0x1b6)](_0x3b1f18(0x1a7))),_0x3b1f18(0x1b1),'%'+_0x483140[_0x3b1f18(0x1bd)]()['trim']()+'%')},{'number':{[sequelize_1['Op'][_0x3b1f18(0x1a8)]]:'%'+_0x483140[_0x3b1f18(0x1bd)]()['trim']()+'%'}}]});_0x4cb4b6&&_0x5cbce1&&(_0x320a37={..._0x320a37,'createdAt':{[sequelize_1['Op']['between']]:[+(0x0,date_fns_1['startOfDay'])((0x0,date_fns_1['parseISO'])(_0x4cb4b6)),+(0x0,date_fns_1['endOfDay'])((0x0,date_fns_1[_0x3b1f18(0x1be)])(_0x5cbce1))]}});_0x3b0026&&(_0x54e036=[{'model':Tag_1[_0x3b1f18(0x1c2)],'as':_0x3b1f18(0x1ba),'where':{'id':{[sequelize_1['Op']['in']]:_0x3b0026}},'required':!![]}]);if(_0x5bbdc){let _0xd9abd4=[];_0x5bbdc['forEach'](_0x506162=>{const _0x5e66f4=_0x3b1f18;if(_0x506162){const _0x16b3d2=dddsPorEstado[_0x5e66f4(0x1b2)](_0x42d590=>_0x42d590['estado']===_0x506162)?.['ddds'];_0x16b3d2&&(_0xd9abd4=_0xd9abd4['concat'](_0x16b3d2));}}),_0x320a37={..._0x320a37,'number':{[sequelize_1['Op']['or']]:_0xd9abd4[_0x3b1f18(0x1a5)](_0x1c62e8=>({[sequelize_1['Op'][_0x3b1f18(0x1a8)]]:'55'+_0x1c62e8+'%'}))}};}const _0x121668=await Contact_1[_0x3b1f18(0x1c2)][_0x3b1f18(0x1aa)]({'where':_0x320a37,'attributes':['id','name','number','email'],'include':_0x54e036,'order':[[_0x3b1f18(0x1c0),'ASC']]});return{'contacts':_0x121668};};exports[a553_0x2ff157(0x1c2)]=ListContactsService;