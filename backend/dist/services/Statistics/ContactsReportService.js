'use strict';const a564_0x40c50d=a564_0x140e;(function(_0x36c34c,_0xad00bd){const _0x44a4cd=a564_0x140e,_0x58ccf2=_0x36c34c();while(!![]){try{const _0x2895b4=parseInt(_0x44a4cd(0x1bd))/0x1*(-parseInt(_0x44a4cd(0x1b1))/0x2)+-parseInt(_0x44a4cd(0x1b2))/0x3+-parseInt(_0x44a4cd(0x1af))/0x4*(parseInt(_0x44a4cd(0x19e))/0x5)+parseInt(_0x44a4cd(0x1a8))/0x6*(parseInt(_0x44a4cd(0x1a9))/0x7)+parseInt(_0x44a4cd(0x1a7))/0x8*(-parseInt(_0x44a4cd(0x1b8))/0x9)+-parseInt(_0x44a4cd(0x1b7))/0xa*(-parseInt(_0x44a4cd(0x1a2))/0xb)+parseInt(_0x44a4cd(0x19b))/0xc*(parseInt(_0x44a4cd(0x1b0))/0xd);if(_0x2895b4===_0xad00bd)break;else _0x58ccf2['push'](_0x58ccf2['shift']());}catch(_0x2018c1){_0x58ccf2['push'](_0x58ccf2['shift']());}}}(a564_0x4516,0x3cf9b));function a564_0x140e(_0x22078a,_0x437260){const _0x451602=a564_0x4516();return a564_0x140e=function(_0x140eeb,_0x11a56e){_0x140eeb=_0x140eeb-0x199;let _0x1b6d0e=_0x451602[_0x140eeb];return _0x1b6d0e;},a564_0x140e(_0x22078a,_0x437260);}var __importDefault=this&&this[a564_0x40c50d(0x19f)]||function(_0x34bfa9){const _0x34e1e6=a564_0x40c50d;return _0x34bfa9&&_0x34bfa9[_0x34e1e6(0x1ab)]?_0x34bfa9:{'default':_0x34bfa9};};Object[a564_0x40c50d(0x1a6)](exports,a564_0x40c50d(0x1ab),{'value':!![]});function a564_0x4516(){const _0x3119af=['between','ASC','email','Sequelize','10zzwsEg','54OmyunI','parseISO','tags','name','like','1gsuCgp','LOWER','date-fns','toLowerCase','13134516icBVJt','where','sequelize','5xROuUG','__importDefault','findAll','trim','368962wpFNIe','../../models/Tag','map','number','defineProperty','316432LXNkpL','2118seBTdv','770qhGatL','ddds','__esModule','find','forEach','default','480728jBHEOt','13NcFFaN','949094twdOgh','255321wVXeSK'];a564_0x4516=function(){return _0x3119af;};return a564_0x4516();}const date_fns_1=require(a564_0x40c50d(0x199)),sequelize_1=require(a564_0x40c50d(0x19d)),Contact_1=__importDefault(require('../../models/Contact')),Tag_1=__importDefault(require(a564_0x40c50d(0x1a3))),dddsPorEstado=[{'estado':'AC','ddds':['68']},{'estado':'AL','ddds':['82']},{'estado':'AM','ddds':['92','97']},{'estado':'AP','ddds':['96']},{'estado':'BA','ddds':['71','73','74','75','77']},{'estado':'CE','ddds':['85','88']},{'estado':'DF','ddds':['61']},{'estado':'ES','ddds':['27','28']},{'estado':'GO','ddds':['62','64']},{'estado':'MA','ddds':['98','99']},{'estado':'MG','ddds':['31','32','33','34','35','37','38']},{'estado':'MS','ddds':['67']},{'estado':'MT','ddds':['65','66']},{'estado':'PA','ddds':['91','93','94']},{'estado':'PB','ddds':['83']},{'estado':'PE','ddds':['81','87']},{'estado':'PI','ddds':['86','89']},{'estado':'PR','ddds':['41','42','43','44','45','46']},{'estado':'RJ','ddds':['21','22','24']},{'estado':'RN','ddds':['84']},{'estado':'RO','ddds':['69']},{'estado':'RR','ddds':['95']},{'estado':'RS','ddds':['51','53','54','55']},{'estado':'SC','ddds':['47','48','49']},{'estado':'SE','ddds':['79']},{'estado':'SP','ddds':['11','12','13','14','15','16','17','18','19']},{'estado':'TO','ddds':['63']}],ListContactsService=async({startDate:_0x35b879,endDate:_0x4cc78b,companyId:_0xc90628,tags:_0x3dabd6,wallets:_0x51b956,ddds:_0x249c26,userId:_0x253664,profile:_0x54bbe8,searchParam:_0x4f12cc})=>{const _0x1ae835=a564_0x40c50d;let _0x32f638=[],_0x3b37a3={'companyId':_0xc90628,'isGroup':![]};_0x4f12cc&&(_0x3b37a3={..._0x3b37a3,[sequelize_1['Op']['or']]:[{'name':sequelize_1[_0x1ae835(0x1b6)][_0x1ae835(0x19c)](sequelize_1[_0x1ae835(0x1b6)]['fn'](_0x1ae835(0x1be),sequelize_1[_0x1ae835(0x1b6)]['col']('Contact.name')),'LIKE','%'+_0x4f12cc[_0x1ae835(0x19a)]()['trim']()+'%')},{'number':{[sequelize_1['Op'][_0x1ae835(0x1bc)]]:'%'+_0x4f12cc[_0x1ae835(0x19a)]()[_0x1ae835(0x1a1)]()+'%'}}]});_0x35b879&&_0x4cc78b&&(_0x3b37a3={..._0x3b37a3,'createdAt':{[sequelize_1['Op'][_0x1ae835(0x1b3)]]:[+(0x0,date_fns_1['startOfDay'])((0x0,date_fns_1[_0x1ae835(0x1b9)])(_0x35b879)),+(0x0,date_fns_1['endOfDay'])((0x0,date_fns_1[_0x1ae835(0x1b9)])(_0x4cc78b))]}});_0x3dabd6&&(_0x32f638=[{'model':Tag_1['default'],'as':_0x1ae835(0x1ba),'where':{'id':{[sequelize_1['Op']['in']]:_0x3dabd6}},'required':!![]}]);if(_0x249c26){let _0x3081f8=[];_0x249c26[_0x1ae835(0x1ad)](_0x4cee5d=>{const _0x505cca=_0x1ae835;if(_0x4cee5d){const _0x223361=dddsPorEstado[_0x505cca(0x1ac)](_0x11ddb5=>_0x11ddb5['estado']===_0x4cee5d)?.[_0x505cca(0x1aa)];_0x223361&&(_0x3081f8=_0x3081f8['concat'](_0x223361));}}),_0x3b37a3={..._0x3b37a3,'number':{[sequelize_1['Op']['or']]:_0x3081f8[_0x1ae835(0x1a4)](_0x55fab4=>({[sequelize_1['Op']['like']]:'55'+_0x55fab4+'%'}))}};}const _0x5b0f2e=await Contact_1['default'][_0x1ae835(0x1a0)]({'where':_0x3b37a3,'attributes':['id',_0x1ae835(0x1bb),_0x1ae835(0x1a5),_0x1ae835(0x1b5)],'include':_0x32f638,'order':[['name',_0x1ae835(0x1b4)]]});return{'contacts':_0x5b0f2e};};exports[a564_0x40c50d(0x1ae)]=ListContactsService;