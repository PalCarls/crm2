'use strict';const a564_0x7aac08=a564_0x42b0;(function(_0x410379,_0x4ab334){const _0xd33951=a564_0x42b0,_0x13002a=_0x410379();while(!![]){try{const _0x55dcaf=parseInt(_0xd33951(0x1ad))/0x1*(parseInt(_0xd33951(0x1a5))/0x2)+parseInt(_0xd33951(0x1a0))/0x3*(parseInt(_0xd33951(0x1c0))/0x4)+parseInt(_0xd33951(0x1a8))/0x5*(-parseInt(_0xd33951(0x1a6))/0x6)+parseInt(_0xd33951(0x1ab))/0x7*(parseInt(_0xd33951(0x1bf))/0x8)+parseInt(_0xd33951(0x1b8))/0x9+-parseInt(_0xd33951(0x1b2))/0xa*(-parseInt(_0xd33951(0x1b0))/0xb)+-parseInt(_0xd33951(0x1ba))/0xc*(-parseInt(_0xd33951(0x1bc))/0xd);if(_0x55dcaf===_0x4ab334)break;else _0x13002a['push'](_0x13002a['shift']());}catch(_0xb0aac7){_0x13002a['push'](_0x13002a['shift']());}}}(a564_0x3a63,0xc2ab2));function a564_0x42b0(_0x20d391,_0x2204de){const _0x3a6378=a564_0x3a63();return a564_0x42b0=function(_0x42b0d9,_0xc4ad99){_0x42b0d9=_0x42b0d9-0x19f;let _0x5bbed1=_0x3a6378[_0x42b0d9];return _0x5bbed1;},a564_0x42b0(_0x20d391,_0x2204de);}function a564_0x3a63(){const _0x1b1b29=['parseISO','8FGEAuw','4kQeEHp','find','name','LOWER','number','findAll','3931971IKlYHF','toLowerCase','ASC','LIKE','Contact.name','10990EJyEUZ','6iPkFSU','email','6225035Fxufdb','between','default','707973MvCYCx','Sequelize','13PjrzqY','ddds','concat','3062576XOpaoi','map','10MxzrmD','endOfDay','col','__esModule','forEach','date-fns','2406726NNskms','like','26616BnEyUf','trim','78ejAHap','tags'];a564_0x3a63=function(){return _0x1b1b29;};return a564_0x3a63();}var __importDefault=this&&this['__importDefault']||function(_0x4aac98){const _0x86c387=a564_0x42b0;return _0x4aac98&&_0x4aac98[_0x86c387(0x1b5)]?_0x4aac98:{'default':_0x4aac98};};Object['defineProperty'](exports,a564_0x7aac08(0x1b5),{'value':!![]});const date_fns_1=require(a564_0x7aac08(0x1b7)),sequelize_1=require('sequelize'),Contact_1=__importDefault(require('../../models/Contact')),Tag_1=__importDefault(require('../../models/Tag')),dddsPorEstado=[{'estado':'AC','ddds':['68']},{'estado':'AL','ddds':['82']},{'estado':'AM','ddds':['92','97']},{'estado':'AP','ddds':['96']},{'estado':'BA','ddds':['71','73','74','75','77']},{'estado':'CE','ddds':['85','88']},{'estado':'DF','ddds':['61']},{'estado':'ES','ddds':['27','28']},{'estado':'GO','ddds':['62','64']},{'estado':'MA','ddds':['98','99']},{'estado':'MG','ddds':['31','32','33','34','35','37','38']},{'estado':'MS','ddds':['67']},{'estado':'MT','ddds':['65','66']},{'estado':'PA','ddds':['91','93','94']},{'estado':'PB','ddds':['83']},{'estado':'PE','ddds':['81','87']},{'estado':'PI','ddds':['86','89']},{'estado':'PR','ddds':['41','42','43','44','45','46']},{'estado':'RJ','ddds':['21','22','24']},{'estado':'RN','ddds':['84']},{'estado':'RO','ddds':['69']},{'estado':'RR','ddds':['95']},{'estado':'RS','ddds':['51','53','54','55']},{'estado':'SC','ddds':['47','48','49']},{'estado':'SE','ddds':['79']},{'estado':'SP','ddds':['11','12','13','14','15','16','17','18','19']},{'estado':'TO','ddds':['63']}],ListContactsService=async({startDate:_0x25a973,endDate:_0x1bf394,companyId:_0x4090dd,tags:_0x782434,wallets:_0x1a3129,ddds:_0x3b2fb0,userId:_0x11ed2f,profile:_0x24980b,searchParam:_0x33949c})=>{const _0x3977c9=a564_0x7aac08;let _0x41f35a=[],_0x63f435={'companyId':_0x4090dd,'isGroup':![]};_0x33949c&&(_0x63f435={..._0x63f435,[sequelize_1['Op']['or']]:[{'name':sequelize_1['Sequelize']['where'](sequelize_1[_0x3977c9(0x1ac)]['fn'](_0x3977c9(0x1c3),sequelize_1[_0x3977c9(0x1ac)][_0x3977c9(0x1b4)](_0x3977c9(0x1a4))),_0x3977c9(0x1a3),'%'+_0x33949c[_0x3977c9(0x1a1)]()[_0x3977c9(0x1bb)]()+'%')},{'number':{[sequelize_1['Op'][_0x3977c9(0x1b9)]]:'%'+_0x33949c['toLowerCase']()[_0x3977c9(0x1bb)]()+'%'}}]});_0x25a973&&_0x1bf394&&(_0x63f435={..._0x63f435,'createdAt':{[sequelize_1['Op'][_0x3977c9(0x1a9)]]:[+(0x0,date_fns_1['startOfDay'])((0x0,date_fns_1[_0x3977c9(0x1be)])(_0x25a973)),+(0x0,date_fns_1[_0x3977c9(0x1b3)])((0x0,date_fns_1[_0x3977c9(0x1be)])(_0x1bf394))]}});_0x782434&&(_0x41f35a=[{'model':Tag_1[_0x3977c9(0x1aa)],'as':_0x3977c9(0x1bd),'where':{'id':{[sequelize_1['Op']['in']]:_0x782434}},'required':!![]}]);if(_0x3b2fb0){let _0x532e5e=[];_0x3b2fb0[_0x3977c9(0x1b6)](_0x26c531=>{const _0x4881d0=_0x3977c9;if(_0x26c531){const _0x18a9cb=dddsPorEstado[_0x4881d0(0x1c1)](_0x4abf91=>_0x4abf91['estado']===_0x26c531)?.[_0x4881d0(0x1ae)];_0x18a9cb&&(_0x532e5e=_0x532e5e[_0x4881d0(0x1af)](_0x18a9cb));}}),_0x63f435={..._0x63f435,'number':{[sequelize_1['Op']['or']]:_0x532e5e[_0x3977c9(0x1b1)](_0x4a180c=>({[sequelize_1['Op']['like']]:'55'+_0x4a180c+'%'}))}};}const _0x5845f7=await Contact_1[_0x3977c9(0x1aa)][_0x3977c9(0x19f)]({'where':_0x63f435,'attributes':['id',_0x3977c9(0x1c2),_0x3977c9(0x1c4),_0x3977c9(0x1a7)],'include':_0x41f35a,'order':[['name',_0x3977c9(0x1a2)]]});return{'contacts':_0x5845f7};};exports[a564_0x7aac08(0x1aa)]=ListContactsService;