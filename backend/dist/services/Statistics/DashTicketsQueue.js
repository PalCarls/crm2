'use strict';const a559_0x2a3c98=a559_0xe963;function a559_0xed90(){const _0x3c9628=['48255AAACUS','426kLONao','defineProperty','__esModule','66NMgWRu','266172kDzcDz','3356088TeJGxJ','../../database','320900tqBxVb','__importDefault','query','174676eQCoVd','QueryTypes','default','sequelize','\x0a\x20\x20select\x20label,\x20qtd,\x20\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20from\x20(\x0a\x20\x20select\x0a\x20\x20coalesce(q.queue,\x20\x27Não\x20informado\x27)\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20left\x20join\x20\x22Queues\x22\x20q\x20on\x20(t.\x22queueId\x22\x20=\x20q.id)\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x20AND\x20t.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20t.\x22queueId\x22,\x20q.queue\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x202\x20Desc\x0a','admin','\x0a\x20\x20select\x20label,\x20qtd,\x20\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20from\x20(\x0a\x20\x20select\x0a\x20\x20coalesce(q.queue,\x20\x27Não\x20informado\x27)\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20left\x20join\x20\x22Queues\x22\x20q\x20on\x20(t.\x22queueId\x22\x20=\x20q.id)\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20t.\x22queueId\x22,\x20q.queue\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x202\x20Desc\x0a','9wselzC','1803810HtjzDn','1029272sNdZlQ','33YgFbSD','7lmwXQD'];a559_0xed90=function(){return _0x3c9628;};return a559_0xed90();}(function(_0x5d7e24,_0x55d3e5){const _0x30a5db=a559_0xe963,_0x1a218f=_0x5d7e24();while(!![]){try{const _0x5c4372=-parseInt(_0x30a5db(0xe5))/0x1+-parseInt(_0x30a5db(0xe8))/0x2+-parseInt(_0x30a5db(0xde))/0x3*(parseInt(_0x30a5db(0xd4))/0x4)+parseInt(_0x30a5db(0xe0))/0x5*(-parseInt(_0x30a5db(0xe1))/0x6)+parseInt(_0x30a5db(0xdf))/0x7*(parseInt(_0x30a5db(0xdd))/0x8)+parseInt(_0x30a5db(0xdb))/0x9*(parseInt(_0x30a5db(0xdc))/0xa)+parseInt(_0x30a5db(0xe4))/0xb*(parseInt(_0x30a5db(0xe6))/0xc);if(_0x5c4372===_0x55d3e5)break;else _0x1a218f['push'](_0x1a218f['shift']());}catch(_0x1038a8){_0x1a218f['push'](_0x1a218f['shift']());}}}(a559_0xed90,0x60682));function a559_0xe963(_0x4190a2,_0x30ad71){const _0xed9022=a559_0xed90();return a559_0xe963=function(_0xe9636b,_0x5722b2){_0xe9636b=_0xe9636b-0xd4;let _0xc1deb8=_0xed9022[_0xe9636b];return _0xc1deb8;},a559_0xe963(_0x4190a2,_0x30ad71);}var __importDefault=this&&this[a559_0x2a3c98(0xe9)]||function(_0x458675){const _0x115f0d=a559_0x2a3c98;return _0x458675&&_0x458675[_0x115f0d(0xe3)]?_0x458675:{'default':_0x458675};};Object[a559_0x2a3c98(0xe2)](exports,'__esModule',{'value':!![]});const sequelize_1=require(a559_0x2a3c98(0xd7)),database_1=__importDefault(require(a559_0x2a3c98(0xe7))),query=a559_0x2a3c98(0xd8),queryAdmin=a559_0x2a3c98(0xda),DashTicketsQueue=async({startDate:_0xd61e2f,endDate:_0x85cfb2,companyId:_0x5ef890,userId:_0x598af6,userProfile:_0x236ef2})=>{const _0x3af250=a559_0x2a3c98,_0x1e8416=await database_1[_0x3af250(0xd6)][_0x3af250(0xea)](_0x236ef2==_0x3af250(0xd9)?queryAdmin:query,{'replacements':{'companyId':_0x5ef890,'startDate':_0xd61e2f,'endDate':_0x85cfb2,'userId':_0x598af6},'type':sequelize_1[_0x3af250(0xd5)]['SELECT']});return _0x1e8416;};exports['default']=DashTicketsQueue;