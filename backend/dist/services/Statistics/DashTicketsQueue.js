'use strict';function a570_0x89c3(){const _0x5f1758=['6099840CyTeqm','__importDefault','8BleCcZ','__esModule','552ZYXetY','\x0a\x20\x20select\x20label,\x20qtd,\x20\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20from\x20(\x0a\x20\x20select\x0a\x20\x20coalesce(q.queue,\x20\x27Não\x20informado\x27)\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20left\x20join\x20\x22Queues\x22\x20q\x20on\x20(t.\x22queueId\x22\x20=\x20q.id)\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20t.\x22queueId\x22,\x20q.queue\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x202\x20Desc\x0a','2489634TfmICQ','default','4733802ElGzDb','174903fBEznS','9445254kzkGqv','sequelize','1676055bwPtWu','37647FgRWQQ','../../database','query','QueryTypes'];a570_0x89c3=function(){return _0x5f1758;};return a570_0x89c3();}const a570_0x32d5b8=a570_0x5cf9;(function(_0x236cad,_0x5b3b70){const _0x589b5a=a570_0x5cf9,_0x568def=_0x236cad();while(!![]){try{const _0x40568b=parseInt(_0x589b5a(0xee))/0x1+-parseInt(_0x589b5a(0xe8))/0x2+parseInt(_0x589b5a(0xeb))/0x3*(parseInt(_0x589b5a(0xf5))/0x4)+parseInt(_0x589b5a(0xf3))/0x5+parseInt(_0x589b5a(0xea))/0x6+-parseInt(_0x589b5a(0xec))/0x7+parseInt(_0x589b5a(0xe6))/0x8*(-parseInt(_0x589b5a(0xef))/0x9);if(_0x40568b===_0x5b3b70)break;else _0x568def['push'](_0x568def['shift']());}catch(_0x3c3191){_0x568def['push'](_0x568def['shift']());}}}(a570_0x89c3,0xe052a));var __importDefault=this&&this[a570_0x32d5b8(0xf4)]||function(_0x2e03c1){const _0xa8f9f6=a570_0x32d5b8;return _0x2e03c1&&_0x2e03c1[_0xa8f9f6(0xf6)]?_0x2e03c1:{'default':_0x2e03c1};};Object['defineProperty'](exports,a570_0x32d5b8(0xf6),{'value':!![]});function a570_0x5cf9(_0x38219d,_0x4588ac){const _0x89c38e=a570_0x89c3();return a570_0x5cf9=function(_0x5cf9b0,_0x50dca8){_0x5cf9b0=_0x5cf9b0-0xe6;let _0x58ef2b=_0x89c38e[_0x5cf9b0];return _0x58ef2b;},a570_0x5cf9(_0x38219d,_0x4588ac);}const sequelize_1=require(a570_0x32d5b8(0xed)),database_1=__importDefault(require(a570_0x32d5b8(0xf0))),query='\x0a\x20\x20select\x20label,\x20qtd,\x20\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20from\x20(\x0a\x20\x20select\x0a\x20\x20coalesce(q.queue,\x20\x27Não\x20informado\x27)\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20left\x20join\x20\x22Queues\x22\x20q\x20on\x20(t.\x22queueId\x22\x20=\x20q.id)\x0a\x20\x20where\x20t.\x22companyId\x22\x20=\x20:companyId\x20AND\x20t.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20t.\x22queueId\x22,\x20q.queue\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x202\x20Desc\x0a',queryAdmin=a570_0x32d5b8(0xe7),DashTicketsQueue=async({startDate:_0x36a983,endDate:_0x35c901,companyId:_0x1d34c1,userId:_0x185e70,userProfile:_0x2c7c0c})=>{const _0x4acf9c=a570_0x32d5b8,_0xcc0c37=await database_1[_0x4acf9c(0xe9)][_0x4acf9c(0xf1)](_0x2c7c0c=='admin'?queryAdmin:query,{'replacements':{'companyId':_0x1d34c1,'startDate':_0x36a983,'endDate':_0x35c901,'userId':_0x185e70},'type':sequelize_1[_0x4acf9c(0xf2)]['SELECT']});return _0xcc0c37;};exports['default']=DashTicketsQueue;