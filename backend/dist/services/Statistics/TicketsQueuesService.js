<<<<<<< HEAD
'use strict';function a562_0x1119(){const _0x35e35c=['updatedAt','../../models/Queue','startOfDay','../../models/UserQueue','__esModule','user','findAll','findAndCountAll','2389940SBbMkY','parseISO','open','queue','indexOf','defineProperty','2057675iGZoAj','color','endOfDay','whatsapp','22hVtmeY','1967476zguDyy','1QjGuYf','default','date-fns','forEach','sequelize','90346agVqSr','number','8SEECcX','online','between','name','../../models/Contact','profilePicUrl','16dFcymn','map','queueId','ASC','push','urlPicture','2348244wuQPif','6irfEyf','contact','3512784mIDSNv','../../models/User','__importDefault','companyId','197682jRdYtF','profile','pending','profileImage','true'];a562_0x1119=function(){return _0x35e35c;};return a562_0x1119();}const a562_0x2500f3=a562_0x4bf7;(function(_0x9f1953,_0x5139bf){const _0x22d73c=a562_0x4bf7,_0x55ffd9=_0x9f1953();while(!![]){try{const _0x219de9=-parseInt(_0x22d73c(0x159))/0x1*(parseInt(_0x22d73c(0x15e))/0x2)+-parseInt(_0x22d73c(0x173))/0x3*(-parseInt(_0x22d73c(0x160))/0x4)+parseInt(_0x22d73c(0x153))/0x5*(-parseInt(_0x22d73c(0x16d))/0x6)+-parseInt(_0x22d73c(0x158))/0x7+parseInt(_0x22d73c(0x166))/0x8*(parseInt(_0x22d73c(0x16c))/0x9)+-parseInt(_0x22d73c(0x14d))/0xa+parseInt(_0x22d73c(0x157))/0xb*(parseInt(_0x22d73c(0x16f))/0xc);if(_0x219de9===_0x5139bf)break;else _0x55ffd9['push'](_0x55ffd9['shift']());}catch(_0xca954c){_0x55ffd9['push'](_0x55ffd9['shift']());}}}(a562_0x1119,0x400aa));var __importDefault=this&&this[a562_0x2500f3(0x171)]||function(_0x4894ca){const _0x2996de=a562_0x2500f3;return _0x4894ca&&_0x4894ca[_0x2996de(0x149)]?_0x4894ca:{'default':_0x4894ca};};function a562_0x4bf7(_0x4e97cf,_0x235e8e){const _0x1119e5=a562_0x1119();return a562_0x4bf7=function(_0x4bf74b,_0x9546d0){_0x4bf74b=_0x4bf74b-0x147;let _0x207944=_0x1119e5[_0x4bf74b];return _0x207944;},a562_0x4bf7(_0x4e97cf,_0x235e8e);}Object[a562_0x2500f3(0x152)](exports,a562_0x2500f3(0x149),{'value':!![]});const sequelize_1=require(a562_0x2500f3(0x15d)),date_fns_1=require(a562_0x2500f3(0x15b)),Ticket_1=__importDefault(require('../../models/Ticket')),UserQueue_1=__importDefault(require(a562_0x2500f3(0x148))),User_1=__importDefault(require(a562_0x2500f3(0x170))),Contact_1=__importDefault(require(a562_0x2500f3(0x164))),Queue_1=__importDefault(require(a562_0x2500f3(0x179))),TicketsQueuesService=async({dateStart:_0x84a760,dateEnd:_0x470304,status:_0x52c954,userId:_0x487d37,queuesIds:_0x218d2c,companyId:_0xa2451,showAll:_0x2694a7})=>{const _0x22545b=a562_0x2500f3;let _0x436a7f={};const _0x1d54e2=[{'model':User_1['default'],'as':_0x22545b(0x14a),'attributes':['id',_0x22545b(0x163),_0x22545b(0x174),_0x22545b(0x161),_0x22545b(0x176)]},{'model':Contact_1[_0x22545b(0x15a)],'as':_0x22545b(0x16e),'attributes':['id',_0x22545b(0x163),_0x22545b(0x15f),_0x22545b(0x165),_0x22545b(0x172),_0x22545b(0x16b)]},{'model':Queue_1[_0x22545b(0x15a)],'as':_0x22545b(0x150),'attributes':['id',_0x22545b(0x163),_0x22545b(0x154)]},{'association':_0x22545b(0x156),'attributes':['id',_0x22545b(0x163)]}],_0x5b5d8f=await Queue_1[_0x22545b(0x15a)]['count']({'where':{'companyId':_0xa2451}});if(_0x5b5d8f){const _0x5c0336=await UserQueue_1['default'][_0x22545b(0x14b)]({'where':{'userId':_0x487d37}});let _0x433554=_0x5c0336[_0x22545b(0x167)](_0x3ddbff=>_0x3ddbff[_0x22545b(0x168)]);if(_0x218d2c){const _0x243723=[];_0x218d2c[_0x22545b(0x15c)](_0x41ef22=>{const _0x3b440b=_0x22545b,_0x294468=_0x433554[_0x3b440b(0x151)](+_0x41ef22);_0x294468&&_0x243723[_0x3b440b(0x16a)](+_0x41ef22);}),_0x433554=_0x243723;}_0x436a7f={..._0x436a7f,'queueId':{[sequelize_1['Op']['in']]:_0x433554}};}_0x2694a7==_0x22545b(0x177)&&(_0x436a7f={});_0x436a7f={..._0x436a7f,'status':{[sequelize_1['Op']['in']]:[_0x22545b(0x14f),_0x22545b(0x175)]},'companyId':_0xa2451};_0x84a760&&_0x470304&&(_0x436a7f={..._0x436a7f,'createdAt':{[sequelize_1['Op'][_0x22545b(0x162)]]:[+(0x0,date_fns_1[_0x22545b(0x147)])((0x0,date_fns_1['parseISO'])(_0x84a760)),+(0x0,date_fns_1[_0x22545b(0x155)])((0x0,date_fns_1[_0x22545b(0x14e)])(_0x470304))]}});const {count:_0x776bf1,rows:_0x143b81}=await Ticket_1[_0x22545b(0x15a)][_0x22545b(0x14c)]({'where':_0x436a7f,'include':_0x1d54e2,'distinct':!![],'subQuery':![],'order':[[_0x22545b(0x14a),_0x22545b(0x163),_0x22545b(0x169)],[_0x22545b(0x178),'DESC']]});return _0x143b81;};exports[a562_0x2500f3(0x15a)]=TicketsQueuesService;
=======
'use strict';const a561_0x5652f3=a561_0xe6a1;(function(_0x2a49d5,_0x3736df){const _0x12d7d9=a561_0xe6a1,_0x55b0f6=_0x2a49d5();while(!![]){try{const _0x165974=-parseInt(_0x12d7d9(0xa1))/0x1+-parseInt(_0x12d7d9(0xb3))/0x2+-parseInt(_0x12d7d9(0xa8))/0x3+-parseInt(_0x12d7d9(0xb7))/0x4+-parseInt(_0x12d7d9(0xb0))/0x5*(parseInt(_0x12d7d9(0xb5))/0x6)+parseInt(_0x12d7d9(0xab))/0x7+parseInt(_0x12d7d9(0xa3))/0x8;if(_0x165974===_0x3736df)break;else _0x55b0f6['push'](_0x55b0f6['shift']());}catch(_0x53ff35){_0x55b0f6['push'](_0x55b0f6['shift']());}}}(a561_0x3e93,0x8acef));var __importDefault=this&&this['__importDefault']||function(_0xc5f382){const _0x1c03a3=a561_0xe6a1;return _0xc5f382&&_0xc5f382[_0x1c03a3(0xaf)]?_0xc5f382:{'default':_0xc5f382};};Object[a561_0x5652f3(0xbc)](exports,'__esModule',{'value':!![]});function a561_0xe6a1(_0x249434,_0x183827){const _0x3e93af=a561_0x3e93();return a561_0xe6a1=function(_0xe6a172,_0x28cb2d){_0xe6a172=_0xe6a172-0x96;let _0x5ba1e5=_0x3e93af[_0xe6a172];return _0x5ba1e5;},a561_0xe6a1(_0x249434,_0x183827);}const sequelize_1=require('sequelize'),date_fns_1=require(a561_0x5652f3(0xa2)),Ticket_1=__importDefault(require(a561_0x5652f3(0x97))),UserQueue_1=__importDefault(require('../../models/UserQueue')),User_1=__importDefault(require(a561_0x5652f3(0x9f))),Contact_1=__importDefault(require(a561_0x5652f3(0xb6))),Queue_1=__importDefault(require(a561_0x5652f3(0xa7))),TicketsQueuesService=async({dateStart:_0x4dee64,dateEnd:_0x49130b,status:_0x15d30f,userId:_0x581e0d,queuesIds:_0x58bafa,companyId:_0x28c88f,showAll:_0x1fd6ef})=>{const _0x21da78=a561_0x5652f3;let _0x52c934={};const _0x1e2677=[{'model':User_1['default'],'as':_0x21da78(0xba),'attributes':['id',_0x21da78(0x9b),_0x21da78(0xae),'online',_0x21da78(0xad)]},{'model':Contact_1[_0x21da78(0xaa)],'as':'contact','attributes':['id',_0x21da78(0x9b),_0x21da78(0xbd),_0x21da78(0xa4),_0x21da78(0x9d),_0x21da78(0xb8)]},{'model':Queue_1[_0x21da78(0xaa)],'as':_0x21da78(0x98),'attributes':['id','name',_0x21da78(0x9e)]},{'association':'whatsapp','attributes':['id','name']}],_0x530f31=await Queue_1[_0x21da78(0xaa)][_0x21da78(0xb4)]({'where':{'companyId':_0x28c88f}});if(_0x530f31){const _0x12288d=await UserQueue_1['default']['findAll']({'where':{'userId':_0x581e0d}});let _0x5da04e=_0x12288d[_0x21da78(0xbb)](_0x38bb21=>_0x38bb21[_0x21da78(0xa5)]);if(_0x58bafa){const _0x263d81=[];_0x58bafa['forEach'](_0x1f57af=>{const _0x56b450=_0x21da78,_0x4bcf1c=_0x5da04e[_0x56b450(0xb1)](+_0x1f57af);_0x4bcf1c&&_0x263d81[_0x56b450(0xa9)](+_0x1f57af);}),_0x5da04e=_0x263d81;}_0x52c934={..._0x52c934,'queueId':{[sequelize_1['Op']['in']]:_0x5da04e}};}_0x1fd6ef==_0x21da78(0x9a)&&(_0x52c934={});_0x52c934={..._0x52c934,'status':{[sequelize_1['Op']['in']]:[_0x21da78(0x96),'pending']},'companyId':_0x28c88f};_0x4dee64&&_0x49130b&&(_0x52c934={..._0x52c934,'createdAt':{[sequelize_1['Op'][_0x21da78(0xac)]]:[+(0x0,date_fns_1[_0x21da78(0xb2)])((0x0,date_fns_1[_0x21da78(0x9c)])(_0x4dee64)),+(0x0,date_fns_1[_0x21da78(0x99)])((0x0,date_fns_1['parseISO'])(_0x49130b))]}});const {count:_0x51b396,rows:_0xf09084}=await Ticket_1[_0x21da78(0xaa)][_0x21da78(0xb9)]({'where':_0x52c934,'include':_0x1e2677,'distinct':!![],'subQuery':![],'order':[[_0x21da78(0xba),_0x21da78(0x9b),'ASC'],[_0x21da78(0xa6),_0x21da78(0xa0)]]});return _0xf09084;};exports[a561_0x5652f3(0xaa)]=TicketsQueuesService;function a561_0x3e93(){const _0x46bc77=['profile','__esModule','175rBqRZw','indexOf','startOfDay','1982894kkByfj','count','192342utBSmT','../../models/Contact','3316368KTzLeZ','urlPicture','findAndCountAll','user','map','defineProperty','number','open','../../models/Ticket','queue','endOfDay','true','name','parseISO','companyId','color','../../models/User','DESC','1069634jUpkYV','date-fns','35392640AJggdh','profilePicUrl','queueId','updatedAt','../../models/Queue','257553vHakrP','push','default','1697486iTqTiK','between','profileImage'];a561_0x3e93=function(){return _0x46bc77;};return a561_0x3e93();}
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
