'use strict';const a422_0xff3046=a422_0x2ff7;(function(_0x54fd00,_0x9760bf){const _0x1d3e86=a422_0x2ff7,_0xddd19=_0x54fd00();while(!![]){try{const _0x3ad0f3=parseInt(_0x1d3e86(0x1c2))/0x1*(-parseInt(_0x1d3e86(0x1b6))/0x2)+parseInt(_0x1d3e86(0x1c3))/0x3+parseInt(_0x1d3e86(0x1af))/0x4+-parseInt(_0x1d3e86(0x1c1))/0x5+-parseInt(_0x1d3e86(0x1be))/0x6+parseInt(_0x1d3e86(0x1b7))/0x7*(parseInt(_0x1d3e86(0x1b3))/0x8)+parseInt(_0x1d3e86(0x1bc))/0x9*(parseInt(_0x1d3e86(0x1b4))/0xa);if(_0x3ad0f3===_0x9760bf)break;else _0xddd19['push'](_0xddd19['shift']());}catch(_0x4c0592){_0xddd19['push'](_0xddd19['shift']());}}}(a422_0x10b9,0x9f0e0));function a422_0x2ff7(_0x28e7cd,_0x896c1){const _0x10b910=a422_0x10b9();return a422_0x2ff7=function(_0x2ff74a,_0x3afdb0){_0x2ff74a=_0x2ff74a-0x1af;let _0x48d6e2=_0x10b910[_0x2ff74a];return _0x48d6e2;},a422_0x2ff7(_0x28e7cd,_0x896c1);}var __importDefault=this&&this[a422_0xff3046(0x1b9)]||function(_0x1b92c4){const _0x31e4fb=a422_0xff3046;return _0x1b92c4&&_0x1b92c4[_0x31e4fb(0x1b2)]?_0x1b92c4:{'default':_0x1b92c4};};Object[a422_0xff3046(0x1b1)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a422_0xff3046(0x1bb))),ChatMessage_1=__importDefault(require('../../models/ChatMessage')),ChatUser_1=__importDefault(require('../../models/ChatUser')),User_1=__importDefault(require(a422_0xff3046(0x1c7))),lodash_1=require(a422_0xff3046(0x1ba)),FindMessages=async({chatId:_0x48b46f,ownerId:_0x4bbbcd,pageNumber:pageNumber='1'})=>{const _0x53292d=a422_0xff3046,_0x4ce829=await ChatUser_1['default'][_0x53292d(0x1b0)]({'where':{'chatId':_0x48b46f,'userId':_0x4bbbcd}});if(_0x4ce829===0x0)throw new AppError_1[(_0x53292d(0x1c0))](_0x53292d(0x1c4),0x190);const _0x25e2a9=0x14,_0x4e7e86=_0x25e2a9*(+pageNumber-0x1),{count:_0x44a2e2,rows:_0x19f7dd}=await ChatMessage_1[_0x53292d(0x1c0)][_0x53292d(0x1bd)]({'where':{'chatId':_0x48b46f},'include':[{'model':User_1[_0x53292d(0x1c0)],'as':_0x53292d(0x1c6),'attributes':['id',_0x53292d(0x1c5)]}],'limit':_0x25e2a9,'offset':_0x4e7e86,'order':[['createdAt',_0x53292d(0x1b8)]]}),_0x4c0974=_0x44a2e2>_0x4e7e86+_0x19f7dd[_0x53292d(0x1bf)],_0x3e2209=(0x0,lodash_1[_0x53292d(0x1b5)])(_0x19f7dd,['id','ASC']);return{'records':_0x3e2209,'count':_0x44a2e2,'hasMore':_0x4c0974};};function a422_0x10b9(){const _0x147d45=['__esModule','6568vXOpNo','30rlZDzo','sortBy','446TwBdfO','5131xzNjlV','DESC','__importDefault','lodash','../../errors/AppError','3028671hneJDP','findAndCountAll','5803014lEVKOS','length','default','2767905wWTVAQ','4759aGFVoL','1718505ihuRlo','UNAUTHORIZED','name','sender','../../models/User','4197240aPFfXp','count','defineProperty'];a422_0x10b9=function(){return _0x147d45;};return a422_0x10b9();}exports[a422_0xff3046(0x1c0)]=FindMessages;