'use strict';const a427_0x2d287a=a427_0xde48;(function(_0x234c7b,_0x262c79){const _0x175859=a427_0xde48,_0x4f7cb5=_0x234c7b();while(!![]){try{const _0x5df851=-parseInt(_0x175859(0x1c7))/0x1+parseInt(_0x175859(0x1c0))/0x2+-parseInt(_0x175859(0x1d0))/0x3+parseInt(_0x175859(0x1be))/0x4*(parseInt(_0x175859(0x1cf))/0x5)+-parseInt(_0x175859(0x1ce))/0x6*(-parseInt(_0x175859(0x1cd))/0x7)+parseInt(_0x175859(0x1ca))/0x8+-parseInt(_0x175859(0x1c6))/0x9*(-parseInt(_0x175859(0x1c3))/0xa);if(_0x5df851===_0x262c79)break;else _0x4f7cb5['push'](_0x4f7cb5['shift']());}catch(_0x28b76a){_0x4f7cb5['push'](_0x4f7cb5['shift']());}}}(a427_0x5c66,0xa593a));function a427_0x5c66(){const _0x15a5d6=['owner','defineProperty','4884590ycRicL','default','reload','9SWJsum','253058zePGYD','__importDefault','update','1899520RZJghr','user','../../models/Chat','317555NVouHV','30oRdMzd','386915GKwHTO','4042764AsKCJj','findByPk','users','create','../../models/User','16nuONxE','__esModule','2033184CyjyaO'];a427_0x5c66=function(){return _0x15a5d6;};return a427_0x5c66();}function a427_0xde48(_0x4861a2,_0x4aba90){const _0x5c66d7=a427_0x5c66();return a427_0xde48=function(_0xde4810,_0x32f37c){_0xde4810=_0xde4810-0x1bb;let _0x3515c6=_0x5c66d7[_0xde4810];return _0x3515c6;},a427_0xde48(_0x4861a2,_0x4aba90);}var __importDefault=this&&this[a427_0x2d287a(0x1c8)]||function(_0x1a8608){const _0x64ca29=a427_0x2d287a;return _0x1a8608&&_0x1a8608[_0x64ca29(0x1bf)]?_0x1a8608:{'default':_0x1a8608};};Object[a427_0x2d287a(0x1c2)](exports,a427_0x2d287a(0x1bf),{'value':!![]});const Chat_1=__importDefault(require(a427_0x2d287a(0x1cc))),ChatUser_1=__importDefault(require('../../models/ChatUser')),User_1=__importDefault(require(a427_0x2d287a(0x1bd)));async function UpdateService(_0x3faedb){const _0x2c3fc1=a427_0x2d287a,{users:_0xa3f2e1}=_0x3faedb,_0x41d2c4=await Chat_1[_0x2c3fc1(0x1c4)][_0x2c3fc1(0x1d1)](_0x3faedb['id'],{'include':[{'model':ChatUser_1[_0x2c3fc1(0x1c4)],'as':_0x2c3fc1(0x1bb)}]}),{ownerId:_0x3fdfd6}=_0x41d2c4;await _0x41d2c4[_0x2c3fc1(0x1c9)]({'title':_0x3faedb['title']});if(Array['isArray'](_0xa3f2e1)){await ChatUser_1[_0x2c3fc1(0x1c4)]['destroy']({'where':{'chatId':_0x41d2c4['id']}}),await ChatUser_1[_0x2c3fc1(0x1c4)][_0x2c3fc1(0x1bc)]({'chatId':_0x41d2c4['id'],'userId':_0x3fdfd6});for(let _0x34e665 of _0xa3f2e1){_0x34e665['id']!==_0x3fdfd6&&await ChatUser_1[_0x2c3fc1(0x1c4)]['create']({'chatId':_0x41d2c4['id'],'userId':_0x34e665['id']});}}return await _0x41d2c4[_0x2c3fc1(0x1c5)]({'include':[{'model':ChatUser_1[_0x2c3fc1(0x1c4)],'as':'users','include':[{'model':User_1['default'],'as':_0x2c3fc1(0x1cb)}]},{'model':User_1['default'],'as':_0x2c3fc1(0x1c1)}]}),_0x41d2c4;}exports[a427_0x2d287a(0x1c4)]=UpdateService;