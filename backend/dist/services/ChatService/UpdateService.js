'use strict';const a384_0x4007d0=a384_0x4cbf;(function(_0x47da3d,_0x2da4f6){const _0x6efb9f=a384_0x4cbf,_0x11c5fb=_0x47da3d();while(!![]){try{const _0x518baa=-parseInt(_0x6efb9f(0x1d8))/0x1+-parseInt(_0x6efb9f(0x1e2))/0x2*(-parseInt(_0x6efb9f(0x1df))/0x3)+-parseInt(_0x6efb9f(0x1e5))/0x4+-parseInt(_0x6efb9f(0x1de))/0x5+parseInt(_0x6efb9f(0x1e7))/0x6+-parseInt(_0x6efb9f(0x1d6))/0x7*(-parseInt(_0x6efb9f(0x1db))/0x8)+parseInt(_0x6efb9f(0x1ea))/0x9*(parseInt(_0x6efb9f(0x1e3))/0xa);if(_0x518baa===_0x2da4f6)break;else _0x11c5fb['push'](_0x11c5fb['shift']());}catch(_0x12a3c5){_0x11c5fb['push'](_0x11c5fb['shift']());}}}(a384_0x2994,0x3ace9));function a384_0x4cbf(_0x400617,_0x190894){const _0x29947f=a384_0x2994();return a384_0x4cbf=function(_0x4cbfa9,_0x41a8bc){_0x4cbfa9=_0x4cbfa9-0x1d6;let _0xdab389=_0x29947f[_0x4cbfa9];return _0xdab389;},a384_0x4cbf(_0x400617,_0x190894);}var __importDefault=this&&this['__importDefault']||function(_0x57bbbf){const _0x245b56=a384_0x4cbf;return _0x57bbbf&&_0x57bbbf[_0x245b56(0x1e9)]?_0x57bbbf:{'default':_0x57bbbf};};Object[a384_0x4007d0(0x1e0)](exports,'__esModule',{'value':!![]});const Chat_1=__importDefault(require('../../models/Chat')),ChatUser_1=__importDefault(require(a384_0x4007d0(0x1d7))),User_1=__importDefault(require(a384_0x4007d0(0x1e1)));function a384_0x2994(){const _0x1e6fa3=['__esModule','2506131JIzkRL','default','destroy','7pSLHKm','../../models/ChatUser','17737rhRujc','isArray','update','805496DnxqAW','reload','users','2359065TLyScT','156CwhnRL','defineProperty','../../models/User','5266CdADQG','30SjCnuO','title','1839052FMhnHA','user','703236fMLlkC','findByPk'];a384_0x2994=function(){return _0x1e6fa3;};return a384_0x2994();}async function UpdateService(_0x23883f){const _0x4b6f69=a384_0x4007d0,{users:_0x5f4cff}=_0x23883f,_0x23156c=await Chat_1['default'][_0x4b6f69(0x1e8)](_0x23883f['id'],{'include':[{'model':ChatUser_1[_0x4b6f69(0x1eb)],'as':_0x4b6f69(0x1dd)}]}),{ownerId:_0x9a7ab}=_0x23156c;await _0x23156c[_0x4b6f69(0x1da)]({'title':_0x23883f[_0x4b6f69(0x1e4)]});if(Array[_0x4b6f69(0x1d9)](_0x5f4cff)){await ChatUser_1['default'][_0x4b6f69(0x1ec)]({'where':{'chatId':_0x23156c['id']}}),await ChatUser_1[_0x4b6f69(0x1eb)]['create']({'chatId':_0x23156c['id'],'userId':_0x9a7ab});for(let _0x20ae69 of _0x5f4cff){_0x20ae69['id']!==_0x9a7ab&&await ChatUser_1['default']['create']({'chatId':_0x23156c['id'],'userId':_0x20ae69['id']});}}return await _0x23156c[_0x4b6f69(0x1dc)]({'include':[{'model':ChatUser_1['default'],'as':_0x4b6f69(0x1dd),'include':[{'model':User_1[_0x4b6f69(0x1eb)],'as':_0x4b6f69(0x1e6)}]},{'model':User_1[_0x4b6f69(0x1eb)],'as':'owner'}]}),_0x23156c;}exports['default']=UpdateService;