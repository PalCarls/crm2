'use strict';const a427_0x4794a1=a427_0x2e61;function a427_0x2e61(_0x3c3d72,_0x421a99){const _0x45ae8e=a427_0x45ae();return a427_0x2e61=function(_0x2e6141,_0x1ee76c){_0x2e6141=_0x2e6141-0x1c9;let _0x12166e=_0x45ae8e[_0x2e6141];return _0x12166e;},a427_0x2e61(_0x3c3d72,_0x421a99);}(function(_0x450a07,_0x37e409){const _0x5d451f=a427_0x2e61,_0x40ae9b=_0x450a07();while(!![]){try{const _0x5e4aa4=-parseInt(_0x5d451f(0x1dd))/0x1*(-parseInt(_0x5d451f(0x1e1))/0x2)+-parseInt(_0x5d451f(0x1d4))/0x3*(parseInt(_0x5d451f(0x1de))/0x4)+parseInt(_0x5d451f(0x1df))/0x5+-parseInt(_0x5d451f(0x1d0))/0x6*(-parseInt(_0x5d451f(0x1d8))/0x7)+parseInt(_0x5d451f(0x1e0))/0x8*(-parseInt(_0x5d451f(0x1c9))/0x9)+parseInt(_0x5d451f(0x1da))/0xa*(-parseInt(_0x5d451f(0x1d2))/0xb)+parseInt(_0x5d451f(0x1cc))/0xc;if(_0x5e4aa4===_0x37e409)break;else _0x40ae9b['push'](_0x40ae9b['shift']());}catch(_0x56b728){_0x40ae9b['push'](_0x40ae9b['shift']());}}}(a427_0x45ae,0x3d135));function a427_0x45ae(){const _0x4dbffd=['create','default','7GzuJkg','user','10ARnUES','reload','../../models/Chat','15383TQaXgL','5308gUlPBV','1710675qcKXRu','16yVgdzb','58fzWzOT','928476FzlaSM','findByPk','__esModule','197544gvTXkb','__importDefault','users','isArray','114348WnDQOk','../../models/User','113366ibdDmL','defineProperty','807dibdYr','destroy'];a427_0x45ae=function(){return _0x4dbffd;};return a427_0x45ae();}var __importDefault=this&&this[a427_0x4794a1(0x1cd)]||function(_0x44e924){return _0x44e924&&_0x44e924['__esModule']?_0x44e924:{'default':_0x44e924};};Object[a427_0x4794a1(0x1d3)](exports,a427_0x4794a1(0x1cb),{'value':!![]});const Chat_1=__importDefault(require(a427_0x4794a1(0x1dc))),ChatUser_1=__importDefault(require('../../models/ChatUser')),User_1=__importDefault(require(a427_0x4794a1(0x1d1)));async function UpdateService(_0x573f60){const _0x253e58=a427_0x4794a1,{users:_0x196acf}=_0x573f60,_0x248ce5=await Chat_1[_0x253e58(0x1d7)][_0x253e58(0x1ca)](_0x573f60['id'],{'include':[{'model':ChatUser_1[_0x253e58(0x1d7)],'as':_0x253e58(0x1ce)}]}),{ownerId:_0xc3249a}=_0x248ce5;await _0x248ce5['update']({'title':_0x573f60['title']});if(Array[_0x253e58(0x1cf)](_0x196acf)){await ChatUser_1[_0x253e58(0x1d7)][_0x253e58(0x1d5)]({'where':{'chatId':_0x248ce5['id']}}),await ChatUser_1[_0x253e58(0x1d7)][_0x253e58(0x1d6)]({'chatId':_0x248ce5['id'],'userId':_0xc3249a});for(let _0x287a08 of _0x196acf){_0x287a08['id']!==_0xc3249a&&await ChatUser_1[_0x253e58(0x1d7)][_0x253e58(0x1d6)]({'chatId':_0x248ce5['id'],'userId':_0x287a08['id']});}}return await _0x248ce5[_0x253e58(0x1db)]({'include':[{'model':ChatUser_1[_0x253e58(0x1d7)],'as':'users','include':[{'model':User_1['default'],'as':_0x253e58(0x1d9)}]},{'model':User_1[_0x253e58(0x1d7)],'as':'owner'}]}),_0x248ce5;}exports[a427_0x4794a1(0x1d7)]=UpdateService;