'use strict';function a401_0x5499(){const _0x4b1636=['2JLuSvx','../../models/Chat','1112121OZVvLn','user','18882iggbsb','1290441rIqZzz','../../models/ChatUser','update','4325312kBZFTR','owner','users','isArray','__esModule','reload','../../models/User','7401562fdsWNK','create','3464GVeMbr','18955770uvzeyr','destroy','title','6wKlMEk','6774420sCBWwU','default'];a401_0x5499=function(){return _0x4b1636;};return a401_0x5499();}const a401_0x3b2edb=a401_0x5830;(function(_0x656d27,_0xfa0787){const _0x469e89=a401_0x5830,_0x5e52ec=_0x656d27();while(!![]){try{const _0x4666c0=-parseInt(_0x469e89(0x141))/0x1*(-parseInt(_0x469e89(0x13c))/0x2)+-parseInt(_0x469e89(0x13e))/0x3+parseInt(_0x469e89(0x12c))/0x4+-parseInt(_0x469e89(0x13a))/0x5+-parseInt(_0x469e89(0x139))/0x6*(-parseInt(_0x469e89(0x133))/0x7)+-parseInt(_0x469e89(0x135))/0x8*(-parseInt(_0x469e89(0x140))/0x9)+-parseInt(_0x469e89(0x136))/0xa;if(_0x4666c0===_0xfa0787)break;else _0x5e52ec['push'](_0x5e52ec['shift']());}catch(_0x21c5d2){_0x5e52ec['push'](_0x5e52ec['shift']());}}}(a401_0x5499,0xaee71));var __importDefault=this&&this['__importDefault']||function(_0x4c02cf){return _0x4c02cf&&_0x4c02cf['__esModule']?_0x4c02cf:{'default':_0x4c02cf};};function a401_0x5830(_0x9a85b4,_0x2d0f51){const _0x549906=a401_0x5499();return a401_0x5830=function(_0x583025,_0x183033){_0x583025=_0x583025-0x12b;let _0x3dc06e=_0x549906[_0x583025];return _0x3dc06e;},a401_0x5830(_0x9a85b4,_0x2d0f51);}Object['defineProperty'](exports,a401_0x3b2edb(0x130),{'value':!![]});const Chat_1=__importDefault(require(a401_0x3b2edb(0x13d))),ChatUser_1=__importDefault(require(a401_0x3b2edb(0x142))),User_1=__importDefault(require(a401_0x3b2edb(0x132)));async function UpdateService(_0x553cce){const _0x187d54=a401_0x3b2edb,{users:_0x1355a9}=_0x553cce,_0x18c6bc=await Chat_1[_0x187d54(0x13b)]['findByPk'](_0x553cce['id'],{'include':[{'model':ChatUser_1['default'],'as':_0x187d54(0x12e)}]}),{ownerId:_0x38e957}=_0x18c6bc;await _0x18c6bc[_0x187d54(0x12b)]({'title':_0x553cce[_0x187d54(0x138)]});if(Array[_0x187d54(0x12f)](_0x1355a9)){await ChatUser_1[_0x187d54(0x13b)][_0x187d54(0x137)]({'where':{'chatId':_0x18c6bc['id']}}),await ChatUser_1[_0x187d54(0x13b)][_0x187d54(0x134)]({'chatId':_0x18c6bc['id'],'userId':_0x38e957});for(let _0xb4478a of _0x1355a9){_0xb4478a['id']!==_0x38e957&&await ChatUser_1[_0x187d54(0x13b)]['create']({'chatId':_0x18c6bc['id'],'userId':_0xb4478a['id']});}}return await _0x18c6bc[_0x187d54(0x131)]({'include':[{'model':ChatUser_1[_0x187d54(0x13b)],'as':_0x187d54(0x12e),'include':[{'model':User_1['default'],'as':_0x187d54(0x13f)}]},{'model':User_1[_0x187d54(0x13b)],'as':_0x187d54(0x12d)}]}),_0x18c6bc;}exports[a401_0x3b2edb(0x13b)]=UpdateService;