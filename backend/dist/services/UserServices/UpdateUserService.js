'use strict';const a597_0x203a51=a597_0x9fa9;(function(_0x396457,_0x4296a6){const _0x33ccbe=a597_0x9fa9,_0x2e9de1=_0x396457();while(!![]){try{const _0x3102b4=-parseInt(_0x33ccbe(0x173))/0x1*(parseInt(_0x33ccbe(0x163))/0x2)+parseInt(_0x33ccbe(0x179))/0x3+-parseInt(_0x33ccbe(0x17a))/0x4+parseInt(_0x33ccbe(0x177))/0x5+parseInt(_0x33ccbe(0x16e))/0x6+-parseInt(_0x33ccbe(0x18d))/0x7*(parseInt(_0x33ccbe(0x18a))/0x8)+parseInt(_0x33ccbe(0x17b))/0x9*(parseInt(_0x33ccbe(0x17e))/0xa);if(_0x3102b4===_0x4296a6)break;else _0x2e9de1['push'](_0x2e9de1['shift']());}catch(_0x13c2e1){_0x2e9de1['push'](_0x2e9de1['shift']());}}}(a597_0xfb72,0x4f176));function a597_0x9fa9(_0x1292d8,_0xad613d){const _0xfb7288=a597_0xfb72();return a597_0x9fa9=function(_0x9fa980,_0x31ffd7){_0x9fa980=_0x9fa980-0x160;let _0x5372f0=_0xfb7288[_0x9fa980];return _0x5372f0;},a597_0x9fa9(_0x1292d8,_0xad613d);}var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x36a880,_0x187ea0,_0x538df8,_0x3266f8){const _0x5650b6=a597_0x9fa9;if(_0x3266f8===undefined)_0x3266f8=_0x538df8;var _0x403199=Object[_0x5650b6(0x169)](_0x187ea0,_0x538df8);(!_0x403199||(_0x5650b6(0x18e)in _0x403199?!_0x187ea0[_0x5650b6(0x17f)]:_0x403199['writable']||_0x403199[_0x5650b6(0x18b)]))&&(_0x403199={'enumerable':!![],'get':function(){return _0x187ea0[_0x538df8];}}),Object[_0x5650b6(0x172)](_0x36a880,_0x3266f8,_0x403199);}:function(_0x326e3c,_0x5d4688,_0x2e01fa,_0x419ab2){if(_0x419ab2===undefined)_0x419ab2=_0x2e01fa;_0x326e3c[_0x419ab2]=_0x5d4688[_0x2e01fa];}),__setModuleDefault=this&&this[a597_0x203a51(0x16a)]||(Object[a597_0x203a51(0x16c)]?function(_0x188e82,_0x50ea5f){const _0x118a7a=a597_0x203a51;Object[_0x118a7a(0x172)](_0x188e82,_0x118a7a(0x188),{'enumerable':!![],'value':_0x50ea5f});}:function(_0x197b71,_0xa5d86b){_0x197b71['default']=_0xa5d86b;}),__importStar=this&&this[a597_0x203a51(0x189)]||function(_0x1cb4dd){const _0x231b6f=a597_0x203a51;if(_0x1cb4dd&&_0x1cb4dd[_0x231b6f(0x17f)])return _0x1cb4dd;var _0x430044={};if(_0x1cb4dd!=null){for(var _0x4cf098 in _0x1cb4dd)if(_0x4cf098!==_0x231b6f(0x188)&&Object[_0x231b6f(0x16b)][_0x231b6f(0x17c)][_0x231b6f(0x180)](_0x1cb4dd,_0x4cf098))__createBinding(_0x430044,_0x1cb4dd,_0x4cf098);}return __setModuleDefault(_0x430044,_0x1cb4dd),_0x430044;},__importDefault=this&&this[a597_0x203a51(0x187)]||function(_0x5b2dd0){const _0x1d3a07=a597_0x203a51;return _0x5b2dd0&&_0x5b2dd0[_0x1d3a07(0x17f)]?_0x5b2dd0:{'default':_0x5b2dd0};};Object['defineProperty'](exports,a597_0x203a51(0x17f),{'value':!![]});const Yup=__importStar(require(a597_0x203a51(0x167))),AppError_1=__importDefault(require(a597_0x203a51(0x190))),ShowUserService_1=__importDefault(require(a597_0x203a51(0x181))),Company_1=__importDefault(require(a597_0x203a51(0x182))),User_1=__importDefault(require(a597_0x203a51(0x191))),UpdateUserService=async({userData:_0x41b4a9,userId:_0x41b6a4,companyId:_0x299a35,requestUserId:_0x12df06})=>{const _0x4a31c1=a597_0x203a51,_0x196115=await(0x0,ShowUserService_1['default'])(_0x41b6a4,_0x299a35),_0x141a8f=await User_1['default'][_0x4a31c1(0x166)](_0x12df06);if(_0x141a8f[_0x4a31c1(0x184)]===![]&&_0x41b4a9[_0x4a31c1(0x186)]!==_0x299a35)throw new AppError_1[(_0x4a31c1(0x188))](_0x4a31c1(0x16f));const _0x4ea320=Yup[_0x4a31c1(0x178)]()[_0x4a31c1(0x168)]({'name':Yup[_0x4a31c1(0x17d)]()[_0x4a31c1(0x18c)](0x2),'allHistoric':Yup[_0x4a31c1(0x17d)](),'email':Yup[_0x4a31c1(0x17d)]()[_0x4a31c1(0x174)](),'profile':Yup['string'](),'password':Yup[_0x4a31c1(0x17d)]()}),_0x5743a2=_0x196115[_0x4a31c1(0x174)],{email:_0x563a40,password:_0x3568ab,profile:_0x2e3ec5,name:_0x2baedf,queueIds:queueIds=[],startWork:_0xe4833,endWork:_0x3df427,farewellMessage:_0x21ba63,whatsappId:_0x382711,allTicket:_0x30fc96,defaultTheme:_0x345cd6,defaultMenu:_0x401a63,allowGroup:_0x33dbdc,allHistoric:_0x4bf45f,allUserChat:_0x528f89}=_0x41b4a9;try{await _0x4ea320[_0x4a31c1(0x185)]({'email':_0x563a40,'password':_0x3568ab,'profile':_0x2e3ec5,'name':_0x2baedf});}catch(_0x17ccf1){throw new AppError_1['default'](_0x17ccf1[_0x4a31c1(0x18f)]);}await _0x196115[_0x4a31c1(0x162)]({'email':_0x563a40,'password':_0x3568ab,'profile':_0x2e3ec5,'name':_0x2baedf,'startWork':_0xe4833,'endWork':_0x3df427,'farewellMessage':_0x21ba63,'whatsappId':_0x382711||null,'allTicket':_0x30fc96,'defaultTheme':_0x345cd6,'defaultMenu':_0x401a63,'allowGroup':_0x33dbdc,'allHistoric':_0x4bf45f,'allUserChat':_0x528f89}),await _0x196115[_0x4a31c1(0x164)](_0x4a31c1(0x160),queueIds),await _0x196115[_0x4a31c1(0x175)]();const _0xcac055=await Company_1[_0x4a31c1(0x188)][_0x4a31c1(0x166)](_0x196115['companyId']);_0xcac055[_0x4a31c1(0x174)]===_0x5743a2&&await _0xcac055['update']({'email':_0x563a40,'password':_0x3568ab});const _0x49d177={'id':_0x196115['id'],'name':_0x196115[_0x4a31c1(0x161)],'email':_0x196115[_0x4a31c1(0x174)],'profile':_0x196115[_0x4a31c1(0x176)],'companyId':_0x196115[_0x4a31c1(0x186)],'company':_0xcac055,'queues':_0x196115[_0x4a31c1(0x160)],'startWork':_0x196115['startWork'],'endWork':_0x196115[_0x4a31c1(0x171)],'greetingMessage':_0x196115['farewellMessage'],'allTicket':_0x196115[_0x4a31c1(0x165)],'defaultMenu':_0x196115['defaultMenu'],'defaultTheme':_0x196115[_0x4a31c1(0x170)],'allowGroup':_0x196115[_0x4a31c1(0x183)],'allHistoric':_0x196115[_0x4a31c1(0x16d)]};return _0x49d177;};exports[a597_0x203a51(0x188)]=UpdateUserService;function a597_0xfb72(){const _0x81f8ce=['defineProperty','9281fooFFa','email','reload','profile','514585foIguX','object','719793ZLoXHz','1263188VJHhYn','63biuTkW','hasOwnProperty','string','1192650fnMEWH','__esModule','call','./ShowUserService','../../models/Company','allowGroup','super','validate','companyId','__importDefault','default','__importStar','26360PyKMHG','configurable','min','1169FPGaXQ','get','message','../../errors/AppError','../../models/User','queues','name','update','136BgIYUz','$set','allTicket','findByPk','yup','shape','getOwnPropertyDescriptor','__setModuleDefault','prototype','create','allHistoric','3860550MyBOxq','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','defaultTheme','endWork'];a597_0xfb72=function(){return _0x81f8ce;};return a597_0xfb72();}