'use strict';const a617_0x1cfc9c=a617_0x558b;(function(_0x4d8c34,_0x542510){const _0x1bbc32=a617_0x558b,_0x107d0f=_0x4d8c34();while(!![]){try{const _0x3545a9=-parseInt(_0x1bbc32(0x1a9))/0x1+parseInt(_0x1bbc32(0x1aa))/0x2*(parseInt(_0x1bbc32(0x18f))/0x3)+-parseInt(_0x1bbc32(0x18b))/0x4+parseInt(_0x1bbc32(0x19c))/0x5*(parseInt(_0x1bbc32(0x191))/0x6)+parseInt(_0x1bbc32(0x190))/0x7*(parseInt(_0x1bbc32(0x1a4))/0x8)+-parseInt(_0x1bbc32(0x18d))/0x9+-parseInt(_0x1bbc32(0x187))/0xa*(-parseInt(_0x1bbc32(0x1a7))/0xb);if(_0x3545a9===_0x542510)break;else _0x107d0f['push'](_0x107d0f['shift']());}catch(_0x12008f){_0x107d0f['push'](_0x107d0f['shift']());}}}(a617_0x5270,0xa4cd1));var __createBinding=this&&this[a617_0x1cfc9c(0x186)]||(Object[a617_0x1cfc9c(0x199)]?function(_0x38b5c6,_0x51fee8,_0x3e5cac,_0x35bd76){const _0x24ecd4=a617_0x1cfc9c;if(_0x35bd76===undefined)_0x35bd76=_0x3e5cac;var _0x5de91d=Object[_0x24ecd4(0x18e)](_0x51fee8,_0x3e5cac);(!_0x5de91d||(_0x24ecd4(0x185)in _0x5de91d?!_0x51fee8[_0x24ecd4(0x1ae)]:_0x5de91d['writable']||_0x5de91d[_0x24ecd4(0x193)]))&&(_0x5de91d={'enumerable':!![],'get':function(){return _0x51fee8[_0x3e5cac];}}),Object[_0x24ecd4(0x189)](_0x38b5c6,_0x35bd76,_0x5de91d);}:function(_0x4c5120,_0xe545f2,_0x1c1346,_0x21d8be){if(_0x21d8be===undefined)_0x21d8be=_0x1c1346;_0x4c5120[_0x21d8be]=_0xe545f2[_0x1c1346];}),__setModuleDefault=this&&this[a617_0x1cfc9c(0x1a3)]||(Object[a617_0x1cfc9c(0x199)]?function(_0x1e429e,_0x314e0c){const _0x334b75=a617_0x1cfc9c;Object[_0x334b75(0x189)](_0x1e429e,_0x334b75(0x19b),{'enumerable':!![],'value':_0x314e0c});}:function(_0x4adcd7,_0x53fbfe){const _0x4fe119=a617_0x1cfc9c;_0x4adcd7[_0x4fe119(0x19b)]=_0x53fbfe;}),__importStar=this&&this['__importStar']||function(_0x1369ed){const _0x1b2a22=a617_0x1cfc9c;if(_0x1369ed&&_0x1369ed['__esModule'])return _0x1369ed;var _0x53497c={};if(_0x1369ed!=null){for(var _0x10cf9b in _0x1369ed)if(_0x10cf9b!==_0x1b2a22(0x19b)&&Object[_0x1b2a22(0x1ad)][_0x1b2a22(0x19d)][_0x1b2a22(0x1a0)](_0x1369ed,_0x10cf9b))__createBinding(_0x53497c,_0x1369ed,_0x10cf9b);}return __setModuleDefault(_0x53497c,_0x1369ed),_0x53497c;},__importDefault=this&&this[a617_0x1cfc9c(0x180)]||function(_0x1e1d26){const _0x32490b=a617_0x1cfc9c;return _0x1e1d26&&_0x1e1d26[_0x32490b(0x1ae)]?_0x1e1d26:{'default':_0x1e1d26};};Object[a617_0x1cfc9c(0x189)](exports,a617_0x1cfc9c(0x1ae),{'value':!![]});const Yup=__importStar(require(a617_0x1cfc9c(0x188))),AppError_1=__importDefault(require(a617_0x1cfc9c(0x1ab))),ShowUserService_1=__importDefault(require(a617_0x1cfc9c(0x1ac))),Company_1=__importDefault(require(a617_0x1cfc9c(0x1a5))),User_1=__importDefault(require(a617_0x1cfc9c(0x194))),UpdateUserService=async({userData:_0x5afa4e,userId:_0x1fdff8,companyId:_0x4b4ed6,requestUserId:_0x42d151})=>{const _0x561edb=a617_0x1cfc9c,_0x4a0e5d=await(0x0,ShowUserService_1[_0x561edb(0x19b)])(_0x1fdff8,_0x4b4ed6),_0x2b72c8=await User_1[_0x561edb(0x19b)]['findByPk'](_0x42d151);if(_0x2b72c8[_0x561edb(0x18a)]===![]&&_0x5afa4e[_0x561edb(0x197)]!==_0x4b4ed6)throw new AppError_1['default'](_0x561edb(0x1a8));const _0xb0286a=Yup['object']()[_0x561edb(0x196)]({'name':Yup[_0x561edb(0x19a)]()[_0x561edb(0x181)](0x2),'allHistoric':Yup[_0x561edb(0x19a)](),'email':Yup[_0x561edb(0x19a)]()[_0x561edb(0x1af)](),'profile':Yup[_0x561edb(0x19a)](),'password':Yup[_0x561edb(0x19a)]()}),_0xf059c5=_0x4a0e5d['email'],{email:_0x1c48a2,password:_0x426024,profile:_0x5e4fff,name:_0x2149ea,queueIds:queueIds=[],startWork:_0x104cd0,endWork:_0x1c5f53,farewellMessage:_0x54314e,whatsappId:_0x4d3fd5,allTicket:_0x57b3fc,defaultTheme:_0x381815,defaultMenu:_0x146e36,allowGroup:_0x1cc22c,allHistoric:_0x200824,allUserChat:_0x5217b3,userClosePendingTicket:_0xa2b405,showDashboard:_0x3b2c04,defaultTicketsManagerWidth:defaultTicketsManagerWidth=0x226}=_0x5afa4e;try{await _0xb0286a[_0x561edb(0x184)]({'email':_0x1c48a2,'password':_0x426024,'profile':_0x5e4fff,'name':_0x2149ea});}catch(_0x12f54d){throw new AppError_1[(_0x561edb(0x19b))](_0x12f54d[_0x561edb(0x198)]);}await _0x4a0e5d['update']({'email':_0x1c48a2,'password':_0x426024,'profile':_0x5e4fff,'name':_0x2149ea,'startWork':_0x104cd0,'endWork':_0x1c5f53,'farewellMessage':_0x54314e,'whatsappId':_0x4d3fd5||null,'allTicket':_0x57b3fc,'defaultTheme':_0x381815,'defaultMenu':_0x146e36,'allowGroup':_0x1cc22c,'allHistoric':_0x200824,'allUserChat':_0x5217b3,'userClosePendingTicket':_0xa2b405,'showDashboard':_0x3b2c04,'defaultTicketsManagerWidth':defaultTicketsManagerWidth}),await _0x4a0e5d['$set'](_0x561edb(0x17f),queueIds),await _0x4a0e5d['reload']();const _0x3c8714=await Company_1[_0x561edb(0x19b)][_0x561edb(0x18c)](_0x4a0e5d[_0x561edb(0x197)]);_0x3c8714[_0x561edb(0x1af)]===_0xf059c5&&await _0x3c8714[_0x561edb(0x192)]({'email':_0x1c48a2,'password':_0x426024});const _0xb0695f={'id':_0x4a0e5d['id'],'name':_0x4a0e5d[_0x561edb(0x195)],'email':_0x4a0e5d[_0x561edb(0x1af)],'profile':_0x4a0e5d['profile'],'companyId':_0x4a0e5d[_0x561edb(0x197)],'company':_0x3c8714,'queues':_0x4a0e5d['queues'],'startWork':_0x4a0e5d[_0x561edb(0x19f)],'endWork':_0x4a0e5d[_0x561edb(0x1a2)],'greetingMessage':_0x4a0e5d[_0x561edb(0x182)],'allTicket':_0x4a0e5d[_0x561edb(0x17e)],'defaultMenu':_0x4a0e5d['defaultMenu'],'defaultTheme':_0x4a0e5d[_0x561edb(0x1a1)],'allowGroup':_0x4a0e5d[_0x561edb(0x183)],'allHistoric':_0x4a0e5d['allHistoric'],'userClosePendingTicket':_0x4a0e5d[_0x561edb(0x19e)],'showDashboard':_0x4a0e5d['showDashboard'],'defaultTicketsManagerWidth':_0x4a0e5d[_0x561edb(0x1a6)]};return _0xb0695f;};function a617_0x558b(_0x432272,_0x2cd886){const _0x5270a3=a617_0x5270();return a617_0x558b=function(_0x558bfd,_0x479363){_0x558bfd=_0x558bfd-0x17e;let _0x5e82bc=_0x5270a3[_0x558bfd];return _0x5e82bc;},a617_0x558b(_0x432272,_0x2cd886);}function a617_0x5270(){const _0x3315f8=['182762rgUjpk','8312egQzGP','../../errors/AppError','./ShowUserService','prototype','__esModule','email','allTicket','queues','__importDefault','min','farewellMessage','allowGroup','validate','get','__createBinding','7060QthUWz','yup','defineProperty','super','5081324zwGwVV','findByPk','11066058sHZtFa','getOwnPropertyDescriptor','201kqhium','329ZSZumd','6805626NtuIBP','update','configurable','../../models/User','name','shape','companyId','message','create','string','default','5jqJJYi','hasOwnProperty','userClosePendingTicket','startWork','call','defaultTheme','endWork','__setModuleDefault','104776KdmxZk','../../models/Company','defaultTicketsManagerWidth','20713EqHKzP','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa'];a617_0x5270=function(){return _0x3315f8;};return a617_0x5270();}exports[a617_0x1cfc9c(0x19b)]=UpdateUserService;