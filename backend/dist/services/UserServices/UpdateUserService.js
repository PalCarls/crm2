'use strict';const a609_0x1ecd72=a609_0x3d34;(function(_0x403f58,_0x4beb6f){const _0xac3ad=a609_0x3d34,_0x3810bc=_0x403f58();while(!![]){try{const _0x227023=parseInt(_0xac3ad(0x16c))/0x1*(parseInt(_0xac3ad(0x172))/0x2)+-parseInt(_0xac3ad(0x174))/0x3+parseInt(_0xac3ad(0x14b))/0x4+-parseInt(_0xac3ad(0x175))/0x5*(parseInt(_0xac3ad(0x16f))/0x6)+parseInt(_0xac3ad(0x159))/0x7+parseInt(_0xac3ad(0x16b))/0x8*(parseInt(_0xac3ad(0x16a))/0x9)+parseInt(_0xac3ad(0x154))/0xa*(parseInt(_0xac3ad(0x157))/0xb);if(_0x227023===_0x4beb6f)break;else _0x3810bc['push'](_0x3810bc['shift']());}catch(_0x51c0c5){_0x3810bc['push'](_0x3810bc['shift']());}}}(a609_0x12c5,0x696c4));function a609_0x3d34(_0xb4fa8,_0x5da55e){const _0x12c567=a609_0x12c5();return a609_0x3d34=function(_0x3d3461,_0x3fc51e){_0x3d3461=_0x3d3461-0x147;let _0x187b24=_0x12c567[_0x3d3461];return _0x187b24;},a609_0x3d34(_0xb4fa8,_0x5da55e);}var __createBinding=this&&this[a609_0x1ecd72(0x153)]||(Object[a609_0x1ecd72(0x165)]?function(_0xcfe6c0,_0x1a61d2,_0x115f35,_0x233496){const _0x343ef8=a609_0x1ecd72;if(_0x233496===undefined)_0x233496=_0x115f35;var _0x513925=Object[_0x343ef8(0x164)](_0x1a61d2,_0x115f35);(!_0x513925||(_0x343ef8(0x14d)in _0x513925?!_0x1a61d2['__esModule']:_0x513925[_0x343ef8(0x163)]||_0x513925[_0x343ef8(0x14f)]))&&(_0x513925={'enumerable':!![],'get':function(){return _0x1a61d2[_0x115f35];}}),Object[_0x343ef8(0x158)](_0xcfe6c0,_0x233496,_0x513925);}:function(_0xe1130,_0x40dd7a,_0x451b2a,_0x367474){if(_0x367474===undefined)_0x367474=_0x451b2a;_0xe1130[_0x367474]=_0x40dd7a[_0x451b2a];}),__setModuleDefault=this&&this[a609_0x1ecd72(0x15b)]||(Object[a609_0x1ecd72(0x165)]?function(_0x556156,_0x43571a){const _0x482d1c=a609_0x1ecd72;Object[_0x482d1c(0x158)](_0x556156,'default',{'enumerable':!![],'value':_0x43571a});}:function(_0x3f3627,_0x5bf059){_0x3f3627['default']=_0x5bf059;}),__importStar=this&&this[a609_0x1ecd72(0x150)]||function(_0x3a48eb){const _0x13f965=a609_0x1ecd72;if(_0x3a48eb&&_0x3a48eb[_0x13f965(0x14c)])return _0x3a48eb;var _0x5ca0de={};if(_0x3a48eb!=null){for(var _0x4aa34b in _0x3a48eb)if(_0x4aa34b!==_0x13f965(0x166)&&Object['prototype'][_0x13f965(0x156)][_0x13f965(0x173)](_0x3a48eb,_0x4aa34b))__createBinding(_0x5ca0de,_0x3a48eb,_0x4aa34b);}return __setModuleDefault(_0x5ca0de,_0x3a48eb),_0x5ca0de;},__importDefault=this&&this[a609_0x1ecd72(0x152)]||function(_0xebe12e){const _0x444039=a609_0x1ecd72;return _0xebe12e&&_0xebe12e[_0x444039(0x14c)]?_0xebe12e:{'default':_0xebe12e};};Object[a609_0x1ecd72(0x158)](exports,a609_0x1ecd72(0x14c),{'value':!![]});const Yup=__importStar(require(a609_0x1ecd72(0x16d))),AppError_1=__importDefault(require(a609_0x1ecd72(0x148))),ShowUserService_1=__importDefault(require('./ShowUserService')),Company_1=__importDefault(require(a609_0x1ecd72(0x14e))),User_1=__importDefault(require('../../models/User')),UpdateUserService=async({userData:_0x30e3ae,userId:_0x2ee7dd,companyId:_0x3d23d4,requestUserId:_0x3df5f7})=>{const _0x203713=a609_0x1ecd72,_0x1d8cc8=await(0x0,ShowUserService_1['default'])(_0x2ee7dd,_0x3d23d4),_0x26eb3b=await User_1[_0x203713(0x166)][_0x203713(0x161)](_0x3df5f7);if(_0x26eb3b[_0x203713(0x149)]===![]&&_0x30e3ae[_0x203713(0x171)]!==_0x3d23d4)throw new AppError_1[(_0x203713(0x166))](_0x203713(0x15c));const _0x5d42d3=Yup[_0x203713(0x15a)]()[_0x203713(0x169)]({'name':Yup['string']()[_0x203713(0x170)](0x2),'allHistoric':Yup['string'](),'email':Yup[_0x203713(0x147)]()[_0x203713(0x14a)](),'profile':Yup['string'](),'password':Yup['string']()}),_0x269188=_0x1d8cc8[_0x203713(0x14a)],{email:_0x25332f,password:_0x5e2ffa,profile:_0x262c74,name:_0x179eb7,queueIds:queueIds=[],startWork:_0x27ad2d,endWork:_0x44dfae,farewellMessage:_0x37c450,whatsappId:_0x3966c5,allTicket:_0x137d73,defaultTheme:_0x1de46a,defaultMenu:_0x5d231b,allowGroup:_0x5572b9,allHistoric:_0x45039d,allUserChat:_0x5a3cdd}=_0x30e3ae;try{await _0x5d42d3[_0x203713(0x15f)]({'email':_0x25332f,'password':_0x5e2ffa,'profile':_0x262c74,'name':_0x179eb7});}catch(_0x76cd93){throw new AppError_1[(_0x203713(0x166))](_0x76cd93['message']);}await _0x1d8cc8['update']({'email':_0x25332f,'password':_0x5e2ffa,'profile':_0x262c74,'name':_0x179eb7,'startWork':_0x27ad2d,'endWork':_0x44dfae,'farewellMessage':_0x37c450,'whatsappId':_0x3966c5||null,'allTicket':_0x137d73,'defaultTheme':_0x1de46a,'defaultMenu':_0x5d231b,'allowGroup':_0x5572b9,'allHistoric':_0x45039d,'allUserChat':_0x5a3cdd}),await _0x1d8cc8[_0x203713(0x16e)](_0x203713(0x162),queueIds),await _0x1d8cc8[_0x203713(0x168)]();const _0x285516=await Company_1[_0x203713(0x166)]['findByPk'](_0x1d8cc8[_0x203713(0x171)]);_0x285516[_0x203713(0x14a)]===_0x269188&&await _0x285516[_0x203713(0x155)]({'email':_0x25332f,'password':_0x5e2ffa});const _0x27d7eb={'id':_0x1d8cc8['id'],'name':_0x1d8cc8[_0x203713(0x15d)],'email':_0x1d8cc8[_0x203713(0x14a)],'profile':_0x1d8cc8['profile'],'companyId':_0x1d8cc8[_0x203713(0x171)],'company':_0x285516,'queues':_0x1d8cc8[_0x203713(0x162)],'startWork':_0x1d8cc8[_0x203713(0x15e)],'endWork':_0x1d8cc8[_0x203713(0x160)],'greetingMessage':_0x1d8cc8[_0x203713(0x151)],'allTicket':_0x1d8cc8['allTicket'],'defaultMenu':_0x1d8cc8['defaultMenu'],'defaultTheme':_0x1d8cc8[_0x203713(0x167)],'allowGroup':_0x1d8cc8['allowGroup'],'allHistoric':_0x1d8cc8['allHistoric']};return _0x27d7eb;};function a609_0x12c5(){const _0x5aa41e=['10qvxHPT','update','hasOwnProperty','7460321ONJsBD','defineProperty','1288455VJFZgY','object','__setModuleDefault','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','name','startWork','validate','endWork','findByPk','queues','writable','getOwnPropertyDescriptor','create','default','defaultTheme','reload','shape','693yhPcGp','19744XAaLFM','1GtXqIp','yup','$set','397788vDbjyd','min','companyId','63542LqNsuZ','call','2141982tWKsWJ','5WmIZHS','string','../../errors/AppError','super','email','512084lpqWyu','__esModule','get','../../models/Company','configurable','__importStar','farewellMessage','__importDefault','__createBinding'];a609_0x12c5=function(){return _0x5aa41e;};return a609_0x12c5();}exports[a609_0x1ecd72(0x166)]=UpdateUserService;