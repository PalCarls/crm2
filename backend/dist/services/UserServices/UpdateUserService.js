<<<<<<< HEAD
'use strict';const a598_0x53bf63=a598_0x4d43;(function(_0x203582,_0x510b7a){const _0x358980=a598_0x4d43,_0x45d137=_0x203582();while(!![]){try{const _0x5676e2=parseInt(_0x358980(0x188))/0x1+parseInt(_0x358980(0x1a0))/0x2*(-parseInt(_0x358980(0x19a))/0x3)+-parseInt(_0x358980(0x18f))/0x4+-parseInt(_0x358980(0x19d))/0x5+-parseInt(_0x358980(0x193))/0x6+-parseInt(_0x358980(0x1a4))/0x7+-parseInt(_0x358980(0x1a6))/0x8*(-parseInt(_0x358980(0x196))/0x9);if(_0x5676e2===_0x510b7a)break;else _0x45d137['push'](_0x45d137['shift']());}catch(_0x3390dd){_0x45d137['push'](_0x45d137['shift']());}}}(a598_0x5e09,0x72c99));function a598_0x5e09(){const _0x497d17=['1192296kfQGTi','__esModule','call','reload','update','__importDefault','./ShowUserService','$set','get','object','name','email','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','864873uMEJbe','allHistoric','companyId','message','allowGroup','min','hasOwnProperty','2814372xEgSqP','../../models/User','profile','configurable','870072oSWzur','defineProperty','string','117svRECK','defaultMenu','default','create','529764EZUhSZ','__setModuleDefault','prototype','1814260vmjZDi','shape','findByPk','10DUaMvq','startWork','queues','super','1664516cYIGxl','farewellMessage'];a598_0x5e09=function(){return _0x497d17;};return a598_0x5e09();}var __createBinding=this&&this['__createBinding']||(Object[a598_0x53bf63(0x199)]?function(_0x44185b,_0x2359da,_0x31fd7d,_0x16b864){const _0x519977=a598_0x53bf63;if(_0x16b864===undefined)_0x16b864=_0x31fd7d;var _0x391402=Object['getOwnPropertyDescriptor'](_0x2359da,_0x31fd7d);(!_0x391402||(_0x519977(0x1ae)in _0x391402?!_0x2359da[_0x519977(0x1a7)]:_0x391402['writable']||_0x391402[_0x519977(0x192)]))&&(_0x391402={'enumerable':!![],'get':function(){return _0x2359da[_0x31fd7d];}}),Object['defineProperty'](_0x44185b,_0x16b864,_0x391402);}:function(_0xadfbdb,_0x3f12e1,_0x493f35,_0x2b4a6d){if(_0x2b4a6d===undefined)_0x2b4a6d=_0x493f35;_0xadfbdb[_0x2b4a6d]=_0x3f12e1[_0x493f35];}),__setModuleDefault=this&&this[a598_0x53bf63(0x19b)]||(Object['create']?function(_0x5c7995,_0x387082){const _0x37f68e=a598_0x53bf63;Object['defineProperty'](_0x5c7995,_0x37f68e(0x198),{'enumerable':!![],'value':_0x387082});}:function(_0x580787,_0x37500a){const _0x1d5c19=a598_0x53bf63;_0x580787[_0x1d5c19(0x198)]=_0x37500a;}),__importStar=this&&this['__importStar']||function(_0x592c30){const _0x325875=a598_0x53bf63;if(_0x592c30&&_0x592c30[_0x325875(0x1a7)])return _0x592c30;var _0x4d2d95={};if(_0x592c30!=null){for(var _0x556556 in _0x592c30)if(_0x556556!==_0x325875(0x198)&&Object[_0x325875(0x19c)][_0x325875(0x18e)][_0x325875(0x1a8)](_0x592c30,_0x556556))__createBinding(_0x4d2d95,_0x592c30,_0x556556);}return __setModuleDefault(_0x4d2d95,_0x592c30),_0x4d2d95;},__importDefault=this&&this[a598_0x53bf63(0x1ab)]||function(_0x2cd78a){const _0x58aa61=a598_0x53bf63;return _0x2cd78a&&_0x2cd78a[_0x58aa61(0x1a7)]?_0x2cd78a:{'default':_0x2cd78a};};Object[a598_0x53bf63(0x194)](exports,a598_0x53bf63(0x1a7),{'value':!![]});function a598_0x4d43(_0xa7a7ee,_0x375aa6){const _0x5e091d=a598_0x5e09();return a598_0x4d43=function(_0x4d436c,_0x36fa8b){_0x4d436c=_0x4d436c-0x187;let _0x258097=_0x5e091d[_0x4d436c];return _0x258097;},a598_0x4d43(_0xa7a7ee,_0x375aa6);}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require(a598_0x53bf63(0x1ac))),Company_1=__importDefault(require('../../models/Company')),User_1=__importDefault(require(a598_0x53bf63(0x190))),UpdateUserService=async({userData:_0x25517c,userId:_0x120a6a,companyId:_0x41d16d,requestUserId:_0x7e5415})=>{const _0x1dc766=a598_0x53bf63,_0xf2be83=await(0x0,ShowUserService_1[_0x1dc766(0x198)])(_0x120a6a,_0x41d16d),_0xab1572=await User_1[_0x1dc766(0x198)]['findByPk'](_0x7e5415);if(_0xab1572[_0x1dc766(0x1a3)]===![]&&_0x25517c['companyId']!==_0x41d16d)throw new AppError_1[(_0x1dc766(0x198))](_0x1dc766(0x187));const _0x349541=Yup[_0x1dc766(0x1af)]()[_0x1dc766(0x19e)]({'name':Yup[_0x1dc766(0x195)]()[_0x1dc766(0x18d)](0x2),'allHistoric':Yup[_0x1dc766(0x195)](),'email':Yup[_0x1dc766(0x195)]()[_0x1dc766(0x1b1)](),'profile':Yup[_0x1dc766(0x195)](),'password':Yup[_0x1dc766(0x195)]()}),_0x5a90ec=_0xf2be83[_0x1dc766(0x1b1)],{email:_0x64ad43,password:_0x295454,profile:_0x1da02d,name:_0x17a9b1,queueIds:queueIds=[],startWork:_0x4def1f,endWork:_0x4dcdec,farewellMessage:_0x52c429,whatsappId:_0x172622,allTicket:_0x4d8de3,defaultTheme:_0x6c2dfc,defaultMenu:_0x405f9c,allowGroup:_0x4deb92,allHistoric:_0x3a2548,allUserChat:_0x49b8ac}=_0x25517c;try{await _0x349541['validate']({'email':_0x64ad43,'password':_0x295454,'profile':_0x1da02d,'name':_0x17a9b1});}catch(_0x2c8c0d){throw new AppError_1[(_0x1dc766(0x198))](_0x2c8c0d[_0x1dc766(0x18b)]);}await _0xf2be83['update']({'email':_0x64ad43,'password':_0x295454,'profile':_0x1da02d,'name':_0x17a9b1,'startWork':_0x4def1f,'endWork':_0x4dcdec,'farewellMessage':_0x52c429,'whatsappId':_0x172622||null,'allTicket':_0x4d8de3,'defaultTheme':_0x6c2dfc,'defaultMenu':_0x405f9c,'allowGroup':_0x4deb92,'allHistoric':_0x3a2548,'allUserChat':_0x49b8ac}),await _0xf2be83[_0x1dc766(0x1ad)](_0x1dc766(0x1a2),queueIds),await _0xf2be83[_0x1dc766(0x1a9)]();const _0x19fac8=await Company_1[_0x1dc766(0x198)][_0x1dc766(0x19f)](_0xf2be83[_0x1dc766(0x18a)]);_0x19fac8[_0x1dc766(0x1b1)]===_0x5a90ec&&await _0x19fac8[_0x1dc766(0x1aa)]({'email':_0x64ad43,'password':_0x295454});const _0x419fbb={'id':_0xf2be83['id'],'name':_0xf2be83[_0x1dc766(0x1b0)],'email':_0xf2be83['email'],'profile':_0xf2be83[_0x1dc766(0x191)],'companyId':_0xf2be83[_0x1dc766(0x18a)],'company':_0x19fac8,'queues':_0xf2be83[_0x1dc766(0x1a2)],'startWork':_0xf2be83[_0x1dc766(0x1a1)],'endWork':_0xf2be83['endWork'],'greetingMessage':_0xf2be83[_0x1dc766(0x1a5)],'allTicket':_0xf2be83['allTicket'],'defaultMenu':_0xf2be83[_0x1dc766(0x197)],'defaultTheme':_0xf2be83['defaultTheme'],'allowGroup':_0xf2be83[_0x1dc766(0x18c)],'allHistoric':_0xf2be83[_0x1dc766(0x189)]};return _0x419fbb;};exports['default']=UpdateUserService;
=======
'use strict';const a597_0x203a51=a597_0x9fa9;(function(_0x396457,_0x4296a6){const _0x33ccbe=a597_0x9fa9,_0x2e9de1=_0x396457();while(!![]){try{const _0x3102b4=-parseInt(_0x33ccbe(0x173))/0x1*(parseInt(_0x33ccbe(0x163))/0x2)+parseInt(_0x33ccbe(0x179))/0x3+-parseInt(_0x33ccbe(0x17a))/0x4+parseInt(_0x33ccbe(0x177))/0x5+parseInt(_0x33ccbe(0x16e))/0x6+-parseInt(_0x33ccbe(0x18d))/0x7*(parseInt(_0x33ccbe(0x18a))/0x8)+parseInt(_0x33ccbe(0x17b))/0x9*(parseInt(_0x33ccbe(0x17e))/0xa);if(_0x3102b4===_0x4296a6)break;else _0x2e9de1['push'](_0x2e9de1['shift']());}catch(_0x13c2e1){_0x2e9de1['push'](_0x2e9de1['shift']());}}}(a597_0xfb72,0x4f176));function a597_0x9fa9(_0x1292d8,_0xad613d){const _0xfb7288=a597_0xfb72();return a597_0x9fa9=function(_0x9fa980,_0x31ffd7){_0x9fa980=_0x9fa980-0x160;let _0x5372f0=_0xfb7288[_0x9fa980];return _0x5372f0;},a597_0x9fa9(_0x1292d8,_0xad613d);}var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x36a880,_0x187ea0,_0x538df8,_0x3266f8){const _0x5650b6=a597_0x9fa9;if(_0x3266f8===undefined)_0x3266f8=_0x538df8;var _0x403199=Object[_0x5650b6(0x169)](_0x187ea0,_0x538df8);(!_0x403199||(_0x5650b6(0x18e)in _0x403199?!_0x187ea0[_0x5650b6(0x17f)]:_0x403199['writable']||_0x403199[_0x5650b6(0x18b)]))&&(_0x403199={'enumerable':!![],'get':function(){return _0x187ea0[_0x538df8];}}),Object[_0x5650b6(0x172)](_0x36a880,_0x3266f8,_0x403199);}:function(_0x326e3c,_0x5d4688,_0x2e01fa,_0x419ab2){if(_0x419ab2===undefined)_0x419ab2=_0x2e01fa;_0x326e3c[_0x419ab2]=_0x5d4688[_0x2e01fa];}),__setModuleDefault=this&&this[a597_0x203a51(0x16a)]||(Object[a597_0x203a51(0x16c)]?function(_0x188e82,_0x50ea5f){const _0x118a7a=a597_0x203a51;Object[_0x118a7a(0x172)](_0x188e82,_0x118a7a(0x188),{'enumerable':!![],'value':_0x50ea5f});}:function(_0x197b71,_0xa5d86b){_0x197b71['default']=_0xa5d86b;}),__importStar=this&&this[a597_0x203a51(0x189)]||function(_0x1cb4dd){const _0x231b6f=a597_0x203a51;if(_0x1cb4dd&&_0x1cb4dd[_0x231b6f(0x17f)])return _0x1cb4dd;var _0x430044={};if(_0x1cb4dd!=null){for(var _0x4cf098 in _0x1cb4dd)if(_0x4cf098!==_0x231b6f(0x188)&&Object[_0x231b6f(0x16b)][_0x231b6f(0x17c)][_0x231b6f(0x180)](_0x1cb4dd,_0x4cf098))__createBinding(_0x430044,_0x1cb4dd,_0x4cf098);}return __setModuleDefault(_0x430044,_0x1cb4dd),_0x430044;},__importDefault=this&&this[a597_0x203a51(0x187)]||function(_0x5b2dd0){const _0x1d3a07=a597_0x203a51;return _0x5b2dd0&&_0x5b2dd0[_0x1d3a07(0x17f)]?_0x5b2dd0:{'default':_0x5b2dd0};};Object['defineProperty'](exports,a597_0x203a51(0x17f),{'value':!![]});const Yup=__importStar(require(a597_0x203a51(0x167))),AppError_1=__importDefault(require(a597_0x203a51(0x190))),ShowUserService_1=__importDefault(require(a597_0x203a51(0x181))),Company_1=__importDefault(require(a597_0x203a51(0x182))),User_1=__importDefault(require(a597_0x203a51(0x191))),UpdateUserService=async({userData:_0x41b4a9,userId:_0x41b6a4,companyId:_0x299a35,requestUserId:_0x12df06})=>{const _0x4a31c1=a597_0x203a51,_0x196115=await(0x0,ShowUserService_1['default'])(_0x41b6a4,_0x299a35),_0x141a8f=await User_1['default'][_0x4a31c1(0x166)](_0x12df06);if(_0x141a8f[_0x4a31c1(0x184)]===![]&&_0x41b4a9[_0x4a31c1(0x186)]!==_0x299a35)throw new AppError_1[(_0x4a31c1(0x188))](_0x4a31c1(0x16f));const _0x4ea320=Yup[_0x4a31c1(0x178)]()[_0x4a31c1(0x168)]({'name':Yup[_0x4a31c1(0x17d)]()[_0x4a31c1(0x18c)](0x2),'allHistoric':Yup[_0x4a31c1(0x17d)](),'email':Yup[_0x4a31c1(0x17d)]()[_0x4a31c1(0x174)](),'profile':Yup['string'](),'password':Yup[_0x4a31c1(0x17d)]()}),_0x5743a2=_0x196115[_0x4a31c1(0x174)],{email:_0x563a40,password:_0x3568ab,profile:_0x2e3ec5,name:_0x2baedf,queueIds:queueIds=[],startWork:_0xe4833,endWork:_0x3df427,farewellMessage:_0x21ba63,whatsappId:_0x382711,allTicket:_0x30fc96,defaultTheme:_0x345cd6,defaultMenu:_0x401a63,allowGroup:_0x33dbdc,allHistoric:_0x4bf45f,allUserChat:_0x528f89}=_0x41b4a9;try{await _0x4ea320[_0x4a31c1(0x185)]({'email':_0x563a40,'password':_0x3568ab,'profile':_0x2e3ec5,'name':_0x2baedf});}catch(_0x17ccf1){throw new AppError_1['default'](_0x17ccf1[_0x4a31c1(0x18f)]);}await _0x196115[_0x4a31c1(0x162)]({'email':_0x563a40,'password':_0x3568ab,'profile':_0x2e3ec5,'name':_0x2baedf,'startWork':_0xe4833,'endWork':_0x3df427,'farewellMessage':_0x21ba63,'whatsappId':_0x382711||null,'allTicket':_0x30fc96,'defaultTheme':_0x345cd6,'defaultMenu':_0x401a63,'allowGroup':_0x33dbdc,'allHistoric':_0x4bf45f,'allUserChat':_0x528f89}),await _0x196115[_0x4a31c1(0x164)](_0x4a31c1(0x160),queueIds),await _0x196115[_0x4a31c1(0x175)]();const _0xcac055=await Company_1[_0x4a31c1(0x188)][_0x4a31c1(0x166)](_0x196115['companyId']);_0xcac055[_0x4a31c1(0x174)]===_0x5743a2&&await _0xcac055['update']({'email':_0x563a40,'password':_0x3568ab});const _0x49d177={'id':_0x196115['id'],'name':_0x196115[_0x4a31c1(0x161)],'email':_0x196115[_0x4a31c1(0x174)],'profile':_0x196115[_0x4a31c1(0x176)],'companyId':_0x196115[_0x4a31c1(0x186)],'company':_0xcac055,'queues':_0x196115[_0x4a31c1(0x160)],'startWork':_0x196115['startWork'],'endWork':_0x196115[_0x4a31c1(0x171)],'greetingMessage':_0x196115['farewellMessage'],'allTicket':_0x196115[_0x4a31c1(0x165)],'defaultMenu':_0x196115['defaultMenu'],'defaultTheme':_0x196115[_0x4a31c1(0x170)],'allowGroup':_0x196115[_0x4a31c1(0x183)],'allHistoric':_0x196115[_0x4a31c1(0x16d)]};return _0x49d177;};exports[a597_0x203a51(0x188)]=UpdateUserService;function a597_0xfb72(){const _0x81f8ce=['defineProperty','9281fooFFa','email','reload','profile','514585foIguX','object','719793ZLoXHz','1263188VJHhYn','63biuTkW','hasOwnProperty','string','1192650fnMEWH','__esModule','call','./ShowUserService','../../models/Company','allowGroup','super','validate','companyId','__importDefault','default','__importStar','26360PyKMHG','configurable','min','1169FPGaXQ','get','message','../../errors/AppError','../../models/User','queues','name','update','136BgIYUz','$set','allTicket','findByPk','yup','shape','getOwnPropertyDescriptor','__setModuleDefault','prototype','create','allHistoric','3860550MyBOxq','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','defaultTheme','endWork'];a597_0xfb72=function(){return _0x81f8ce;};return a597_0xfb72();}
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
