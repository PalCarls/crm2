'use strict';const a498_0x447ac1=a498_0x4bec;function a498_0x4bec(_0x5dcca7,_0x42f289){const _0x4fa9d5=a498_0x4fa9();return a498_0x4bec=function(_0x4becff,_0x279239){_0x4becff=_0x4becff-0xd0;let _0x3314c8=_0x4fa9d5[_0x4becff];return _0x3314c8;},a498_0x4bec(_0x5dcca7,_0x42f289);}(function(_0x7cc715,_0x3e5d6b){const _0x8095bd=a498_0x4bec,_0x38c484=_0x7cc715();while(!![]){try{const _0x367b01=-parseInt(_0x8095bd(0xd6))/0x1*(-parseInt(_0x8095bd(0xd9))/0x2)+-parseInt(_0x8095bd(0xf9))/0x3+parseInt(_0x8095bd(0xe3))/0x4*(-parseInt(_0x8095bd(0xd2))/0x5)+-parseInt(_0x8095bd(0xe5))/0x6*(parseInt(_0x8095bd(0xf8))/0x7)+parseInt(_0x8095bd(0x101))/0x8*(parseInt(_0x8095bd(0xfd))/0x9)+parseInt(_0x8095bd(0xf6))/0xa+parseInt(_0x8095bd(0xf0))/0xb*(-parseInt(_0x8095bd(0xe4))/0xc);if(_0x367b01===_0x3e5d6b)break;else _0x38c484['push'](_0x38c484['shift']());}catch(_0x98153d){_0x38c484['push'](_0x38c484['shift']());}}}(a498_0x4fa9,0x1ec0c));var __createBinding=this&&this['__createBinding']||(Object[a498_0x447ac1(0xd1)]?function(_0x5da13d,_0x14736e,_0x9ddd1e,_0x22c5d2){const _0x249c80=a498_0x447ac1;if(_0x22c5d2===undefined)_0x22c5d2=_0x9ddd1e;var _0x4dbf7a=Object[_0x249c80(0x100)](_0x14736e,_0x9ddd1e);(!_0x4dbf7a||(_0x249c80(0xdd)in _0x4dbf7a?!_0x14736e[_0x249c80(0xed)]:_0x4dbf7a[_0x249c80(0xe9)]||_0x4dbf7a[_0x249c80(0xe2)]))&&(_0x4dbf7a={'enumerable':!![],'get':function(){return _0x14736e[_0x9ddd1e];}}),Object[_0x249c80(0xdc)](_0x5da13d,_0x22c5d2,_0x4dbf7a);}:function(_0x5974fb,_0x3a5b80,_0x53a0a9,_0x51e7c7){if(_0x51e7c7===undefined)_0x51e7c7=_0x53a0a9;_0x5974fb[_0x51e7c7]=_0x3a5b80[_0x53a0a9];}),__setModuleDefault=this&&this[a498_0x447ac1(0xf5)]||(Object[a498_0x447ac1(0xd1)]?function(_0x566a39,_0x3a905c){Object['defineProperty'](_0x566a39,'default',{'enumerable':!![],'value':_0x3a905c});}:function(_0x3d6bdc,_0x2cac28){const _0x5fbf2f=a498_0x447ac1;_0x3d6bdc[_0x5fbf2f(0xff)]=_0x2cac28;}),__importStar=this&&this['__importStar']||function(_0x32a771){const _0x1b2f7f=a498_0x447ac1;if(_0x32a771&&_0x32a771[_0x1b2f7f(0xed)])return _0x32a771;var _0x43a5c8={};if(_0x32a771!=null){for(var _0x596724 in _0x32a771)if(_0x596724!=='default'&&Object[_0x1b2f7f(0xf7)][_0x1b2f7f(0xec)][_0x1b2f7f(0xe7)](_0x32a771,_0x596724))__createBinding(_0x43a5c8,_0x32a771,_0x596724);}return __setModuleDefault(_0x43a5c8,_0x32a771),_0x43a5c8;},__importDefault=this&&this[a498_0x447ac1(0xf2)]||function(_0x258854){const _0x1bd2bc=a498_0x447ac1;return _0x258854&&_0x258854[_0x1bd2bc(0xed)]?_0x258854:{'default':_0x258854};};Object[a498_0x447ac1(0xdc)](exports,a498_0x447ac1(0xed),{'value':!![]});function a498_0x4fa9(){const _0x480e07=['12eJEPzj','1650aypAIc','endWork','call','$set','writable','shape','../../errors/AppError','hasOwnProperty','__esModule','allowGroup','findByPk','1220197tQYevu','../../models/User','__importDefault','string','profile','__setModuleDefault','1160730cjDmTm','prototype','2093fZJJTi','457920ZnDxdH','reload','message','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','171Pwqsnf','defaultMenu','default','getOwnPropertyDescriptor','84776kUsbQn','startWork','../../models/Company','create','75xWbamO','farewellMessage','allTicket','./ShowUserService','14095huDVPW','queues','length','34ikVZlN','name','validate','defineProperty','get','update','email','yup','companyId','configurable','22740Qnzmfs'];a498_0x4fa9=function(){return _0x480e07;};return a498_0x4fa9();}const Yup=__importStar(require(a498_0x447ac1(0xe0))),AppError_1=__importDefault(require(a498_0x447ac1(0xeb))),ShowUserService_1=__importDefault(require(a498_0x447ac1(0xd5))),Company_1=__importDefault(require(a498_0x447ac1(0xd0))),User_1=__importDefault(require(a498_0x447ac1(0xf1))),UpdateUserService=async({userData:_0x447f09,userId:_0x38ac62,companyId:_0x5849db,requestUserId:_0x3a2f4c})=>{const _0x21ef3b=a498_0x447ac1,_0x305245=await(0x0,ShowUserService_1[_0x21ef3b(0xff)])(_0x38ac62),_0x5ae092=await User_1[_0x21ef3b(0xff)][_0x21ef3b(0xef)](_0x3a2f4c);if(_0x5ae092['super']===![]&&_0x447f09[_0x21ef3b(0xe1)]!==_0x5849db)throw new AppError_1['default'](_0x21ef3b(0xfc));const _0x3d923c=Yup['object']()[_0x21ef3b(0xea)]({'name':Yup[_0x21ef3b(0xf3)]()['min'](0x2),'email':Yup[_0x21ef3b(0xf3)]()[_0x21ef3b(0xdf)](),'profile':Yup[_0x21ef3b(0xf3)](),'password':Yup[_0x21ef3b(0xf3)]()}),{email:_0x2295fd,password:_0x5b0a57,profile:_0x3dcb63,name:_0x271a9a,queueIds:queueIds=[],startWork:_0x4afa22,endWork:_0xf28928,farewellMessage:_0x6233b5,whatsappId:_0x1f9b58,allTicket:_0x1caeda,defaultTheme:_0x17f244,defaultMenu:_0x3c171f,allowGroup:_0x24f86e}=_0x447f09;try{await _0x3d923c[_0x21ef3b(0xdb)]({'email':_0x2295fd,'password':_0x5b0a57,'profile':_0x3dcb63,'name':_0x271a9a});}catch(_0x669583){throw new AppError_1[(_0x21ef3b(0xff))](_0x669583[_0x21ef3b(0xfb)]);}await _0x305245[_0x21ef3b(0xde)]({'email':_0x2295fd,'password':_0x5b0a57,'profile':_0x3dcb63,'name':_0x271a9a,'startWork':_0x4afa22,'endWork':_0xf28928,'farewellMessage':_0x6233b5,'whatsappId':_0x1f9b58||null,'allTicket':_0x1caeda,'defaultTheme':_0x17f244,'defaultMenu':_0x3c171f,'allowGroup':_0x24f86e});if(queueIds[_0x21ef3b(0xd8)]>0x0)await _0x305245[_0x21ef3b(0xe8)](_0x21ef3b(0xd7),queueIds);await _0x305245[_0x21ef3b(0xfa)]();const _0x48dd5a=await Company_1[_0x21ef3b(0xff)][_0x21ef3b(0xef)](_0x305245['companyId']),_0x11114b={'id':_0x305245['id'],'name':_0x305245[_0x21ef3b(0xda)],'email':_0x305245[_0x21ef3b(0xdf)],'profile':_0x305245[_0x21ef3b(0xf4)],'companyId':_0x305245[_0x21ef3b(0xe1)],'company':_0x48dd5a,'queues':_0x305245[_0x21ef3b(0xd7)],'startWork':_0x305245[_0x21ef3b(0x102)],'endWork':_0x305245[_0x21ef3b(0xe6)],'greetingMessage':_0x305245[_0x21ef3b(0xd3)],'allTicket':_0x305245[_0x21ef3b(0xd4)],'defaultMenu':_0x305245[_0x21ef3b(0xfe)],'defaultTheme':_0x305245['defaultTheme'],'allowGroup':_0x305245[_0x21ef3b(0xee)]};return _0x11114b;};exports[a498_0x447ac1(0xff)]=UpdateUserService;