'use strict';function a535_0x44f0(){const _0x9ad6e9=['6782QkYFMV','companyId','../../errors/AppError','reload','$set','150XVyVWg','allTicket','defineProperty','11352128fvilRe','email','__importStar','7772610TDXKyh','../../models/Company','object','defaultTheme','5616590CYKseE','__setModuleDefault','configurable','1172250rsBrYq','create','length','string','429056RBIMqT','endWork','hasOwnProperty','default','prototype','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','get','profile','shape','yup','__esModule','allowGroup','findByPk','2528505wjdbCz','defaultMenu','queues','__importDefault','../../models/User','startWork'];a535_0x44f0=function(){return _0x9ad6e9;};return a535_0x44f0();}function a535_0x144d(_0x2697b5,_0x3a04a5){const _0x44f02e=a535_0x44f0();return a535_0x144d=function(_0x144d64,_0x2865ea){_0x144d64=_0x144d64-0x117;let _0x1b5f34=_0x44f02e[_0x144d64];return _0x1b5f34;},a535_0x144d(_0x2697b5,_0x3a04a5);}const a535_0xf06fb9=a535_0x144d;(function(_0x2b983a,_0x11c270){const _0x3a3645=a535_0x144d,_0x359cb2=_0x2b983a();while(!![]){try{const _0x359ab7=-parseInt(_0x3a3645(0x129))/0x1*(-parseInt(_0x3a3645(0x124))/0x2)+parseInt(_0x3a3645(0x11e))/0x3+parseInt(_0x3a3645(0x13a))/0x4+parseInt(_0x3a3645(0x12f))/0x5+parseInt(_0x3a3645(0x136))/0x6+-parseInt(_0x3a3645(0x133))/0x7+-parseInt(_0x3a3645(0x12c))/0x8;if(_0x359ab7===_0x11c270)break;else _0x359cb2['push'](_0x359cb2['shift']());}catch(_0x358d09){_0x359cb2['push'](_0x359cb2['shift']());}}}(a535_0x44f0,0xf107c));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x237448,_0x2b6a4d,_0xfbecf7,_0x4e7811){const _0x1b02f9=a535_0x144d;if(_0x4e7811===undefined)_0x4e7811=_0xfbecf7;var _0xff6c63=Object['getOwnPropertyDescriptor'](_0x2b6a4d,_0xfbecf7);(!_0xff6c63||(_0x1b02f9(0x117)in _0xff6c63?!_0x2b6a4d[_0x1b02f9(0x11b)]:_0xff6c63['writable']||_0xff6c63[_0x1b02f9(0x135)]))&&(_0xff6c63={'enumerable':!![],'get':function(){return _0x2b6a4d[_0xfbecf7];}}),Object['defineProperty'](_0x237448,_0x4e7811,_0xff6c63);}:function(_0x25e0e0,_0xeed4b3,_0x7c6d7b,_0x4eafe7){if(_0x4eafe7===undefined)_0x4eafe7=_0x7c6d7b;_0x25e0e0[_0x4eafe7]=_0xeed4b3[_0x7c6d7b];}),__setModuleDefault=this&&this[a535_0xf06fb9(0x134)]||(Object[a535_0xf06fb9(0x137)]?function(_0x18a664,_0x464ee2){const _0x1e2df0=a535_0xf06fb9;Object[_0x1e2df0(0x12b)](_0x18a664,_0x1e2df0(0x13d),{'enumerable':!![],'value':_0x464ee2});}:function(_0x20de28,_0x102ee2){const _0x750975=a535_0xf06fb9;_0x20de28[_0x750975(0x13d)]=_0x102ee2;}),__importStar=this&&this[a535_0xf06fb9(0x12e)]||function(_0x56a359){const _0x46e88e=a535_0xf06fb9;if(_0x56a359&&_0x56a359[_0x46e88e(0x11b)])return _0x56a359;var _0x419073={};if(_0x56a359!=null){for(var _0x5c8e34 in _0x56a359)if(_0x5c8e34!==_0x46e88e(0x13d)&&Object[_0x46e88e(0x13e)][_0x46e88e(0x13c)]['call'](_0x56a359,_0x5c8e34))__createBinding(_0x419073,_0x56a359,_0x5c8e34);}return __setModuleDefault(_0x419073,_0x56a359),_0x419073;},__importDefault=this&&this[a535_0xf06fb9(0x121)]||function(_0x1a8b58){const _0x273155=a535_0xf06fb9;return _0x1a8b58&&_0x1a8b58[_0x273155(0x11b)]?_0x1a8b58:{'default':_0x1a8b58};};Object[a535_0xf06fb9(0x12b)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a535_0xf06fb9(0x11a))),AppError_1=__importDefault(require(a535_0xf06fb9(0x126))),ShowUserService_1=__importDefault(require('./ShowUserService')),Company_1=__importDefault(require(a535_0xf06fb9(0x130))),User_1=__importDefault(require(a535_0xf06fb9(0x122))),UpdateUserService=async({userData:_0x2c207d,userId:_0x2e63cf,companyId:_0x469975,requestUserId:_0x1fa30a})=>{const _0xb938c1=a535_0xf06fb9,_0xc89ad7=await(0x0,ShowUserService_1['default'])(_0x2e63cf),_0x394769=await User_1[_0xb938c1(0x13d)][_0xb938c1(0x11d)](_0x1fa30a);if(_0x394769['super']===![]&&_0x2c207d[_0xb938c1(0x125)]!==_0x469975)throw new AppError_1[(_0xb938c1(0x13d))](_0xb938c1(0x13f));const _0x3d0c3c=Yup[_0xb938c1(0x131)]()[_0xb938c1(0x119)]({'name':Yup[_0xb938c1(0x139)]()['min'](0x2),'email':Yup['string']()[_0xb938c1(0x12d)](),'profile':Yup[_0xb938c1(0x139)](),'password':Yup[_0xb938c1(0x139)]()}),{email:_0x22ab04,password:_0x45cd27,profile:_0x178502,name:_0x5a0e35,queueIds:queueIds=[],startWork:_0x39cb28,endWork:_0x3cfc71,farewellMessage:_0x3a255f,whatsappId:_0x1d1471,allTicket:_0x24a306,defaultTheme:_0x659904,defaultMenu:_0x540959,allowGroup:_0x4dce58}=_0x2c207d;try{await _0x3d0c3c['validate']({'email':_0x22ab04,'password':_0x45cd27,'profile':_0x178502,'name':_0x5a0e35});}catch(_0x47e9e2){throw new AppError_1[(_0xb938c1(0x13d))](_0x47e9e2['message']);}await _0xc89ad7['update']({'email':_0x22ab04,'password':_0x45cd27,'profile':_0x178502,'name':_0x5a0e35,'startWork':_0x39cb28,'endWork':_0x3cfc71,'farewellMessage':_0x3a255f,'whatsappId':_0x1d1471||null,'allTicket':_0x24a306,'defaultTheme':_0x659904,'defaultMenu':_0x540959,'allowGroup':_0x4dce58});if(queueIds[_0xb938c1(0x138)]>0x0)await _0xc89ad7[_0xb938c1(0x128)](_0xb938c1(0x120),queueIds);await _0xc89ad7[_0xb938c1(0x127)]();const _0x3ded69=await Company_1['default'][_0xb938c1(0x11d)](_0xc89ad7[_0xb938c1(0x125)]),_0x2c1797={'id':_0xc89ad7['id'],'name':_0xc89ad7['name'],'email':_0xc89ad7[_0xb938c1(0x12d)],'profile':_0xc89ad7[_0xb938c1(0x118)],'companyId':_0xc89ad7[_0xb938c1(0x125)],'company':_0x3ded69,'queues':_0xc89ad7[_0xb938c1(0x120)],'startWork':_0xc89ad7[_0xb938c1(0x123)],'endWork':_0xc89ad7[_0xb938c1(0x13b)],'greetingMessage':_0xc89ad7['farewellMessage'],'allTicket':_0xc89ad7[_0xb938c1(0x12a)],'defaultMenu':_0xc89ad7[_0xb938c1(0x11f)],'defaultTheme':_0xc89ad7[_0xb938c1(0x132)],'allowGroup':_0xc89ad7[_0xb938c1(0x11c)]};return _0x2c1797;};exports[a535_0xf06fb9(0x13d)]=UpdateUserService;