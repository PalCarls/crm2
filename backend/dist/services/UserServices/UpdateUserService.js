'use strict';const a551_0x48cbea=a551_0x420a;(function(_0x4f14e9,_0x14a2b4){const _0x2a9624=a551_0x420a,_0x4df835=_0x4f14e9();while(!![]){try{const _0x4313d3=parseInt(_0x2a9624(0x1ec))/0x1*(-parseInt(_0x2a9624(0x1e6))/0x2)+-parseInt(_0x2a9624(0x1f8))/0x3*(parseInt(_0x2a9624(0x209))/0x4)+-parseInt(_0x2a9624(0x1ea))/0x5+-parseInt(_0x2a9624(0x1f5))/0x6*(-parseInt(_0x2a9624(0x1fd))/0x7)+-parseInt(_0x2a9624(0x1f0))/0x8+-parseInt(_0x2a9624(0x1ff))/0x9*(-parseInt(_0x2a9624(0x20b))/0xa)+parseInt(_0x2a9624(0x1fe))/0xb;if(_0x4313d3===_0x14a2b4)break;else _0x4df835['push'](_0x4df835['shift']());}catch(_0x4e6b3e){_0x4df835['push'](_0x4df835['shift']());}}}(a551_0xdfb5,0x2f00d));var __createBinding=this&&this[a551_0x48cbea(0x1ee)]||(Object[a551_0x48cbea(0x205)]?function(_0x3ea310,_0x26b77a,_0x5ca44e,_0x4112ad){const _0x5895e9=a551_0x48cbea;if(_0x4112ad===undefined)_0x4112ad=_0x5ca44e;var _0x46ac4c=Object[_0x5895e9(0x20f)](_0x26b77a,_0x5ca44e);(!_0x46ac4c||(_0x5895e9(0x1e7)in _0x46ac4c?!_0x26b77a[_0x5895e9(0x1f2)]:_0x46ac4c[_0x5895e9(0x1fc)]||_0x46ac4c[_0x5895e9(0x1e5)]))&&(_0x46ac4c={'enumerable':!![],'get':function(){return _0x26b77a[_0x5ca44e];}}),Object[_0x5895e9(0x1e9)](_0x3ea310,_0x4112ad,_0x46ac4c);}:function(_0x32c716,_0x1f6d65,_0x99950e,_0x386c41){if(_0x386c41===undefined)_0x386c41=_0x99950e;_0x32c716[_0x386c41]=_0x1f6d65[_0x99950e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x115590,_0x743496){const _0x5d14f1=a551_0x48cbea;Object[_0x5d14f1(0x1e9)](_0x115590,_0x5d14f1(0x1f1),{'enumerable':!![],'value':_0x743496});}:function(_0xbee5e9,_0x59321a){const _0x6b9cba=a551_0x48cbea;_0xbee5e9[_0x6b9cba(0x1f1)]=_0x59321a;}),__importStar=this&&this[a551_0x48cbea(0x20a)]||function(_0x59fa7c){const _0x39b21a=a551_0x48cbea;if(_0x59fa7c&&_0x59fa7c['__esModule'])return _0x59fa7c;var _0x404a4e={};if(_0x59fa7c!=null){for(var _0x595137 in _0x59fa7c)if(_0x595137!==_0x39b21a(0x1f1)&&Object[_0x39b21a(0x1fa)][_0x39b21a(0x1f6)][_0x39b21a(0x211)](_0x59fa7c,_0x595137))__createBinding(_0x404a4e,_0x59fa7c,_0x595137);}return __setModuleDefault(_0x404a4e,_0x59fa7c),_0x404a4e;},__importDefault=this&&this['__importDefault']||function(_0x50b727){const _0x332d14=a551_0x48cbea;return _0x50b727&&_0x50b727[_0x332d14(0x1f2)]?_0x50b727:{'default':_0x50b727};};function a551_0xdfb5(){const _0x1f6c93=['yup','allTicket','18fGahpX','hasOwnProperty','length','33ppAxIt','findByPk','prototype','companyId','writable','530733xRuQTq','7434559zcrzaH','9sAsYLI','startWork','min','super','reload','message','create','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','update','allowGroup','4244HrRTIV','__importStar','874030OZkCPs','profile','endWork','object','getOwnPropertyDescriptor','queues','call','defaultMenu','configurable','15702PBAtqx','get','validate','defineProperty','1068900GrJeHX','string','47fkrkKn','../../models/Company','__createBinding','farewellMessage','1630048CymhmE','default','__esModule'];a551_0xdfb5=function(){return _0x1f6c93;};return a551_0xdfb5();}Object[a551_0x48cbea(0x1e9)](exports,a551_0x48cbea(0x1f2),{'value':!![]});function a551_0x420a(_0x3300cd,_0x5914f0){const _0xdfb579=a551_0xdfb5();return a551_0x420a=function(_0x420a63,_0x2b953e){_0x420a63=_0x420a63-0x1e5;let _0x561b8e=_0xdfb579[_0x420a63];return _0x561b8e;},a551_0x420a(_0x3300cd,_0x5914f0);}const Yup=__importStar(require(a551_0x48cbea(0x1f3))),AppError_1=__importDefault(require('../../errors/AppError')),ShowUserService_1=__importDefault(require('./ShowUserService')),Company_1=__importDefault(require(a551_0x48cbea(0x1ed))),User_1=__importDefault(require('../../models/User')),UpdateUserService=async({userData:_0x3cb839,userId:_0x2663de,companyId:_0x30528f,requestUserId:_0x4d0185})=>{const _0x3c4740=a551_0x48cbea,_0x741bee=await(0x0,ShowUserService_1['default'])(_0x2663de),_0x411bbb=await User_1['default']['findByPk'](_0x4d0185);if(_0x411bbb[_0x3c4740(0x202)]===![]&&_0x3cb839[_0x3c4740(0x1fb)]!==_0x30528f)throw new AppError_1['default'](_0x3c4740(0x206));const _0x2a088b=Yup[_0x3c4740(0x20e)]()['shape']({'name':Yup[_0x3c4740(0x1eb)]()[_0x3c4740(0x201)](0x2),'email':Yup[_0x3c4740(0x1eb)]()['email'](),'profile':Yup['string'](),'password':Yup['string']()}),{email:_0x3f91ef,password:_0x2d9ccc,profile:_0x3dc13d,name:_0x103677,queueIds:queueIds=[],startWork:_0x3ca4c9,endWork:_0x3a92df,farewellMessage:_0x57bd7b,whatsappId:_0x3d275a,allTicket:_0x191815,defaultTheme:_0x470ec0,defaultMenu:_0x3e0884,allowGroup:_0x352558}=_0x3cb839;try{await _0x2a088b[_0x3c4740(0x1e8)]({'email':_0x3f91ef,'password':_0x2d9ccc,'profile':_0x3dc13d,'name':_0x103677});}catch(_0xe52b75){throw new AppError_1[(_0x3c4740(0x1f1))](_0xe52b75[_0x3c4740(0x204)]);}await _0x741bee[_0x3c4740(0x207)]({'email':_0x3f91ef,'password':_0x2d9ccc,'profile':_0x3dc13d,'name':_0x103677,'startWork':_0x3ca4c9,'endWork':_0x3a92df,'farewellMessage':_0x57bd7b,'whatsappId':_0x3d275a||null,'allTicket':_0x191815,'defaultTheme':_0x470ec0,'defaultMenu':_0x3e0884,'allowGroup':_0x352558});if(queueIds[_0x3c4740(0x1f7)]>0x0)await _0x741bee['$set'](_0x3c4740(0x210),queueIds);await _0x741bee[_0x3c4740(0x203)]();const _0x3e7396=await Company_1[_0x3c4740(0x1f1)][_0x3c4740(0x1f9)](_0x741bee[_0x3c4740(0x1fb)]),_0x255f48={'id':_0x741bee['id'],'name':_0x741bee['name'],'email':_0x741bee['email'],'profile':_0x741bee[_0x3c4740(0x20c)],'companyId':_0x741bee[_0x3c4740(0x1fb)],'company':_0x3e7396,'queues':_0x741bee[_0x3c4740(0x210)],'startWork':_0x741bee[_0x3c4740(0x200)],'endWork':_0x741bee[_0x3c4740(0x20d)],'greetingMessage':_0x741bee[_0x3c4740(0x1ef)],'allTicket':_0x741bee[_0x3c4740(0x1f4)],'defaultMenu':_0x741bee[_0x3c4740(0x212)],'defaultTheme':_0x741bee['defaultTheme'],'allowGroup':_0x741bee[_0x3c4740(0x208)]};return _0x255f48;};exports[a551_0x48cbea(0x1f1)]=UpdateUserService;