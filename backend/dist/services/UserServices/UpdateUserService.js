'use strict';const a597_0x4ed1e4=a597_0x2f96;(function(_0x43701f,_0xc07655){const _0x4cb45c=a597_0x2f96,_0x577a4f=_0x43701f();while(!![]){try{const _0x5ec3d5=parseInt(_0x4cb45c(0x122))/0x1*(parseInt(_0x4cb45c(0x124))/0x2)+-parseInt(_0x4cb45c(0x133))/0x3*(parseInt(_0x4cb45c(0x11a))/0x4)+-parseInt(_0x4cb45c(0x111))/0x5*(-parseInt(_0x4cb45c(0x135))/0x6)+parseInt(_0x4cb45c(0x12c))/0x7*(parseInt(_0x4cb45c(0x12f))/0x8)+-parseInt(_0x4cb45c(0x113))/0x9*(-parseInt(_0x4cb45c(0x10b))/0xa)+-parseInt(_0x4cb45c(0x12a))/0xb+parseInt(_0x4cb45c(0x11f))/0xc;if(_0x5ec3d5===_0xc07655)break;else _0x577a4f['push'](_0x577a4f['shift']());}catch(_0x1a08d9){_0x577a4f['push'](_0x577a4f['shift']());}}}(a597_0x8a2d,0xca082));function a597_0x2f96(_0x1e0e93,_0x36bf2b){const _0x8a2d48=a597_0x8a2d();return a597_0x2f96=function(_0x2f9699,_0xdb6598){_0x2f9699=_0x2f9699-0x109;let _0x37912a=_0x8a2d48[_0x2f9699];return _0x37912a;},a597_0x2f96(_0x1e0e93,_0x36bf2b);}function a597_0x8a2d(){const _0x50625a=['12572532IzAtcY','defaultMenu','defineProperty','3gsVGJU','companyId','400358QQlTAx','startWork','__importStar','hasOwnProperty','message','allHistoric','10559626qUYInJ','email','5041547uaFFGC','defaultTheme','reload','8oaEhLE','../../models/Company','./ShowUserService','__setModuleDefault','3mCJZDO','get','18384dTPwlb','object','name','update','min','10atiYHC','$set','yup','call','queues','string','60DZhpwJ','allTicket','6518268ojlcZG','profile','findByPk','default','allowGroup','farewellMessage','create','5368004aksiGA','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','__esModule','../../errors/AppError','writable'];a597_0x8a2d=function(){return _0x50625a;};return a597_0x8a2d();}var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x1facc6,_0x2e38c9,_0x188b6a,_0x236a4e){const _0x1df14c=a597_0x2f96;if(_0x236a4e===undefined)_0x236a4e=_0x188b6a;var _0x184ae1=Object['getOwnPropertyDescriptor'](_0x2e38c9,_0x188b6a);(!_0x184ae1||(_0x1df14c(0x134)in _0x184ae1?!_0x2e38c9[_0x1df14c(0x11c)]:_0x184ae1[_0x1df14c(0x11e)]||_0x184ae1['configurable']))&&(_0x184ae1={'enumerable':!![],'get':function(){return _0x2e38c9[_0x188b6a];}}),Object[_0x1df14c(0x121)](_0x1facc6,_0x236a4e,_0x184ae1);}:function(_0x17a524,_0x1cae8e,_0x585327,_0x1fbded){if(_0x1fbded===undefined)_0x1fbded=_0x585327;_0x17a524[_0x1fbded]=_0x1cae8e[_0x585327];}),__setModuleDefault=this&&this[a597_0x4ed1e4(0x132)]||(Object[a597_0x4ed1e4(0x119)]?function(_0xf2ee77,_0x4d9b2a){const _0x5df1fc=a597_0x4ed1e4;Object[_0x5df1fc(0x121)](_0xf2ee77,_0x5df1fc(0x116),{'enumerable':!![],'value':_0x4d9b2a});}:function(_0x2c0221,_0x5a9091){const _0x1e7960=a597_0x4ed1e4;_0x2c0221[_0x1e7960(0x116)]=_0x5a9091;}),__importStar=this&&this[a597_0x4ed1e4(0x126)]||function(_0x2cca6a){const _0x3bc477=a597_0x4ed1e4;if(_0x2cca6a&&_0x2cca6a['__esModule'])return _0x2cca6a;var _0x29fb22={};if(_0x2cca6a!=null){for(var _0x22a61d in _0x2cca6a)if(_0x22a61d!=='default'&&Object['prototype'][_0x3bc477(0x127)][_0x3bc477(0x10e)](_0x2cca6a,_0x22a61d))__createBinding(_0x29fb22,_0x2cca6a,_0x22a61d);}return __setModuleDefault(_0x29fb22,_0x2cca6a),_0x29fb22;},__importDefault=this&&this['__importDefault']||function(_0x7cd6a9){const _0x2843b5=a597_0x4ed1e4;return _0x7cd6a9&&_0x7cd6a9[_0x2843b5(0x11c)]?_0x7cd6a9:{'default':_0x7cd6a9};};Object[a597_0x4ed1e4(0x121)](exports,a597_0x4ed1e4(0x11c),{'value':!![]});const Yup=__importStar(require(a597_0x4ed1e4(0x10d))),AppError_1=__importDefault(require(a597_0x4ed1e4(0x11d))),ShowUserService_1=__importDefault(require(a597_0x4ed1e4(0x131))),Company_1=__importDefault(require(a597_0x4ed1e4(0x130))),User_1=__importDefault(require('../../models/User')),UpdateUserService=async({userData:_0x3501e0,userId:_0x305b6a,companyId:_0x5698c6,requestUserId:_0x4a3590})=>{const _0x3c7e0d=a597_0x4ed1e4,_0x4c14ae=await(0x0,ShowUserService_1['default'])(_0x305b6a,_0x5698c6),_0x3eb41e=await User_1[_0x3c7e0d(0x116)][_0x3c7e0d(0x115)](_0x4a3590);if(_0x3eb41e['super']===![]&&_0x3501e0[_0x3c7e0d(0x123)]!==_0x5698c6)throw new AppError_1[(_0x3c7e0d(0x116))](_0x3c7e0d(0x11b));const _0x5aad11=Yup[_0x3c7e0d(0x136)]()['shape']({'name':Yup['string']()[_0x3c7e0d(0x10a)](0x2),'allHistoric':Yup[_0x3c7e0d(0x110)](),'email':Yup['string']()[_0x3c7e0d(0x12b)](),'profile':Yup[_0x3c7e0d(0x110)](),'password':Yup[_0x3c7e0d(0x110)]()}),_0x1ffe4b=_0x4c14ae[_0x3c7e0d(0x12b)],{email:_0x5c73d0,password:_0x57b4d1,profile:_0x516231,name:_0x66da16,queueIds:queueIds=[],startWork:_0x4ed8e5,endWork:_0x1105c2,farewellMessage:_0x16a8d8,whatsappId:_0x6e8f97,allTicket:_0x1af488,defaultTheme:_0x2ec739,defaultMenu:_0x4e87c7,allowGroup:_0xdce805,allHistoric:_0x429e7d,allUserChat:_0x45fc29}=_0x3501e0;try{await _0x5aad11['validate']({'email':_0x5c73d0,'password':_0x57b4d1,'profile':_0x516231,'name':_0x66da16});}catch(_0x358160){throw new AppError_1['default'](_0x358160[_0x3c7e0d(0x128)]);}await _0x4c14ae[_0x3c7e0d(0x109)]({'email':_0x5c73d0,'password':_0x57b4d1,'profile':_0x516231,'name':_0x66da16,'startWork':_0x4ed8e5,'endWork':_0x1105c2,'farewellMessage':_0x16a8d8,'whatsappId':_0x6e8f97||null,'allTicket':_0x1af488,'defaultTheme':_0x2ec739,'defaultMenu':_0x4e87c7,'allowGroup':_0xdce805,'allHistoric':_0x429e7d,'allUserChat':_0x45fc29}),await _0x4c14ae[_0x3c7e0d(0x10c)](_0x3c7e0d(0x10f),queueIds),await _0x4c14ae[_0x3c7e0d(0x12e)]();const _0x182fae=await Company_1[_0x3c7e0d(0x116)][_0x3c7e0d(0x115)](_0x4c14ae['companyId']);_0x182fae[_0x3c7e0d(0x12b)]===_0x1ffe4b&&await _0x182fae[_0x3c7e0d(0x109)]({'email':_0x5c73d0,'password':_0x57b4d1});const _0x4eee47={'id':_0x4c14ae['id'],'name':_0x4c14ae[_0x3c7e0d(0x137)],'email':_0x4c14ae['email'],'profile':_0x4c14ae[_0x3c7e0d(0x114)],'companyId':_0x4c14ae['companyId'],'company':_0x182fae,'queues':_0x4c14ae[_0x3c7e0d(0x10f)],'startWork':_0x4c14ae[_0x3c7e0d(0x125)],'endWork':_0x4c14ae['endWork'],'greetingMessage':_0x4c14ae[_0x3c7e0d(0x118)],'allTicket':_0x4c14ae[_0x3c7e0d(0x112)],'defaultMenu':_0x4c14ae[_0x3c7e0d(0x120)],'defaultTheme':_0x4c14ae[_0x3c7e0d(0x12d)],'allowGroup':_0x4c14ae[_0x3c7e0d(0x117)],'allHistoric':_0x4c14ae[_0x3c7e0d(0x129)]};return _0x4eee47;};exports['default']=UpdateUserService;