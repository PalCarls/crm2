'use strict';const a551_0x40ce52=a551_0x3dd9;(function(_0x2a1fdd,_0x3206d8){const _0x13880c=a551_0x3dd9,_0x72aae5=_0x2a1fdd();while(!![]){try{const _0x563f87=-parseInt(_0x13880c(0x15d))/0x1+-parseInt(_0x13880c(0x157))/0x2+parseInt(_0x13880c(0x154))/0x3*(-parseInt(_0x13880c(0x156))/0x4)+-parseInt(_0x13880c(0x16b))/0x5*(parseInt(_0x13880c(0x151))/0x6)+-parseInt(_0x13880c(0x159))/0x7*(-parseInt(_0x13880c(0x167))/0x8)+parseInt(_0x13880c(0x155))/0x9*(-parseInt(_0x13880c(0x161))/0xa)+-parseInt(_0x13880c(0x16a))/0xb*(-parseInt(_0x13880c(0x16f))/0xc);if(_0x563f87===_0x3206d8)break;else _0x72aae5['push'](_0x72aae5['shift']());}catch(_0x159ce7){_0x72aae5['push'](_0x72aae5['shift']());}}}(a551_0x46cf,0xe9754));var __importDefault=this&&this['__importDefault']||function(_0x53a380){return _0x53a380&&_0x53a380['__esModule']?_0x53a380:{'default':_0x53a380};};function a551_0x3dd9(_0x185044,_0x12dd0e){const _0x46cf61=a551_0x46cf();return a551_0x3dd9=function(_0x3dd944,_0x2296ec){_0x3dd944=_0x3dd944-0x151;let _0xc9e848=_0x46cf61[_0x3dd944];return _0xc9e848;},a551_0x3dd9(_0x185044,_0x12dd0e);}Object[a551_0x40ce52(0x15a)](exports,a551_0x40ce52(0x15e),{'value':!![]});const User_1=__importDefault(require(a551_0x40ce52(0x16e))),AppError_1=__importDefault(require(a551_0x40ce52(0x162))),CreateTokens_1=require(a551_0x40ce52(0x15f)),SerializeUser_1=require('../../helpers/SerializeUser'),Company_1=__importDefault(require('../../models/Company')),CompaniesSettings_1=__importDefault(require('../../models/CompaniesSettings')),AuthUserService=async({email:_0x530b8f,password:_0x5b85e5})=>{const _0x993d72=a551_0x40ce52,_0x26269c=await User_1[_0x993d72(0x153)][_0x993d72(0x166)]({'where':{'email':_0x530b8f},'include':['queues',{'model':Company_1[_0x993d72(0x153)],'include':[{'model':CompaniesSettings_1[_0x993d72(0x153)]}]}]});if(!_0x26269c)throw new AppError_1['default'](_0x993d72(0x158),0x191);const _0x55daf7=new Date(),_0x2efc0a=_0x55daf7['getHours']()*0x3c*0x3c,_0x314cfe=_0x55daf7[_0x993d72(0x15b)]()*0x3c,_0x5810d7=_0x2efc0a+_0x314cfe,_0x14d434=_0x26269c['startWork'],_0x5dc336=Number(_0x14d434[_0x993d72(0x165)](':')[0x0])*0x3c*0x3c,_0x503fb0=Number(_0x14d434['split'](':')[0x1])*0x3c,_0x51f3d2=_0x5dc336+_0x503fb0,_0x366d01=_0x26269c[_0x993d72(0x169)],_0x56ed84=Number(_0x366d01[_0x993d72(0x165)](':')[0x0])*0x3c*0x3c,_0xe9fcd8=Number(_0x366d01[_0x993d72(0x165)](':')[0x1])*0x3c,_0x4ac450=_0x56ed84+_0xe9fcd8;if(_0x5810d7<_0x51f3d2||_0x5810d7>_0x4ac450)throw new AppError_1[(_0x993d72(0x153))](_0x993d72(0x152),0x191);if(_0x5b85e5===process[_0x993d72(0x160)]['MASTER_KEY']){}else{if(await _0x26269c[_0x993d72(0x168)](_0x5b85e5)){const _0x4dc2b1=await Company_1[_0x993d72(0x153)][_0x993d72(0x15c)](_0x26269c?.[_0x993d72(0x163)]);await _0x4dc2b1[_0x993d72(0x16d)]({'lastLogin':new Date()});}else throw new AppError_1[(_0x993d72(0x153))]('ERR_INVALID_CREDENTIALS',0x191);}const _0x385a1f=(0x0,CreateTokens_1['createAccessToken'])(_0x26269c),_0x193bf3=(0x0,CreateTokens_1[_0x993d72(0x164)])(_0x26269c),_0x5226d9=await(0x0,SerializeUser_1[_0x993d72(0x16c)])(_0x26269c);return{'serializedUser':_0x5226d9,'token':_0x385a1f,'refreshToken':_0x193bf3};};exports[a551_0x40ce52(0x153)]=AuthUserService;function a551_0x46cf(){const _0x26b1d6=['env','21320SIFFig','../../errors/AppError','companyId','createRefreshToken','split','findOne','31000Jokzla','checkPassword','endWork','6093637PNCzBt','1765EBWzoA','SerializeUser','update','../../models/User','132rjOpmg','29118WMULGs','ERR_OUT_OF_HOURS','default','5892SyodLf','2421sYrZIR','2736rOxryW','1782644qgzcXU','ERR_INVALID_CREDENTIALS','826vLvjCQ','defineProperty','getMinutes','findByPk','1073328aSbnxP','__esModule','../../helpers/CreateTokens'];a551_0x46cf=function(){return _0x26b1d6;};return a551_0x46cf();}