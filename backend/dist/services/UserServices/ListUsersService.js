'use strict';const a594_0x330e1f=a594_0x21d3;(function(_0x219359,_0x18f839){const _0x3a2287=a594_0x21d3,_0x326dea=_0x219359();while(!![]){try{const _0x33743c=parseInt(_0x3a2287(0x101))/0x1*(parseInt(_0x3a2287(0xe7))/0x2)+parseInt(_0x3a2287(0xe8))/0x3+parseInt(_0x3a2287(0x10b))/0x4+parseInt(_0x3a2287(0xf1))/0x5+-parseInt(_0x3a2287(0x100))/0x6*(parseInt(_0x3a2287(0x10f))/0x7)+parseInt(_0x3a2287(0x10e))/0x8*(parseInt(_0x3a2287(0x104))/0x9)+parseInt(_0x3a2287(0x108))/0xa*(-parseInt(_0x3a2287(0xef))/0xb);if(_0x33743c===_0x18f839)break;else _0x326dea['push'](_0x326dea['shift']());}catch(_0x22dfa0){_0x326dea['push'](_0x326dea['shift']());}}}(a594_0x2db8,0x8d04a));var __importDefault=this&&this[a594_0x330e1f(0xfe)]||function(_0x163514){const _0x31a7dc=a594_0x330e1f;return _0x163514&&_0x163514[_0x31a7dc(0xff)]?_0x163514:{'default':_0x163514};};function a594_0x21d3(_0x29e4fb,_0x3834b8){const _0x2db88a=a594_0x2db8();return a594_0x21d3=function(_0x21d380,_0x239d67){_0x21d380=_0x21d380-0xe7;let _0x29df33=_0x2db88a[_0x21d380];return _0x29df33;},a594_0x21d3(_0x29e4fb,_0x3834b8);}function a594_0x2db8(){const _0xf5281e=['1910571zSoGry','useExternalApi','../../models/Ticket','color','queues','name','useCampaigns','319beJFCh','../../models/Company','2951615MxZtet','default','useWhatsapp','document','company','dueDate','LIKE','../../models/Queue','length','where','defineProperty','tickets','LOWER','__importDefault','__esModule','1818330wLxQUH','22wgTKop','useInstagram','User.name','774GXkxUz','Sequelize','DESC','createdAt','213970TvatFy','useSchedules','amount','2014676npQRnG','toLowerCase','../../models/Plan','6456trLFrB','14QPGHLY','362xTWERy'];a594_0x2db8=function(){return _0xf5281e;};return a594_0x2db8();}Object[a594_0x330e1f(0xfb)](exports,a594_0x330e1f(0xff),{'value':!![]});const sequelize_1=require('sequelize'),Queue_1=__importDefault(require(a594_0x330e1f(0xf8))),Company_1=__importDefault(require(a594_0x330e1f(0xf0))),User_1=__importDefault(require('../../models/User')),Plan_1=__importDefault(require(a594_0x330e1f(0x10d))),Ticket_1=__importDefault(require(a594_0x330e1f(0xea))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x427bb1})=>{const _0x5cd811=a594_0x330e1f,_0x17f8d3={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x5cd811(0x105)][_0x5cd811(0xfa)](sequelize_1['Sequelize']['fn'](_0x5cd811(0xfd),sequelize_1[_0x5cd811(0x105)]['col'](_0x5cd811(0x103))),_0x5cd811(0xf7),'%'+searchParam['toLowerCase']()+'%')},{'email':{[sequelize_1['Op']['like']]:'%'+searchParam[_0x5cd811(0x10c)]()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x427bb1}},_0x5273bd=0x14,_0x12453c=_0x5273bd*(+pageNumber-0x1),{count:_0x19c7e7,rows:_0x1a8791}=await User_1[_0x5cd811(0xf2)]['findAndCountAll']({'where':_0x17f8d3,'limit':_0x5273bd,'offset':_0x12453c,'order':[[_0x5cd811(0x107),_0x5cd811(0x106)]],'include':[{'model':Queue_1[_0x5cd811(0xf2)],'as':_0x5cd811(0xec),'attributes':['id',_0x5cd811(0xed),_0x5cd811(0xeb)]},{'model':Company_1[_0x5cd811(0xf2)],'as':_0x5cd811(0xf5),'attributes':['id','name',_0x5cd811(0xf6),_0x5cd811(0xf4)],'include':[{'model':Plan_1[_0x5cd811(0xf2)],'as':'plan','attributes':['id',_0x5cd811(0xed),_0x5cd811(0x10a),_0x5cd811(0xf3),'useFacebook',_0x5cd811(0x102),_0x5cd811(0xee),_0x5cd811(0x109),'useInternalChat',_0x5cd811(0xe9)]}]},{'model':Ticket_1['default'],'as':_0x5cd811(0xfc)}]}),_0x5381dd=_0x19c7e7>_0x12453c+_0x1a8791[_0x5cd811(0xf9)];return{'users':_0x1a8791,'count':_0x19c7e7,'hasMore':_0x5381dd};};exports[a594_0x330e1f(0xf2)]=ListUsersService;