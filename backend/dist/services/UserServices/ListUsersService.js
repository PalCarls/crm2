'use strict';const a606_0x495e8d=a606_0xdc0f;(function(_0x50e140,_0x25af59){const _0x3fff2a=a606_0xdc0f,_0x21e50c=_0x50e140();while(!![]){try{const _0x1273c0=parseInt(_0x3fff2a(0x1cb))/0x1*(parseInt(_0x3fff2a(0x1b9))/0x2)+parseInt(_0x3fff2a(0x1b0))/0x3*(-parseInt(_0x3fff2a(0x1c7))/0x4)+-parseInt(_0x3fff2a(0x1ce))/0x5*(-parseInt(_0x3fff2a(0x1bd))/0x6)+-parseInt(_0x3fff2a(0x1c9))/0x7+parseInt(_0x3fff2a(0x1ba))/0x8*(-parseInt(_0x3fff2a(0x1bb))/0x9)+-parseInt(_0x3fff2a(0x1d0))/0xa+parseInt(_0x3fff2a(0x1c0))/0xb*(parseInt(_0x3fff2a(0x1cd))/0xc);if(_0x1273c0===_0x25af59)break;else _0x21e50c['push'](_0x21e50c['shift']());}catch(_0x1125d5){_0x21e50c['push'](_0x21e50c['shift']());}}}(a606_0x496e,0x52af4));function a606_0x496e(){const _0x272dff=['name','createdAt','useSchedules','where','2ZDjdIb','685576bKYYGk','9KxtePl','DESC','21054POCZTd','findAndCountAll','color','141614brBAgn','__esModule','queues','length','useWhatsapp','dueDate','useExternalApi','116CdLdkX','like','2978787aaLevB','plan','67695fcgXNo','useInternalChat','1212pZQWBv','355BRlQYH','../../models/Plan','1418090zUnzrS','LOWER','col','company','Sequelize','../../models/User','__importDefault','default','defineProperty','document','64695SrJUNa','useCampaigns','User.name','../../models/Company','toLowerCase'];a606_0x496e=function(){return _0x272dff;};return a606_0x496e();}function a606_0xdc0f(_0x2c8cd7,_0x2b3caf){const _0x496eb6=a606_0x496e();return a606_0xdc0f=function(_0xdc0f93,_0x17d32c){_0xdc0f93=_0xdc0f93-0x1b0;let _0x715d5e=_0x496eb6[_0xdc0f93];return _0x715d5e;},a606_0xdc0f(_0x2c8cd7,_0x2b3caf);}var __importDefault=this&&this[a606_0x495e8d(0x1d6)]||function(_0x1743b2){const _0x4c497a=a606_0x495e8d;return _0x1743b2&&_0x1743b2[_0x4c497a(0x1c1)]?_0x1743b2:{'default':_0x1743b2};};Object[a606_0x495e8d(0x1d8)](exports,a606_0x495e8d(0x1c1),{'value':!![]});const sequelize_1=require('sequelize'),Queue_1=__importDefault(require('../../models/Queue')),Company_1=__importDefault(require(a606_0x495e8d(0x1b3))),User_1=__importDefault(require(a606_0x495e8d(0x1d5))),Plan_1=__importDefault(require(a606_0x495e8d(0x1cf))),Ticket_1=__importDefault(require('../../models/Ticket')),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x17ad5d})=>{const _0x2dab5c=a606_0x495e8d,_0x260785={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x2dab5c(0x1d4)][_0x2dab5c(0x1b8)](sequelize_1['Sequelize']['fn'](_0x2dab5c(0x1d1),sequelize_1[_0x2dab5c(0x1d4)][_0x2dab5c(0x1d2)](_0x2dab5c(0x1b2))),'LIKE','%'+searchParam[_0x2dab5c(0x1b4)]()+'%')},{'email':{[sequelize_1['Op'][_0x2dab5c(0x1c8)]]:'%'+searchParam['toLowerCase']()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x17ad5d}},_0x47d980=0x14,_0x2f9ec1=_0x47d980*(+pageNumber-0x1),{count:_0x34c1d9,rows:_0x2b4ad3}=await User_1['default'][_0x2dab5c(0x1be)]({'where':_0x260785,'limit':_0x47d980,'offset':_0x2f9ec1,'order':[[_0x2dab5c(0x1b6),_0x2dab5c(0x1bc)]],'include':[{'model':Queue_1['default'],'as':_0x2dab5c(0x1c2),'attributes':['id',_0x2dab5c(0x1b5),_0x2dab5c(0x1bf)]},{'model':Company_1['default'],'as':_0x2dab5c(0x1d3),'attributes':['id',_0x2dab5c(0x1b5),_0x2dab5c(0x1c5),_0x2dab5c(0x1d9)],'include':[{'model':Plan_1[_0x2dab5c(0x1d7)],'as':_0x2dab5c(0x1ca),'attributes':['id','name','amount',_0x2dab5c(0x1c4),'useFacebook','useInstagram',_0x2dab5c(0x1b1),_0x2dab5c(0x1b7),_0x2dab5c(0x1cc),_0x2dab5c(0x1c6)]}]},{'model':Ticket_1[_0x2dab5c(0x1d7)],'as':'tickets'}]}),_0x3fca58=_0x34c1d9>_0x2f9ec1+_0x2b4ad3[_0x2dab5c(0x1c3)];return{'users':_0x2b4ad3,'count':_0x34c1d9,'hasMore':_0x3fca58};};exports[a606_0x495e8d(0x1d7)]=ListUsersService;