'use strict';const a594_0x30380a=a594_0x2ead;function a594_0xb827(){const _0x5d2e02=['col','Sequelize','color','../../models/Queue','where','17823KltaNY','document','useInternalChat','../../models/User','704172AFKAkp','tickets','../../models/Plan','default','__importDefault','dueDate','amount','7633952oTChkM','useCampaigns','name','useSchedules','LIKE','like','6481665pKzsvr','toLowerCase','6EdUirn','useFacebook','../../models/Company','1089848USAzmX','13020Kxxvhu','User.name','__esModule','DESC','6681374gJCydW','5157SewkJL','652WNRgZn','../../models/Ticket','plan','sequelize'];a594_0xb827=function(){return _0x5d2e02;};return a594_0xb827();}(function(_0xeb6a59,_0x46241b){const _0x5431d3=a594_0x2ead,_0x39604f=_0xeb6a59();while(!![]){try{const _0x306a43=parseInt(_0x5431d3(0xb8))/0x1+parseInt(_0x5431d3(0xca))/0x2+-parseInt(_0x5431d3(0xb4))/0x3*(-parseInt(_0x5431d3(0xd1))/0x4)+-parseInt(_0x5431d3(0xc5))/0x5*(-parseInt(_0x5431d3(0xc7))/0x6)+-parseInt(_0x5431d3(0xcf))/0x7+-parseInt(_0x5431d3(0xbf))/0x8+parseInt(_0x5431d3(0xd0))/0x9*(-parseInt(_0x5431d3(0xcb))/0xa);if(_0x306a43===_0x46241b)break;else _0x39604f['push'](_0x39604f['shift']());}catch(_0x1c86ff){_0x39604f['push'](_0x39604f['shift']());}}}(a594_0xb827,0xd1ba0));function a594_0x2ead(_0x125c74,_0x10e6a1){const _0xb82799=a594_0xb827();return a594_0x2ead=function(_0x2eadf4,_0x11f071){_0x2eadf4=_0x2eadf4-0xb4;let _0x364b55=_0xb82799[_0x2eadf4];return _0x364b55;},a594_0x2ead(_0x125c74,_0x10e6a1);}var __importDefault=this&&this[a594_0x30380a(0xbc)]||function(_0x4f1cbe){const _0x40352a=a594_0x30380a;return _0x4f1cbe&&_0x4f1cbe[_0x40352a(0xcd)]?_0x4f1cbe:{'default':_0x4f1cbe};};Object['defineProperty'](exports,a594_0x30380a(0xcd),{'value':!![]});const sequelize_1=require(a594_0x30380a(0xd4)),Queue_1=__importDefault(require(a594_0x30380a(0xd8))),Company_1=__importDefault(require(a594_0x30380a(0xc9))),User_1=__importDefault(require(a594_0x30380a(0xb7))),Plan_1=__importDefault(require(a594_0x30380a(0xba))),Ticket_1=__importDefault(require(a594_0x30380a(0xd2))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x129089})=>{const _0xe18448=a594_0x30380a,_0x5181ec={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0xe18448(0xd6)][_0xe18448(0xd9)](sequelize_1[_0xe18448(0xd6)]['fn']('LOWER',sequelize_1[_0xe18448(0xd6)][_0xe18448(0xd5)](_0xe18448(0xcc))),_0xe18448(0xc3),'%'+searchParam[_0xe18448(0xc6)]()+'%')},{'email':{[sequelize_1['Op'][_0xe18448(0xc4)]]:'%'+searchParam[_0xe18448(0xc6)]()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x129089}},_0x434120=0x14,_0x50edbb=_0x434120*(+pageNumber-0x1),{count:_0x277f80,rows:_0x1287c1}=await User_1[_0xe18448(0xbb)]['findAndCountAll']({'where':_0x5181ec,'limit':_0x434120,'offset':_0x50edbb,'order':[['createdAt',_0xe18448(0xce)]],'include':[{'model':Queue_1[_0xe18448(0xbb)],'as':'queues','attributes':['id',_0xe18448(0xc1),_0xe18448(0xd7)]},{'model':Company_1[_0xe18448(0xbb)],'as':'company','attributes':['id',_0xe18448(0xc1),_0xe18448(0xbd),_0xe18448(0xb5)],'include':[{'model':Plan_1['default'],'as':_0xe18448(0xd3),'attributes':['id',_0xe18448(0xc1),_0xe18448(0xbe),'useWhatsapp',_0xe18448(0xc8),'useInstagram',_0xe18448(0xc0),_0xe18448(0xc2),_0xe18448(0xb6),'useExternalApi']}]},{'model':Ticket_1[_0xe18448(0xbb)],'as':_0xe18448(0xb9)}]}),_0x270cee=_0x277f80>_0x50edbb+_0x1287c1['length'];return{'users':_0x1287c1,'count':_0x277f80,'hasMore':_0x270cee};};exports['default']=ListUsersService;