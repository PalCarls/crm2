'use strict';const a548_0x596c74=a548_0x4210;function a548_0x2b74(){const _0x33a942=['useSchedules','Sequelize','__importDefault','amount','queues','color','../../models/Plan','col','createdAt','520HawxyK','useFacebook','../../models/Ticket','318660ukFmSj','name','7OrsHQe','like','useInstagram','plan','6333912ngJCHW','../../models/User','7554npvTat','toLowerCase','835720TeiiWv','__esModule','useInternalChat','LOWER','DESC','company','useWhatsapp','14638194MfjjDH','length','User.name','defineProperty','../../models/Queue','7495736zEFWHO','useCampaigns','useExternalApi','773522Ldsshp','dueDate','default','../../models/Company'];a548_0x2b74=function(){return _0x33a942;};return a548_0x2b74();}(function(_0x17a9be,_0x14eb5a){const _0x27dc51=a548_0x4210,_0x909f4b=_0x17a9be();while(!![]){try{const _0x26e186=-parseInt(_0x27dc51(0x11c))/0x1+-parseInt(_0x27dc51(0x12c))/0x2+-parseInt(_0x27dc51(0x10b))/0x3*(-parseInt(_0x27dc51(0x129))/0x4)+-parseInt(_0x27dc51(0x10d))/0x5+-parseInt(_0x27dc51(0x132))/0x6+-parseInt(_0x27dc51(0x12e))/0x7*(-parseInt(_0x27dc51(0x119))/0x8)+parseInt(_0x27dc51(0x114))/0x9;if(_0x26e186===_0x14eb5a)break;else _0x909f4b['push'](_0x909f4b['shift']());}catch(_0x12eb90){_0x909f4b['push'](_0x909f4b['shift']());}}}(a548_0x2b74,0xb3795));var __importDefault=this&&this[a548_0x596c74(0x122)]||function(_0x4141bb){const _0x4f518a=a548_0x596c74;return _0x4141bb&&_0x4141bb[_0x4f518a(0x10e)]?_0x4141bb:{'default':_0x4141bb};};Object[a548_0x596c74(0x117)](exports,'__esModule',{'value':!![]});function a548_0x4210(_0x55dd22,_0x1ad9c6){const _0x2b74bc=a548_0x2b74();return a548_0x4210=function(_0x42104d,_0x559600){_0x42104d=_0x42104d-0x10a;let _0x2e05ba=_0x2b74bc[_0x42104d];return _0x2e05ba;},a548_0x4210(_0x55dd22,_0x1ad9c6);}const sequelize_1=require('sequelize'),Queue_1=__importDefault(require(a548_0x596c74(0x118))),Company_1=__importDefault(require(a548_0x596c74(0x11f))),User_1=__importDefault(require(a548_0x596c74(0x10a))),Plan_1=__importDefault(require(a548_0x596c74(0x126))),Ticket_1=__importDefault(require(a548_0x596c74(0x12b))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x272351})=>{const _0x75566e=a548_0x596c74,_0x3e93c9={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x75566e(0x121)]['where'](sequelize_1['Sequelize']['fn'](_0x75566e(0x110),sequelize_1['Sequelize'][_0x75566e(0x127)](_0x75566e(0x116))),'LIKE','%'+searchParam[_0x75566e(0x10c)]()+'%')},{'email':{[sequelize_1['Op'][_0x75566e(0x12f)]]:'%'+searchParam[_0x75566e(0x10c)]()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x272351}},_0x5ef7f5=0x14,_0x2061f7=_0x5ef7f5*(+pageNumber-0x1),{count:_0x2d5719,rows:_0x5f0b3c}=await User_1[_0x75566e(0x11e)]['findAndCountAll']({'where':_0x3e93c9,'limit':_0x5ef7f5,'offset':_0x2061f7,'order':[[_0x75566e(0x128),_0x75566e(0x111)]],'include':[{'model':Queue_1[_0x75566e(0x11e)],'as':_0x75566e(0x124),'attributes':['id',_0x75566e(0x12d),_0x75566e(0x125)]},{'model':Company_1[_0x75566e(0x11e)],'as':_0x75566e(0x112),'attributes':['id',_0x75566e(0x12d),_0x75566e(0x11d),'document'],'include':[{'model':Plan_1[_0x75566e(0x11e)],'as':_0x75566e(0x131),'attributes':['id',_0x75566e(0x12d),_0x75566e(0x123),_0x75566e(0x113),_0x75566e(0x12a),_0x75566e(0x130),_0x75566e(0x11a),_0x75566e(0x120),_0x75566e(0x10f),_0x75566e(0x11b)]}]},{'model':Ticket_1[_0x75566e(0x11e)],'as':'tickets'}]}),_0x5aad00=_0x2d5719>_0x2061f7+_0x5f0b3c[_0x75566e(0x115)];return{'users':_0x5f0b3c,'count':_0x2d5719,'hasMore':_0x5aad00};};exports['default']=ListUsersService;