'use strict';const a512_0x51cf96=a512_0x386c;function a512_0x386c(_0x49b65f,_0x176cd7){const _0x4e4bf7=a512_0x4e4b();return a512_0x386c=function(_0x386cb1,_0x16b222){_0x386cb1=_0x386cb1-0x8a;let _0x186735=_0x4e4bf7[_0x386cb1];return _0x186735;},a512_0x386c(_0x49b65f,_0x176cd7);}function a512_0x4e4b(){const _0xfdff25=['Sequelize','plan','27gcVyVD','tickets','col','User.name','findAndCountAll','8808EgrIvZ','LIKE','../../models/Queue','7qBGraa','274600HCRnfh','useExternalApi','8062JJaBnN','company','default','47409WVlkpU','dueDate','defineProperty','../../models/User','where','__importDefault','document','sequelize','useInstagram','__esModule','1554276uFXJON','307040XYaxCv','useCampaigns','createdAt','16OytQuT','../../models/Company','2342892CJhHHc','amount','name','55nGCgNh','11kaXqvW','like','useInternalChat','useWhatsapp'];a512_0x4e4b=function(){return _0xfdff25;};return a512_0x4e4b();}(function(_0x34255c,_0x3993d3){const _0x1d1ad0=a512_0x386c,_0x59e542=_0x34255c();while(!![]){try{const _0x5ee3b6=-parseInt(_0x1d1ad0(0x8e))/0x1*(-parseInt(_0x1d1ad0(0x9f))/0x2)+-parseInt(_0x1d1ad0(0xa2))/0x3*(-parseInt(_0x1d1ad0(0xb0))/0x4)+-parseInt(_0x1d1ad0(0x9d))/0x5+parseInt(_0x1d1ad0(0xac))/0x6*(-parseInt(_0x1d1ad0(0x9c))/0x7)+parseInt(_0x1d1ad0(0x99))/0x8*(-parseInt(_0x1d1ad0(0x94))/0x9)+parseInt(_0x1d1ad0(0xad))/0xa*(parseInt(_0x1d1ad0(0x8d))/0xb)+parseInt(_0x1d1ad0(0x8a))/0xc;if(_0x5ee3b6===_0x3993d3)break;else _0x59e542['push'](_0x59e542['shift']());}catch(_0x25105a){_0x59e542['push'](_0x59e542['shift']());}}}(a512_0x4e4b,0x21f25));var __importDefault=this&&this[a512_0x51cf96(0xa7)]||function(_0x5cd26e){const _0x50efa0=a512_0x51cf96;return _0x5cd26e&&_0x5cd26e[_0x50efa0(0xab)]?_0x5cd26e:{'default':_0x5cd26e};};Object[a512_0x51cf96(0xa4)](exports,a512_0x51cf96(0xab),{'value':!![]});const sequelize_1=require(a512_0x51cf96(0xa9)),Queue_1=__importDefault(require(a512_0x51cf96(0x9b))),Company_1=__importDefault(require(a512_0x51cf96(0xb1))),User_1=__importDefault(require(a512_0x51cf96(0xa5))),Plan_1=__importDefault(require('../../models/Plan')),Ticket_1=__importDefault(require('../../models/Ticket')),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x2a6774})=>{const _0x16aae4=a512_0x51cf96,_0x3adb7a={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x16aae4(0x92)][_0x16aae4(0xa6)](sequelize_1[_0x16aae4(0x92)]['fn']('LOWER',sequelize_1[_0x16aae4(0x92)][_0x16aae4(0x96)](_0x16aae4(0x97))),_0x16aae4(0x9a),'%'+searchParam['toLowerCase']()+'%')},{'email':{[sequelize_1['Op'][_0x16aae4(0x8f)]]:'%'+searchParam['toLowerCase']()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x2a6774}},_0x2aee8a=0x14,_0xb50d78=_0x2aee8a*(+pageNumber-0x1),{count:_0x103193,rows:_0x5e6ca1}=await User_1[_0x16aae4(0xa1)][_0x16aae4(0x98)]({'where':_0x3adb7a,'limit':_0x2aee8a,'offset':_0xb50d78,'order':[[_0x16aae4(0xaf),'DESC']],'include':[{'model':Queue_1[_0x16aae4(0xa1)],'as':'queues','attributes':['id','name','color']},{'model':Company_1[_0x16aae4(0xa1)],'as':_0x16aae4(0xa0),'attributes':['id',_0x16aae4(0x8c),_0x16aae4(0xa3),_0x16aae4(0xa8)],'include':[{'model':Plan_1[_0x16aae4(0xa1)],'as':_0x16aae4(0x93),'attributes':['id',_0x16aae4(0x8c),_0x16aae4(0x8b),_0x16aae4(0x91),'useFacebook',_0x16aae4(0xaa),_0x16aae4(0xae),'useSchedules',_0x16aae4(0x90),_0x16aae4(0x9e)]}]},{'model':Ticket_1[_0x16aae4(0xa1)],'as':_0x16aae4(0x95)}]}),_0x23905d=_0x103193>_0xb50d78+_0x5e6ca1['length'];return{'users':_0x5e6ca1,'count':_0x103193,'hasMore':_0x23905d};};exports[a512_0x51cf96(0xa1)]=ListUsersService;