'use strict';const a554_0xf1f3d0=a554_0x7c8f;(function(_0x54b466,_0x36adf9){const _0xe4b354=a554_0x7c8f,_0x1b9b58=_0x54b466();while(!![]){try{const _0x30f2a9=parseInt(_0xe4b354(0xee))/0x1+-parseInt(_0xe4b354(0x108))/0x2*(-parseInt(_0xe4b354(0xeb))/0x3)+parseInt(_0xe4b354(0x10c))/0x4+parseInt(_0xe4b354(0xec))/0x5*(parseInt(_0xe4b354(0x110))/0x6)+parseInt(_0xe4b354(0xf5))/0x7*(parseInt(_0xe4b354(0x10a))/0x8)+parseInt(_0xe4b354(0xe7))/0x9+parseInt(_0xe4b354(0x109))/0xa*(-parseInt(_0xe4b354(0xf8))/0xb);if(_0x30f2a9===_0x36adf9)break;else _0x1b9b58['push'](_0x1b9b58['shift']());}catch(_0x3d3ebf){_0x1b9b58['push'](_0x1b9b58['shift']());}}}(a554_0x2b7c,0x6840b));var __importDefault=this&&this[a554_0xf1f3d0(0xfd)]||function(_0x448bef){return _0x448bef&&_0x448bef['__esModule']?_0x448bef:{'default':_0x448bef};};function a554_0x2b7c(){const _0x182bf4=['Sequelize','../../models/Ticket','createdAt','document','LIKE','dueDate','16okDJFy','52870kTUZHd','5095520XIwuUo','length','120156MVukJD','../../models/Company','queues','col','317382cARZhV','useWhatsapp','name','5263767PaIFYh','__esModule','LOWER','useSchedules','155724dhPZdO','65IfzuMx','useInstagram','673456IPcbTS','useCampaigns','defineProperty','tickets','sequelize','where','../../models/Queue','7bquAaK','toLowerCase','plan','5412BwvSEP','company','amount','useExternalApi','../../models/User','__importDefault','useFacebook','DESC','like','default'];a554_0x2b7c=function(){return _0x182bf4;};return a554_0x2b7c();}Object[a554_0xf1f3d0(0xf0)](exports,a554_0xf1f3d0(0xe8),{'value':!![]});function a554_0x7c8f(_0x294a2a,_0x156ee2){const _0x2b7cea=a554_0x2b7c();return a554_0x7c8f=function(_0x7c8f72,_0x4d3500){_0x7c8f72=_0x7c8f72-0xe6;let _0x432a6a=_0x2b7cea[_0x7c8f72];return _0x432a6a;},a554_0x7c8f(_0x294a2a,_0x156ee2);}const sequelize_1=require(a554_0xf1f3d0(0xf2)),Queue_1=__importDefault(require(a554_0xf1f3d0(0xf4))),Company_1=__importDefault(require(a554_0xf1f3d0(0x10d))),User_1=__importDefault(require(a554_0xf1f3d0(0xfc))),Plan_1=__importDefault(require('../../models/Plan')),Ticket_1=__importDefault(require(a554_0xf1f3d0(0x103))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x5676fb})=>{const _0x4cc115=a554_0xf1f3d0,_0x44782f={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1['Sequelize'][_0x4cc115(0xf3)](sequelize_1[_0x4cc115(0x102)]['fn'](_0x4cc115(0xe9),sequelize_1[_0x4cc115(0x102)][_0x4cc115(0x10f)]('User.name')),_0x4cc115(0x106),'%'+searchParam[_0x4cc115(0xf6)]()+'%')},{'email':{[sequelize_1['Op'][_0x4cc115(0x100)]]:'%'+searchParam[_0x4cc115(0xf6)]()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x5676fb}},_0x5dcce0=0x14,_0x366ef6=_0x5dcce0*(+pageNumber-0x1),{count:_0x22b831,rows:_0x5c71fc}=await User_1['default']['findAndCountAll']({'where':_0x44782f,'limit':_0x5dcce0,'offset':_0x366ef6,'order':[[_0x4cc115(0x104),_0x4cc115(0xff)]],'include':[{'model':Queue_1[_0x4cc115(0x101)],'as':_0x4cc115(0x10e),'attributes':['id',_0x4cc115(0xe6),'color']},{'model':Company_1[_0x4cc115(0x101)],'as':_0x4cc115(0xf9),'attributes':['id','name',_0x4cc115(0x107),_0x4cc115(0x105)],'include':[{'model':Plan_1[_0x4cc115(0x101)],'as':_0x4cc115(0xf7),'attributes':['id',_0x4cc115(0xe6),_0x4cc115(0xfa),_0x4cc115(0x111),_0x4cc115(0xfe),_0x4cc115(0xed),_0x4cc115(0xef),_0x4cc115(0xea),'useInternalChat',_0x4cc115(0xfb)]}]},{'model':Ticket_1[_0x4cc115(0x101)],'as':_0x4cc115(0xf1)}]}),_0x1cf1ad=_0x22b831>_0x366ef6+_0x5c71fc[_0x4cc115(0x10b)];return{'users':_0x5c71fc,'count':_0x22b831,'hasMore':_0x1cf1ad};};exports[a554_0xf1f3d0(0x101)]=ListUsersService;