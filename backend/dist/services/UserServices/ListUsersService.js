'use strict';const a495_0x2c7a76=a495_0x4caf;(function(_0xaea5af,_0x1f0be4){const _0x2ac2c8=a495_0x4caf,_0x1eaf16=_0xaea5af();while(!![]){try{const _0x12c996=-parseInt(_0x2ac2c8(0xff))/0x1*(-parseInt(_0x2ac2c8(0x108))/0x2)+-parseInt(_0x2ac2c8(0x11d))/0x3*(-parseInt(_0x2ac2c8(0x106))/0x4)+-parseInt(_0x2ac2c8(0xf8))/0x5*(parseInt(_0x2ac2c8(0x116))/0x6)+-parseInt(_0x2ac2c8(0x114))/0x7*(-parseInt(_0x2ac2c8(0x10c))/0x8)+-parseInt(_0x2ac2c8(0x105))/0x9*(-parseInt(_0x2ac2c8(0x118))/0xa)+parseInt(_0x2ac2c8(0x101))/0xb*(parseInt(_0x2ac2c8(0x103))/0xc)+parseInt(_0x2ac2c8(0xf7))/0xd*(-parseInt(_0x2ac2c8(0xfb))/0xe);if(_0x12c996===_0x1f0be4)break;else _0x1eaf16['push'](_0x1eaf16['shift']());}catch(_0x589eaa){_0x1eaf16['push'](_0x1eaf16['shift']());}}}(a495_0x4a6e,0x812f6));function a495_0x4caf(_0x13ce6c,_0x43fe54){const _0x4a6e26=a495_0x4a6e();return a495_0x4caf=function(_0x4cafe3,_0x16450d){_0x4cafe3=_0x4cafe3-0xf7;let _0x44d3ab=_0x4a6e26[_0x4cafe3];return _0x44d3ab;},a495_0x4caf(_0x13ce6c,_0x43fe54);}var __importDefault=this&&this[a495_0x2c7a76(0xfe)]||function(_0x195fdd){const _0x50dff5=a495_0x2c7a76;return _0x195fdd&&_0x195fdd[_0x50dff5(0x10d)]?_0x195fdd:{'default':_0x195fdd};};function a495_0x4a6e(){const _0x2df3fc=['document','Sequelize','useInternalChat','sequelize','1119377NNAqdM','col','102NaJRDB','tickets','10daPQgs','queues','name','amount','like','3TwPNAn','createdAt','../../models/Ticket','useSchedules','where','User.name','DESC','26234sBsmvh','208410LRMSXd','findAndCountAll','../../models/Company','4690ipiOtO','LIKE','../../models/User','__importDefault','30551pDoNjh','useInstagram','6448772ayagZw','useExternalApi','12EHzJVm','plan','3398175NdLYta','349420mFbCzZ','../../models/Plan','46qUcHHG','useWhatsapp','LOWER','toLowerCase','8FpsTbN','__esModule','default','useCampaigns'];a495_0x4a6e=function(){return _0x2df3fc;};return a495_0x4a6e();}Object['defineProperty'](exports,a495_0x2c7a76(0x10d),{'value':!![]});const sequelize_1=require(a495_0x2c7a76(0x113)),Queue_1=__importDefault(require('../../models/Queue')),Company_1=__importDefault(require(a495_0x2c7a76(0xfa))),User_1=__importDefault(require(a495_0x2c7a76(0xfd))),Plan_1=__importDefault(require(a495_0x2c7a76(0x107))),Ticket_1=__importDefault(require(a495_0x2c7a76(0x11f))),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x34c43b})=>{const _0x8fdff1=a495_0x2c7a76,_0x2f6951={[sequelize_1['Op']['or']]:[{'$User.name$':sequelize_1[_0x8fdff1(0x111)][_0x8fdff1(0x121)](sequelize_1[_0x8fdff1(0x111)]['fn'](_0x8fdff1(0x10a),sequelize_1['Sequelize'][_0x8fdff1(0x115)](_0x8fdff1(0x122))),_0x8fdff1(0xfc),'%'+searchParam[_0x8fdff1(0x10b)]()+'%')},{'email':{[sequelize_1['Op'][_0x8fdff1(0x11c)]]:'%'+searchParam[_0x8fdff1(0x10b)]()+'%'}}],'companyId':{[sequelize_1['Op']['eq']]:_0x34c43b}},_0x32b525=0x14,_0x1975e6=_0x32b525*(+pageNumber-0x1),{count:_0x113ed9,rows:_0x4ad984}=await User_1[_0x8fdff1(0x10e)][_0x8fdff1(0xf9)]({'where':_0x2f6951,'limit':_0x32b525,'offset':_0x1975e6,'order':[[_0x8fdff1(0x11e),_0x8fdff1(0x123)]],'include':[{'model':Queue_1[_0x8fdff1(0x10e)],'as':_0x8fdff1(0x119),'attributes':['id',_0x8fdff1(0x11a),'color']},{'model':Company_1[_0x8fdff1(0x10e)],'as':'company','attributes':['id',_0x8fdff1(0x11a),'dueDate',_0x8fdff1(0x110)],'include':[{'model':Plan_1[_0x8fdff1(0x10e)],'as':_0x8fdff1(0x104),'attributes':['id',_0x8fdff1(0x11a),_0x8fdff1(0x11b),_0x8fdff1(0x109),'useFacebook',_0x8fdff1(0x100),_0x8fdff1(0x10f),_0x8fdff1(0x120),_0x8fdff1(0x112),_0x8fdff1(0x102)]}]},{'model':Ticket_1[_0x8fdff1(0x10e)],'as':_0x8fdff1(0x117)}]}),_0x3abb03=_0x113ed9>_0x1975e6+_0x4ad984['length'];return{'users':_0x4ad984,'count':_0x113ed9,'hasMore':_0x3abb03};};exports['default']=ListUsersService;