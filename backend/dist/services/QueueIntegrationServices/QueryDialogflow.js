'use strict';const a435_0x59db33=a435_0x2455;(function(_0x55e197,_0xf79276){const _0x249438=a435_0x2455,_0x1241c0=_0x55e197();while(!![]){try{const _0x552d1e=parseInt(_0x249438(0xc0))/0x1*(parseInt(_0x249438(0xbd))/0x2)+parseInt(_0x249438(0xce))/0x3*(parseInt(_0x249438(0xc6))/0x4)+-parseInt(_0x249438(0xbc))/0x5*(-parseInt(_0x249438(0xc7))/0x6)+parseInt(_0x249438(0xcf))/0x7*(-parseInt(_0x249438(0xc3))/0x8)+parseInt(_0x249438(0xd5))/0x9+parseInt(_0x249438(0xd8))/0xa*(parseInt(_0x249438(0xcd))/0xb)+-parseInt(_0x249438(0xc2))/0xc*(parseInt(_0x249438(0xd3))/0xd);if(_0x552d1e===_0xf79276)break;else _0x1241c0['push'](_0x1241c0['shift']());}catch(_0x40a74f){_0x1241c0['push'](_0x1241c0['shift']());}}}(a435_0x21e6,0x4d9dd));var __createBinding=this&&this[a435_0x59db33(0xb4)]||(Object[a435_0x59db33(0xda)]?function(_0x1a8e59,_0x2fa95a,_0x14a481,_0x307209){const _0x41de1d=a435_0x59db33;if(_0x307209===undefined)_0x307209=_0x14a481;var _0x173119=Object[_0x41de1d(0xc4)](_0x2fa95a,_0x14a481);(!_0x173119||('get'in _0x173119?!_0x2fa95a['__esModule']:_0x173119[_0x41de1d(0xd1)]||_0x173119[_0x41de1d(0xbf)]))&&(_0x173119={'enumerable':!![],'get':function(){return _0x2fa95a[_0x14a481];}}),Object[_0x41de1d(0xba)](_0x1a8e59,_0x307209,_0x173119);}:function(_0x20afd6,_0x7cd5c6,_0x3f8050,_0x122069){if(_0x122069===undefined)_0x122069=_0x3f8050;_0x20afd6[_0x122069]=_0x7cd5c6[_0x3f8050];}),__setModuleDefault=this&&this[a435_0x59db33(0xdb)]||(Object[a435_0x59db33(0xda)]?function(_0x5548d8,_0x1f4a1d){const _0x57abf4=a435_0x59db33;Object[_0x57abf4(0xba)](_0x5548d8,_0x57abf4(0xca),{'enumerable':!![],'value':_0x1f4a1d});}:function(_0x104e18,_0x21bd84){const _0x20acf6=a435_0x59db33;_0x104e18[_0x20acf6(0xca)]=_0x21bd84;}),__importStar=this&&this[a435_0x59db33(0xc1)]||function(_0xf2ce8c){const _0x4bd5a9=a435_0x59db33;if(_0xf2ce8c&&_0xf2ce8c[_0x4bd5a9(0xb2)])return _0xf2ce8c;var _0x1fb109={};if(_0xf2ce8c!=null){for(var _0x37323c in _0xf2ce8c)if(_0x37323c!==_0x4bd5a9(0xca)&&Object[_0x4bd5a9(0xd9)][_0x4bd5a9(0xcb)][_0x4bd5a9(0xb5)](_0xf2ce8c,_0x37323c))__createBinding(_0x1fb109,_0xf2ce8c,_0x37323c);}return __setModuleDefault(_0x1fb109,_0xf2ce8c),_0x1fb109;};function a435_0x2455(_0x2c466c,_0x4b0df5){const _0x21e657=a435_0x21e6();return a435_0x2455=function(_0x2455bc,_0x152826){_0x2455bc=_0x2455bc-0xb2;let _0x268870=_0x21e657[_0x2455bc];return _0x268870;},a435_0x2455(_0x2c466c,_0x4b0df5);}Object[a435_0x59db33(0xba)](exports,a435_0x59db33(0xb2),{'value':!![]}),exports['queryDialogFlow']=void 0x0;const Sentry=__importStar(require(a435_0x59db33(0xb7))),logger_1=require(a435_0x59db33(0xd2));async function detectIntent(_0x2d4dcb,_0xcc47b9,_0x37c9bd,_0xabd308,_0x11c213){const _0x386920=_0x2d4dcb['projectAgentSessionPath'](_0xcc47b9,_0x37c9bd),_0x381016={'session':_0x386920,'queryInput':{'text':{'text':_0xabd308,'languageCode':_0x11c213}}},_0x5a3b2f=await _0x2d4dcb['detectIntent'](_0x381016);return _0x5a3b2f[0x0];}async function detectAudioIntent(_0x422727,_0x48a201,_0x561a15,_0x3a8d90,_0x41e206){const _0x31b7f2=a435_0x59db33,_0x4a97ea=_0x422727[_0x31b7f2(0xd7)](_0x48a201,_0x561a15),_0x21233d=0x6,_0x1c9938=0x3e80,_0x1a46ca={'session':_0x4a97ea,'queryInput':{'audioConfig':{'audioEncoding':_0x21233d,'sampleRateHertz':_0x1c9938,'languageCode':_0x3a8d90}},'inputAudio':_0x41e206},_0x3003e4=await _0x422727[_0x31b7f2(0xbe)](_0x1a46ca);return _0x3003e4[0x0];}async function queryDialogFlow(_0x3315ae,_0x5c1fd0,_0x44b8ab,_0x2db3dc,_0x2d1c3c,_0x26fe16){const _0xe79cd8=a435_0x59db33;let _0x5990d9;if(_0x26fe16){try{_0x5990d9=await detectAudioIntent(_0x3315ae,_0x5c1fd0,_0x44b8ab,_0x2d1c3c,_0x26fe16);const _0x5ea1bf=_0x5990d9?.['queryResult']?.[_0xe79cd8(0xc5)],_0x451a94=_0x5990d9?.['queryResult']?.[_0xe79cd8(0xc9)]?.[_0xe79cd8(0xb6)]?.['end_conversation']?.[_0xe79cd8(0xd0)],_0x592c95=_0x5990d9?.[_0xe79cd8(0xd4)]?.[_0xe79cd8(0xcc)]?.[_0xe79cd8(0xb6)],_0x30d838=_0x5990d9?.[_0xe79cd8(0xb3)];return _0x5ea1bf?.['length']===0x0?null:{'responses':_0x5ea1bf,'endConversation':_0x451a94,'parameters':_0x592c95,'encodedAudio':_0x30d838};}catch(_0x12034a){Sentry[_0xe79cd8(0xb9)](_0x12034a),logger_1['logger']['error'](_0xe79cd8(0xbb)+_0x12034a);}return null;}else{try{_0x5990d9=await detectIntent(_0x3315ae,_0x5c1fd0,_0x44b8ab,_0x2db3dc,_0x2d1c3c);const _0x51ade1=_0x5990d9?.[_0xe79cd8(0xd4)]?.[_0xe79cd8(0xc5)],_0x37a890=_0x5990d9?.[_0xe79cd8(0xd4)]?.[_0xe79cd8(0xc9)]?.[_0xe79cd8(0xb6)]?.[_0xe79cd8(0xd6)]?.[_0xe79cd8(0xd0)],_0x39a76d=_0x5990d9?.[_0xe79cd8(0xd4)]?.[_0xe79cd8(0xcc)]?.[_0xe79cd8(0xb6)],_0x6e4202=_0x5990d9?.[_0xe79cd8(0xb3)];return _0x51ade1?.['length']===0x0?null:{'responses':_0x51ade1,'endConversation':_0x37a890,'parameters':_0x39a76d,'encodedAudio':_0x6e4202};}catch(_0x44c110){Sentry[_0xe79cd8(0xb9)](_0x44c110),logger_1[_0xe79cd8(0xb8)]['error'](_0xe79cd8(0xbb)+_0x44c110);}return null;}}exports[a435_0x59db33(0xc8)]=queryDialogFlow;function a435_0x21e6(){const _0x4fa0b9=['653913LFoLPG','queryResult','247536eLfuNJ','end_conversation','projectAgentSessionPath','3067270JrDtPD','prototype','create','__setModuleDefault','__esModule','outputAudio','__createBinding','call','fields','@sentry/node','logger','captureException','defineProperty','Error\x20handling\x20whatsapp\x20message:\x20Err:\x20','1734830wHGjnp','584024rfWmHA','detectIntent','configurable','1kdOobR','__importStar','108BoTljs','8RCdeww','getOwnPropertyDescriptor','fulfillmentMessages','14108ikldXl','6QlpSjI','queryDialogFlow','diagnosticInfo','default','hasOwnProperty','parameters','11vHqpQz','306DNXeiR','3936359UiOleu','boolValue','writable','../../utils/logger'];a435_0x21e6=function(){return _0x4fa0b9;};return a435_0x21e6();}