'use strict';var a465_0x1d58f9=a465_0x5e8b;function a465_0x59dc(){var _0x3dabe6=['2525100qdkkis','create','configurable','873552eHDjqR','required','This\x20integration\x20name\x20is\x20already\x20used.','__esModule','prototype','Check-name','test','642026YSglRF','471357ESFbsw','__importStar','string','getOwnPropertyDescriptor','defineProperty','__importDefault','3lSBZfC','9557344EpwiaH','604034xZJwAy','findOne','4190156FJglRj','__setModuleDefault','validate','../../models/QueueIntegrations','min','shape','writable','get','yup','hasOwnProperty','call','message','__createBinding','default'];a465_0x59dc=function(){return _0x3dabe6;};return a465_0x59dc();}(function(_0x2455b2,_0x44e3a5){var _0x405ef3=a465_0x5e8b,_0x255da2=_0x2455b2();while(!![]){try{var _0x50fa5d=-parseInt(_0x405ef3(0x114))/0x1+-parseInt(_0x405ef3(0xf9))/0x2*(parseInt(_0x405ef3(0xf7))/0x3)+parseInt(_0x405ef3(0xfb))/0x4+-parseInt(_0x405ef3(0x109))/0x5+-parseInt(_0x405ef3(0x10c))/0x6+-parseInt(_0x405ef3(0x113))/0x7+parseInt(_0x405ef3(0xf8))/0x8;if(_0x50fa5d===_0x44e3a5)break;else _0x255da2['push'](_0x255da2['shift']());}catch(_0x377ffb){_0x255da2['push'](_0x255da2['shift']());}}}(a465_0x59dc,0xb15e7));function a465_0x5e8b(_0x346c75,_0x354a60){var _0x59dc1e=a465_0x59dc();return a465_0x5e8b=function(_0x5e8b87,_0x528b52){_0x5e8b87=_0x5e8b87-0xf4;var _0x5afd08=_0x59dc1e[_0x5e8b87];return _0x5afd08;},a465_0x5e8b(_0x346c75,_0x354a60);}var __createBinding=this&&this[a465_0x1d58f9(0x107)]||(Object[a465_0x1d58f9(0x10a)]?function(_0x314526,_0x463a72,_0x41d981,_0x56a6df){var _0x5c0aeb=a465_0x1d58f9;if(_0x56a6df===undefined)_0x56a6df=_0x41d981;var _0x4cbde5=Object[_0x5c0aeb(0xf4)](_0x463a72,_0x41d981);(!_0x4cbde5||(_0x5c0aeb(0x102)in _0x4cbde5?!_0x463a72[_0x5c0aeb(0x10f)]:_0x4cbde5[_0x5c0aeb(0x101)]||_0x4cbde5[_0x5c0aeb(0x10b)]))&&(_0x4cbde5={'enumerable':!![],'get':function(){return _0x463a72[_0x41d981];}}),Object[_0x5c0aeb(0xf5)](_0x314526,_0x56a6df,_0x4cbde5);}:function(_0x49216a,_0x51faa6,_0xa5b05f,_0x5836bb){if(_0x5836bb===undefined)_0x5836bb=_0xa5b05f;_0x49216a[_0x5836bb]=_0x51faa6[_0xa5b05f];}),__setModuleDefault=this&&this[a465_0x1d58f9(0xfc)]||(Object[a465_0x1d58f9(0x10a)]?function(_0x44bf43,_0x17ece9){var _0x488310=a465_0x1d58f9;Object[_0x488310(0xf5)](_0x44bf43,'default',{'enumerable':!![],'value':_0x17ece9});}:function(_0x368fc4,_0x486263){var _0x5161f7=a465_0x1d58f9;_0x368fc4[_0x5161f7(0x108)]=_0x486263;}),__importStar=this&&this[a465_0x1d58f9(0x115)]||function(_0x3ff686){var _0x577a7e=a465_0x1d58f9;if(_0x3ff686&&_0x3ff686[_0x577a7e(0x10f)])return _0x3ff686;var _0x47beaf={};if(_0x3ff686!=null){for(var _0x38f76b in _0x3ff686)if(_0x38f76b!==_0x577a7e(0x108)&&Object[_0x577a7e(0x110)][_0x577a7e(0x104)][_0x577a7e(0x105)](_0x3ff686,_0x38f76b))__createBinding(_0x47beaf,_0x3ff686,_0x38f76b);}return __setModuleDefault(_0x47beaf,_0x3ff686),_0x47beaf;},__importDefault=this&&this[a465_0x1d58f9(0xf6)]||function(_0x15c62a){var _0x193841=a465_0x1d58f9;return _0x15c62a&&_0x15c62a[_0x193841(0x10f)]?_0x15c62a:{'default':_0x15c62a};};Object[a465_0x1d58f9(0xf5)](exports,a465_0x1d58f9(0x10f),{'value':!![]});const Yup=__importStar(require(a465_0x1d58f9(0x103))),AppError_1=__importDefault(require('../../errors/AppError')),QueueIntegrations_1=__importDefault(require(a465_0x1d58f9(0xfe))),CreateQueueIntegrationService=async({type:_0x4fc33f,name:_0x35d1ba,projectName:_0x507b68,jsonContent:_0x1e80a9,language:_0x1d6a30,urlN8N:_0x42fea4,companyId:_0x379056})=>{var _0x2cf569=a465_0x1d58f9;const _0x36acd0=Yup['object']()[_0x2cf569(0x100)]({'name':Yup[_0x2cf569(0x116)]()[_0x2cf569(0x10d)]()[_0x2cf569(0xff)](0x2)[_0x2cf569(0x112)](_0x2cf569(0x111),_0x2cf569(0x10e),async _0x1e098f=>{var _0x112529=_0x2cf569;if(!_0x1e098f)return![];const _0x22a955=await QueueIntegrations_1[_0x112529(0x108)][_0x112529(0xfa)]({'where':{'name':_0x1e098f}});return!_0x22a955;})});try{await _0x36acd0[_0x2cf569(0xfd)]({'type':_0x4fc33f,'name':_0x35d1ba,'projectName':_0x507b68,'jsonContent':_0x1e80a9,'language':_0x1d6a30,'urlN8N':_0x42fea4,'companyId':_0x379056});}catch(_0x344957){throw new AppError_1[(_0x2cf569(0x108))](_0x344957[_0x2cf569(0x106)]);}const _0x231752=await QueueIntegrations_1['default'][_0x2cf569(0x10a)]({'type':_0x4fc33f,'name':_0x35d1ba,'projectName':_0x507b68,'jsonContent':_0x1e80a9,'language':_0x1d6a30,'urlN8N':_0x42fea4,'companyId':_0x379056});return _0x231752;};exports[a465_0x1d58f9(0x108)]=CreateQueueIntegrationService;