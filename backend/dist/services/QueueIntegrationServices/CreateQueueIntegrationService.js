'use strict';function a431_0x224a(){var _0x3d0b32=['../../errors/AppError','findOne','string','create','yup','writable','2GCVOXd','929010noscxG','get','1387944mLdkhi','required','This\x20integration\x20name\x20is\x20already\x20used.','getOwnPropertyDescriptor','__esModule','762BAVVXj','1284534jvRVBm','call','test','object','hasOwnProperty','__createBinding','Check-name','configurable','min','40YAtKjg','198255OzELEW','488282jsNmBo','defineProperty','prototype','validate','__importStar','47096zANfJV','default','6073974mTCNnJ'];a431_0x224a=function(){return _0x3d0b32;};return a431_0x224a();}var a431_0x1be6f7=a431_0x47fc;(function(_0x67aa51,_0x4f21ea){var _0x4ae489=a431_0x47fc,_0x297d7e=_0x67aa51();while(!![]){try{var _0xa9fa2d=parseInt(_0x4ae489(0x8c))/0x1*(parseInt(_0x4ae489(0x7e))/0x2)+parseInt(_0x4ae489(0x95))/0x3+parseInt(_0x4ae489(0x7c))/0x4*(parseInt(_0x4ae489(0x7d))/0x5)+-parseInt(_0x4ae489(0x94))/0x6*(parseInt(_0x4ae489(0x83))/0x7)+-parseInt(_0x4ae489(0x8f))/0x8+parseInt(_0x4ae489(0x85))/0x9+-parseInt(_0x4ae489(0x8d))/0xa;if(_0xa9fa2d===_0x4f21ea)break;else _0x297d7e['push'](_0x297d7e['shift']());}catch(_0x30abc9){_0x297d7e['push'](_0x297d7e['shift']());}}}(a431_0x224a,0xd3abe));function a431_0x47fc(_0x1ef5fe,_0x40a72d){var _0x224abc=a431_0x224a();return a431_0x47fc=function(_0x47fc53,_0x89847d){_0x47fc53=_0x47fc53-0x78;var _0x168e4c=_0x224abc[_0x47fc53];return _0x168e4c;},a431_0x47fc(_0x1ef5fe,_0x40a72d);}var __createBinding=this&&this[a431_0x1be6f7(0x78)]||(Object[a431_0x1be6f7(0x89)]?function(_0x5b3dca,_0x1dee41,_0x498f9e,_0x18847c){var _0x5991cb=a431_0x1be6f7;if(_0x18847c===undefined)_0x18847c=_0x498f9e;var _0x27f7ff=Object[_0x5991cb(0x92)](_0x1dee41,_0x498f9e);(!_0x27f7ff||(_0x5991cb(0x8e)in _0x27f7ff?!_0x1dee41[_0x5991cb(0x93)]:_0x27f7ff[_0x5991cb(0x8b)]||_0x27f7ff[_0x5991cb(0x7a)]))&&(_0x27f7ff={'enumerable':!![],'get':function(){return _0x1dee41[_0x498f9e];}}),Object[_0x5991cb(0x7f)](_0x5b3dca,_0x18847c,_0x27f7ff);}:function(_0x59d684,_0x5ebd78,_0x28af7d,_0x47f854){if(_0x47f854===undefined)_0x47f854=_0x28af7d;_0x59d684[_0x47f854]=_0x5ebd78[_0x28af7d];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a431_0x1be6f7(0x89)]?function(_0x55a73a,_0x3805c3){var _0x224b34=a431_0x1be6f7;Object['defineProperty'](_0x55a73a,_0x224b34(0x84),{'enumerable':!![],'value':_0x3805c3});}:function(_0x5eda0a,_0x12a580){var _0x5faade=a431_0x1be6f7;_0x5eda0a[_0x5faade(0x84)]=_0x12a580;}),__importStar=this&&this[a431_0x1be6f7(0x82)]||function(_0x2f1840){var _0x15c512=a431_0x1be6f7;if(_0x2f1840&&_0x2f1840[_0x15c512(0x93)])return _0x2f1840;var _0xfb83f5={};if(_0x2f1840!=null){for(var _0x32e2a4 in _0x2f1840)if(_0x32e2a4!==_0x15c512(0x84)&&Object[_0x15c512(0x80)][_0x15c512(0x99)][_0x15c512(0x96)](_0x2f1840,_0x32e2a4))__createBinding(_0xfb83f5,_0x2f1840,_0x32e2a4);}return __setModuleDefault(_0xfb83f5,_0x2f1840),_0xfb83f5;},__importDefault=this&&this['__importDefault']||function(_0x44ed02){return _0x44ed02&&_0x44ed02['__esModule']?_0x44ed02:{'default':_0x44ed02};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a431_0x1be6f7(0x8a))),AppError_1=__importDefault(require(a431_0x1be6f7(0x86))),QueueIntegrations_1=__importDefault(require('../../models/QueueIntegrations')),CreateQueueIntegrationService=async({type:_0x49ddc3,name:_0x27ad64,projectName:_0xcbc706,jsonContent:_0x30497c,language:_0x112c8d,urlN8N:_0x31331f,companyId:_0x5e8581})=>{var _0x9de79f=a431_0x1be6f7;const _0x48e083=Yup[_0x9de79f(0x98)]()['shape']({'name':Yup[_0x9de79f(0x88)]()[_0x9de79f(0x90)]()[_0x9de79f(0x7b)](0x2)[_0x9de79f(0x97)](_0x9de79f(0x79),_0x9de79f(0x91),async _0x2d67f6=>{var _0x258397=_0x9de79f;if(!_0x2d67f6)return![];const _0x48c31a=await QueueIntegrations_1[_0x258397(0x84)][_0x258397(0x87)]({'where':{'name':_0x2d67f6}});return!_0x48c31a;})});try{await _0x48e083[_0x9de79f(0x81)]({'type':_0x49ddc3,'name':_0x27ad64,'projectName':_0xcbc706,'jsonContent':_0x30497c,'language':_0x112c8d,'urlN8N':_0x31331f,'companyId':_0x5e8581});}catch(_0xa64f43){throw new AppError_1[(_0x9de79f(0x84))](_0xa64f43['message']);}const _0x437b86=await QueueIntegrations_1[_0x9de79f(0x84)][_0x9de79f(0x89)]({'type':_0x49ddc3,'name':_0x27ad64,'projectName':_0xcbc706,'jsonContent':_0x30497c,'language':_0x112c8d,'urlN8N':_0x31331f,'companyId':_0x5e8581});return _0x437b86;};exports[a431_0x1be6f7(0x84)]=CreateQueueIntegrationService;