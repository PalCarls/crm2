'use strict';function a525_0x1709(_0x255ec1,_0x19ca68){var _0x7aefb1=a525_0x7aef();return a525_0x1709=function(_0x1709aa,_0x3641ad){_0x1709aa=_0x1709aa-0x9a;var _0x204e24=_0x7aefb1[_0x1709aa];return _0x204e24;},a525_0x1709(_0x255ec1,_0x19ca68);}var a525_0x39e089=a525_0x1709;(function(_0x3c8390,_0x3dc362){var _0x5cf231=a525_0x1709,_0x43cf4e=_0x3c8390();while(!![]){try{var _0x24c56b=-parseInt(_0x5cf231(0xbb))/0x1*(parseInt(_0x5cf231(0xa5))/0x2)+parseInt(_0x5cf231(0xba))/0x3*(parseInt(_0x5cf231(0xb2))/0x4)+parseInt(_0x5cf231(0xb3))/0x5*(parseInt(_0x5cf231(0xa8))/0x6)+-parseInt(_0x5cf231(0xa9))/0x7*(parseInt(_0x5cf231(0xb6))/0x8)+-parseInt(_0x5cf231(0xb4))/0x9+parseInt(_0x5cf231(0xb8))/0xa+parseInt(_0x5cf231(0xac))/0xb*(parseInt(_0x5cf231(0xaf))/0xc);if(_0x24c56b===_0x3dc362)break;else _0x43cf4e['push'](_0x43cf4e['shift']());}catch(_0x3d08db){_0x43cf4e['push'](_0x43cf4e['shift']());}}}(a525_0x7aef,0xaee82));var __createBinding=this&&this[a525_0x39e089(0xaa)]||(Object['create']?function(_0x3f91a9,_0x41ac03,_0x1646a0,_0x4ec5ef){var _0x5688fe=a525_0x39e089;if(_0x4ec5ef===undefined)_0x4ec5ef=_0x1646a0;var _0x4f2e13=Object[_0x5688fe(0xa2)](_0x41ac03,_0x1646a0);(!_0x4f2e13||('get'in _0x4f2e13?!_0x41ac03[_0x5688fe(0xad)]:_0x4f2e13['writable']||_0x4f2e13['configurable']))&&(_0x4f2e13={'enumerable':!![],'get':function(){return _0x41ac03[_0x1646a0];}}),Object[_0x5688fe(0x9c)](_0x3f91a9,_0x4ec5ef,_0x4f2e13);}:function(_0x48462c,_0x3db7cf,_0x14c226,_0x2e7e57){if(_0x2e7e57===undefined)_0x2e7e57=_0x14c226;_0x48462c[_0x2e7e57]=_0x3db7cf[_0x14c226];}),__setModuleDefault=this&&this[a525_0x39e089(0xb1)]||(Object[a525_0x39e089(0xae)]?function(_0x4bcc11,_0x38701f){var _0x51651d=a525_0x39e089;Object[_0x51651d(0x9c)](_0x4bcc11,_0x51651d(0xa1),{'enumerable':!![],'value':_0x38701f});}:function(_0x5cc581,_0x387660){_0x5cc581['default']=_0x387660;}),__importStar=this&&this[a525_0x39e089(0xb7)]||function(_0xe73bbe){var _0x316a17=a525_0x39e089;if(_0xe73bbe&&_0xe73bbe[_0x316a17(0xad)])return _0xe73bbe;var _0x256ca5={};if(_0xe73bbe!=null){for(var _0x55c1c5 in _0xe73bbe)if(_0x55c1c5!==_0x316a17(0xa1)&&Object[_0x316a17(0x9a)][_0x316a17(0xb9)][_0x316a17(0x9b)](_0xe73bbe,_0x55c1c5))__createBinding(_0x256ca5,_0xe73bbe,_0x55c1c5);}return __setModuleDefault(_0x256ca5,_0xe73bbe),_0x256ca5;},__importDefault=this&&this['__importDefault']||function(_0x486a7e){var _0x3ae3bd=a525_0x39e089;return _0x486a7e&&_0x486a7e[_0x3ae3bd(0xad)]?_0x486a7e:{'default':_0x486a7e};};Object[a525_0x39e089(0x9c)](exports,a525_0x39e089(0xad),{'value':!![]});function a525_0x7aef(){var _0x2cc5d3=['default','getOwnPropertyDescriptor','yup','string','72xgLfkY','Check-name','../../errors/AppError','6kXyspa','430675yQqlNm','__createBinding','min','3223RBozbt','__esModule','create','46884QjEMWw','validate','__setModuleDefault','8IFGzKt','3677315Smzjhc','1065924IWwdTE','test','184THPsam','__importStar','5550490IrhSPr','hasOwnProperty','1022589oDdiXF','24085FBuFYa','prototype','call','defineProperty','message','shape','object','This\x20integration\x20name\x20is\x20already\x20used.'];a525_0x7aef=function(){return _0x2cc5d3;};return a525_0x7aef();}const Yup=__importStar(require(a525_0x39e089(0xa3))),AppError_1=__importDefault(require(a525_0x39e089(0xa7))),QueueIntegrations_1=__importDefault(require('../../models/QueueIntegrations')),CreateQueueIntegrationService=async({type:_0x4f241c,name:_0x3af2af,projectName:_0x4fd443,jsonContent:_0x6a6ea4,language:_0x3ee306,urlN8N:_0x1862bf,companyId:_0x2bdabb,typebotExpires:_0x2cb2b1,typebotKeywordFinish:_0xb06b94,typebotSlug:_0x24946b,typebotUnknownMessage:_0x418361})=>{var _0x384e9e=a525_0x39e089;const _0x81b6e1=Yup[_0x384e9e(0x9f)]()[_0x384e9e(0x9e)]({'name':Yup[_0x384e9e(0xa4)]()['required']()[_0x384e9e(0xab)](0x2)[_0x384e9e(0xb5)](_0x384e9e(0xa6),_0x384e9e(0xa0),async _0x4ed23f=>{if(!_0x4ed23f)return![];const _0x321254=await QueueIntegrations_1['default']['findOne']({'where':{'name':_0x4ed23f}});return!_0x321254;})});try{await _0x81b6e1[_0x384e9e(0xb0)]({'type':_0x4f241c,'name':_0x3af2af,'projectName':_0x4fd443,'jsonContent':_0x6a6ea4,'language':_0x3ee306,'urlN8N':_0x1862bf,'companyId':_0x2bdabb});}catch(_0x5e53a9){throw new AppError_1[(_0x384e9e(0xa1))](_0x5e53a9[_0x384e9e(0x9d)]);}const _0x231cd6=await QueueIntegrations_1[_0x384e9e(0xa1)][_0x384e9e(0xae)]({'type':_0x4f241c,'name':_0x3af2af,'projectName':_0x4fd443,'jsonContent':_0x6a6ea4,'language':_0x3ee306,'urlN8N':_0x1862bf,'companyId':_0x2bdabb,'typebotExpires':_0x2cb2b1,'typebotKeywordFinish':_0xb06b94,'typebotSlug':_0x24946b,'typebotUnknownMessage':_0x418361});return _0x231cd6;};exports[a525_0x39e089(0xa1)]=CreateQueueIntegrationService;