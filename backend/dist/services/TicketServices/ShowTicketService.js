'use strict';const a587_0x977f48=a587_0x5845;(function(_0x54d14a,_0x4233fc){const _0x5abc30=a587_0x5845,_0x5acb10=_0x54d14a();while(!![]){try{const _0x5cbfde=parseInt(_0x5abc30(0x218))/0x1*(-parseInt(_0x5abc30(0x213))/0x2)+-parseInt(_0x5abc30(0x1f4))/0x3+parseInt(_0x5abc30(0x20f))/0x4+-parseInt(_0x5abc30(0x202))/0x5+-parseInt(_0x5abc30(0x1f0))/0x6*(-parseInt(_0x5abc30(0x1ff))/0x7)+parseInt(_0x5abc30(0x1fb))/0x8+parseInt(_0x5abc30(0x216))/0x9;if(_0x5cbfde===_0x4233fc)break;else _0x5acb10['push'](_0x5acb10['shift']());}catch(_0x10bd3f){_0x5acb10['push'](_0x5acb10['shift']());}}}(a587_0x2345,0x63081));function a587_0x2345(){const _0x171af0=['2702495nFgPaO','facebookUserToken','disableBot','default','../../models/User','defineProperty','queueIntegration','companyId','../../models/Contact','__esModule','urlPicture','email','extraInfo','3145032vTscgE','chatbots','../../models/Queue','number','22NRTxDl','profilePicUrl','findOne','4155912QPDbdk','facebookUserId','8843QxYYAE','Não\x20é\x20possível\x20consultar\x20registros\x20de\x20outra\x20empresa','24RfWHOq','lgpdAcceptedAt','acceptAudioMessage','name','2185041RInfut','tags','whatsapp','company','../../models/Tag','active','user','2207248Xbktbo','../../errors/AppError','queue','../../models/Whatsapp','433685tsJYOJ','../../models/QueueIntegrations','../../models/Ticket'];a587_0x2345=function(){return _0x171af0;};return a587_0x2345();}function a587_0x5845(_0x3ebd4b,_0x4f8730){const _0x23454c=a587_0x2345();return a587_0x5845=function(_0x584558,_0x152f61){_0x584558=_0x584558-0x1f0;let _0x345e6c=_0x23454c[_0x584558];return _0x345e6c;},a587_0x5845(_0x3ebd4b,_0x4f8730);}var __importDefault=this&&this['__importDefault']||function(_0x444f56){return _0x444f56&&_0x444f56['__esModule']?_0x444f56:{'default':_0x444f56};};Object[a587_0x977f48(0x207)](exports,a587_0x977f48(0x20b),{'value':!![]});const Ticket_1=__importDefault(require(a587_0x977f48(0x201))),AppError_1=__importDefault(require(a587_0x977f48(0x1fc))),Contact_1=__importDefault(require(a587_0x977f48(0x20a))),User_1=__importDefault(require(a587_0x977f48(0x206))),Queue_1=__importDefault(require(a587_0x977f48(0x211))),Tag_1=__importDefault(require(a587_0x977f48(0x1f8))),Whatsapp_1=__importDefault(require(a587_0x977f48(0x1fe))),Company_1=__importDefault(require('../../models/Company')),QueueIntegrations_1=__importDefault(require(a587_0x977f48(0x200))),ShowTicketService=async(_0x5f5bfd,_0x8ca93f)=>{const _0x41774f=a587_0x977f48,_0x27c252=await Ticket_1[_0x41774f(0x205)][_0x41774f(0x215)]({'where':{'id':_0x5f5bfd,'companyId':_0x8ca93f},'include':[{'model':Contact_1[_0x41774f(0x205)],'as':'contact','attributes':['id','companyId','name',_0x41774f(0x212),_0x41774f(0x20d),_0x41774f(0x214),_0x41774f(0x1f2),_0x41774f(0x1f9),_0x41774f(0x204),'remoteJid',_0x41774f(0x20c),_0x41774f(0x1f1)],'include':[_0x41774f(0x20e),'contactTags','tags']},{'model':Queue_1[_0x41774f(0x205)],'as':_0x41774f(0x1fd),'attributes':['id',_0x41774f(0x1f3),'color'],'include':[_0x41774f(0x210)]},{'model':User_1[_0x41774f(0x205)],'as':_0x41774f(0x1fa),'attributes':['id','name']},{'model':Tag_1[_0x41774f(0x205)],'as':_0x41774f(0x1f5),'attributes':['id',_0x41774f(0x1f3),'color']},{'model':Whatsapp_1[_0x41774f(0x205)],'as':_0x41774f(0x1f6),'attributes':['id','name','groupAsTicket','greetingMediaAttachment',_0x41774f(0x203),_0x41774f(0x217)]},{'model':Company_1['default'],'as':_0x41774f(0x1f7),'attributes':['id','name']},{'model':QueueIntegrations_1[_0x41774f(0x205)],'as':_0x41774f(0x208),'attributes':['id','name']}]});if(_0x27c252?.[_0x41774f(0x209)]!==_0x8ca93f)throw new AppError_1[(_0x41774f(0x205))](_0x41774f(0x219));if(!_0x27c252)throw new AppError_1['default']('ERR_NO_TICKET_FOUND',0x194);return _0x27c252;};exports['default']=ShowTicketService;