'use strict';const a588_0x5cfaae=a588_0x5c02;(function(_0x2267d5,_0x3ae4c6){const _0x57e1b9=a588_0x5c02,_0x146dea=_0x2267d5();while(!![]){try{const _0x480539=parseInt(_0x57e1b9(0xdb))/0x1*(parseInt(_0x57e1b9(0xe0))/0x2)+-parseInt(_0x57e1b9(0xe8))/0x3*(parseInt(_0x57e1b9(0xd0))/0x4)+-parseInt(_0x57e1b9(0xed))/0x5+-parseInt(_0x57e1b9(0xdf))/0x6+parseInt(_0x57e1b9(0xe2))/0x7+parseInt(_0x57e1b9(0xd5))/0x8*(parseInt(_0x57e1b9(0xde))/0x9)+parseInt(_0x57e1b9(0xe6))/0xa*(parseInt(_0x57e1b9(0xd2))/0xb);if(_0x480539===_0x3ae4c6)break;else _0x146dea['push'](_0x146dea['shift']());}catch(_0x505864){_0x146dea['push'](_0x146dea['shift']());}}}(a588_0x565f,0x37cbb));var __importDefault=this&&this[a588_0x5cfaae(0xf0)]||function(_0x1bf67b){const _0x2255cd=a588_0x5cfaae;return _0x1bf67b&&_0x1bf67b[_0x2255cd(0xdc)]?_0x1bf67b:{'default':_0x1bf67b};};Object['defineProperty'](exports,a588_0x5cfaae(0xdc),{'value':!![]});const sequelize_1=require(a588_0x5cfaae(0xee)),date_fns_1=require(a588_0x5cfaae(0xdd)),Ticket_1=__importDefault(require(a588_0x5cfaae(0xe9))),User_1=__importDefault(require(a588_0x5cfaae(0xeb))),Contact_1=__importDefault(require('../../models/Contact')),Queue_1=__importDefault(require(a588_0x5cfaae(0xd4))),lodash_1=require('lodash'),TicketsQueuesService=async({dateStart:_0x501c08,dateEnd:_0x5695f6,status:_0x5b0e86,userId:_0x1111ef,queuesIds:_0x35ab31,companyId:_0x3cde62,showAll:_0x37cd67,profile:_0x5df9f0})=>{const _0x2ddf97=a588_0x5cfaae;let _0x4326c7={};const _0x43f937=[{'model':Contact_1[_0x2ddf97(0xe1)],'as':_0x2ddf97(0xef),'attributes':['id',_0x2ddf97(0xd6),'number',_0x2ddf97(0xea),'companyId',_0x2ddf97(0xf2)]},{'model':User_1[_0x2ddf97(0xe1)],'as':_0x2ddf97(0xf3),'attributes':['id',_0x2ddf97(0xd6),_0x2ddf97(0xcf)]},{'model':Queue_1[_0x2ddf97(0xe1)],'as':'queue'}];if(_0x5b0e86){const _0xacbd30=[],_0x441a98=await Ticket_1[_0x2ddf97(0xe1)][_0x2ddf97(0xe5)]({'where':{'status':_0x2ddf97(0xe3)},'group':[_0x2ddf97(0xe7),_0x2ddf97(0xcd),_0x2ddf97(0xd9),_0x2ddf97(0xd3)],'attributes':[_0x2ddf97(0xe7),_0x2ddf97(0xcd),_0x2ddf97(0xd9),'whatsappId',[(0x0,sequelize_1['fn'])(_0x2ddf97(0xf1),(0x0,sequelize_1[_0x2ddf97(0xda)])('id')),'id']]});_0x441a98&&_0xacbd30[_0x2ddf97(0xce)](_0x441a98[_0x2ddf97(0xe4)](_0x20ebf5=>_0x20ebf5['id']));const _0x466a0d=(0x0,lodash_1[_0x2ddf97(0xd1)])(..._0xacbd30);_0x4326c7={..._0x4326c7,'id':{[sequelize_1['Op']['in']]:_0x466a0d}};}_0x5df9f0===_0x2ddf97(0xf3)&&(_0x4326c7={..._0x4326c7,'userId':_0x1111ef});_0x501c08&&_0x5695f6&&(_0x4326c7={..._0x4326c7,'createdAt':{[sequelize_1['Op'][_0x2ddf97(0xcc)]]:[+(0x0,date_fns_1[_0x2ddf97(0xf4)])((0x0,date_fns_1[_0x2ddf97(0xd7)])(_0x501c08)),+(0x0,date_fns_1[_0x2ddf97(0xec)])((0x0,date_fns_1[_0x2ddf97(0xd7)])(_0x5695f6))]}});const _0x7ae9d1=await Ticket_1[_0x2ddf97(0xe1)][_0x2ddf97(0xe5)]({'where':{..._0x4326c7,'companyId':_0x3cde62},'include':_0x43f937,'order':[[_0x2ddf97(0xd8),'DESC']]});return _0x7ae9d1;};function a588_0x5c02(_0x192fc7,_0x4f3b69){const _0x565f19=a588_0x565f();return a588_0x5c02=function(_0x5c0262,_0x977f86){_0x5c0262=_0x5c0262-0xcc;let _0x3f43d9=_0x565f19[_0x5c0262];return _0x3f43d9;},a588_0x5c02(_0x192fc7,_0x4f3b69);}function a588_0x565f(){const _0x4c1a67=['map','findAll','746110uyOkvO','companyId','21831LRIYfB','../../models/Ticket','profilePicUrl','../../models/User','endOfDay','734570ycQeXe','sequelize','contact','__importDefault','max','urlPicture','user','startOfDay','between','contactId','push','profile','164kqQjlk','intersection','121TZcyly','whatsappId','../../models/Queue','371656dgVBOp','name','parseISO','updatedAt','queueId','col','7KnBeRE','__esModule','date-fns','9wBpuAo','1276986cfQSwy','2518AUluNr','default','74550psNXyi','open'];a588_0x565f=function(){return _0x4c1a67;};return a588_0x565f();}exports[a588_0x5cfaae(0xe1)]=TicketsQueuesService;