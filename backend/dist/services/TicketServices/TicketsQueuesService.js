'use strict';const a525_0x5955e2=a525_0x1877;(function(_0x2554ad,_0x1639a2){const _0x4ce2db=a525_0x1877,_0x250d4c=_0x2554ad();while(!![]){try{const _0x43deed=-parseInt(_0x4ce2db(0x172))/0x1+parseInt(_0x4ce2db(0x15f))/0x2+-parseInt(_0x4ce2db(0x164))/0x3*(-parseInt(_0x4ce2db(0x17b))/0x4)+-parseInt(_0x4ce2db(0x167))/0x5*(parseInt(_0x4ce2db(0x161))/0x6)+parseInt(_0x4ce2db(0x166))/0x7*(-parseInt(_0x4ce2db(0x16e))/0x8)+-parseInt(_0x4ce2db(0x17e))/0x9*(-parseInt(_0x4ce2db(0x176))/0xa)+parseInt(_0x4ce2db(0x162))/0xb;if(_0x43deed===_0x1639a2)break;else _0x250d4c['push'](_0x250d4c['shift']());}catch(_0x108ca5){_0x250d4c['push'](_0x250d4c['shift']());}}}(a525_0x26d1,0x8ccea));function a525_0x1877(_0x4539bd,_0x303f8a){const _0x26d1b7=a525_0x26d1();return a525_0x1877=function(_0x1877b9,_0x5c3667){_0x1877b9=_0x1877b9-0x158;let _0xfa7737=_0x26d1b7[_0x1877b9];return _0xfa7737;},a525_0x1877(_0x4539bd,_0x303f8a);}var __importDefault=this&&this[a525_0x5955e2(0x16d)]||function(_0x198fe1){const _0x150eb4=a525_0x5955e2;return _0x198fe1&&_0x198fe1[_0x150eb4(0x17a)]?_0x198fe1:{'default':_0x198fe1};};Object['defineProperty'](exports,a525_0x5955e2(0x17a),{'value':!![]});const sequelize_1=require(a525_0x5955e2(0x173)),date_fns_1=require(a525_0x5955e2(0x178)),Ticket_1=__importDefault(require(a525_0x5955e2(0x177))),User_1=__importDefault(require(a525_0x5955e2(0x17f))),Contact_1=__importDefault(require('../../models/Contact')),Queue_1=__importDefault(require(a525_0x5955e2(0x158))),lodash_1=require(a525_0x5955e2(0x174)),TicketsQueuesService=async({dateStart:_0x154507,dateEnd:_0x456039,status:_0x535047,userId:_0x1c4802,queuesIds:_0x10ab71,companyId:_0x246207,showAll:_0x2f6ff6,profile:_0x9eb0c})=>{const _0x5142ea=a525_0x5955e2;let _0x561464={};const _0x196f2b=[{'model':Contact_1[_0x5142ea(0x16f)],'as':'contact','attributes':['id',_0x5142ea(0x159),_0x5142ea(0x165),'profilePicUrl']},{'model':User_1[_0x5142ea(0x16f)],'as':_0x5142ea(0x163),'attributes':['id','name',_0x5142ea(0x170)]},{'model':Queue_1[_0x5142ea(0x16f)],'as':_0x5142ea(0x169)}];if(_0x535047){const _0x45905e=[],_0xb3fc72=await Ticket_1[_0x5142ea(0x16f)][_0x5142ea(0x15e)]({'where':{'status':_0x5142ea(0x17d)},'group':[_0x5142ea(0x17c),'contactId',_0x5142ea(0x15a),_0x5142ea(0x179)],'attributes':[_0x5142ea(0x17c),_0x5142ea(0x15b),_0x5142ea(0x15a),_0x5142ea(0x179),[sequelize_1['Sequelize']['fn'](_0x5142ea(0x160),sequelize_1['Sequelize'][_0x5142ea(0x16a)]('id')),'id']]});_0xb3fc72&&_0x45905e[_0x5142ea(0x15d)](_0xb3fc72[_0x5142ea(0x16b)](_0x1f03ee=>_0x1f03ee['id']));const _0x58573f=(0x0,lodash_1[_0x5142ea(0x16c)])(..._0x45905e);_0x561464={..._0x561464,'id':{[sequelize_1['Op']['in']]:_0x58573f}};}_0x9eb0c===_0x5142ea(0x163)&&(_0x561464={..._0x561464,'userId':_0x1c4802});_0x154507&&_0x456039&&(_0x561464={..._0x561464,'createdAt':{[sequelize_1['Op'][_0x5142ea(0x171)]]:[+(0x0,date_fns_1['startOfDay'])((0x0,date_fns_1[_0x5142ea(0x175)])(_0x154507)),+(0x0,date_fns_1[_0x5142ea(0x168)])((0x0,date_fns_1[_0x5142ea(0x175)])(_0x456039))]}});const _0xefcb80=await Ticket_1[_0x5142ea(0x16f)][_0x5142ea(0x15e)]({'where':{..._0x561464,'companyId':_0x246207},'include':_0x196f2b,'order':[['updatedAt',_0x5142ea(0x15c)]]});return _0xefcb80;};exports['default']=TicketsQueuesService;function a525_0x26d1(){const _0x2f809e=['between','1061226UUKlat','sequelize','lodash','parseISO','210YWmYKV','../../models/Ticket','date-fns','whatsappId','__esModule','4126372HPuVzu','companyId','open','146493gzroDb','../../models/User','../../models/Queue','name','queueId','contactId','DESC','push','findAll','1652532tIpQDS','max','7698znGuCZ','4016419BdVhMT','user','3xVaMbn','number','18725JXISiT','5svUiIZ','endOfDay','queue','col','map','intersection','__importDefault','2768RfCtWB','default','profile'];a525_0x26d1=function(){return _0x2f809e;};return a525_0x26d1();}