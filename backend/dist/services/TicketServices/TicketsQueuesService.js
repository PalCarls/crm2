'use strict';const a606_0x7a7ca6=a606_0x14ee;(function(_0x5bb424,_0x18e602){const _0xd90a5f=a606_0x14ee,_0x2ac618=_0x5bb424();while(!![]){try{const _0xf19525=-parseInt(_0xd90a5f(0x1cc))/0x1+-parseInt(_0xd90a5f(0x1d5))/0x2+-parseInt(_0xd90a5f(0x1c9))/0x3+parseInt(_0xd90a5f(0x1d6))/0x4+-parseInt(_0xd90a5f(0x1cb))/0x5*(-parseInt(_0xd90a5f(0x1c2))/0x6)+-parseInt(_0xd90a5f(0x1db))/0x7*(-parseInt(_0xd90a5f(0x1b7))/0x8)+parseInt(_0xd90a5f(0x1dc))/0x9*(-parseInt(_0xd90a5f(0x1ca))/0xa);if(_0xf19525===_0x18e602)break;else _0x2ac618['push'](_0x2ac618['shift']());}catch(_0x4debb4){_0x2ac618['push'](_0x2ac618['shift']());}}}(a606_0xdaeb,0xdd29a));var __importDefault=this&&this[a606_0x7a7ca6(0x1ba)]||function(_0x5375df){const _0x291996=a606_0x7a7ca6;return _0x5375df&&_0x5375df[_0x291996(0x1d9)]?_0x5375df:{'default':_0x5375df};};Object['defineProperty'](exports,a606_0x7a7ca6(0x1d9),{'value':!![]});function a606_0x14ee(_0xb23c42,_0x33a708){const _0xdaeb03=a606_0xdaeb();return a606_0x14ee=function(_0x14ee18,_0x531493){_0x14ee18=_0x14ee18-0x1b4;let _0x5d5b26=_0xdaeb03[_0x14ee18];return _0x5d5b26;},a606_0x14ee(_0xb23c42,_0x33a708);}const sequelize_1=require(a606_0x7a7ca6(0x1c8)),date_fns_1=require('date-fns'),Ticket_1=__importDefault(require(a606_0x7a7ca6(0x1c4))),User_1=__importDefault(require(a606_0x7a7ca6(0x1b4))),Contact_1=__importDefault(require(a606_0x7a7ca6(0x1b6))),Queue_1=__importDefault(require(a606_0x7a7ca6(0x1c1))),lodash_1=require(a606_0x7a7ca6(0x1c5)),TicketsQueuesService=async({dateStart:_0x5c89fb,dateEnd:_0x1e77a6,status:_0x45ecec,userId:_0x187025,queuesIds:_0x400cd6,companyId:_0x3edf57,showAll:_0x1f3161,profile:_0x4c7ef0})=>{const _0x27b7fd=a606_0x7a7ca6;let _0x325a7a={};const _0x3ed47b=[{'model':Contact_1[_0x27b7fd(0x1bf)],'as':_0x27b7fd(0x1c7),'attributes':['id',_0x27b7fd(0x1d3),_0x27b7fd(0x1bd),_0x27b7fd(0x1da),_0x27b7fd(0x1ce),_0x27b7fd(0x1be)]},{'model':User_1[_0x27b7fd(0x1bf)],'as':_0x27b7fd(0x1c3),'attributes':['id','name',_0x27b7fd(0x1cf)]},{'model':Queue_1[_0x27b7fd(0x1bf)],'as':_0x27b7fd(0x1b5)}];if(_0x45ecec){const _0x29a0c4=[],_0x46891d=await Ticket_1['default'][_0x27b7fd(0x1d1)]({'where':{'status':_0x27b7fd(0x1cd)},'group':['companyId',_0x27b7fd(0x1b8),_0x27b7fd(0x1b9),_0x27b7fd(0x1d7)],'attributes':[_0x27b7fd(0x1ce),_0x27b7fd(0x1b8),'queueId',_0x27b7fd(0x1d7),[(0x0,sequelize_1['fn'])(_0x27b7fd(0x1bc),(0x0,sequelize_1[_0x27b7fd(0x1c6)])('id')),'id']]});_0x46891d&&_0x29a0c4[_0x27b7fd(0x1d8)](_0x46891d[_0x27b7fd(0x1d0)](_0xa3719e=>_0xa3719e['id']));const _0x1efd4b=(0x0,lodash_1['intersection'])(..._0x29a0c4);_0x325a7a={..._0x325a7a,'id':{[sequelize_1['Op']['in']]:_0x1efd4b}};}_0x4c7ef0==='user'&&(_0x325a7a={..._0x325a7a,'userId':_0x187025});_0x5c89fb&&_0x1e77a6&&(_0x325a7a={..._0x325a7a,'createdAt':{[sequelize_1['Op'][_0x27b7fd(0x1c0)]]:[+(0x0,date_fns_1[_0x27b7fd(0x1d2)])((0x0,date_fns_1[_0x27b7fd(0x1bb)])(_0x5c89fb)),+(0x0,date_fns_1['endOfDay'])((0x0,date_fns_1[_0x27b7fd(0x1bb)])(_0x1e77a6))]}});const _0xd581b8=await Ticket_1[_0x27b7fd(0x1bf)]['findAll']({'where':{..._0x325a7a,'companyId':_0x3edf57},'include':_0x3ed47b,'order':[[_0x27b7fd(0x1d4),'DESC']]});return _0xd581b8;};exports['default']=TicketsQueuesService;function a606_0xdaeb(){const _0x15f476=['935040wnQMrI','user','../../models/Ticket','lodash','col','contact','sequelize','2227827jSSSVN','10HZfHXc','45dygFeH','1010781vVYBGH','open','companyId','profile','map','findAll','startOfDay','name','updatedAt','392452Hnsgec','3608696qTzZMi','whatsappId','push','__esModule','profilePicUrl','124663qhfAwl','7064199HsAARs','../../models/User','queue','../../models/Contact','600pXFPHC','contactId','queueId','__importDefault','parseISO','max','number','urlPicture','default','between','../../models/Queue'];a606_0xdaeb=function(){return _0x15f476;};return a606_0xdaeb();}