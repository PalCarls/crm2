'use strict';const a599_0x496c2b=a599_0x3303;(function(_0x2e1eb0,_0x599a8f){const _0x515ea9=a599_0x3303,_0x1022c6=_0x2e1eb0();while(!![]){try{const _0x38cf43=-parseInt(_0x515ea9(0x99))/0x1*(-parseInt(_0x515ea9(0x8c))/0x2)+-parseInt(_0x515ea9(0xa0))/0x3+parseInt(_0x515ea9(0x84))/0x4+-parseInt(_0x515ea9(0x9c))/0x5*(-parseInt(_0x515ea9(0x91))/0x6)+parseInt(_0x515ea9(0x97))/0x7*(-parseInt(_0x515ea9(0x86))/0x8)+parseInt(_0x515ea9(0xa5))/0x9*(-parseInt(_0x515ea9(0x82))/0xa)+-parseInt(_0x515ea9(0xa1))/0xb*(parseInt(_0x515ea9(0xa4))/0xc);if(_0x38cf43===_0x599a8f)break;else _0x1022c6['push'](_0x1022c6['shift']());}catch(_0x1d7f9b){_0x1022c6['push'](_0x1022c6['shift']());}}}(a599_0x3d4d,0x694f7));var __importDefault=this&&this['__importDefault']||function(_0x4866d3){return _0x4866d3&&_0x4866d3['__esModule']?_0x4866d3:{'default':_0x4866d3};};function a599_0x3303(_0x305878,_0x294d2e){const _0x3d4dee=a599_0x3d4d();return a599_0x3303=function(_0x330316,_0x3c017f){_0x330316=_0x330316-0x7d;let _0x3f9043=_0x3d4dee[_0x330316];return _0x3f9043;},a599_0x3303(_0x305878,_0x294d2e);}function a599_0x3d4d(){const _0x298b08=['10TCqfjS','open','2419752tLFCQV','../../models/Contact','176slqeLq','contact','date-fns','../../models/Queue','number','startOfDay','237934gfQdBe','__esModule','endOfDay','findAll','col','1214682ANYYwG','DESC','defineProperty','lodash','companyId','profilePicUrl','153902IHLBjy','parseISO','1KjUQKq','default','intersection','20Betfsz','whatsappId','../../models/User','profile','434226rfzvjD','4506711bWqvxG','sequelize','../../models/Ticket','12SVIGzf','577863jeKVjh','name','user','updatedAt','between','push','contactId','queue','queueId','urlPicture'];a599_0x3d4d=function(){return _0x298b08;};return a599_0x3d4d();}Object[a599_0x496c2b(0x93)](exports,a599_0x496c2b(0x8d),{'value':!![]});const sequelize_1=require(a599_0x496c2b(0xa2)),date_fns_1=require(a599_0x496c2b(0x88)),Ticket_1=__importDefault(require(a599_0x496c2b(0xa3))),User_1=__importDefault(require(a599_0x496c2b(0x9e))),Contact_1=__importDefault(require(a599_0x496c2b(0x85))),Queue_1=__importDefault(require(a599_0x496c2b(0x89))),lodash_1=require(a599_0x496c2b(0x94)),TicketsQueuesService=async({dateStart:_0x28447c,dateEnd:_0x16e680,status:_0x58a46c,userId:_0x145dd1,queuesIds:_0x5b7989,companyId:_0xfb43fe,showAll:_0x28987d,profile:_0x4f360a})=>{const _0x5eeb17=a599_0x496c2b;let _0x6a9773={};const _0x277abd=[{'model':Contact_1[_0x5eeb17(0x9a)],'as':_0x5eeb17(0x87),'attributes':['id',_0x5eeb17(0xa6),_0x5eeb17(0x8a),_0x5eeb17(0x96),_0x5eeb17(0x95),_0x5eeb17(0x81)]},{'model':User_1[_0x5eeb17(0x9a)],'as':_0x5eeb17(0xa7),'attributes':['id',_0x5eeb17(0xa6),_0x5eeb17(0x9f)]},{'model':Queue_1['default'],'as':_0x5eeb17(0x7f)}];if(_0x58a46c){const _0x268c0c=[],_0x3f2435=await Ticket_1['default'][_0x5eeb17(0x8f)]({'where':{'status':_0x5eeb17(0x83)},'group':[_0x5eeb17(0x95),_0x5eeb17(0x7e),_0x5eeb17(0x80),_0x5eeb17(0x9d)],'attributes':[_0x5eeb17(0x95),_0x5eeb17(0x7e),_0x5eeb17(0x80),'whatsappId',[(0x0,sequelize_1['fn'])('max',(0x0,sequelize_1[_0x5eeb17(0x90)])('id')),'id']]});_0x3f2435&&_0x268c0c[_0x5eeb17(0x7d)](_0x3f2435['map'](_0x459a84=>_0x459a84['id']));const _0xc2d822=(0x0,lodash_1[_0x5eeb17(0x9b)])(..._0x268c0c);_0x6a9773={..._0x6a9773,'id':{[sequelize_1['Op']['in']]:_0xc2d822}};}_0x4f360a===_0x5eeb17(0xa7)&&(_0x6a9773={..._0x6a9773,'userId':_0x145dd1});_0x28447c&&_0x16e680&&(_0x6a9773={..._0x6a9773,'createdAt':{[sequelize_1['Op'][_0x5eeb17(0xa9)]]:[+(0x0,date_fns_1[_0x5eeb17(0x8b)])((0x0,date_fns_1[_0x5eeb17(0x98)])(_0x28447c)),+(0x0,date_fns_1[_0x5eeb17(0x8e)])((0x0,date_fns_1[_0x5eeb17(0x98)])(_0x16e680))]}});const _0xc5c018=await Ticket_1[_0x5eeb17(0x9a)][_0x5eeb17(0x8f)]({'where':{..._0x6a9773,'companyId':_0xfb43fe},'include':_0x277abd,'order':[[_0x5eeb17(0xa8),_0x5eeb17(0x92)]]});return _0xc5c018;};exports['default']=TicketsQueuesService;