<<<<<<< HEAD
'use strict';const a589_0x1f75b2=a589_0x4024;(function(_0x409bd8,_0x3e5362){const _0x180ebb=a589_0x4024,_0x4c0046=_0x409bd8();while(!![]){try{const _0x1a990b=-parseInt(_0x180ebb(0x105))/0x1*(-parseInt(_0x180ebb(0xe8))/0x2)+-parseInt(_0x180ebb(0xfd))/0x3+-parseInt(_0x180ebb(0xe5))/0x4*(parseInt(_0x180ebb(0x106))/0x5)+parseInt(_0x180ebb(0x108))/0x6+-parseInt(_0x180ebb(0xe6))/0x7+-parseInt(_0x180ebb(0xf2))/0x8+parseInt(_0x180ebb(0xff))/0x9;if(_0x1a990b===_0x3e5362)break;else _0x4c0046['push'](_0x4c0046['shift']());}catch(_0x2bd806){_0x4c0046['push'](_0x4c0046['shift']());}}}(a589_0x35b9,0x5d9a6));var __importDefault=this&&this[a589_0x1f75b2(0xf7)]||function(_0x57ffc7){return _0x57ffc7&&_0x57ffc7['__esModule']?_0x57ffc7:{'default':_0x57ffc7};};function a589_0x4024(_0x166f88,_0x2fc55a){const _0x35b958=a589_0x35b9();return a589_0x4024=function(_0x4024e8,_0x18c144){_0x4024e8=_0x4024e8-0xe3;let _0xfd0dd0=_0x35b958[_0x4024e8];return _0xfd0dd0;},a589_0x4024(_0x166f88,_0x2fc55a);}Object[a589_0x1f75b2(0xeb)](exports,a589_0x1f75b2(0xee),{'value':!![]});const sequelize_1=require(a589_0x1f75b2(0x102)),date_fns_1=require('date-fns'),Ticket_1=__importDefault(require(a589_0x1f75b2(0x103))),User_1=__importDefault(require(a589_0x1f75b2(0xf3))),Contact_1=__importDefault(require(a589_0x1f75b2(0xf8))),Queue_1=__importDefault(require(a589_0x1f75b2(0xec))),lodash_1=require(a589_0x1f75b2(0x10a)),TicketsQueuesService=async({dateStart:_0x5463e1,dateEnd:_0x140b12,status:_0xc76a7f,userId:_0x3283da,queuesIds:_0x53b2bf,companyId:_0x3898d1,showAll:_0x2c1274,profile:_0x1119e6})=>{const _0x266bda=a589_0x1f75b2;let _0x442714={};const _0x3f6e6d=[{'model':Contact_1[_0x266bda(0xf6)],'as':'contact','attributes':['id',_0x266bda(0xfc),_0x266bda(0x107),_0x266bda(0xe3),'companyId','urlPicture']},{'model':User_1['default'],'as':_0x266bda(0xf5),'attributes':['id',_0x266bda(0xfc),_0x266bda(0xf1)]},{'model':Queue_1['default'],'as':_0x266bda(0xea)}];if(_0xc76a7f){const _0x517124=[],_0xcde0d6=await Ticket_1['default'][_0x266bda(0xfb)]({'where':{'status':_0x266bda(0xf4)},'group':[_0x266bda(0xef),_0x266bda(0x104),_0x266bda(0xf9),_0x266bda(0xed)],'attributes':[_0x266bda(0xef),_0x266bda(0x104),_0x266bda(0xf9),_0x266bda(0xed),[(0x0,sequelize_1['fn'])(_0x266bda(0xe9),(0x0,sequelize_1[_0x266bda(0xfa)])('id')),'id']]});_0xcde0d6&&_0x517124[_0x266bda(0x101)](_0xcde0d6[_0x266bda(0xe7)](_0x3333c8=>_0x3333c8['id']));const _0x23103d=(0x0,lodash_1[_0x266bda(0x109)])(..._0x517124);_0x442714={..._0x442714,'id':{[sequelize_1['Op']['in']]:_0x23103d}};}_0x1119e6===_0x266bda(0xf5)&&(_0x442714={..._0x442714,'userId':_0x3283da});_0x5463e1&&_0x140b12&&(_0x442714={..._0x442714,'createdAt':{[sequelize_1['Op']['between']]:[+(0x0,date_fns_1['startOfDay'])((0x0,date_fns_1[_0x266bda(0xe4)])(_0x5463e1)),+(0x0,date_fns_1[_0x266bda(0xf0)])((0x0,date_fns_1[_0x266bda(0xe4)])(_0x140b12))]}});const _0x58d196=await Ticket_1[_0x266bda(0xf6)][_0x266bda(0xfb)]({'where':{..._0x442714,'companyId':_0x3898d1},'include':_0x3f6e6d,'order':[[_0x266bda(0x100),_0x266bda(0xfe)]]});return _0x58d196;};function a589_0x35b9(){const _0x1daf09=['../../models/Ticket','contactId','137274XkLHIe','55atLhyE','number','2286468vtmWnx','intersection','lodash','profilePicUrl','parseISO','26168SbFfKL','2641275cGOxYv','map','2QSkslp','max','queue','defineProperty','../../models/Queue','whatsappId','__esModule','companyId','endOfDay','profile','4179616CQhPcq','../../models/User','open','user','default','__importDefault','../../models/Contact','queueId','col','findAll','name','1953738wcvgDj','DESC','13392279ndFAyI','updatedAt','push','sequelize'];a589_0x35b9=function(){return _0x1daf09;};return a589_0x35b9();}exports[a589_0x1f75b2(0xf6)]=TicketsQueuesService;
=======
'use strict';const a588_0x5cfaae=a588_0x5c02;(function(_0x2267d5,_0x3ae4c6){const _0x57e1b9=a588_0x5c02,_0x146dea=_0x2267d5();while(!![]){try{const _0x480539=parseInt(_0x57e1b9(0xdb))/0x1*(parseInt(_0x57e1b9(0xe0))/0x2)+-parseInt(_0x57e1b9(0xe8))/0x3*(parseInt(_0x57e1b9(0xd0))/0x4)+-parseInt(_0x57e1b9(0xed))/0x5+-parseInt(_0x57e1b9(0xdf))/0x6+parseInt(_0x57e1b9(0xe2))/0x7+parseInt(_0x57e1b9(0xd5))/0x8*(parseInt(_0x57e1b9(0xde))/0x9)+parseInt(_0x57e1b9(0xe6))/0xa*(parseInt(_0x57e1b9(0xd2))/0xb);if(_0x480539===_0x3ae4c6)break;else _0x146dea['push'](_0x146dea['shift']());}catch(_0x505864){_0x146dea['push'](_0x146dea['shift']());}}}(a588_0x565f,0x37cbb));var __importDefault=this&&this[a588_0x5cfaae(0xf0)]||function(_0x1bf67b){const _0x2255cd=a588_0x5cfaae;return _0x1bf67b&&_0x1bf67b[_0x2255cd(0xdc)]?_0x1bf67b:{'default':_0x1bf67b};};Object['defineProperty'](exports,a588_0x5cfaae(0xdc),{'value':!![]});const sequelize_1=require(a588_0x5cfaae(0xee)),date_fns_1=require(a588_0x5cfaae(0xdd)),Ticket_1=__importDefault(require(a588_0x5cfaae(0xe9))),User_1=__importDefault(require(a588_0x5cfaae(0xeb))),Contact_1=__importDefault(require('../../models/Contact')),Queue_1=__importDefault(require(a588_0x5cfaae(0xd4))),lodash_1=require('lodash'),TicketsQueuesService=async({dateStart:_0x501c08,dateEnd:_0x5695f6,status:_0x5b0e86,userId:_0x1111ef,queuesIds:_0x35ab31,companyId:_0x3cde62,showAll:_0x37cd67,profile:_0x5df9f0})=>{const _0x2ddf97=a588_0x5cfaae;let _0x4326c7={};const _0x43f937=[{'model':Contact_1[_0x2ddf97(0xe1)],'as':_0x2ddf97(0xef),'attributes':['id',_0x2ddf97(0xd6),'number',_0x2ddf97(0xea),'companyId',_0x2ddf97(0xf2)]},{'model':User_1[_0x2ddf97(0xe1)],'as':_0x2ddf97(0xf3),'attributes':['id',_0x2ddf97(0xd6),_0x2ddf97(0xcf)]},{'model':Queue_1[_0x2ddf97(0xe1)],'as':'queue'}];if(_0x5b0e86){const _0xacbd30=[],_0x441a98=await Ticket_1[_0x2ddf97(0xe1)][_0x2ddf97(0xe5)]({'where':{'status':_0x2ddf97(0xe3)},'group':[_0x2ddf97(0xe7),_0x2ddf97(0xcd),_0x2ddf97(0xd9),_0x2ddf97(0xd3)],'attributes':[_0x2ddf97(0xe7),_0x2ddf97(0xcd),_0x2ddf97(0xd9),'whatsappId',[(0x0,sequelize_1['fn'])(_0x2ddf97(0xf1),(0x0,sequelize_1[_0x2ddf97(0xda)])('id')),'id']]});_0x441a98&&_0xacbd30[_0x2ddf97(0xce)](_0x441a98[_0x2ddf97(0xe4)](_0x20ebf5=>_0x20ebf5['id']));const _0x466a0d=(0x0,lodash_1[_0x2ddf97(0xd1)])(..._0xacbd30);_0x4326c7={..._0x4326c7,'id':{[sequelize_1['Op']['in']]:_0x466a0d}};}_0x5df9f0===_0x2ddf97(0xf3)&&(_0x4326c7={..._0x4326c7,'userId':_0x1111ef});_0x501c08&&_0x5695f6&&(_0x4326c7={..._0x4326c7,'createdAt':{[sequelize_1['Op'][_0x2ddf97(0xcc)]]:[+(0x0,date_fns_1[_0x2ddf97(0xf4)])((0x0,date_fns_1[_0x2ddf97(0xd7)])(_0x501c08)),+(0x0,date_fns_1[_0x2ddf97(0xec)])((0x0,date_fns_1[_0x2ddf97(0xd7)])(_0x5695f6))]}});const _0x7ae9d1=await Ticket_1[_0x2ddf97(0xe1)][_0x2ddf97(0xe5)]({'where':{..._0x4326c7,'companyId':_0x3cde62},'include':_0x43f937,'order':[[_0x2ddf97(0xd8),'DESC']]});return _0x7ae9d1;};function a588_0x5c02(_0x192fc7,_0x4f3b69){const _0x565f19=a588_0x565f();return a588_0x5c02=function(_0x5c0262,_0x977f86){_0x5c0262=_0x5c0262-0xcc;let _0x3f43d9=_0x565f19[_0x5c0262];return _0x3f43d9;},a588_0x5c02(_0x192fc7,_0x4f3b69);}function a588_0x565f(){const _0x4c1a67=['map','findAll','746110uyOkvO','companyId','21831LRIYfB','../../models/Ticket','profilePicUrl','../../models/User','endOfDay','734570ycQeXe','sequelize','contact','__importDefault','max','urlPicture','user','startOfDay','between','contactId','push','profile','164kqQjlk','intersection','121TZcyly','whatsappId','../../models/Queue','371656dgVBOp','name','parseISO','updatedAt','queueId','col','7KnBeRE','__esModule','date-fns','9wBpuAo','1276986cfQSwy','2518AUluNr','default','74550psNXyi','open'];a588_0x565f=function(){return _0x4c1a67;};return a588_0x565f();}exports[a588_0x5cfaae(0xe1)]=TicketsQueuesService;
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
