'use strict';const a542_0x572c3d=a542_0x450f;(function(_0x29b179,_0x5d674a){const _0x38c4b5=a542_0x450f,_0x476051=_0x29b179();while(!![]){try{const _0x3db64d=parseInt(_0x38c4b5(0x8f))/0x1*(parseInt(_0x38c4b5(0xaf))/0x2)+-parseInt(_0x38c4b5(0x9c))/0x3+parseInt(_0x38c4b5(0x9f))/0x4*(-parseInt(_0x38c4b5(0x9d))/0x5)+-parseInt(_0x38c4b5(0xa8))/0x6*(parseInt(_0x38c4b5(0xa1))/0x7)+parseInt(_0x38c4b5(0xa5))/0x8*(-parseInt(_0x38c4b5(0xaa))/0x9)+parseInt(_0x38c4b5(0x98))/0xa*(parseInt(_0x38c4b5(0x9b))/0xb)+parseInt(_0x38c4b5(0xa3))/0xc;if(_0x3db64d===_0x5d674a)break;else _0x476051['push'](_0x476051['shift']());}catch(_0x43dd80){_0x476051['push'](_0x476051['shift']());}}}(a542_0x2b24,0xe204b));var __importDefault=this&&this[a542_0x572c3d(0x95)]||function(_0x5c1a32){return _0x5c1a32&&_0x5c1a32['__esModule']?_0x5c1a32:{'default':_0x5c1a32};};Object['defineProperty'](exports,a542_0x572c3d(0x90),{'value':!![]});function a542_0x450f(_0x199c1d,_0x223ba0){const _0x2b24b6=a542_0x2b24();return a542_0x450f=function(_0x450f42,_0x41bc35){_0x450f42=_0x450f42-0x8f;let _0x27db06=_0x2b24b6[_0x450f42];return _0x27db06;},a542_0x450f(_0x199c1d,_0x223ba0);}const sequelize_1=require('sequelize'),date_fns_1=require(a542_0x572c3d(0xa0)),Ticket_1=__importDefault(require(a542_0x572c3d(0xb1))),User_1=__importDefault(require('../../models/User')),Contact_1=__importDefault(require('../../models/Contact')),Queue_1=__importDefault(require('../../models/Queue')),lodash_1=require('lodash'),TicketsQueuesService=async({dateStart:_0x5caee6,dateEnd:_0x47ffc3,status:_0x3fcc76,userId:_0x59873a,queuesIds:_0x1b25a3,companyId:_0x2705b3,showAll:_0x209ead,profile:_0x5d3121})=>{const _0x2e56e6=a542_0x572c3d;let _0x174326={};const _0x1f9eb4=[{'model':Contact_1[_0x2e56e6(0xb0)],'as':_0x2e56e6(0xab),'attributes':['id',_0x2e56e6(0xa7),'number',_0x2e56e6(0x91)]},{'model':User_1['default'],'as':_0x2e56e6(0xa2),'attributes':['id',_0x2e56e6(0xa7),_0x2e56e6(0x92)]},{'model':Queue_1[_0x2e56e6(0xb0)],'as':_0x2e56e6(0xac)}];if(_0x3fcc76){const _0x222ef1=[],_0x5df39f=await Ticket_1[_0x2e56e6(0xb0)][_0x2e56e6(0x96)]({'where':{'status':_0x2e56e6(0x99)},'group':['companyId',_0x2e56e6(0x9e),_0x2e56e6(0x94),_0x2e56e6(0x93)],'attributes':[_0x2e56e6(0xae),'contactId',_0x2e56e6(0x94),_0x2e56e6(0x93),[(0x0,sequelize_1['fn'])(_0x2e56e6(0x9a),(0x0,sequelize_1['col'])('id')),'id']]});_0x5df39f&&_0x222ef1[_0x2e56e6(0xa4)](_0x5df39f[_0x2e56e6(0xa6)](_0x339c5a=>_0x339c5a['id']));const _0x19cd19=(0x0,lodash_1[_0x2e56e6(0xad)])(..._0x222ef1);_0x174326={..._0x174326,'id':{[sequelize_1['Op']['in']]:_0x19cd19}};}_0x5d3121===_0x2e56e6(0xa2)&&(_0x174326={..._0x174326,'userId':_0x59873a});_0x5caee6&&_0x47ffc3&&(_0x174326={..._0x174326,'createdAt':{[sequelize_1['Op']['between']]:[+(0x0,date_fns_1['startOfDay'])((0x0,date_fns_1[_0x2e56e6(0x97)])(_0x5caee6)),+(0x0,date_fns_1['endOfDay'])((0x0,date_fns_1[_0x2e56e6(0x97)])(_0x47ffc3))]}});const _0x111bcd=await Ticket_1[_0x2e56e6(0xb0)][_0x2e56e6(0x96)]({'where':{..._0x174326,'companyId':_0x2705b3},'include':_0x1f9eb4,'order':[[_0x2e56e6(0xa9),'DESC']]});return _0x111bcd;};exports['default']=TicketsQueuesService;function a542_0x2b24(){const _0x40d020=['push','2986280nKqTVH','map','name','2688XvcNUe','updatedAt','9GSuFye','contact','queue','intersection','companyId','162692RyxzgL','default','../../models/Ticket','2VXoxhb','__esModule','profilePicUrl','profile','whatsappId','queueId','__importDefault','findAll','parseISO','10hHQpYy','open','max','1379180MCVSAo','4721451vVFtyS','6536510Mgxefi','contactId','4LiGBHU','date-fns','1498OtQIPV','user','47855700breaBO'];a542_0x2b24=function(){return _0x40d020;};return a542_0x2b24();}