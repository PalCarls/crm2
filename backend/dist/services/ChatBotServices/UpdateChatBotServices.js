'use strict';const a408_0x3bf5c0=a408_0x4786;(function(_0x38e00e,_0x2ecbaf){const _0x1943bb=a408_0x4786,_0x16faa7=_0x38e00e();while(!![]){try{const _0x3cfcfe=-parseInt(_0x1943bb(0x14a))/0x1*(parseInt(_0x1943bb(0x145))/0x2)+-parseInt(_0x1943bb(0x14c))/0x3*(parseInt(_0x1943bb(0x137))/0x4)+parseInt(_0x1943bb(0x139))/0x5*(-parseInt(_0x1943bb(0x13a))/0x6)+-parseInt(_0x1943bb(0x138))/0x7+parseInt(_0x1943bb(0x13e))/0x8+-parseInt(_0x1943bb(0x143))/0x9*(-parseInt(_0x1943bb(0x136))/0xa)+parseInt(_0x1943bb(0x148))/0xb;if(_0x3cfcfe===_0x2ecbaf)break;else _0x16faa7['push'](_0x16faa7['shift']());}catch(_0x5e715e){_0x16faa7['push'](_0x16faa7['shift']());}}}(a408_0x2623,0x63c5c));function a408_0x2623(){const _0x2f4c5c=['1285gAXbxW','greetingMessage','117IaRczG','optUserId','asc','optIntegrationId','upsert','map','ASC','__esModule','options','optFileId','queueType','2707490Cakhlp','83428APgrca','3320877NIkURy','244745LZnmJa','90EZZhIg','destroy','optQueueId','default','6145152LAdwwD','name','findIndex','defineProperty','mainChatbot','9XQqqWz','findOne','166BbGEhn','all','ERR_NO_CHATBOT_FOUND','16483489XTklIc','../../errors/AppError'];a408_0x2623=function(){return _0x2f4c5c;};return a408_0x2623();}var __importDefault=this&&this['__importDefault']||function(_0x282a95){return _0x282a95&&_0x282a95['__esModule']?_0x282a95:{'default':_0x282a95};};Object[a408_0x3bf5c0(0x141)](exports,a408_0x3bf5c0(0x132),{'value':!![]});function a408_0x4786(_0x31d243,_0x11500d){const _0x2623af=a408_0x2623();return a408_0x4786=function(_0x478641,_0x2cff97){_0x478641=_0x478641-0x12e;let _0x1c0cd7=_0x2623af[_0x478641];return _0x1c0cd7;},a408_0x4786(_0x31d243,_0x11500d);}const AppError_1=__importDefault(require(a408_0x3bf5c0(0x149))),Chatbot_1=__importDefault(require('../../models/Chatbot')),UpdateChatBotServices=async(_0xbcf994,_0x279e26)=>{const _0x3fdb50=a408_0x3bf5c0,{options:_0x3f0599}=_0x279e26,_0x1065a1=await Chatbot_1[_0x3fdb50(0x13d)][_0x3fdb50(0x144)]({'where':{'id':_0xbcf994},'include':['options'],'order':[['id',_0x3fdb50(0x14e)]]});if(!_0x1065a1)throw new AppError_1[(_0x3fdb50(0x13d))](_0x3fdb50(0x147),0x194);return _0x3f0599&&(await Promise['all'](_0x3f0599[_0x3fdb50(0x130)](async _0xe00ad6=>{const _0x377e95=_0x3fdb50;await Chatbot_1[_0x377e95(0x13d)][_0x377e95(0x12f)]({..._0xe00ad6,'chatbotId':_0x1065a1['id']});})),await Promise[_0x3fdb50(0x146)](_0x1065a1[_0x3fdb50(0x133)][_0x3fdb50(0x130)](async _0x21ac16=>{const _0x440e80=_0x3fdb50,_0x521399=_0x3f0599[_0x440e80(0x140)](_0x288f1c=>_0x288f1c['id']===_0x21ac16['id']);_0x521399===-0x1&&await Chatbot_1['default'][_0x440e80(0x13b)]({'where':{'id':_0x21ac16['id']}});}))),await _0x1065a1['update'](_0x279e26),await _0x1065a1['reload']({'include':[{'model':Chatbot_1['default'],'as':_0x3fdb50(0x142),'attributes':['id',_0x3fdb50(0x13f),_0x3fdb50(0x14b),_0x3fdb50(0x135),_0x3fdb50(0x12e),_0x3fdb50(0x13c),_0x3fdb50(0x14d),_0x3fdb50(0x134)],'order':[[{'model':Chatbot_1[_0x3fdb50(0x13d)],'as':_0x3fdb50(0x142)},'id',_0x3fdb50(0x131)]]},{'model':Chatbot_1[_0x3fdb50(0x13d)],'as':'options','order':[[{'model':Chatbot_1[_0x3fdb50(0x13d)],'as':_0x3fdb50(0x133)},'id',_0x3fdb50(0x131)]],'attributes':['id',_0x3fdb50(0x13f),_0x3fdb50(0x14b),_0x3fdb50(0x135),_0x3fdb50(0x12e),_0x3fdb50(0x13c),_0x3fdb50(0x14d),_0x3fdb50(0x134)]}],'order':[['id',_0x3fdb50(0x14e)]]}),_0x1065a1;};exports['default']=UpdateChatBotServices;