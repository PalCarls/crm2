'use strict';const a386_0x538831=a386_0x16ca;(function(_0x5c9631,_0x3c6cd0){const _0x442ff0=a386_0x16ca,_0x29b224=_0x5c9631();while(!![]){try{const _0x32c8e4=parseInt(_0x442ff0(0x6d))/0x1*(parseInt(_0x442ff0(0x81))/0x2)+parseInt(_0x442ff0(0x6f))/0x3*(parseInt(_0x442ff0(0x65))/0x4)+-parseInt(_0x442ff0(0x85))/0x5+parseInt(_0x442ff0(0x6a))/0x6+parseInt(_0x442ff0(0x7d))/0x7+-parseInt(_0x442ff0(0x6e))/0x8*(parseInt(_0x442ff0(0x66))/0x9)+-parseInt(_0x442ff0(0x83))/0xa*(parseInt(_0x442ff0(0x78))/0xb);if(_0x32c8e4===_0x3c6cd0)break;else _0x29b224['push'](_0x29b224['shift']());}catch(_0x132008){_0x29b224['push'](_0x29b224['shift']());}}}(a386_0x21d9,0xccc98));function a386_0x16ca(_0x48ddaa,_0x59ee8e){const _0x21d972=a386_0x21d9();return a386_0x16ca=function(_0x16ca9d,_0x52ae1d){_0x16ca9d=_0x16ca9d-0x65;let _0x2bf4cc=_0x21d972[_0x16ca9d];return _0x2bf4cc;},a386_0x16ca(_0x48ddaa,_0x59ee8e);}function a386_0x21d9(){const _0xd23c2a=['3840303pzQNAe','defineProperty','../../errors/AppError','mainChatbot','all','options','queueType','ASC','ERR_NO_CHATBOT_FOUND','8767LNdWPN','../../models/Chatbot','findIndex','map','update','6584879GcTbzd','destroy','findOne','greetingMessage','2962268BIrbWW','optIntegrationId','36820fIIJXE','asc','3641930ZQTOGD','name','optQueueId','4fAzbKs','25614qtZqlJ','reload','optFileId','__esModule','6984624fVmwZk','optUserId','default','1asSKly','1024EDTGuj'];a386_0x21d9=function(){return _0xd23c2a;};return a386_0x21d9();}var __importDefault=this&&this['__importDefault']||function(_0x236293){const _0x400a73=a386_0x16ca;return _0x236293&&_0x236293[_0x400a73(0x69)]?_0x236293:{'default':_0x236293};};Object[a386_0x538831(0x70)](exports,a386_0x538831(0x69),{'value':!![]});const AppError_1=__importDefault(require(a386_0x538831(0x71))),Chatbot_1=__importDefault(require(a386_0x538831(0x79))),UpdateChatBotServices=async(_0x8de4be,_0x33f1b9)=>{const _0x32a57a=a386_0x538831,{options:_0x39d828}=_0x33f1b9,_0x5dfcc5=await Chatbot_1[_0x32a57a(0x6c)][_0x32a57a(0x7f)]({'where':{'id':_0x8de4be},'include':[_0x32a57a(0x74)],'order':[['id',_0x32a57a(0x84)]]});if(!_0x5dfcc5)throw new AppError_1['default'](_0x32a57a(0x77),0x194);return _0x39d828&&(await Promise[_0x32a57a(0x73)](_0x39d828['map'](async _0x50e31c=>{const _0x192489=_0x32a57a;await Chatbot_1[_0x192489(0x6c)]['upsert']({..._0x50e31c,'chatbotId':_0x5dfcc5['id']});})),await Promise['all'](_0x5dfcc5[_0x32a57a(0x74)][_0x32a57a(0x7b)](async _0x8fd080=>{const _0x1852e8=_0x32a57a,_0x5e6dfa=_0x39d828[_0x1852e8(0x7a)](_0xa20912=>_0xa20912['id']===_0x8fd080['id']);_0x5e6dfa===-0x1&&await Chatbot_1['default'][_0x1852e8(0x7e)]({'where':{'id':_0x8fd080['id']}});}))),await _0x5dfcc5[_0x32a57a(0x7c)](_0x33f1b9),await _0x5dfcc5[_0x32a57a(0x67)]({'include':[{'model':Chatbot_1[_0x32a57a(0x6c)],'as':_0x32a57a(0x72),'attributes':['id','name',_0x32a57a(0x80),'queueType',_0x32a57a(0x82),_0x32a57a(0x87),_0x32a57a(0x6b),_0x32a57a(0x68)],'order':[[{'model':Chatbot_1['default'],'as':_0x32a57a(0x72)},'id',_0x32a57a(0x76)]]},{'model':Chatbot_1[_0x32a57a(0x6c)],'as':_0x32a57a(0x74),'order':[[{'model':Chatbot_1[_0x32a57a(0x6c)],'as':'options'},'id',_0x32a57a(0x76)]],'attributes':['id',_0x32a57a(0x86),_0x32a57a(0x80),_0x32a57a(0x75),'optIntegrationId',_0x32a57a(0x87),_0x32a57a(0x6b),_0x32a57a(0x68)]}],'order':[['id',_0x32a57a(0x84)]]}),_0x5dfcc5;};exports[a386_0x538831(0x6c)]=UpdateChatBotServices;