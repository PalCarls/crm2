'use strict';const a386_0x1a20df=a386_0x5ec0;(function(_0x1522b8,_0x12c44a){const _0x187a7d=a386_0x5ec0,_0x1c2bc3=_0x1522b8();while(!![]){try{const _0x39d4fa=-parseInt(_0x187a7d(0x8c))/0x1*(parseInt(_0x187a7d(0x92))/0x2)+-parseInt(_0x187a7d(0x9e))/0x3*(-parseInt(_0x187a7d(0x90))/0x4)+parseInt(_0x187a7d(0x85))/0x5*(parseInt(_0x187a7d(0xa8))/0x6)+parseInt(_0x187a7d(0x89))/0x7+-parseInt(_0x187a7d(0x96))/0x8+-parseInt(_0x187a7d(0xa5))/0x9+-parseInt(_0x187a7d(0x9f))/0xa*(parseInt(_0x187a7d(0x8e))/0xb);if(_0x39d4fa===_0x12c44a)break;else _0x1c2bc3['push'](_0x1c2bc3['shift']());}catch(_0x31c5f9){_0x1c2bc3['push'](_0x1c2bc3['shift']());}}}(a386_0x23ba,0xa3d29));var __importDefault=this&&this[a386_0x1a20df(0xa1)]||function(_0x3fc10b){const _0x391abb=a386_0x1a20df;return _0x3fc10b&&_0x3fc10b[_0x391abb(0x9a)]?_0x3fc10b:{'default':_0x3fc10b};};Object[a386_0x1a20df(0x8d)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a386_0x1a20df(0xa3))),Chatbot_1=__importDefault(require(a386_0x1a20df(0x8a))),UpdateChatBotServices=async(_0x49e767,_0x455277)=>{const _0x74601d=a386_0x1a20df,{options:_0x2eebc0}=_0x455277,_0x5c0a38=await Chatbot_1[_0x74601d(0xa7)][_0x74601d(0x9d)]({'where':{'id':_0x49e767},'include':[_0x74601d(0x9b)],'order':[['id',_0x74601d(0x94)]]});if(!_0x5c0a38)throw new AppError_1['default'](_0x74601d(0x9c),0x194);return _0x2eebc0&&(await Promise[_0x74601d(0xa0)](_0x2eebc0[_0x74601d(0x97)](async _0x426719=>{const _0x57ec2c=_0x74601d;await Chatbot_1['default'][_0x57ec2c(0x86)]({..._0x426719,'chatbotId':_0x5c0a38['id']});})),await Promise[_0x74601d(0xa0)](_0x5c0a38[_0x74601d(0x9b)][_0x74601d(0x97)](async _0x22da1d=>{const _0x33f5ab=_0x74601d,_0x477164=_0x2eebc0[_0x33f5ab(0xa2)](_0x3d4cea=>_0x3d4cea['id']===_0x22da1d['id']);_0x477164===-0x1&&await Chatbot_1[_0x33f5ab(0xa7)][_0x33f5ab(0x88)]({'where':{'id':_0x22da1d['id']}});}))),await _0x5c0a38['update'](_0x455277),await _0x5c0a38[_0x74601d(0x93)]({'include':[{'model':Chatbot_1[_0x74601d(0xa7)],'as':_0x74601d(0x99),'attributes':['id','name','greetingMessage','queueType',_0x74601d(0xa6),_0x74601d(0x91),_0x74601d(0x95),_0x74601d(0xa4)],'order':[[{'model':Chatbot_1[_0x74601d(0xa7)],'as':'mainChatbot'},'id',_0x74601d(0x87)]]},{'model':Chatbot_1[_0x74601d(0xa7)],'as':'options','order':[[{'model':Chatbot_1[_0x74601d(0xa7)],'as':_0x74601d(0x9b)},'id',_0x74601d(0x87)]],'attributes':['id',_0x74601d(0x8b),_0x74601d(0x8f),_0x74601d(0x98),_0x74601d(0xa6),_0x74601d(0x91),_0x74601d(0x95),_0x74601d(0xa4)]}],'order':[['id',_0x74601d(0x94)]]}),_0x5c0a38;};function a386_0x5ec0(_0x3df03e,_0x2c76fa){const _0x23ba18=a386_0x23ba();return a386_0x5ec0=function(_0x5ec09a,_0x4e38b9){_0x5ec09a=_0x5ec09a-0x85;let _0x49916e=_0x23ba18[_0x5ec09a];return _0x49916e;},a386_0x5ec0(_0x3df03e,_0x2c76fa);}function a386_0x23ba(){const _0xcab3ba=['7330362DoGtPe','5ZpqFAR','upsert','ASC','destroy','847945QvVdxX','../../models/Chatbot','name','3494LRaiME','defineProperty','539sMCTDB','greetingMessage','885776nWnkaa','optQueueId','194cqxZug','reload','asc','optUserId','5341664zYyVkH','map','queueType','mainChatbot','__esModule','options','ERR_NO_CHATBOT_FOUND','findOne','12rfDofZ','81410DPYWjI','all','__importDefault','findIndex','../../errors/AppError','optFileId','1368774MQLuFV','optIntegrationId','default'];a386_0x23ba=function(){return _0xcab3ba;};return a386_0x23ba();}exports[a386_0x1a20df(0xa7)]=UpdateChatBotServices;