'use strict';const a373_0x304b08=a373_0x1dfe;function a373_0x1dfe(_0x558924,_0x221a4a){const _0x510d68=a373_0x510d();return a373_0x1dfe=function(_0x1dfea0,_0xd81a4f){_0x1dfea0=_0x1dfea0-0xa7;let _0x341201=_0x510d68[_0x1dfea0];return _0x341201;},a373_0x1dfe(_0x558924,_0x221a4a);}(function(_0x508b6f,_0x501b7d){const _0x50d928=a373_0x1dfe,_0xf06174=_0x508b6f();while(!![]){try{const _0x4a44ba=-parseInt(_0x50d928(0xaf))/0x1*(-parseInt(_0x50d928(0xc6))/0x2)+parseInt(_0x50d928(0xb6))/0x3+parseInt(_0x50d928(0xa8))/0x4+parseInt(_0x50d928(0xa9))/0x5*(parseInt(_0x50d928(0xab))/0x6)+parseInt(_0x50d928(0xb1))/0x7*(parseInt(_0x50d928(0xae))/0x8)+-parseInt(_0x50d928(0xb0))/0x9+parseInt(_0x50d928(0xc7))/0xa*(-parseInt(_0x50d928(0xbf))/0xb);if(_0x4a44ba===_0x501b7d)break;else _0xf06174['push'](_0xf06174['shift']());}catch(_0x4edd45){_0xf06174['push'](_0xf06174['shift']());}}}(a373_0x510d,0xb22d7));function a373_0x510d(){const _0xda052c=['optFileId','mainChatbot','5378808hVlnbU','220675nufPbY','asc','42TgLsTl','upsert','queueType','840928kdtTdT','269481ZoZvKD','7691130gPAodG','77DbXIba','defineProperty','map','name','__esModule','1386156DKJGpg','findOne','findIndex','all','greetingMessage','destroy','update','default','optIntegrationId','7175927hbtTkx','optQueueId','reload','options','../../errors/AppError','ASC','optUserId','2UpXHzC','30BTHzon'];a373_0x510d=function(){return _0xda052c;};return a373_0x510d();}var __importDefault=this&&this['__importDefault']||function(_0x4c3ee8){const _0x521044=a373_0x1dfe;return _0x4c3ee8&&_0x4c3ee8[_0x521044(0xb5)]?_0x4c3ee8:{'default':_0x4c3ee8};};Object[a373_0x304b08(0xb2)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a373_0x304b08(0xc3))),Chatbot_1=__importDefault(require('../../models/Chatbot')),UpdateChatBotServices=async(_0x16bb0f,_0x54bde6)=>{const _0x32e08a=a373_0x304b08,{options:_0x4d9920}=_0x54bde6,_0x3fd7c1=await Chatbot_1[_0x32e08a(0xbd)][_0x32e08a(0xb7)]({'where':{'id':_0x16bb0f},'include':[_0x32e08a(0xc2)],'order':[['id',_0x32e08a(0xaa)]]});if(!_0x3fd7c1)throw new AppError_1[(_0x32e08a(0xbd))]('ERR_NO_CHATBOT_FOUND',0x194);return _0x4d9920&&(await Promise[_0x32e08a(0xb9)](_0x4d9920[_0x32e08a(0xb3)](async _0x133417=>{const _0x2ef915=_0x32e08a;await Chatbot_1[_0x2ef915(0xbd)][_0x2ef915(0xac)]({..._0x133417,'chatbotId':_0x3fd7c1['id']});})),await Promise[_0x32e08a(0xb9)](_0x3fd7c1[_0x32e08a(0xc2)][_0x32e08a(0xb3)](async _0xf29b39=>{const _0x182956=_0x32e08a,_0x2b26fc=_0x4d9920[_0x182956(0xb8)](_0x42d271=>_0x42d271['id']===_0xf29b39['id']);_0x2b26fc===-0x1&&await Chatbot_1[_0x182956(0xbd)][_0x182956(0xbb)]({'where':{'id':_0xf29b39['id']}});}))),await _0x3fd7c1[_0x32e08a(0xbc)](_0x54bde6),await _0x3fd7c1[_0x32e08a(0xc1)]({'include':[{'model':Chatbot_1['default'],'as':_0x32e08a(0xa7),'attributes':['id',_0x32e08a(0xb4),_0x32e08a(0xba),_0x32e08a(0xad),_0x32e08a(0xbe),_0x32e08a(0xc0),_0x32e08a(0xc5),_0x32e08a(0xc8)],'order':[[{'model':Chatbot_1['default'],'as':_0x32e08a(0xa7)},'id',_0x32e08a(0xc4)]]},{'model':Chatbot_1[_0x32e08a(0xbd)],'as':_0x32e08a(0xc2),'order':[[{'model':Chatbot_1[_0x32e08a(0xbd)],'as':_0x32e08a(0xc2)},'id',_0x32e08a(0xc4)]],'attributes':['id',_0x32e08a(0xb4),'greetingMessage',_0x32e08a(0xad),_0x32e08a(0xbe),_0x32e08a(0xc0),_0x32e08a(0xc5),_0x32e08a(0xc8)]}],'order':[['id','asc']]}),_0x3fd7c1;};exports[a373_0x304b08(0xbd)]=UpdateChatBotServices;