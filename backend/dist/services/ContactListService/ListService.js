'use strict';const a445_0x4b70c4=a445_0x4da3;function a445_0x5dcf(){const _0x4c169a=['count','contacts','4571523OyphqS','../../models/ContactList','1670228sTpckR','contactsCount','LOWER','LIKE','1hrsDzx','1097330eCRFDn','8ctUhrm','388688mNWgSk','ASC','__importDefault','col','../../models/ContactListItem','ContactList.id','lodash','__esModule','3064302wsQgCg','trim','unaccent','remove-accents','name','where','3065575XIqMph','default','1106103lNzkJd'];a445_0x5dcf=function(){return _0x4c169a;};return a445_0x5dcf();}(function(_0x4d757a,_0x240f12){const _0x367a70=a445_0x4da3,_0x4fbb37=_0x4d757a();while(!![]){try{const _0x589995=-parseInt(_0x367a70(0x8b))/0x1*(parseInt(_0x367a70(0x8c))/0x2)+-parseInt(_0x367a70(0x82))/0x3+-parseInt(_0x367a70(0x8e))/0x4+parseInt(_0x367a70(0x80))/0x5+parseInt(_0x367a70(0x7a))/0x6+-parseInt(_0x367a70(0x87))/0x7+-parseInt(_0x367a70(0x8d))/0x8*(-parseInt(_0x367a70(0x85))/0x9);if(_0x589995===_0x240f12)break;else _0x4fbb37['push'](_0x4fbb37['shift']());}catch(_0x4bbaac){_0x4fbb37['push'](_0x4fbb37['shift']());}}}(a445_0x5dcf,0x5c70d));function a445_0x4da3(_0x68dab6,_0x24b588){const _0x5dcf24=a445_0x5dcf();return a445_0x4da3=function(_0x4da34a,_0x1c59a5){_0x4da34a=_0x4da34a-0x75;let _0x4ed6ba=_0x5dcf24[_0x4da34a];return _0x4ed6ba;},a445_0x4da3(_0x68dab6,_0x24b588);}var __importDefault=this&&this[a445_0x4b70c4(0x90)]||function(_0x3a855a){const _0x33f2c9=a445_0x4b70c4;return _0x3a855a&&_0x3a855a[_0x33f2c9(0x79)]?_0x3a855a:{'default':_0x3a855a};};Object['defineProperty'](exports,a445_0x4b70c4(0x79),{'value':!![]});const sequelize_1=require('sequelize'),ContactList_1=__importDefault(require(a445_0x4b70c4(0x86))),ContactListItem_1=__importDefault(require(a445_0x4b70c4(0x76))),lodash_1=require(a445_0x4b70c4(0x78)),remove_accents_1=__importDefault(require(a445_0x4b70c4(0x7d))),ListService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x46b43b})=>{const _0xca2dfe=a445_0x4b70c4;let _0x500918={'companyId':_0x46b43b};if(!(0x0,lodash_1['isEmpty'])(searchParam)){const _0x41d6b7=(0x0,remove_accents_1[_0xca2dfe(0x81)])(searchParam['toLocaleLowerCase']()[_0xca2dfe(0x7b)]());_0x500918={..._0x500918,[sequelize_1['Op']['or']]:[{'name':(0x0,sequelize_1[_0xca2dfe(0x7f)])((0x0,sequelize_1['fn'])(_0xca2dfe(0x89),(0x0,sequelize_1['fn'])(_0xca2dfe(0x7c),(0x0,sequelize_1[_0xca2dfe(0x75)])('ContactList.name'))),_0xca2dfe(0x8a),'%'+_0x41d6b7+'%')}]};}const _0x37c527=0x14,_0x409a68=_0x37c527*(+pageNumber-0x1),{count:_0x3f389a,rows:_0x54360c}=await ContactList_1[_0xca2dfe(0x81)]['findAndCountAll']({'where':_0x500918,'limit':_0x37c527,'offset':_0x409a68,'order':[[_0xca2dfe(0x7e),_0xca2dfe(0x8f)]],'subQuery':![],'include':[{'model':ContactListItem_1['default'],'as':_0xca2dfe(0x84),'attributes':[],'required':![]}],'attributes':['id',_0xca2dfe(0x7e),[(0x0,sequelize_1['fn'])(_0xca2dfe(0x83),(0x0,sequelize_1[_0xca2dfe(0x75)])('contacts.id')),_0xca2dfe(0x88)]],'group':[_0xca2dfe(0x77)]}),_0xaeff64=_0x3f389a>_0x409a68+_0x54360c['length'];return{'records':_0x54360c,'count':_0x3f389a,'hasMore':_0xaeff64};};exports['default']=ListService;