'use strict';const a454_0xf43884=a454_0x43f8;function a454_0x43f8(_0x6a6a75,_0x39cb05){const _0x523acf=a454_0x523a();return a454_0x43f8=function(_0x43f8ca,_0x112329){_0x43f8ca=_0x43f8ca-0xb2;let _0x41efce=_0x523acf[_0x43f8ca];return _0x41efce;},a454_0x43f8(_0x6a6a75,_0x39cb05);}(function(_0x393ef8,_0x290db4){const _0x998076=a454_0x43f8,_0x45e0ce=_0x393ef8();while(!![]){try{const _0x1f0c54=parseInt(_0x998076(0xb4))/0x1+-parseInt(_0x998076(0xbb))/0x2*(parseInt(_0x998076(0xcd))/0x3)+-parseInt(_0x998076(0xb5))/0x4+parseInt(_0x998076(0xbe))/0x5+-parseInt(_0x998076(0xc6))/0x6+-parseInt(_0x998076(0xc0))/0x7+parseInt(_0x998076(0xce))/0x8;if(_0x1f0c54===_0x290db4)break;else _0x45e0ce['push'](_0x45e0ce['shift']());}catch(_0x56f298){_0x45e0ce['push'](_0x45e0ce['shift']());}}}(a454_0x523a,0x1d0d8));function a454_0x523a(){const _0x8dc333=['contacts.id','274100JelkPp','isEmpty','794948ImWlxo','ContactList.id','findAndCountAll','default','__importDefault','ASC','1379094XfsMMA','contactsCount','count','sequelize','LIKE','../../models/ContactList','trim','6iOJIIt','3428792pKWxLq','../../models/ContactListItem','col','length','190173pDHAIo','666636EynpzC','toLocaleLowerCase','name','where','remove-accents','defineProperty','44520GivJac','unaccent'];a454_0x523a=function(){return _0x8dc333;};return a454_0x523a();}var __importDefault=this&&this[a454_0xf43884(0xc4)]||function(_0x4228c6){return _0x4228c6&&_0x4228c6['__esModule']?_0x4228c6:{'default':_0x4228c6};};Object[a454_0xf43884(0xba)](exports,'__esModule',{'value':!![]});const sequelize_1=require(a454_0xf43884(0xc9)),ContactList_1=__importDefault(require(a454_0xf43884(0xcb))),ContactListItem_1=__importDefault(require(a454_0xf43884(0xcf))),lodash_1=require('lodash'),remove_accents_1=__importDefault(require(a454_0xf43884(0xb9))),ListService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x1f4c29})=>{const _0x452478=a454_0xf43884;let _0x47804e={'companyId':_0x1f4c29};if(!(0x0,lodash_1[_0x452478(0xbf)])(searchParam)){const _0x7b450e=(0x0,remove_accents_1[_0x452478(0xc3)])(searchParam[_0x452478(0xb6)]()[_0x452478(0xcc)]());_0x47804e={..._0x47804e,[sequelize_1['Op']['or']]:[{'name':(0x0,sequelize_1[_0x452478(0xb8)])((0x0,sequelize_1['fn'])('LOWER',(0x0,sequelize_1['fn'])(_0x452478(0xbc),(0x0,sequelize_1[_0x452478(0xb2)])('ContactList.name'))),_0x452478(0xca),'%'+_0x7b450e+'%')}]};}const _0xc67e64=0x14,_0x51346c=_0xc67e64*(+pageNumber-0x1),{count:_0xf63a86,rows:_0x523f94}=await ContactList_1['default'][_0x452478(0xc2)]({'where':_0x47804e,'limit':_0xc67e64,'offset':_0x51346c,'order':[[_0x452478(0xb7),_0x452478(0xc5)]],'subQuery':![],'include':[{'model':ContactListItem_1[_0x452478(0xc3)],'as':'contacts','attributes':[],'required':![]}],'attributes':['id','name',[(0x0,sequelize_1['fn'])(_0x452478(0xc8),(0x0,sequelize_1[_0x452478(0xb2)])(_0x452478(0xbd))),_0x452478(0xc7)]],'group':[_0x452478(0xc1)]}),_0x49ce59=_0xf63a86>_0x51346c+_0x523f94[_0x452478(0xb3)];return{'records':_0x523f94,'count':_0xf63a86,'hasMore':_0x49ce59};};exports['default']=ListService;