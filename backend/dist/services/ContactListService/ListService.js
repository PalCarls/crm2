'use strict';const a461_0x1fee0d=a461_0x2b96;function a461_0x5557(){const _0x484df1=['18flCjME','__esModule','lodash','4080tfDpcD','99LjJEUU','sequelize','contacts.id','__importDefault','30dCXKcr','toLocaleLowerCase','77619SrWHem','470068MBmYWw','1038744RGBEmr','6615cuHDqr','count','706615UUPPmJ','3102588FFavYR','trim','isEmpty','../../models/ContactListItem','name','contacts','26iLHWxv','ASC','../../models/ContactList','default','length','ContactList.name','1849330DSXJIY','LIKE'];a461_0x5557=function(){return _0x484df1;};return a461_0x5557();}(function(_0x796016,_0x7b612){const _0x38df59=a461_0x2b96,_0x35c9e1=_0x796016();while(!![]){try{const _0x3be57f=-parseInt(_0x38df59(0x1e2))/0x1*(parseInt(_0x38df59(0x1ee))/0x2)+-parseInt(_0x38df59(0x1e0))/0x3*(parseInt(_0x38df59(0x1e3))/0x4)+-parseInt(_0x38df59(0x1e7))/0x5+-parseInt(_0x38df59(0x1e4))/0x6+parseInt(_0x38df59(0x1e5))/0x7*(parseInt(_0x38df59(0x1db))/0x8)+parseInt(_0x38df59(0x1d8))/0x9*(parseInt(_0x38df59(0x1d6))/0xa)+parseInt(_0x38df59(0x1dc))/0xb*(parseInt(_0x38df59(0x1e8))/0xc);if(_0x3be57f===_0x7b612)break;else _0x35c9e1['push'](_0x35c9e1['shift']());}catch(_0x4c3273){_0x35c9e1['push'](_0x35c9e1['shift']());}}}(a461_0x5557,0xa609d));var __importDefault=this&&this[a461_0x1fee0d(0x1df)]||function(_0x560fdf){const _0x3ab4c6=a461_0x1fee0d;return _0x560fdf&&_0x560fdf[_0x3ab4c6(0x1d9)]?_0x560fdf:{'default':_0x560fdf};};function a461_0x2b96(_0x1c3edf,_0x209bee){const _0x55571c=a461_0x5557();return a461_0x2b96=function(_0x2b9656,_0xf0b1b0){_0x2b9656=_0x2b9656-0x1d5;let _0x472ef9=_0x55571c[_0x2b9656];return _0x472ef9;},a461_0x2b96(_0x1c3edf,_0x209bee);}Object['defineProperty'](exports,a461_0x1fee0d(0x1d9),{'value':!![]});const sequelize_1=require(a461_0x1fee0d(0x1dd)),ContactList_1=__importDefault(require(a461_0x1fee0d(0x1f0))),ContactListItem_1=__importDefault(require(a461_0x1fee0d(0x1eb))),lodash_1=require(a461_0x1fee0d(0x1da)),remove_accents_1=__importDefault(require('remove-accents')),ListService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x4447b6})=>{const _0x2a47c2=a461_0x1fee0d;let _0x213123={'companyId':_0x4447b6};if(!(0x0,lodash_1[_0x2a47c2(0x1ea)])(searchParam)){const _0x50aec8=(0x0,remove_accents_1[_0x2a47c2(0x1f1)])(searchParam[_0x2a47c2(0x1e1)]()[_0x2a47c2(0x1e9)]());_0x213123={..._0x213123,[sequelize_1['Op']['or']]:[{'name':(0x0,sequelize_1['where'])((0x0,sequelize_1['fn'])('LOWER',(0x0,sequelize_1['fn'])('unaccent',(0x0,sequelize_1['col'])(_0x2a47c2(0x1d5)))),_0x2a47c2(0x1d7),'%'+_0x50aec8+'%')}]};}const _0x2ec90e=0x14,_0x168dcb=_0x2ec90e*(+pageNumber-0x1),{count:_0x755672,rows:_0x3e69c4}=await ContactList_1[_0x2a47c2(0x1f1)]['findAndCountAll']({'where':_0x213123,'limit':_0x2ec90e,'offset':_0x168dcb,'order':[[_0x2a47c2(0x1ec),_0x2a47c2(0x1ef)]],'subQuery':![],'include':[{'model':ContactListItem_1[_0x2a47c2(0x1f1)],'as':_0x2a47c2(0x1ed),'attributes':[],'required':![]}],'attributes':['id',_0x2a47c2(0x1ec),[(0x0,sequelize_1['fn'])(_0x2a47c2(0x1e6),(0x0,sequelize_1['col'])(_0x2a47c2(0x1de))),'contactsCount']],'group':['ContactList.id']}),_0x3f5b4e=_0x755672>_0x168dcb+_0x3e69c4[_0x2a47c2(0x1f2)];return{'records':_0x3e69c4,'count':_0x755672,'hasMore':_0x3f5b4e};};exports[a461_0x1fee0d(0x1f1)]=ListService;