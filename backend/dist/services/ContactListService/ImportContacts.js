'use strict';const a422_0x525d41=a422_0x500f;(function(_0x449b42,_0x280e02){const _0x38b62f=a422_0x500f,_0x53f2c2=_0x449b42();while(!![]){try{const _0x5aaa53=-parseInt(_0x38b62f(0x95))/0x1+-parseInt(_0x38b62f(0xb2))/0x2*(-parseInt(_0x38b62f(0x84))/0x3)+parseInt(_0x38b62f(0xae))/0x4+-parseInt(_0x38b62f(0x8c))/0x5*(parseInt(_0x38b62f(0x96))/0x6)+parseInt(_0x38b62f(0xa6))/0x7*(-parseInt(_0x38b62f(0x8a))/0x8)+-parseInt(_0x38b62f(0xab))/0x9*(-parseInt(_0x38b62f(0x9a))/0xa)+-parseInt(_0x38b62f(0x87))/0xb;if(_0x5aaa53===_0x280e02)break;else _0x53f2c2['push'](_0x53f2c2['shift']());}catch(_0x1251d2){_0x53f2c2['push'](_0x53f2c2['shift']());}}}(a422_0x11c5,0x47242));var __importDefault=this&&this['__importDefault']||function(_0x1b2555){const _0x224a54=a422_0x500f;return _0x1b2555&&_0x1b2555[_0x224a54(0xb1)]?_0x1b2555:{'default':_0x1b2555};};Object[a422_0x525d41(0x85)](exports,'__esModule',{'value':!![]}),exports[a422_0x525d41(0x93)]=void 0x0;const lodash_1=require('lodash'),xlsx_1=__importDefault(require('xlsx')),lodash_2=require(a422_0x525d41(0xac)),ContactListItem_1=__importDefault(require(a422_0x525d41(0xa3))),CheckNumber_1=__importDefault(require(a422_0x525d41(0x8e))),logger_1=require(a422_0x525d41(0x9d));async function ImportContacts(_0x445a7d,_0xda365b,_0xf8c0fe){const _0x8e9840=a422_0x525d41,_0x273e52=xlsx_1['default'][_0x8e9840(0x86)](_0xf8c0fe?.[_0x8e9840(0xa7)]),_0x30a330=(0x0,lodash_1[_0x8e9840(0xaa)])(Object[_0x8e9840(0xa5)](_0x273e52[_0x8e9840(0x89)])),_0x5b9c68=xlsx_1['default'][_0x8e9840(0x92)][_0x8e9840(0x97)](_0x30a330,{'header':0x0}),_0x410d52=_0x5b9c68['map'](_0x51fb7a=>{const _0x4e4a5c=_0x8e9840;let _0x22c035='',_0x54bb4e='',_0x2c3842='';return((0x0,lodash_2[_0x4e4a5c(0xa8)])(_0x51fb7a,_0x4e4a5c(0xa9))||(0x0,lodash_2[_0x4e4a5c(0xa8)])(_0x51fb7a,_0x4e4a5c(0x98)))&&(_0x22c035=_0x51fb7a[_0x4e4a5c(0xa9)]||_0x51fb7a[_0x4e4a5c(0x98)]),((0x0,lodash_2['has'])(_0x51fb7a,_0x4e4a5c(0x8b))||(0x0,lodash_2[_0x4e4a5c(0xa8)])(_0x51fb7a,_0x4e4a5c(0xa4))||(0x0,lodash_2[_0x4e4a5c(0xa8)])(_0x51fb7a,_0x4e4a5c(0xa0))||(0x0,lodash_2[_0x4e4a5c(0xa8)])(_0x51fb7a,'Número'))&&(_0x54bb4e=_0x51fb7a[_0x4e4a5c(0x8b)]||_0x51fb7a[_0x4e4a5c(0xa4)]||_0x51fb7a[_0x4e4a5c(0xa0)]||_0x51fb7a[_0x4e4a5c(0x9f)],_0x54bb4e=(''+_0x54bb4e)[_0x4e4a5c(0x9e)](/\D/g,'')),((0x0,lodash_2[_0x4e4a5c(0xa8)])(_0x51fb7a,_0x4e4a5c(0xa2))||(0x0,lodash_2[_0x4e4a5c(0xa8)])(_0x51fb7a,_0x4e4a5c(0xb0))||(0x0,lodash_2['has'])(_0x51fb7a,_0x4e4a5c(0x91))||(0x0,lodash_2[_0x4e4a5c(0xa8)])(_0x51fb7a,'E-mail'))&&(_0x2c3842=_0x51fb7a[_0x4e4a5c(0xa2)]||_0x51fb7a[_0x4e4a5c(0xb0)]||_0x51fb7a['Email']||_0x51fb7a[_0x4e4a5c(0x8d)]),{'name':_0x22c035,'number':_0x54bb4e,'email':_0x2c3842,'contactListId':_0x445a7d,'companyId':_0xda365b};}),_0x483f09=[];for(const _0x4d4267 of _0x410d52){const [_0x466d59,_0x1c5182]=await ContactListItem_1[_0x8e9840(0x9b)]['findOrCreate']({'where':{'number':''+_0x4d4267[_0x8e9840(0xad)],'contactListId':_0x4d4267[_0x8e9840(0x9c)],'companyId':_0x4d4267[_0x8e9840(0x8f)]},'defaults':_0x4d4267});_0x1c5182&&_0x483f09[_0x8e9840(0xaf)](_0x466d59);}if(_0x483f09)for(let _0x1ed581 of _0x483f09){try{const _0x51c5b5=await(0x0,CheckNumber_1[_0x8e9840(0x9b)])(_0x1ed581[_0x8e9840(0xad)],_0xda365b);_0x1ed581[_0x8e9840(0x99)]=_0x51c5b5?!![]:![];const _0x3c1331=_0x51c5b5;_0x1ed581['number']=_0x3c1331,await _0x1ed581[_0x8e9840(0x88)]();}catch(_0x52a2d6){logger_1[_0x8e9840(0x90)][_0x8e9840(0xa1)](_0x8e9840(0x94)+_0x1ed581['number']);}}return _0x483f09;}function a422_0x500f(_0x304302,_0x111d79){const _0x11c565=a422_0x11c5();return a422_0x500f=function(_0x500f13,_0x3be5be){_0x500f13=_0x500f13-0x84;let _0x3f45b9=_0x11c565[_0x500f13];return _0x3f45b9;},a422_0x500f(_0x304302,_0x111d79);}function a422_0x11c5(){const _0x113ba0=['55812DAQqSN','57rQSDkS','defineProperty','readFile','5048417GESxxM','save','Sheets','8CADvzB','numero','205UCuJTv','E-mail','../WbotServices/CheckNumber','companyId','logger','Email','utils','ImportContacts','Número\x20de\x20contato\x20inválido:\x20','254272naEGGO','29514tlOBee','sheet_to_json','Nome','isWhatsappValid','10dvBOvX','default','contactListId','../../utils/logger','replace','Número','Numero','error','email','../../models/ContactListItem','número','values','217469siZQVf','path','has','nome','head','1740708eaRmcJ','lodash','number','2054932GSkwdT','push','e-mail','__esModule'];a422_0x11c5=function(){return _0x113ba0;};return a422_0x11c5();}exports[a422_0x525d41(0x93)]=ImportContacts;