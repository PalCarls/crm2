'use strict';const a453_0x111ddd=a453_0x25b3;(function(_0x581e6f,_0x5c3ccb){const _0xc300dd=a453_0x25b3,_0x438593=_0x581e6f();while(!![]){try{const _0x1b64ce=-parseInt(_0xc300dd(0x95))/0x1*(parseInt(_0xc300dd(0xb4))/0x2)+parseInt(_0xc300dd(0xa6))/0x3+-parseInt(_0xc300dd(0x8e))/0x4*(parseInt(_0xc300dd(0xa8))/0x5)+-parseInt(_0xc300dd(0x93))/0x6+parseInt(_0xc300dd(0xa5))/0x7*(-parseInt(_0xc300dd(0xa3))/0x8)+parseInt(_0xc300dd(0xb0))/0x9*(-parseInt(_0xc300dd(0x97))/0xa)+parseInt(_0xc300dd(0xaf))/0xb;if(_0x1b64ce===_0x5c3ccb)break;else _0x438593['push'](_0x438593['shift']());}catch(_0x5e002f){_0x438593['push'](_0x438593['shift']());}}}(a453_0x3133,0xc8be1));var __importDefault=this&&this['__importDefault']||function(_0x45bf20){const _0x3cac08=a453_0x25b3;return _0x45bf20&&_0x45bf20[_0x3cac08(0x9d)]?_0x45bf20:{'default':_0x45bf20};};Object['defineProperty'](exports,a453_0x111ddd(0x9d),{'value':!![]}),exports[a453_0x111ddd(0x90)]=void 0x0;const lodash_1=require(a453_0x111ddd(0xa2)),xlsx_1=__importDefault(require(a453_0x111ddd(0xad))),lodash_2=require(a453_0x111ddd(0xa2)),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),CheckNumber_1=__importDefault(require(a453_0x111ddd(0x9c))),logger_1=require(a453_0x111ddd(0x9e));async function ImportContacts(_0x25ebb8,_0x9a6e3c,_0xc01249){const _0x3cfcde=a453_0x111ddd,_0x56f0c9=xlsx_1[_0x3cfcde(0x9b)]['readFile'](_0xc01249?.['path']),_0xfd9e3a=(0x0,lodash_1[_0x3cfcde(0x9a)])(Object['values'](_0x56f0c9[_0x3cfcde(0xb6)])),_0xd9e246=xlsx_1[_0x3cfcde(0x9b)][_0x3cfcde(0x99)]['sheet_to_json'](_0xfd9e3a,{'header':0x0}),_0xb3d20=_0xd9e246[_0x3cfcde(0xb7)](_0x5b1018=>{const _0x4a66f3=_0x3cfcde;let _0xcdfa1a='',_0x4a5d9f='',_0x16ad4c='';return((0x0,lodash_2['has'])(_0x5b1018,_0x4a66f3(0x96))||(0x0,lodash_2[_0x4a66f3(0xaa)])(_0x5b1018,_0x4a66f3(0xac)))&&(_0xcdfa1a=_0x5b1018['nome']||_0x5b1018[_0x4a66f3(0xac)]),((0x0,lodash_2[_0x4a66f3(0xaa)])(_0x5b1018,_0x4a66f3(0xa4))||(0x0,lodash_2[_0x4a66f3(0xaa)])(_0x5b1018,_0x4a66f3(0xb3))||(0x0,lodash_2[_0x4a66f3(0xaa)])(_0x5b1018,_0x4a66f3(0xae))||(0x0,lodash_2[_0x4a66f3(0xaa)])(_0x5b1018,_0x4a66f3(0xa9)))&&(_0x4a5d9f=_0x5b1018[_0x4a66f3(0xa4)]||_0x5b1018[_0x4a66f3(0xb3)]||_0x5b1018['Numero']||_0x5b1018[_0x4a66f3(0xa9)],_0x4a5d9f=(''+_0x4a5d9f)[_0x4a66f3(0xa1)](/\D/g,'')),((0x0,lodash_2[_0x4a66f3(0xaa)])(_0x5b1018,_0x4a66f3(0x9f))||(0x0,lodash_2['has'])(_0x5b1018,_0x4a66f3(0xb5))||(0x0,lodash_2[_0x4a66f3(0xaa)])(_0x5b1018,_0x4a66f3(0xb1))||(0x0,lodash_2[_0x4a66f3(0xaa)])(_0x5b1018,_0x4a66f3(0xb8)))&&(_0x16ad4c=_0x5b1018[_0x4a66f3(0x9f)]||_0x5b1018[_0x4a66f3(0xb5)]||_0x5b1018[_0x4a66f3(0xb1)]||_0x5b1018[_0x4a66f3(0xb8)]),{'name':_0xcdfa1a,'number':_0x4a5d9f,'email':_0x16ad4c,'contactListId':_0x25ebb8,'companyId':_0x9a6e3c};}),_0x561cd1=[];for(const _0x32ace9 of _0xb3d20){const [_0x285178,_0x3abc0a]=await ContactListItem_1[_0x3cfcde(0x9b)][_0x3cfcde(0x91)]({'where':{'number':''+_0x32ace9[_0x3cfcde(0x8d)],'contactListId':_0x32ace9[_0x3cfcde(0xab)],'companyId':_0x32ace9[_0x3cfcde(0xa0)]},'defaults':_0x32ace9});_0x3abc0a&&_0x561cd1[_0x3cfcde(0x92)](_0x285178);}if(_0x561cd1)for(let _0x540d1d of _0x561cd1){try{const _0x5adf9f=await(0x0,CheckNumber_1[_0x3cfcde(0x9b)])(_0x540d1d[_0x3cfcde(0x8d)],_0x9a6e3c);_0x540d1d[_0x3cfcde(0x94)]=_0x5adf9f?!![]:![];const _0x3ea663=_0x5adf9f;_0x540d1d[_0x3cfcde(0x8d)]=_0x3ea663,await _0x540d1d[_0x3cfcde(0x98)]();}catch(_0x1a10a5){logger_1[_0x3cfcde(0xb2)][_0x3cfcde(0x8f)](_0x3cfcde(0xa7)+_0x540d1d[_0x3cfcde(0x8d)]);}}return _0x561cd1;}function a453_0x25b3(_0x2f5ed7,_0x340d63){const _0x313321=a453_0x3133();return a453_0x25b3=function(_0x25b34b,_0x3a6df7){_0x25b34b=_0x25b34b-0x8d;let _0x218355=_0x313321[_0x25b34b];return _0x218355;},a453_0x25b3(_0x2f5ed7,_0x340d63);}function a453_0x3133(){const _0x42677b=['lodash','42088tuncvI','numero','511KxZDsp','2985384gDGAAF','Número\x20de\x20contato\x20inválido:\x20','86635bXhVVu','Número','has','contactListId','Nome','xlsx','Numero','28916635MRmzxN','45XZLyYf','Email','logger','número','558562mSgvKr','e-mail','Sheets','map','E-mail','number','100lbFVGz','error','ImportContacts','findOrCreate','push','7422408LgEqfi','isWhatsappValid','1pTzASt','nome','936190vFNdgT','save','utils','head','default','../WbotServices/CheckNumber','__esModule','../../utils/logger','email','companyId','replace'];a453_0x3133=function(){return _0x42677b;};return a453_0x3133();}exports[a453_0x111ddd(0x90)]=ImportContacts;