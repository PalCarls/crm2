'use strict';function a407_0x291c(_0x21e376,_0x27abc7){const _0x4e2fee=a407_0x4e2f();return a407_0x291c=function(_0x291c3d,_0x470f2b){_0x291c3d=_0x291c3d-0xbc;let _0x5f4d73=_0x4e2fee[_0x291c3d];return _0x5f4d73;},a407_0x291c(_0x21e376,_0x27abc7);}const a407_0x25a702=a407_0x291c;(function(_0x3cfe0a,_0x565ec1){const _0x5322a0=a407_0x291c,_0xc3d281=_0x3cfe0a();while(!![]){try{const _0x5faad=-parseInt(_0x5322a0(0xd7))/0x1*(parseInt(_0x5322a0(0xe0))/0x2)+parseInt(_0x5322a0(0xc5))/0x3+parseInt(_0x5322a0(0xdd))/0x4*(-parseInt(_0x5322a0(0xe4))/0x5)+-parseInt(_0x5322a0(0xd3))/0x6+-parseInt(_0x5322a0(0xc1))/0x7+-parseInt(_0x5322a0(0xc4))/0x8+parseInt(_0x5322a0(0xd1))/0x9;if(_0x5faad===_0x565ec1)break;else _0xc3d281['push'](_0xc3d281['shift']());}catch(_0x903b9b){_0xc3d281['push'](_0xc3d281['shift']());}}}(a407_0x4e2f,0x920e3));var __importDefault=this&&this[a407_0x25a702(0xd9)]||function(_0x359e1d){const _0x967bd3=a407_0x25a702;return _0x359e1d&&_0x359e1d[_0x967bd3(0xbe)]?_0x359e1d:{'default':_0x359e1d};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a407_0x25a702(0xc0)]=void 0x0;const lodash_1=require(a407_0x25a702(0xe2)),xlsx_1=__importDefault(require(a407_0x25a702(0xc3))),lodash_2=require('lodash'),ContactListItem_1=__importDefault(require(a407_0x25a702(0xc9))),CheckNumber_1=__importDefault(require(a407_0x25a702(0xd6))),logger_1=require(a407_0x25a702(0xdb));function a407_0x4e2f(){const _0x329026=['map','xlsx','3935584KZVpDX','1145628yzmXow','values','head','e-mail','../../models/ContactListItem','nome','E-mail','error','has','Email','push','readFile','17083368CcvWpv','Número','3867528nuTloy','isWhatsappValid','save','../WbotServices/CheckNumber','687KFtKCK','findOrCreate','__importDefault','número','../../utils/logger','path','234420NwQdyM','utils','email','656cFTMmn','replace','lodash','sheet_to_json','25BozCYu','numero','number','Sheets','default','Numero','Nome','__esModule','contactListId','ImportContacts','188216gFHMfe'];a407_0x4e2f=function(){return _0x329026;};return a407_0x4e2f();}async function ImportContacts(_0x3f6ae8,_0x4bd8b6,_0x35a27e){const _0x282453=a407_0x25a702,_0x162fdb=xlsx_1[_0x282453(0xe8)][_0x282453(0xd0)](_0x35a27e?.[_0x282453(0xdc)]),_0x39fca4=(0x0,lodash_1[_0x282453(0xc7)])(Object[_0x282453(0xc6)](_0x162fdb[_0x282453(0xe7)])),_0x382bae=xlsx_1[_0x282453(0xe8)][_0x282453(0xde)][_0x282453(0xe3)](_0x39fca4,{'header':0x0}),_0x41a48c=_0x382bae[_0x282453(0xc2)](_0x532b9f=>{const _0x514ba6=_0x282453;let _0x13a312='',_0x1ac5fb='',_0x3c0d5f='';return((0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,_0x514ba6(0xca))||(0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,_0x514ba6(0xbd)))&&(_0x13a312=_0x532b9f['nome']||_0x532b9f[_0x514ba6(0xbd)]),((0x0,lodash_2['has'])(_0x532b9f,_0x514ba6(0xe5))||(0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,_0x514ba6(0xda))||(0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,_0x514ba6(0xbc))||(0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,_0x514ba6(0xd2)))&&(_0x1ac5fb=_0x532b9f[_0x514ba6(0xe5)]||_0x532b9f['número']||_0x532b9f[_0x514ba6(0xbc)]||_0x532b9f[_0x514ba6(0xd2)],_0x1ac5fb=(''+_0x1ac5fb)[_0x514ba6(0xe1)](/\D/g,'')),((0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,_0x514ba6(0xdf))||(0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,_0x514ba6(0xc8))||(0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,'Email')||(0x0,lodash_2[_0x514ba6(0xcd)])(_0x532b9f,_0x514ba6(0xcb)))&&(_0x3c0d5f=_0x532b9f[_0x514ba6(0xdf)]||_0x532b9f[_0x514ba6(0xc8)]||_0x532b9f[_0x514ba6(0xce)]||_0x532b9f[_0x514ba6(0xcb)]),{'name':_0x13a312,'number':_0x1ac5fb,'email':_0x3c0d5f,'contactListId':_0x3f6ae8,'companyId':_0x4bd8b6};}),_0x449dd9=[];for(const _0x2c9b90 of _0x41a48c){const [_0x5a9184,_0x9f21b0]=await ContactListItem_1[_0x282453(0xe8)][_0x282453(0xd8)]({'where':{'number':''+_0x2c9b90[_0x282453(0xe6)],'contactListId':_0x2c9b90[_0x282453(0xbf)],'companyId':_0x2c9b90['companyId']},'defaults':_0x2c9b90});_0x9f21b0&&_0x449dd9[_0x282453(0xcf)](_0x5a9184);}if(_0x449dd9)for(let _0x51ed47 of _0x449dd9){try{const _0x7bc10f=await(0x0,CheckNumber_1['default'])(_0x51ed47[_0x282453(0xe6)],_0x4bd8b6);_0x51ed47[_0x282453(0xd4)]=_0x7bc10f?!![]:![];const _0x574490=_0x7bc10f;_0x51ed47[_0x282453(0xe6)]=_0x574490,await _0x51ed47[_0x282453(0xd5)]();}catch(_0x5c96ae){logger_1['logger'][_0x282453(0xcc)]('Número\x20de\x20contato\x20inválido:\x20'+_0x51ed47[_0x282453(0xe6)]);}}return _0x449dd9;}exports['ImportContacts']=ImportContacts;