'use strict';const a377_0x34c78d=a377_0x5ada;function a377_0x36c9(){const _0x4ce161=['número','__esModule','e-mail','utils','../../utils/logger','6DQXnzy','path','findOrCreate','../../models/ContactListItem','Número\x20de\x20contato\x20inválido:\x20','16kCJoPr','3052240ZvrBcD','head','641932EzcOkG','2677218Qoqjhj','lodash','1SjnoBZ','48292836XYlrhw','4ILtsLB','error','__importDefault','values','Número','map','ImportContacts','5782360HGpOZR','5298327CMIvyc','numero','number','xlsx','13JXuhBn','contactListId','Sheets','defineProperty','logger','readFile','has','4158966bkPnPr','nome','Numero','Nome','email','44BNdncg','default'];a377_0x36c9=function(){return _0x4ce161;};return a377_0x36c9();}(function(_0x13668c,_0x58ccbf){const _0x4dc9ed=a377_0x5ada,_0x536deb=_0x13668c();while(!![]){try{const _0x563c4b=-parseInt(_0x4dc9ed(0x18f))/0x1*(parseInt(_0x4dc9ed(0x18c))/0x2)+parseInt(_0x4dc9ed(0x18d))/0x3*(parseInt(_0x4dc9ed(0x191))/0x4)+-parseInt(_0x4dc9ed(0x198))/0x5*(-parseInt(_0x4dc9ed(0x1b0))/0x6)+-parseInt(_0x4dc9ed(0x1a4))/0x7*(-parseInt(_0x4dc9ed(0x1b5))/0x8)+parseInt(_0x4dc9ed(0x199))/0x9+-parseInt(_0x4dc9ed(0x1b6))/0xa*(-parseInt(_0x4dc9ed(0x1a9))/0xb)+-parseInt(_0x4dc9ed(0x190))/0xc*(parseInt(_0x4dc9ed(0x19d))/0xd);if(_0x563c4b===_0x58ccbf)break;else _0x536deb['push'](_0x536deb['shift']());}catch(_0x200dba){_0x536deb['push'](_0x536deb['shift']());}}}(a377_0x36c9,0xab3c8));var __importDefault=this&&this[a377_0x34c78d(0x193)]||function(_0x2442c8){const _0x5e2eaa=a377_0x34c78d;return _0x2442c8&&_0x2442c8[_0x5e2eaa(0x1ac)]?_0x2442c8:{'default':_0x2442c8};};function a377_0x5ada(_0x1af4ba,_0x55e663){const _0x36c905=a377_0x36c9();return a377_0x5ada=function(_0x5ada33,_0x369f48){_0x5ada33=_0x5ada33-0x18c;let _0x444110=_0x36c905[_0x5ada33];return _0x444110;},a377_0x5ada(_0x1af4ba,_0x55e663);}Object[a377_0x34c78d(0x1a0)](exports,a377_0x34c78d(0x1ac),{'value':!![]}),exports[a377_0x34c78d(0x197)]=void 0x0;const lodash_1=require(a377_0x34c78d(0x18e)),xlsx_1=__importDefault(require(a377_0x34c78d(0x19c))),lodash_2=require(a377_0x34c78d(0x18e)),ContactListItem_1=__importDefault(require(a377_0x34c78d(0x1b3))),CheckNumber_1=__importDefault(require('../WbotServices/CheckNumber')),logger_1=require(a377_0x34c78d(0x1af));async function ImportContacts(_0x3ab22f,_0x39a16c,_0x1c273b){const _0x5bfa57=a377_0x34c78d,_0x436935=xlsx_1['default'][_0x5bfa57(0x1a2)](_0x1c273b?.[_0x5bfa57(0x1b1)]),_0x4fb7d1=(0x0,lodash_1[_0x5bfa57(0x1b7)])(Object[_0x5bfa57(0x194)](_0x436935[_0x5bfa57(0x19f)])),_0x18850b=xlsx_1[_0x5bfa57(0x1aa)][_0x5bfa57(0x1ae)]['sheet_to_json'](_0x4fb7d1,{'header':0x0}),_0x20c77f=_0x18850b[_0x5bfa57(0x196)](_0x5008ca=>{const _0x30847c=_0x5bfa57;let _0x12773a='',_0x105462='',_0x38ebc3='';return((0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,_0x30847c(0x1a5))||(0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,_0x30847c(0x1a7)))&&(_0x12773a=_0x5008ca[_0x30847c(0x1a5)]||_0x5008ca['Nome']),((0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,_0x30847c(0x19a))||(0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,_0x30847c(0x1ab))||(0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,_0x30847c(0x1a6))||(0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,_0x30847c(0x195)))&&(_0x105462=_0x5008ca['numero']||_0x5008ca['número']||_0x5008ca[_0x30847c(0x1a6)]||_0x5008ca[_0x30847c(0x195)],_0x105462=(''+_0x105462)['replace'](/\D/g,'')),((0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,_0x30847c(0x1a8))||(0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,'e-mail')||(0x0,lodash_2[_0x30847c(0x1a3)])(_0x5008ca,'Email')||(0x0,lodash_2['has'])(_0x5008ca,'E-mail'))&&(_0x38ebc3=_0x5008ca['email']||_0x5008ca[_0x30847c(0x1ad)]||_0x5008ca['Email']||_0x5008ca['E-mail']),{'name':_0x12773a,'number':_0x105462,'email':_0x38ebc3,'contactListId':_0x3ab22f,'companyId':_0x39a16c};}),_0x3465f8=[];for(const _0x6b8d06 of _0x20c77f){const [_0x4d56fc,_0x481ce4]=await ContactListItem_1[_0x5bfa57(0x1aa)][_0x5bfa57(0x1b2)]({'where':{'number':''+_0x6b8d06[_0x5bfa57(0x19b)],'contactListId':_0x6b8d06[_0x5bfa57(0x19e)],'companyId':_0x6b8d06['companyId']},'defaults':_0x6b8d06});_0x481ce4&&_0x3465f8['push'](_0x4d56fc);}if(_0x3465f8)for(let _0x4f94b5 of _0x3465f8){try{const _0x2c538b=await(0x0,CheckNumber_1[_0x5bfa57(0x1aa)])(_0x4f94b5['number'],_0x39a16c);_0x4f94b5['isWhatsappValid']=_0x2c538b?!![]:![];const _0x47b012=_0x2c538b;_0x4f94b5[_0x5bfa57(0x19b)]=_0x47b012,await _0x4f94b5['save']();}catch(_0x4a4d6c){logger_1[_0x5bfa57(0x1a1)][_0x5bfa57(0x192)](_0x5bfa57(0x1b4)+_0x4f94b5[_0x5bfa57(0x19b)]);}}return _0x3465f8;}exports['ImportContacts']=ImportContacts;