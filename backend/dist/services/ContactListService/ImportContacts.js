'use strict';const a453_0x5af8db=a453_0x2005;(function(_0x40ca08,_0x338ce5){const _0x23ff72=a453_0x2005,_0x5be4c1=_0x40ca08();while(!![]){try{const _0x1424c9=-parseInt(_0x23ff72(0x86))/0x1*(-parseInt(_0x23ff72(0x7b))/0x2)+-parseInt(_0x23ff72(0x8b))/0x3+parseInt(_0x23ff72(0x83))/0x4*(parseInt(_0x23ff72(0x84))/0x5)+-parseInt(_0x23ff72(0x75))/0x6*(parseInt(_0x23ff72(0x72))/0x7)+-parseInt(_0x23ff72(0x78))/0x8+-parseInt(_0x23ff72(0x7a))/0x9+-parseInt(_0x23ff72(0x66))/0xa*(-parseInt(_0x23ff72(0x7d))/0xb);if(_0x1424c9===_0x338ce5)break;else _0x5be4c1['push'](_0x5be4c1['shift']());}catch(_0x396684){_0x5be4c1['push'](_0x5be4c1['shift']());}}}(a453_0x2c46,0x77e7d));function a453_0x2005(_0x4988d8,_0xec8efc){const _0x2c46d8=a453_0x2c46();return a453_0x2005=function(_0x2005ae,_0x5868f6){_0x2005ae=_0x2005ae-0x64;let _0x3c70ca=_0x2c46d8[_0x2005ae];return _0x3c70ca;},a453_0x2005(_0x4988d8,_0xec8efc);}var __importDefault=this&&this[a453_0x5af8db(0x70)]||function(_0x23ae8e){const _0x297685=a453_0x5af8db;return _0x23ae8e&&_0x23ae8e[_0x297685(0x74)]?_0x23ae8e:{'default':_0x23ae8e};};function a453_0x2c46(){const _0x290e18=['e-mail','lodash','push','readFile','10FAfHMv','path','Email','save','findOrCreate','number','companyId','contactListId','logger','nome','__importDefault','número','7wMwbGg','ImportContacts','__esModule','2879076pClCwG','Número\x20de\x20contato\x20inválido:\x20','xlsx','2128160vNouOq','Nome','4269141JLuBpW','3698uFDHwx','isWhatsappValid','8493903dEnATH','defineProperty','default','numero','Número','has','824768SJgGBr','5gGIGzx','E-mail','497fbWjTP','../../utils/logger','replace','values','Numero','557910rYWLER','email','utils','map','sheet_to_json','error','head'];a453_0x2c46=function(){return _0x290e18;};return a453_0x2c46();}Object[a453_0x5af8db(0x7e)](exports,a453_0x5af8db(0x74),{'value':!![]}),exports[a453_0x5af8db(0x73)]=void 0x0;const lodash_1=require(a453_0x5af8db(0x93)),xlsx_1=__importDefault(require(a453_0x5af8db(0x77))),lodash_2=require('lodash'),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),CheckNumber_1=__importDefault(require('../WbotServices/CheckNumber')),logger_1=require(a453_0x5af8db(0x87));async function ImportContacts(_0x19eceb,_0x929e48,_0x716383){const _0x44b8eb=a453_0x5af8db,_0x4d0b49=xlsx_1[_0x44b8eb(0x7f)][_0x44b8eb(0x65)](_0x716383?.[_0x44b8eb(0x67)]),_0x577d2f=(0x0,lodash_1[_0x44b8eb(0x91)])(Object[_0x44b8eb(0x89)](_0x4d0b49['Sheets'])),_0x54d17d=xlsx_1[_0x44b8eb(0x7f)][_0x44b8eb(0x8d)][_0x44b8eb(0x8f)](_0x577d2f,{'header':0x0}),_0x1ad99a=_0x54d17d[_0x44b8eb(0x8e)](_0x43bfbd=>{const _0x292b5f=_0x44b8eb;let _0x3160ce='',_0x277766='',_0x8d0bc4='';return((0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,'nome')||(0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,_0x292b5f(0x79)))&&(_0x3160ce=_0x43bfbd[_0x292b5f(0x6f)]||_0x43bfbd['Nome']),((0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,'numero')||(0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,'número')||(0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,_0x292b5f(0x8a))||(0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,_0x292b5f(0x81)))&&(_0x277766=_0x43bfbd[_0x292b5f(0x80)]||_0x43bfbd[_0x292b5f(0x71)]||_0x43bfbd[_0x292b5f(0x8a)]||_0x43bfbd[_0x292b5f(0x81)],_0x277766=(''+_0x277766)[_0x292b5f(0x88)](/\D/g,'')),((0x0,lodash_2['has'])(_0x43bfbd,_0x292b5f(0x8c))||(0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,_0x292b5f(0x92))||(0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,_0x292b5f(0x68))||(0x0,lodash_2[_0x292b5f(0x82)])(_0x43bfbd,_0x292b5f(0x85)))&&(_0x8d0bc4=_0x43bfbd[_0x292b5f(0x8c)]||_0x43bfbd[_0x292b5f(0x92)]||_0x43bfbd[_0x292b5f(0x68)]||_0x43bfbd[_0x292b5f(0x85)]),{'name':_0x3160ce,'number':_0x277766,'email':_0x8d0bc4,'contactListId':_0x19eceb,'companyId':_0x929e48};}),_0x46667e=[];for(const _0x3936aa of _0x1ad99a){const [_0x12d27c,_0x553633]=await ContactListItem_1['default'][_0x44b8eb(0x6a)]({'where':{'number':''+_0x3936aa[_0x44b8eb(0x6b)],'contactListId':_0x3936aa[_0x44b8eb(0x6d)],'companyId':_0x3936aa[_0x44b8eb(0x6c)]},'defaults':_0x3936aa});_0x553633&&_0x46667e[_0x44b8eb(0x64)](_0x12d27c);}if(_0x46667e)for(let _0x597fcf of _0x46667e){try{const _0x325856=await(0x0,CheckNumber_1[_0x44b8eb(0x7f)])(_0x597fcf[_0x44b8eb(0x6b)],_0x929e48);_0x597fcf[_0x44b8eb(0x7c)]=_0x325856?!![]:![];const _0x15bd89=_0x325856;_0x597fcf[_0x44b8eb(0x6b)]=_0x15bd89,await _0x597fcf[_0x44b8eb(0x69)]();}catch(_0x4380a2){logger_1[_0x44b8eb(0x6e)][_0x44b8eb(0x90)](_0x44b8eb(0x76)+_0x597fcf['number']);}}return _0x46667e;}exports[a453_0x5af8db(0x73)]=ImportContacts;