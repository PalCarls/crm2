'use strict';const a489_0x46007c=a489_0x297c;(function(_0x28b710,_0x23c3ab){const _0x53ab1f=a489_0x297c,_0x2dfc5b=_0x28b710();while(!![]){try{const _0x13e45e=-parseInt(_0x53ab1f(0x162))/0x1*(-parseInt(_0x53ab1f(0x151))/0x2)+-parseInt(_0x53ab1f(0x154))/0x3*(-parseInt(_0x53ab1f(0x149))/0x4)+-parseInt(_0x53ab1f(0x16a))/0x5+parseInt(_0x53ab1f(0x15b))/0x6*(parseInt(_0x53ab1f(0x157))/0x7)+-parseInt(_0x53ab1f(0x148))/0x8+-parseInt(_0x53ab1f(0x159))/0x9*(-parseInt(_0x53ab1f(0x160))/0xa)+parseInt(_0x53ab1f(0x14e))/0xb*(-parseInt(_0x53ab1f(0x16b))/0xc);if(_0x13e45e===_0x23c3ab)break;else _0x2dfc5b['push'](_0x2dfc5b['shift']());}catch(_0x5133b5){_0x2dfc5b['push'](_0x2dfc5b['shift']());}}}(a489_0x4075,0xe2c7d));var __createBinding=this&&this[a489_0x46007c(0x153)]||(Object['create']?function(_0x43e841,_0x2fa89d,_0x1b3ece,_0x69a219){const _0x218c2f=a489_0x46007c;if(_0x69a219===undefined)_0x69a219=_0x1b3ece;var _0x165719=Object[_0x218c2f(0x16d)](_0x2fa89d,_0x1b3ece);(!_0x165719||(_0x218c2f(0x15e)in _0x165719?!_0x2fa89d['__esModule']:_0x165719[_0x218c2f(0x15f)]||_0x165719[_0x218c2f(0x14f)]))&&(_0x165719={'enumerable':!![],'get':function(){return _0x2fa89d[_0x1b3ece];}}),Object[_0x218c2f(0x145)](_0x43e841,_0x69a219,_0x165719);}:function(_0x20f106,_0x4c73ef,_0x859167,_0x16b264){if(_0x16b264===undefined)_0x16b264=_0x859167;_0x20f106[_0x16b264]=_0x4c73ef[_0x859167];}),__setModuleDefault=this&&this[a489_0x46007c(0x16e)]||(Object[a489_0x46007c(0x158)]?function(_0x311163,_0x2fdd89){const _0x289343=a489_0x46007c;Object[_0x289343(0x145)](_0x311163,_0x289343(0x167),{'enumerable':!![],'value':_0x2fdd89});}:function(_0x203a3a,_0x299925){const _0x31f725=a489_0x46007c;_0x203a3a[_0x31f725(0x167)]=_0x299925;}),__importStar=this&&this[a489_0x46007c(0x146)]||function(_0x28fcb7){const _0x3773d5=a489_0x46007c;if(_0x28fcb7&&_0x28fcb7['__esModule'])return _0x28fcb7;var _0x1d3c83={};if(_0x28fcb7!=null){for(var _0xceec5c in _0x28fcb7)if(_0xceec5c!==_0x3773d5(0x167)&&Object[_0x3773d5(0x15c)]['hasOwnProperty'][_0x3773d5(0x16c)](_0x28fcb7,_0xceec5c))__createBinding(_0x1d3c83,_0x28fcb7,_0xceec5c);}return __setModuleDefault(_0x1d3c83,_0x28fcb7),_0x1d3c83;},__importDefault=this&&this[a489_0x46007c(0x163)]||function(_0x1483f8){const _0x3b6095=a489_0x46007c;return _0x1483f8&&_0x1483f8[_0x3b6095(0x169)]?_0x1483f8:{'default':_0x1483f8};};Object[a489_0x46007c(0x145)](exports,a489_0x46007c(0x169),{'value':!![]});function a489_0x297c(_0x3aaa7d,_0xf6068e){const _0x4075a8=a489_0x4075();return a489_0x297c=function(_0x297cff,_0x1fc017){_0x297cff=_0x297cff-0x145;let _0x5e5559=_0x4075a8[_0x297cff];return _0x5e5559;},a489_0x297c(_0x3aaa7d,_0xf6068e);}function a489_0x4075(){const _0x570b31=['companyId','../../models/FilesOptions','22169444Vjfkru','configurable','object','88IONdxd','reload','__createBinding','2153874ruUgFC','all','name','18102HZAXou','create','54eHzHoF','map','3138ocMdMS','prototype','validate','get','writable','2342980IcirtK','upsert','1210rmiWmC','__importDefault','update','destroy','message','default','options','__esModule','2258370FyKUrQ','12wMYSqt','call','getOwnPropertyDescriptor','__setModuleDefault','defineProperty','__importStar','./ShowService','1067944IaYkal','4xZyWmp','min','findIndex'];a489_0x4075=function(){return _0x570b31;};return a489_0x4075();}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),FilesOptions_1=__importDefault(require(a489_0x46007c(0x14d))),ShowService_1=__importDefault(require(a489_0x46007c(0x147))),UpdateService=async({fileData:_0x30f3b9,id:_0x40b464,companyId:_0xc60a7})=>{const _0x28852f=a489_0x46007c,_0x357b1d=await(0x0,ShowService_1[_0x28852f(0x167)])(_0x40b464,_0xc60a7),_0x2229de=Yup[_0x28852f(0x150)]()['shape']({'name':Yup['string']()[_0x28852f(0x14a)](0x3)}),{name:_0x5bb7a4,message:_0x1efc35,options:_0x4c3407}=_0x30f3b9;try{await _0x2229de[_0x28852f(0x15d)]({'name':_0x5bb7a4});}catch(_0x296b42){throw new AppError_1['default'](_0x296b42['message']);}return _0x4c3407&&(await Promise[_0x28852f(0x155)](_0x4c3407[_0x28852f(0x15a)](async _0x4c1ed5=>{const _0x36dec2=_0x28852f;await FilesOptions_1[_0x36dec2(0x167)][_0x36dec2(0x161)]({..._0x4c1ed5,'fileId':_0x357b1d['id']});})),await Promise[_0x28852f(0x155)](_0x357b1d[_0x28852f(0x168)][_0x28852f(0x15a)](async _0x4cfc4e=>{const _0x4832da=_0x28852f,_0x4c76ff=_0x4c3407[_0x4832da(0x14b)](_0x2c937c=>_0x2c937c['id']===_0x4cfc4e['id']);_0x4c76ff===-0x1&&await FilesOptions_1[_0x4832da(0x167)][_0x4832da(0x165)]({'where':{'id':_0x4cfc4e['id']}});}))),await _0x357b1d[_0x28852f(0x164)]({'name':_0x5bb7a4,'message':_0x1efc35}),await _0x357b1d[_0x28852f(0x152)]({'attributes':['id',_0x28852f(0x156),_0x28852f(0x166),_0x28852f(0x14c)],'include':[_0x28852f(0x168)]}),_0x357b1d;};exports[a489_0x46007c(0x167)]=UpdateService;