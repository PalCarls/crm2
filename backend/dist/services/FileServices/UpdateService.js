'use strict';const a441_0x410c24=a441_0x23d7;(function(_0x292d25,_0x39260b){const _0x68681a=a441_0x23d7,_0x595ccd=_0x292d25();while(!![]){try{const _0x557bb3=parseInt(_0x68681a(0x199))/0x1+parseInt(_0x68681a(0x1a6))/0x2+-parseInt(_0x68681a(0x1b3))/0x3+parseInt(_0x68681a(0x1b2))/0x4+-parseInt(_0x68681a(0x1b4))/0x5*(-parseInt(_0x68681a(0x1b1))/0x6)+parseInt(_0x68681a(0x1a3))/0x7+-parseInt(_0x68681a(0x1b5))/0x8;if(_0x557bb3===_0x39260b)break;else _0x595ccd['push'](_0x595ccd['shift']());}catch(_0x1688fc){_0x595ccd['push'](_0x595ccd['shift']());}}}(a441_0xef7f,0x61bf4));function a441_0x23d7(_0x9ab1a8,_0x1b9cff){const _0xef7f3a=a441_0xef7f();return a441_0x23d7=function(_0x23d755,_0x52ae47){_0x23d755=_0x23d755-0x195;let _0xedde16=_0xef7f3a[_0x23d755];return _0xedde16;},a441_0x23d7(_0x9ab1a8,_0x1b9cff);}var __createBinding=this&&this[a441_0x410c24(0x19f)]||(Object[a441_0x410c24(0x1ac)]?function(_0x2c5ac3,_0x584d82,_0x1f99f2,_0x3e9cb6){const _0xda57c8=a441_0x410c24;if(_0x3e9cb6===undefined)_0x3e9cb6=_0x1f99f2;var _0x2b571b=Object[_0xda57c8(0x1b0)](_0x584d82,_0x1f99f2);(!_0x2b571b||('get'in _0x2b571b?!_0x584d82[_0xda57c8(0x1a5)]:_0x2b571b[_0xda57c8(0x1a2)]||_0x2b571b[_0xda57c8(0x19c)]))&&(_0x2b571b={'enumerable':!![],'get':function(){return _0x584d82[_0x1f99f2];}}),Object[_0xda57c8(0x19b)](_0x2c5ac3,_0x3e9cb6,_0x2b571b);}:function(_0x59f4a6,_0xfa556e,_0x19bc70,_0x5b8384){if(_0x5b8384===undefined)_0x5b8384=_0x19bc70;_0x59f4a6[_0x5b8384]=_0xfa556e[_0x19bc70];}),__setModuleDefault=this&&this[a441_0x410c24(0x1ae)]||(Object['create']?function(_0x535232,_0x120205){Object['defineProperty'](_0x535232,'default',{'enumerable':!![],'value':_0x120205});}:function(_0x25ea80,_0x2d4f11){_0x25ea80['default']=_0x2d4f11;}),__importStar=this&&this['__importStar']||function(_0x1e5b5b){const _0x3de8e7=a441_0x410c24;if(_0x1e5b5b&&_0x1e5b5b['__esModule'])return _0x1e5b5b;var _0x4d4cd1={};if(_0x1e5b5b!=null){for(var _0x2bc35f in _0x1e5b5b)if(_0x2bc35f!=='default'&&Object[_0x3de8e7(0x1af)]['hasOwnProperty'][_0x3de8e7(0x1a1)](_0x1e5b5b,_0x2bc35f))__createBinding(_0x4d4cd1,_0x1e5b5b,_0x2bc35f);}return __setModuleDefault(_0x4d4cd1,_0x1e5b5b),_0x4d4cd1;},__importDefault=this&&this[a441_0x410c24(0x1a8)]||function(_0xc46446){const _0x3f7050=a441_0x410c24;return _0xc46446&&_0xc46446[_0x3f7050(0x1a5)]?_0xc46446:{'default':_0xc46446};};Object[a441_0x410c24(0x19b)](exports,'__esModule',{'value':!![]});function a441_0xef7f(){const _0x3f61c7=['findIndex','upsert','__createBinding','validate','call','writable','4392479kfUSqR','../../models/FilesOptions','__esModule','1514704bjmoNQ','companyId','__importDefault','name','default','message','create','update','__setModuleDefault','prototype','getOwnPropertyDescriptor','91638moTKny','1240620TBiNIY','742455YPHyCw','235FpMCEa','15305976ETeJOo','map','../../errors/AppError','all','options','148269zqvRug','yup','defineProperty','configurable'];a441_0xef7f=function(){return _0x3f61c7;};return a441_0xef7f();}const Yup=__importStar(require(a441_0x410c24(0x19a))),AppError_1=__importDefault(require(a441_0x410c24(0x196))),FilesOptions_1=__importDefault(require(a441_0x410c24(0x1a4))),ShowService_1=__importDefault(require('./ShowService')),UpdateService=async({fileData:_0x380aa5,id:_0x31ff1c,companyId:_0x481f74})=>{const _0x295710=a441_0x410c24,_0x15c447=await(0x0,ShowService_1[_0x295710(0x1aa)])(_0x31ff1c,_0x481f74),_0x41b8f0=Yup['object']()['shape']({'name':Yup['string']()['min'](0x3)}),{name:_0x58a125,message:_0x37c980,options:_0x47f3ca}=_0x380aa5;try{await _0x41b8f0[_0x295710(0x1a0)]({'name':_0x58a125});}catch(_0x38a421){throw new AppError_1[(_0x295710(0x1aa))](_0x38a421[_0x295710(0x1ab)]);}return _0x47f3ca&&(await Promise[_0x295710(0x197)](_0x47f3ca[_0x295710(0x195)](async _0x3a076f=>{const _0x1d15c5=_0x295710;await FilesOptions_1['default'][_0x1d15c5(0x19e)]({..._0x3a076f,'fileId':_0x15c447['id']});})),await Promise[_0x295710(0x197)](_0x15c447[_0x295710(0x198)][_0x295710(0x195)](async _0x9a8fd1=>{const _0x4d447c=_0x295710,_0x15d025=_0x47f3ca[_0x4d447c(0x19d)](_0x4e875c=>_0x4e875c['id']===_0x9a8fd1['id']);_0x15d025===-0x1&&await FilesOptions_1['default']['destroy']({'where':{'id':_0x9a8fd1['id']}});}))),await _0x15c447[_0x295710(0x1ad)]({'name':_0x58a125,'message':_0x37c980}),await _0x15c447['reload']({'attributes':['id',_0x295710(0x1a9),'message',_0x295710(0x1a7)],'include':[_0x295710(0x198)]}),_0x15c447;};exports[a441_0x410c24(0x1aa)]=UpdateService;