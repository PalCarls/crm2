'use strict';const a456_0x1e58e=a456_0x403b;(function(_0x58e371,_0x110346){const _0x12bb68=a456_0x403b,_0x1a99f3=_0x58e371();while(!![]){try{const _0x5d035a=parseInt(_0x12bb68(0x145))/0x1*(-parseInt(_0x12bb68(0x147))/0x2)+-parseInt(_0x12bb68(0x14c))/0x3*(-parseInt(_0x12bb68(0x13c))/0x4)+-parseInt(_0x12bb68(0x13d))/0x5*(parseInt(_0x12bb68(0x14a))/0x6)+-parseInt(_0x12bb68(0x14b))/0x7*(-parseInt(_0x12bb68(0x13b))/0x8)+-parseInt(_0x12bb68(0x13f))/0x9*(parseInt(_0x12bb68(0x151))/0xa)+parseInt(_0x12bb68(0x14f))/0xb+-parseInt(_0x12bb68(0x143))/0xc;if(_0x5d035a===_0x110346)break;else _0x1a99f3['push'](_0x1a99f3['shift']());}catch(_0x3b8f40){_0x1a99f3['push'](_0x1a99f3['shift']());}}}(a456_0x34f4,0x7d41a));var __createBinding=this&&this[a456_0x1e58e(0x13a)]||(Object[a456_0x1e58e(0x149)]?function(_0x47f198,_0x23df09,_0x5db61c,_0x4d8bbf){const _0x32d789=a456_0x1e58e;if(_0x4d8bbf===undefined)_0x4d8bbf=_0x5db61c;var _0x417681=Object[_0x32d789(0x13e)](_0x23df09,_0x5db61c);(!_0x417681||('get'in _0x417681?!_0x23df09[_0x32d789(0x150)]:_0x417681[_0x32d789(0x148)]||_0x417681['configurable']))&&(_0x417681={'enumerable':!![],'get':function(){return _0x23df09[_0x5db61c];}}),Object['defineProperty'](_0x47f198,_0x4d8bbf,_0x417681);}:function(_0x5ef7dc,_0x4dfa75,_0x840719,_0x5120df){if(_0x5120df===undefined)_0x5120df=_0x840719;_0x5ef7dc[_0x5120df]=_0x4dfa75[_0x840719];}),__setModuleDefault=this&&this[a456_0x1e58e(0x139)]||(Object['create']?function(_0x54d3d9,_0x4b343e){const _0x2d0eee=a456_0x1e58e;Object[_0x2d0eee(0x146)](_0x54d3d9,_0x2d0eee(0x136),{'enumerable':!![],'value':_0x4b343e});}:function(_0x3cfc2c,_0x215445){const _0x4ad261=a456_0x1e58e;_0x3cfc2c[_0x4ad261(0x136)]=_0x215445;}),__importStar=this&&this[a456_0x1e58e(0x152)]||function(_0x194940){const _0x353b99=a456_0x1e58e;if(_0x194940&&_0x194940[_0x353b99(0x150)])return _0x194940;var _0x52aa08={};if(_0x194940!=null){for(var _0x45eef0 in _0x194940)if(_0x45eef0!==_0x353b99(0x136)&&Object[_0x353b99(0x137)]['hasOwnProperty'][_0x353b99(0x140)](_0x194940,_0x45eef0))__createBinding(_0x52aa08,_0x194940,_0x45eef0);}return __setModuleDefault(_0x52aa08,_0x194940),_0x52aa08;},__importDefault=this&&this['__importDefault']||function(_0x3f6d90){return _0x3f6d90&&_0x3f6d90['__esModule']?_0x3f6d90:{'default':_0x3f6d90};};Object[a456_0x1e58e(0x146)](exports,a456_0x1e58e(0x150),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a456_0x1e58e(0x134))),FilesOptions_1=__importDefault(require(a456_0x1e58e(0x154))),ShowService_1=__importDefault(require(a456_0x1e58e(0x142))),UpdateService=async({fileData:_0x1beb99,id:_0x19c010,companyId:_0x551f25})=>{const _0xa8b2d0=a456_0x1e58e,_0x2faf76=await(0x0,ShowService_1[_0xa8b2d0(0x136)])(_0x19c010,_0x551f25),_0xd6faa=Yup[_0xa8b2d0(0x153)]()['shape']({'name':Yup['string']()['min'](0x3)}),{name:_0x44e3ff,message:_0x2b37d5,options:_0x283870}=_0x1beb99;try{await _0xd6faa['validate']({'name':_0x44e3ff});}catch(_0x4ab4f9){throw new AppError_1[(_0xa8b2d0(0x136))](_0x4ab4f9[_0xa8b2d0(0x14d)]);}return _0x283870&&(await Promise[_0xa8b2d0(0x144)](_0x283870[_0xa8b2d0(0x138)](async _0x2ca371=>{const _0x340db4=_0xa8b2d0;await FilesOptions_1[_0x340db4(0x136)][_0x340db4(0x156)]({..._0x2ca371,'fileId':_0x2faf76['id']});})),await Promise[_0xa8b2d0(0x144)](_0x2faf76[_0xa8b2d0(0x135)][_0xa8b2d0(0x138)](async _0xf298ad=>{const _0x5df876=_0xa8b2d0,_0x43751d=_0x283870[_0x5df876(0x141)](_0x58ee7f=>_0x58ee7f['id']===_0xf298ad['id']);_0x43751d===-0x1&&await FilesOptions_1[_0x5df876(0x136)]['destroy']({'where':{'id':_0xf298ad['id']}});}))),await _0x2faf76['update']({'name':_0x44e3ff,'message':_0x2b37d5}),await _0x2faf76[_0xa8b2d0(0x14e)]({'attributes':['id','name','message',_0xa8b2d0(0x155)],'include':['options']}),_0x2faf76;};function a456_0x34f4(){const _0x31f22e=['5FXeigd','getOwnPropertyDescriptor','2263041JCEWCH','call','findIndex','./ShowService','2746128YzZbVC','all','2BLLUyA','defineProperty','558532FJVMLR','writable','create','2947218qnoGGg','1194837dzGoeZ','2396568tMTQrK','message','reload','10718653bckgZR','__esModule','40khcUei','__importStar','object','../../models/FilesOptions','companyId','upsert','../../errors/AppError','options','default','prototype','map','__setModuleDefault','__createBinding','48cigmpQ','4BuOIWS'];a456_0x34f4=function(){return _0x31f22e;};return a456_0x34f4();}function a456_0x403b(_0xb82c41,_0x3406de){const _0x34f4a4=a456_0x34f4();return a456_0x403b=function(_0x403b2b,_0x569ae8){_0x403b2b=_0x403b2b-0x134;let _0x3c58fa=_0x34f4a4[_0x403b2b];return _0x3c58fa;},a456_0x403b(_0xb82c41,_0x3406de);}exports['default']=UpdateService;