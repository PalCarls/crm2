'use strict';const a479_0x4bb083=a479_0x4bc7;(function(_0x1b28a1,_0x17b4cd){const _0x1e8a4f=a479_0x4bc7,_0x1d44f0=_0x1b28a1();while(!![]){try{const _0x268d9c=-parseInt(_0x1e8a4f(0x210))/0x1*(parseInt(_0x1e8a4f(0x203))/0x2)+-parseInt(_0x1e8a4f(0x20b))/0x3+-parseInt(_0x1e8a4f(0x1f8))/0x4+-parseInt(_0x1e8a4f(0x1f1))/0x5*(-parseInt(_0x1e8a4f(0x1f2))/0x6)+-parseInt(_0x1e8a4f(0x20f))/0x7+-parseInt(_0x1e8a4f(0x206))/0x8+parseInt(_0x1e8a4f(0x209))/0x9;if(_0x268d9c===_0x17b4cd)break;else _0x1d44f0['push'](_0x1d44f0['shift']());}catch(_0x11305b){_0x1d44f0['push'](_0x1d44f0['shift']());}}}(a479_0x30a6,0x5b1af));function a479_0x30a6(){const _0x57cd3f=['min','message','all','defineProperty','options','validate','object','4922KcAtWf','__esModule','shape','5119896QZhyyg','./ShowService','../../models/FilesOptions','17552475pBPDyr','update','1524195QorGQf','upsert','__importStar','hasOwnProperty','3935680tDcytq','137AxrMtc','prototype','map','name','15Ojbssd','945300RXIAhj','yup','companyId','../../errors/AppError','findIndex','getOwnPropertyDescriptor','9236fgMcGW','default','__createBinding','call'];a479_0x30a6=function(){return _0x57cd3f;};return a479_0x30a6();}var __createBinding=this&&this[a479_0x4bb083(0x1fa)]||(Object['create']?function(_0x51bb19,_0x23eae8,_0x2a5cb6,_0x298dac){const _0x21c7c8=a479_0x4bb083;if(_0x298dac===undefined)_0x298dac=_0x2a5cb6;var _0x3ccb63=Object[_0x21c7c8(0x1f7)](_0x23eae8,_0x2a5cb6);(!_0x3ccb63||('get'in _0x3ccb63?!_0x23eae8['__esModule']:_0x3ccb63['writable']||_0x3ccb63['configurable']))&&(_0x3ccb63={'enumerable':!![],'get':function(){return _0x23eae8[_0x2a5cb6];}}),Object['defineProperty'](_0x51bb19,_0x298dac,_0x3ccb63);}:function(_0x46a330,_0x12a97f,_0x5e044f,_0x1eb12e){if(_0x1eb12e===undefined)_0x1eb12e=_0x5e044f;_0x46a330[_0x1eb12e]=_0x12a97f[_0x5e044f];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x9994e6,_0x16c284){const _0x3b0b10=a479_0x4bb083;Object['defineProperty'](_0x9994e6,_0x3b0b10(0x1f9),{'enumerable':!![],'value':_0x16c284});}:function(_0x8a2fbc,_0x6292ab){_0x8a2fbc['default']=_0x6292ab;}),__importStar=this&&this[a479_0x4bb083(0x20d)]||function(_0x392bb7){const _0x23417f=a479_0x4bb083;if(_0x392bb7&&_0x392bb7['__esModule'])return _0x392bb7;var _0x315922={};if(_0x392bb7!=null){for(var _0x297022 in _0x392bb7)if(_0x297022!==_0x23417f(0x1f9)&&Object[_0x23417f(0x211)][_0x23417f(0x20e)][_0x23417f(0x1fb)](_0x392bb7,_0x297022))__createBinding(_0x315922,_0x392bb7,_0x297022);}return __setModuleDefault(_0x315922,_0x392bb7),_0x315922;},__importDefault=this&&this['__importDefault']||function(_0x40bbec){const _0x2cf924=a479_0x4bb083;return _0x40bbec&&_0x40bbec[_0x2cf924(0x204)]?_0x40bbec:{'default':_0x40bbec};};Object[a479_0x4bb083(0x1ff)](exports,a479_0x4bb083(0x204),{'value':!![]});function a479_0x4bc7(_0x3eadd6,_0x13f41e){const _0x30a63e=a479_0x30a6();return a479_0x4bc7=function(_0x4bc74d,_0x22fe97){_0x4bc74d=_0x4bc74d-0x1f0;let _0x4f81c0=_0x30a63e[_0x4bc74d];return _0x4f81c0;},a479_0x4bc7(_0x3eadd6,_0x13f41e);}const Yup=__importStar(require(a479_0x4bb083(0x1f3))),AppError_1=__importDefault(require(a479_0x4bb083(0x1f5))),FilesOptions_1=__importDefault(require(a479_0x4bb083(0x208))),ShowService_1=__importDefault(require(a479_0x4bb083(0x207))),UpdateService=async({fileData:_0x2e4648,id:_0x44f0f3,companyId:_0x17313b})=>{const _0x44a913=a479_0x4bb083,_0x4d30ad=await(0x0,ShowService_1[_0x44a913(0x1f9)])(_0x44f0f3,_0x17313b),_0xa1cdfd=Yup[_0x44a913(0x202)]()[_0x44a913(0x205)]({'name':Yup['string']()[_0x44a913(0x1fc)](0x3)}),{name:_0x392817,message:_0x485dbb,options:_0x4e4dfb}=_0x2e4648;try{await _0xa1cdfd[_0x44a913(0x201)]({'name':_0x392817});}catch(_0x1b78b6){throw new AppError_1[(_0x44a913(0x1f9))](_0x1b78b6[_0x44a913(0x1fd)]);}return _0x4e4dfb&&(await Promise['all'](_0x4e4dfb[_0x44a913(0x212)](async _0x4a2ef7=>{const _0x1ee7fa=_0x44a913;await FilesOptions_1[_0x1ee7fa(0x1f9)][_0x1ee7fa(0x20c)]({..._0x4a2ef7,'fileId':_0x4d30ad['id']});})),await Promise[_0x44a913(0x1fe)](_0x4d30ad['options'][_0x44a913(0x212)](async _0x1a9868=>{const _0x298c96=_0x44a913,_0x49f226=_0x4e4dfb[_0x298c96(0x1f6)](_0x96f190=>_0x96f190['id']===_0x1a9868['id']);_0x49f226===-0x1&&await FilesOptions_1[_0x298c96(0x1f9)]['destroy']({'where':{'id':_0x1a9868['id']}});}))),await _0x4d30ad[_0x44a913(0x20a)]({'name':_0x392817,'message':_0x485dbb}),await _0x4d30ad['reload']({'attributes':['id',_0x44a913(0x1f0),_0x44a913(0x1fd),_0x44a913(0x1f4)],'include':[_0x44a913(0x200)]}),_0x4d30ad;};exports[a479_0x4bb083(0x1f9)]=UpdateService;