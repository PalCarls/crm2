'use strict';const a456_0xd075b2=a456_0x3ab6;function a456_0x3312(){const _0x587460=['200teIztK','validate','destroy','configurable','name','__importStar','options','../../models/FilesOptions','42TpVhlT','min','getOwnPropertyDescriptor','reload','3sqIJmY','message','__esModule','defineProperty','145276NnSDuN','../../errors/AppError','map','__setModuleDefault','14mboOjm','121187xAkCMw','prototype','all','string','object','update','1548lEOGwW','create','call','companyId','yup','7877975VGNJcw','8287580fqQmLs','328833QIvHdM','upsert','hasOwnProperty','findIndex','5924436ApOXOV','default','1048745RLfRgj'];a456_0x3312=function(){return _0x587460;};return a456_0x3312();}(function(_0x5a2f90,_0xca24be){const _0x47dde6=a456_0x3ab6,_0x19c21c=_0x5a2f90();while(!![]){try{const _0x29b52a=-parseInt(_0x47dde6(0xf0))/0x1*(-parseInt(_0x47dde6(0xec))/0x2)+parseInt(_0x47dde6(0xe8))/0x3*(-parseInt(_0x47dde6(0xd9))/0x4)+parseInt(_0x47dde6(0xdb))/0x5*(parseInt(_0x47dde6(0xe4))/0x6)+parseInt(_0x47dde6(0xd3))/0x7+parseInt(_0x47dde6(0xdc))/0x8*(parseInt(_0x47dde6(0xd5))/0x9)+-parseInt(_0x47dde6(0xd4))/0xa+-parseInt(_0x47dde6(0xf1))/0xb*(parseInt(_0x47dde6(0xf7))/0xc);if(_0x29b52a===_0xca24be)break;else _0x19c21c['push'](_0x19c21c['shift']());}catch(_0x172629){_0x19c21c['push'](_0x19c21c['shift']());}}}(a456_0x3312,0xc1985));var __createBinding=this&&this['__createBinding']||(Object[a456_0xd075b2(0xf8)]?function(_0x331d19,_0xe3e4e,_0x4e9871,_0x5e9d7c){const _0x26eeb2=a456_0xd075b2;if(_0x5e9d7c===undefined)_0x5e9d7c=_0x4e9871;var _0x3c32de=Object[_0x26eeb2(0xe6)](_0xe3e4e,_0x4e9871);(!_0x3c32de||('get'in _0x3c32de?!_0xe3e4e['__esModule']:_0x3c32de['writable']||_0x3c32de[_0x26eeb2(0xdf)]))&&(_0x3c32de={'enumerable':!![],'get':function(){return _0xe3e4e[_0x4e9871];}}),Object[_0x26eeb2(0xeb)](_0x331d19,_0x5e9d7c,_0x3c32de);}:function(_0x35ea91,_0x4b7dd7,_0x31d09a,_0x595471){if(_0x595471===undefined)_0x595471=_0x31d09a;_0x35ea91[_0x595471]=_0x4b7dd7[_0x31d09a];}),__setModuleDefault=this&&this[a456_0xd075b2(0xef)]||(Object[a456_0xd075b2(0xf8)]?function(_0x597a34,_0x358a9f){const _0x5c53e3=a456_0xd075b2;Object[_0x5c53e3(0xeb)](_0x597a34,_0x5c53e3(0xda),{'enumerable':!![],'value':_0x358a9f});}:function(_0x4dd92c,_0x4bbc89){const _0x17cf6c=a456_0xd075b2;_0x4dd92c[_0x17cf6c(0xda)]=_0x4bbc89;}),__importStar=this&&this[a456_0xd075b2(0xe1)]||function(_0xdce271){const _0x3bded5=a456_0xd075b2;if(_0xdce271&&_0xdce271[_0x3bded5(0xea)])return _0xdce271;var _0x25597e={};if(_0xdce271!=null){for(var _0x1be7f7 in _0xdce271)if(_0x1be7f7!==_0x3bded5(0xda)&&Object[_0x3bded5(0xf2)][_0x3bded5(0xd7)][_0x3bded5(0xd0)](_0xdce271,_0x1be7f7))__createBinding(_0x25597e,_0xdce271,_0x1be7f7);}return __setModuleDefault(_0x25597e,_0xdce271),_0x25597e;},__importDefault=this&&this['__importDefault']||function(_0xa0f04c){return _0xa0f04c&&_0xa0f04c['__esModule']?_0xa0f04c:{'default':_0xa0f04c};};Object[a456_0xd075b2(0xeb)](exports,a456_0xd075b2(0xea),{'value':!![]});function a456_0x3ab6(_0x512774,_0x4dc8a6){const _0x33121b=a456_0x3312();return a456_0x3ab6=function(_0x3ab63b,_0x4201a0){_0x3ab63b=_0x3ab63b-0xd0;let _0x310d2a=_0x33121b[_0x3ab63b];return _0x310d2a;},a456_0x3ab6(_0x512774,_0x4dc8a6);}const Yup=__importStar(require(a456_0xd075b2(0xd2))),AppError_1=__importDefault(require(a456_0xd075b2(0xed))),FilesOptions_1=__importDefault(require(a456_0xd075b2(0xe3))),ShowService_1=__importDefault(require('./ShowService')),UpdateService=async({fileData:_0x5e1653,id:_0xa0bd64,companyId:_0x47f167})=>{const _0x40e3e2=a456_0xd075b2,_0x30a8ba=await(0x0,ShowService_1[_0x40e3e2(0xda)])(_0xa0bd64,_0x47f167),_0xde63a2=Yup[_0x40e3e2(0xf5)]()['shape']({'name':Yup[_0x40e3e2(0xf4)]()[_0x40e3e2(0xe5)](0x3)}),{name:_0x425e04,message:_0x537816,options:_0x3a48f2}=_0x5e1653;try{await _0xde63a2[_0x40e3e2(0xdd)]({'name':_0x425e04});}catch(_0x4b033e){throw new AppError_1[(_0x40e3e2(0xda))](_0x4b033e['message']);}return _0x3a48f2&&(await Promise[_0x40e3e2(0xf3)](_0x3a48f2[_0x40e3e2(0xee)](async _0x4e65cc=>{const _0x942091=_0x40e3e2;await FilesOptions_1['default'][_0x942091(0xd6)]({..._0x4e65cc,'fileId':_0x30a8ba['id']});})),await Promise[_0x40e3e2(0xf3)](_0x30a8ba[_0x40e3e2(0xe2)][_0x40e3e2(0xee)](async _0x1cb6d6=>{const _0x428670=_0x40e3e2,_0xd4286a=_0x3a48f2[_0x428670(0xd8)](_0xa21f2=>_0xa21f2['id']===_0x1cb6d6['id']);_0xd4286a===-0x1&&await FilesOptions_1[_0x428670(0xda)][_0x428670(0xde)]({'where':{'id':_0x1cb6d6['id']}});}))),await _0x30a8ba[_0x40e3e2(0xf6)]({'name':_0x425e04,'message':_0x537816}),await _0x30a8ba[_0x40e3e2(0xe7)]({'attributes':['id',_0x40e3e2(0xe0),_0x40e3e2(0xe9),_0x40e3e2(0xd1)],'include':[_0x40e3e2(0xe2)]}),_0x30a8ba;};exports[a456_0xd075b2(0xda)]=UpdateService;