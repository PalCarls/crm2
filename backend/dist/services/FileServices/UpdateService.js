'use strict';const a442_0x161ba3=a442_0x5d4d;(function(_0x4309b6,_0x1f5620){const _0x18839d=a442_0x5d4d,_0x3fed20=_0x4309b6();while(!![]){try{const _0x1963e1=-parseInt(_0x18839d(0x6a))/0x1+-parseInt(_0x18839d(0x6e))/0x2+parseInt(_0x18839d(0x6c))/0x3*(parseInt(_0x18839d(0x82))/0x4)+-parseInt(_0x18839d(0x72))/0x5+parseInt(_0x18839d(0x7e))/0x6*(parseInt(_0x18839d(0x8a))/0x7)+-parseInt(_0x18839d(0x6f))/0x8*(-parseInt(_0x18839d(0x84))/0x9)+parseInt(_0x18839d(0x7a))/0xa;if(_0x1963e1===_0x1f5620)break;else _0x3fed20['push'](_0x3fed20['shift']());}catch(_0x3115b6){_0x3fed20['push'](_0x3fed20['shift']());}}}(a442_0x33a3,0x7de8f));function a442_0x5d4d(_0x54b25f,_0x37b40e){const _0x33a338=a442_0x33a3();return a442_0x5d4d=function(_0x5d4def,_0x2f56dc){_0x5d4def=_0x5d4def-0x68;let _0x8248d1=_0x33a338[_0x5d4def];return _0x8248d1;},a442_0x5d4d(_0x54b25f,_0x37b40e);}function a442_0x33a3(){const _0xc84549=['default','message','21185340WMWYay','__importStar','findIndex','reload','192426nOpyPV','yup','create','getOwnPropertyDescriptor','714664aESkEO','map','18bWIADc','__setModuleDefault','update','writable','destroy','__esModule','49MLDlXl','options','upsert','configurable','call','all','get','../../models/FilesOptions','565385EzpTUT','companyId','6ZLNieh','defineProperty','1359028cvLjvR','204488XHdqyp','name','object','4954295VGBlrK','shape','../../errors/AppError','__importDefault','min','./ShowService'];a442_0x33a3=function(){return _0xc84549;};return a442_0x33a3();}var __createBinding=this&&this['__createBinding']||(Object[a442_0x161ba3(0x80)]?function(_0x4b5f7d,_0x53d6f9,_0xa50850,_0x1657c7){const _0x5c6603=a442_0x161ba3;if(_0x1657c7===undefined)_0x1657c7=_0xa50850;var _0x3a899c=Object[_0x5c6603(0x81)](_0x53d6f9,_0xa50850);(!_0x3a899c||(_0x5c6603(0x68)in _0x3a899c?!_0x53d6f9[_0x5c6603(0x89)]:_0x3a899c[_0x5c6603(0x87)]||_0x3a899c[_0x5c6603(0x8d)]))&&(_0x3a899c={'enumerable':!![],'get':function(){return _0x53d6f9[_0xa50850];}}),Object[_0x5c6603(0x6d)](_0x4b5f7d,_0x1657c7,_0x3a899c);}:function(_0x1f416a,_0x28a089,_0x3fdd92,_0x1a2182){if(_0x1a2182===undefined)_0x1a2182=_0x3fdd92;_0x1f416a[_0x1a2182]=_0x28a089[_0x3fdd92];}),__setModuleDefault=this&&this[a442_0x161ba3(0x85)]||(Object[a442_0x161ba3(0x80)]?function(_0x23ba08,_0x4d8042){const _0x987c36=a442_0x161ba3;Object[_0x987c36(0x6d)](_0x23ba08,'default',{'enumerable':!![],'value':_0x4d8042});}:function(_0x3acefd,_0x180efa){const _0x2fa9d6=a442_0x161ba3;_0x3acefd[_0x2fa9d6(0x78)]=_0x180efa;}),__importStar=this&&this[a442_0x161ba3(0x7b)]||function(_0x6a2aa9){const _0x5892d7=a442_0x161ba3;if(_0x6a2aa9&&_0x6a2aa9[_0x5892d7(0x89)])return _0x6a2aa9;var _0x2b3c9f={};if(_0x6a2aa9!=null){for(var _0x24b2f2 in _0x6a2aa9)if(_0x24b2f2!==_0x5892d7(0x78)&&Object['prototype']['hasOwnProperty'][_0x5892d7(0x8e)](_0x6a2aa9,_0x24b2f2))__createBinding(_0x2b3c9f,_0x6a2aa9,_0x24b2f2);}return __setModuleDefault(_0x2b3c9f,_0x6a2aa9),_0x2b3c9f;},__importDefault=this&&this[a442_0x161ba3(0x75)]||function(_0x16c933){const _0x360429=a442_0x161ba3;return _0x16c933&&_0x16c933[_0x360429(0x89)]?_0x16c933:{'default':_0x16c933};};Object[a442_0x161ba3(0x6d)](exports,a442_0x161ba3(0x89),{'value':!![]});const Yup=__importStar(require(a442_0x161ba3(0x7f))),AppError_1=__importDefault(require(a442_0x161ba3(0x74))),FilesOptions_1=__importDefault(require(a442_0x161ba3(0x69))),ShowService_1=__importDefault(require(a442_0x161ba3(0x77))),UpdateService=async({fileData:_0x588d68,id:_0xc0f76,companyId:_0x16c7cb})=>{const _0x49da2a=a442_0x161ba3,_0x53f225=await(0x0,ShowService_1['default'])(_0xc0f76,_0x16c7cb),_0x2b7533=Yup[_0x49da2a(0x71)]()[_0x49da2a(0x73)]({'name':Yup['string']()[_0x49da2a(0x76)](0x3)}),{name:_0x486434,message:_0x1a7a06,options:_0x23de2a}=_0x588d68;try{await _0x2b7533['validate']({'name':_0x486434});}catch(_0x12aec0){throw new AppError_1[(_0x49da2a(0x78))](_0x12aec0[_0x49da2a(0x79)]);}return _0x23de2a&&(await Promise[_0x49da2a(0x8f)](_0x23de2a[_0x49da2a(0x83)](async _0x16e764=>{const _0x59d8ec=_0x49da2a;await FilesOptions_1[_0x59d8ec(0x78)][_0x59d8ec(0x8c)]({..._0x16e764,'fileId':_0x53f225['id']});})),await Promise[_0x49da2a(0x8f)](_0x53f225[_0x49da2a(0x8b)][_0x49da2a(0x83)](async _0x1587af=>{const _0x3cef1b=_0x49da2a,_0x13334a=_0x23de2a[_0x3cef1b(0x7c)](_0x52e232=>_0x52e232['id']===_0x1587af['id']);_0x13334a===-0x1&&await FilesOptions_1[_0x3cef1b(0x78)][_0x3cef1b(0x88)]({'where':{'id':_0x1587af['id']}});}))),await _0x53f225[_0x49da2a(0x86)]({'name':_0x486434,'message':_0x1a7a06}),await _0x53f225[_0x49da2a(0x7d)]({'attributes':['id',_0x49da2a(0x70),_0x49da2a(0x79),_0x49da2a(0x6b)],'include':[_0x49da2a(0x8b)]}),_0x53f225;};exports[a442_0x161ba3(0x78)]=UpdateService;