'use strict';const a483_0x8b5b7b=a483_0x3a05;(function(_0x20ebaa,_0x18b581){const _0x8a9399=a483_0x3a05,_0x43109c=_0x20ebaa();while(!![]){try{const _0x2b8872=-parseInt(_0x8a9399(0x18a))/0x1*(-parseInt(_0x8a9399(0x186))/0x2)+-parseInt(_0x8a9399(0x184))/0x3+-parseInt(_0x8a9399(0x17f))/0x4*(parseInt(_0x8a9399(0x19f))/0x5)+parseInt(_0x8a9399(0x179))/0x6*(-parseInt(_0x8a9399(0x17c))/0x7)+parseInt(_0x8a9399(0x191))/0x8*(-parseInt(_0x8a9399(0x199))/0x9)+-parseInt(_0x8a9399(0x182))/0xa*(parseInt(_0x8a9399(0x188))/0xb)+-parseInt(_0x8a9399(0x19c))/0xc*(-parseInt(_0x8a9399(0x195))/0xd);if(_0x2b8872===_0x18b581)break;else _0x43109c['push'](_0x43109c['shift']());}catch(_0x220eb5){_0x43109c['push'](_0x43109c['shift']());}}}(a483_0x37d0,0xbc861));function a483_0x3a05(_0x49f204,_0xfa33f8){const _0x37d04b=a483_0x37d0();return a483_0x3a05=function(_0x3a052f,_0x25addd){_0x3a052f=_0x3a052f-0x179;let _0x2c1f3d=_0x37d04b[_0x3a052f];return _0x2c1f3d;},a483_0x3a05(_0x49f204,_0xfa33f8);}var __createBinding=this&&this[a483_0x8b5b7b(0x19a)]||(Object['create']?function(_0xd5447b,_0x2d80dd,_0x3c4714,_0x4c407a){const _0x10376b=a483_0x8b5b7b;if(_0x4c407a===undefined)_0x4c407a=_0x3c4714;var _0x5c9cb1=Object[_0x10376b(0x18d)](_0x2d80dd,_0x3c4714);(!_0x5c9cb1||(_0x10376b(0x180)in _0x5c9cb1?!_0x2d80dd[_0x10376b(0x194)]:_0x5c9cb1[_0x10376b(0x196)]||_0x5c9cb1[_0x10376b(0x18c)]))&&(_0x5c9cb1={'enumerable':!![],'get':function(){return _0x2d80dd[_0x3c4714];}}),Object['defineProperty'](_0xd5447b,_0x4c407a,_0x5c9cb1);}:function(_0x475cda,_0x12717f,_0x4988d9,_0xe8e7a6){if(_0xe8e7a6===undefined)_0xe8e7a6=_0x4988d9;_0x475cda[_0xe8e7a6]=_0x12717f[_0x4988d9];}),__setModuleDefault=this&&this[a483_0x8b5b7b(0x18e)]||(Object[a483_0x8b5b7b(0x17e)]?function(_0x355545,_0x52c10d){const _0x3a8727=a483_0x8b5b7b;Object[_0x3a8727(0x181)](_0x355545,_0x3a8727(0x17d),{'enumerable':!![],'value':_0x52c10d});}:function(_0x398fb8,_0x30da46){const _0x500e06=a483_0x8b5b7b;_0x398fb8[_0x500e06(0x17d)]=_0x30da46;}),__importStar=this&&this[a483_0x8b5b7b(0x18b)]||function(_0x5963e5){const _0x483092=a483_0x8b5b7b;if(_0x5963e5&&_0x5963e5[_0x483092(0x194)])return _0x5963e5;var _0x588ed1={};if(_0x5963e5!=null){for(var _0x168a3c in _0x5963e5)if(_0x168a3c!=='default'&&Object[_0x483092(0x187)][_0x483092(0x17a)][_0x483092(0x198)](_0x5963e5,_0x168a3c))__createBinding(_0x588ed1,_0x5963e5,_0x168a3c);}return __setModuleDefault(_0x588ed1,_0x5963e5),_0x588ed1;},__importDefault=this&&this[a483_0x8b5b7b(0x18f)]||function(_0x5968e0){const _0x319bde=a483_0x8b5b7b;return _0x5968e0&&_0x5968e0[_0x319bde(0x194)]?_0x5968e0:{'default':_0x5968e0};};Object[a483_0x8b5b7b(0x181)](exports,a483_0x8b5b7b(0x194),{'value':!![]});function a483_0x37d0(){const _0x270586=['330082dcJwzi','prototype','103235XkJjHZ','message','1hJqIrT','__importStar','configurable','getOwnPropertyDescriptor','__setModuleDefault','__importDefault','./ShowService','696sFsMiU','test','min','__esModule','22087umpxHa','writable','all','call','14238pNsuii','__createBinding','yup','31236pUAILW','../../errors/AppError','map','122755RYOUBa','string','2491998IgyueF','hasOwnProperty','ERR_RATING_NAME_ALREADY_EXISTS','21JJvMId','default','create','164nXDShn','get','defineProperty','100FcVRhQ','validate','3993813VEmFCW','../../models/Files'];a483_0x37d0=function(){return _0x270586;};return a483_0x37d0();}const Yup=__importStar(require(a483_0x8b5b7b(0x19b))),AppError_1=__importDefault(require(a483_0x8b5b7b(0x19d))),Files_1=__importDefault(require(a483_0x8b5b7b(0x185))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a483_0x8b5b7b(0x190))),CreateService=async({name:_0xe00f3e,message:_0x3d6f9a,companyId:_0x1c0105,options:_0x5061ea})=>{const _0x175895=a483_0x8b5b7b,_0x290308=Yup['object']()['shape']({'name':Yup[_0x175895(0x1a0)]()['required']()[_0x175895(0x193)](0x3)[_0x175895(0x192)]('Check-unique-name',_0x175895(0x17b),async _0x3408ca=>{const _0x213b88=_0x175895;if(_0x3408ca){const _0x1d389f=await Files_1[_0x213b88(0x17d)]['findOne']({'where':{'name':_0x3408ca,'companyId':_0x1c0105}});return!_0x1d389f;}return![];})});try{await _0x290308[_0x175895(0x183)]({'name':_0xe00f3e});}catch(_0x231428){throw new AppError_1['default'](_0x231428[_0x175895(0x189)]);}let _0x28ab1e=await Files_1[_0x175895(0x17d)][_0x175895(0x17e)]({'name':_0xe00f3e,'message':_0x3d6f9a,'companyId':_0x1c0105});return _0x5061ea&&_0x5061ea['length']>0x0&&await Promise[_0x175895(0x197)](_0x5061ea[_0x175895(0x19e)](async _0x12a859=>{const _0x3f23e7=_0x175895;await FilesOptions_1[_0x3f23e7(0x17d)]['upsert']({..._0x12a859,'fileId':_0x28ab1e['id']});})),_0x28ab1e=await(0x0,ShowService_1['default'])(_0x28ab1e['id'],_0x1c0105),_0x28ab1e;};exports['default']=CreateService;