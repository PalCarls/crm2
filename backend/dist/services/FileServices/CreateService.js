'use strict';const a490_0x1d4d59=a490_0x11e1;function a490_0x11e1(_0x1d9d09,_0x19dc70){const _0x4375de=a490_0x4375();return a490_0x11e1=function(_0x11e109,_0x4c2914){_0x11e109=_0x11e109-0x1de;let _0xa433c9=_0x4375de[_0x11e109];return _0xa433c9;},a490_0x11e1(_0x1d9d09,_0x19dc70);}(function(_0x4b78cc,_0xdc1e17){const _0xdc4f19=a490_0x11e1,_0x43e33b=_0x4b78cc();while(!![]){try{const _0x5aaff2=parseInt(_0xdc4f19(0x1fb))/0x1+-parseInt(_0xdc4f19(0x1fe))/0x2+parseInt(_0xdc4f19(0x1ef))/0x3+parseInt(_0xdc4f19(0x1e7))/0x4*(-parseInt(_0xdc4f19(0x1f1))/0x5)+-parseInt(_0xdc4f19(0x1fc))/0x6*(parseInt(_0xdc4f19(0x1fd))/0x7)+parseInt(_0xdc4f19(0x1e0))/0x8*(-parseInt(_0xdc4f19(0x1f5))/0x9)+-parseInt(_0xdc4f19(0x1f0))/0xa*(-parseInt(_0xdc4f19(0x1fa))/0xb);if(_0x5aaff2===_0xdc1e17)break;else _0x43e33b['push'](_0x43e33b['shift']());}catch(_0x2a6da1){_0x43e33b['push'](_0x43e33b['shift']());}}}(a490_0x4375,0xbfbcb));function a490_0x4375(){const _0x204f0f=['shape','getOwnPropertyDescriptor','24UqagIt','default','all','writable','create','../../models/Files','../../models/FilesOptions','56nYdYaT','ERR_RATING_NAME_ALREADY_EXISTS','map','upsert','prototype','required','get','validate','1147062uFaCwG','9901010hnVBsD','223060UsZVpZ','length','__createBinding','configurable','4470210sVamfn','message','defineProperty','call','findOne','22ONYlug','1278136CgnRYD','15174IEqTiz','399bXqgAP','1193092ubtEgA','../../errors/AppError','__esModule','__importStar','yup','Check-unique-name','__importDefault'];a490_0x4375=function(){return _0x204f0f;};return a490_0x4375();}var __createBinding=this&&this[a490_0x1d4d59(0x1f3)]||(Object[a490_0x1d4d59(0x1e4)]?function(_0x24a21f,_0x11b29b,_0x4143be,_0x59edaf){const _0x22130c=a490_0x1d4d59;if(_0x59edaf===undefined)_0x59edaf=_0x4143be;var _0x1c272d=Object[_0x22130c(0x1df)](_0x11b29b,_0x4143be);(!_0x1c272d||(_0x22130c(0x1ed)in _0x1c272d?!_0x11b29b['__esModule']:_0x1c272d[_0x22130c(0x1e3)]||_0x1c272d[_0x22130c(0x1f4)]))&&(_0x1c272d={'enumerable':!![],'get':function(){return _0x11b29b[_0x4143be];}}),Object[_0x22130c(0x1f7)](_0x24a21f,_0x59edaf,_0x1c272d);}:function(_0x5cacb2,_0x448b55,_0x3df7f4,_0x3245a8){if(_0x3245a8===undefined)_0x3245a8=_0x3df7f4;_0x5cacb2[_0x3245a8]=_0x448b55[_0x3df7f4];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a490_0x1d4d59(0x1e4)]?function(_0x4e3d77,_0x5a2f39){const _0x191b78=a490_0x1d4d59;Object[_0x191b78(0x1f7)](_0x4e3d77,_0x191b78(0x1e1),{'enumerable':!![],'value':_0x5a2f39});}:function(_0x537d75,_0x11789f){const _0x3c6461=a490_0x1d4d59;_0x537d75[_0x3c6461(0x1e1)]=_0x11789f;}),__importStar=this&&this[a490_0x1d4d59(0x201)]||function(_0x56aeeb){const _0x581dee=a490_0x1d4d59;if(_0x56aeeb&&_0x56aeeb['__esModule'])return _0x56aeeb;var _0x492227={};if(_0x56aeeb!=null){for(var _0x4a1f09 in _0x56aeeb)if(_0x4a1f09!==_0x581dee(0x1e1)&&Object[_0x581dee(0x1eb)]['hasOwnProperty'][_0x581dee(0x1f8)](_0x56aeeb,_0x4a1f09))__createBinding(_0x492227,_0x56aeeb,_0x4a1f09);}return __setModuleDefault(_0x492227,_0x56aeeb),_0x492227;},__importDefault=this&&this[a490_0x1d4d59(0x204)]||function(_0x1d7bbe){const _0x29722a=a490_0x1d4d59;return _0x1d7bbe&&_0x1d7bbe[_0x29722a(0x200)]?_0x1d7bbe:{'default':_0x1d7bbe};};Object[a490_0x1d4d59(0x1f7)](exports,a490_0x1d4d59(0x200),{'value':!![]});const Yup=__importStar(require(a490_0x1d4d59(0x202))),AppError_1=__importDefault(require(a490_0x1d4d59(0x1ff))),Files_1=__importDefault(require(a490_0x1d4d59(0x1e5))),FilesOptions_1=__importDefault(require(a490_0x1d4d59(0x1e6))),ShowService_1=__importDefault(require('./ShowService')),CreateService=async({name:_0x583bfe,message:_0x97b2eb,companyId:_0xba4a5,options:_0x424eec})=>{const _0x16d0fb=a490_0x1d4d59,_0x5999c3=Yup['object']()[_0x16d0fb(0x1de)]({'name':Yup['string']()[_0x16d0fb(0x1ec)]()['min'](0x3)['test'](_0x16d0fb(0x203),_0x16d0fb(0x1e8),async _0xeda884=>{const _0x49c76d=_0x16d0fb;if(_0xeda884){const _0x304bbc=await Files_1['default'][_0x49c76d(0x1f9)]({'where':{'name':_0xeda884,'companyId':_0xba4a5}});return!_0x304bbc;}return![];})});try{await _0x5999c3[_0x16d0fb(0x1ee)]({'name':_0x583bfe});}catch(_0x2be73a){throw new AppError_1[(_0x16d0fb(0x1e1))](_0x2be73a[_0x16d0fb(0x1f6)]);}let _0x206c5b=await Files_1[_0x16d0fb(0x1e1)][_0x16d0fb(0x1e4)]({'name':_0x583bfe,'message':_0x97b2eb,'companyId':_0xba4a5});return _0x424eec&&_0x424eec[_0x16d0fb(0x1f2)]>0x0&&await Promise[_0x16d0fb(0x1e2)](_0x424eec[_0x16d0fb(0x1e9)](async _0x54fc01=>{const _0xa057d9=_0x16d0fb;await FilesOptions_1[_0xa057d9(0x1e1)][_0xa057d9(0x1ea)]({..._0x54fc01,'fileId':_0x206c5b['id']});})),_0x206c5b=await(0x0,ShowService_1[_0x16d0fb(0x1e1)])(_0x206c5b['id'],_0xba4a5),_0x206c5b;};exports[a490_0x1d4d59(0x1e1)]=CreateService;