'use strict';const a483_0x53a48f=a483_0x237d;function a483_0x237d(_0x5d7485,_0x3cefb3){const _0xe509fb=a483_0xe509();return a483_0x237d=function(_0x237d3b,_0xd6fce){_0x237d3b=_0x237d3b-0x17b;let _0x49eb31=_0xe509fb[_0x237d3b];return _0x49eb31;},a483_0x237d(_0x5d7485,_0x3cefb3);}(function(_0x3739cd,_0x1af1fc){const _0x5b9f0c=a483_0x237d,_0x1146f5=_0x3739cd();while(!![]){try{const _0x5bca05=-parseInt(_0x5b9f0c(0x195))/0x1+-parseInt(_0x5b9f0c(0x19b))/0x2*(parseInt(_0x5b9f0c(0x180))/0x3)+-parseInt(_0x5b9f0c(0x189))/0x4+parseInt(_0x5b9f0c(0x18c))/0x5*(-parseInt(_0x5b9f0c(0x181))/0x6)+-parseInt(_0x5b9f0c(0x196))/0x7*(-parseInt(_0x5b9f0c(0x188))/0x8)+-parseInt(_0x5b9f0c(0x193))/0x9*(parseInt(_0x5b9f0c(0x19a))/0xa)+parseInt(_0x5b9f0c(0x17e))/0xb;if(_0x5bca05===_0x1af1fc)break;else _0x1146f5['push'](_0x1146f5['shift']());}catch(_0x4e95c0){_0x1146f5['push'](_0x1146f5['shift']());}}}(a483_0xe509,0xe7515));function a483_0xe509(){const _0xf417c3=['length','Check-unique-name','default','__esModule','prototype','9SWdDPG','create','1111610JlpgBa','10509709ExuRtz','message','__importDefault','ERR_RATING_NAME_ALREADY_EXISTS','1325380nCulgx','526EFVbQR','min','./ShowService','upsert','../../errors/AppError','call','findOne','required','validate','34782297LrBVja','__importStar','15846NLEpCT','6sybBDq','../../models/Files','defineProperty','__setModuleDefault','writable','string','get','8gImqBG','1684772QYUFIY','hasOwnProperty','map','3307150YfjFMV','configurable'];a483_0xe509=function(){return _0xf417c3;};return a483_0xe509();}var __createBinding=this&&this['__createBinding']||(Object[a483_0x53a48f(0x194)]?function(_0x597b0a,_0x223bd1,_0x3965fc,_0x1445f8){const _0x357425=a483_0x53a48f;if(_0x1445f8===undefined)_0x1445f8=_0x3965fc;var _0x5155c6=Object['getOwnPropertyDescriptor'](_0x223bd1,_0x3965fc);(!_0x5155c6||(_0x357425(0x187)in _0x5155c6?!_0x223bd1[_0x357425(0x191)]:_0x5155c6[_0x357425(0x185)]||_0x5155c6[_0x357425(0x18d)]))&&(_0x5155c6={'enumerable':!![],'get':function(){return _0x223bd1[_0x3965fc];}}),Object[_0x357425(0x183)](_0x597b0a,_0x1445f8,_0x5155c6);}:function(_0x1b3054,_0x28992d,_0x17ef83,_0x413002){if(_0x413002===undefined)_0x413002=_0x17ef83;_0x1b3054[_0x413002]=_0x28992d[_0x17ef83];}),__setModuleDefault=this&&this[a483_0x53a48f(0x184)]||(Object[a483_0x53a48f(0x194)]?function(_0x335d01,_0x25f235){const _0x4e381c=a483_0x53a48f;Object['defineProperty'](_0x335d01,_0x4e381c(0x190),{'enumerable':!![],'value':_0x25f235});}:function(_0x472a99,_0x2f991e){const _0x1f1178=a483_0x53a48f;_0x472a99[_0x1f1178(0x190)]=_0x2f991e;}),__importStar=this&&this[a483_0x53a48f(0x17f)]||function(_0x2d00cc){const _0x59c305=a483_0x53a48f;if(_0x2d00cc&&_0x2d00cc[_0x59c305(0x191)])return _0x2d00cc;var _0x2c7b33={};if(_0x2d00cc!=null){for(var _0x4fb747 in _0x2d00cc)if(_0x4fb747!==_0x59c305(0x190)&&Object[_0x59c305(0x192)][_0x59c305(0x18a)][_0x59c305(0x1a0)](_0x2d00cc,_0x4fb747))__createBinding(_0x2c7b33,_0x2d00cc,_0x4fb747);}return __setModuleDefault(_0x2c7b33,_0x2d00cc),_0x2c7b33;},__importDefault=this&&this[a483_0x53a48f(0x198)]||function(_0x126609){const _0x5a4b73=a483_0x53a48f;return _0x126609&&_0x126609[_0x5a4b73(0x191)]?_0x126609:{'default':_0x126609};};Object[a483_0x53a48f(0x183)](exports,a483_0x53a48f(0x191),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a483_0x53a48f(0x19f))),Files_1=__importDefault(require(a483_0x53a48f(0x182))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a483_0x53a48f(0x19d))),CreateService=async({name:_0x54622a,message:_0x1cfff1,companyId:_0x5d1ea6,options:_0x1f8d6d})=>{const _0x16f5a2=a483_0x53a48f,_0x2752b3=Yup['object']()['shape']({'name':Yup[_0x16f5a2(0x186)]()[_0x16f5a2(0x17c)]()[_0x16f5a2(0x19c)](0x3)['test'](_0x16f5a2(0x18f),_0x16f5a2(0x199),async _0x2d4256=>{const _0x14a495=_0x16f5a2;if(_0x2d4256){const _0x1f381b=await Files_1[_0x14a495(0x190)][_0x14a495(0x17b)]({'where':{'name':_0x2d4256,'companyId':_0x5d1ea6}});return!_0x1f381b;}return![];})});try{await _0x2752b3[_0x16f5a2(0x17d)]({'name':_0x54622a});}catch(_0x36e309){throw new AppError_1[(_0x16f5a2(0x190))](_0x36e309[_0x16f5a2(0x197)]);}let _0x9caafb=await Files_1[_0x16f5a2(0x190)]['create']({'name':_0x54622a,'message':_0x1cfff1,'companyId':_0x5d1ea6});return _0x1f8d6d&&_0x1f8d6d[_0x16f5a2(0x18e)]>0x0&&await Promise['all'](_0x1f8d6d[_0x16f5a2(0x18b)](async _0x3b1da6=>{const _0x58386b=_0x16f5a2;await FilesOptions_1[_0x58386b(0x190)][_0x58386b(0x19e)]({..._0x3b1da6,'fileId':_0x9caafb['id']});})),_0x9caafb=await(0x0,ShowService_1['default'])(_0x9caafb['id'],_0x5d1ea6),_0x9caafb;};exports[a483_0x53a48f(0x190)]=CreateService;