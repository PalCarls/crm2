'use strict';const a483_0x346371=a483_0x5615;(function(_0x106709,_0x55adf0){const _0x2970e3=a483_0x5615,_0x1b8099=_0x106709();while(!![]){try{const _0x2873ae=parseInt(_0x2970e3(0xea))/0x1+parseInt(_0x2970e3(0xf7))/0x2+parseInt(_0x2970e3(0xe7))/0x3+parseInt(_0x2970e3(0xe6))/0x4+parseInt(_0x2970e3(0xff))/0x5*(parseInt(_0x2970e3(0xfc))/0x6)+parseInt(_0x2970e3(0xeb))/0x7+-parseInt(_0x2970e3(0xfa))/0x8*(parseInt(_0x2970e3(0xec))/0x9);if(_0x2873ae===_0x55adf0)break;else _0x1b8099['push'](_0x1b8099['shift']());}catch(_0x39abe3){_0x1b8099['push'](_0x1b8099['shift']());}}}(a483_0x180d,0x4e69b));var __createBinding=this&&this['__createBinding']||(Object[a483_0x346371(0xee)]?function(_0x245909,_0x5ae81b,_0x3d9c1c,_0x48ac2d){const _0x48b553=a483_0x346371;if(_0x48ac2d===undefined)_0x48ac2d=_0x3d9c1c;var _0x58244c=Object['getOwnPropertyDescriptor'](_0x5ae81b,_0x3d9c1c);(!_0x58244c||('get'in _0x58244c?!_0x5ae81b['__esModule']:_0x58244c[_0x48b553(0xf1)]||_0x58244c[_0x48b553(0xf3)]))&&(_0x58244c={'enumerable':!![],'get':function(){return _0x5ae81b[_0x3d9c1c];}}),Object[_0x48b553(0x101)](_0x245909,_0x48ac2d,_0x58244c);}:function(_0x42af13,_0x2de26c,_0x389c41,_0x3ae9ed){if(_0x3ae9ed===undefined)_0x3ae9ed=_0x389c41;_0x42af13[_0x3ae9ed]=_0x2de26c[_0x389c41];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x38a7c6,_0x29ebb1){const _0x20ce25=a483_0x346371;Object[_0x20ce25(0x101)](_0x38a7c6,'default',{'enumerable':!![],'value':_0x29ebb1});}:function(_0x10ec00,_0x3b7148){const _0x12bda5=a483_0x346371;_0x10ec00[_0x12bda5(0xfd)]=_0x3b7148;}),__importStar=this&&this['__importStar']||function(_0x2619b0){const _0x1e0107=a483_0x346371;if(_0x2619b0&&_0x2619b0[_0x1e0107(0xe1)])return _0x2619b0;var _0x39f111={};if(_0x2619b0!=null){for(var _0x11794a in _0x2619b0)if(_0x11794a!==_0x1e0107(0xfd)&&Object[_0x1e0107(0xf5)]['hasOwnProperty'][_0x1e0107(0xe8)](_0x2619b0,_0x11794a))__createBinding(_0x39f111,_0x2619b0,_0x11794a);}return __setModuleDefault(_0x39f111,_0x2619b0),_0x39f111;},__importDefault=this&&this[a483_0x346371(0xf9)]||function(_0x35d1ca){const _0x58420a=a483_0x346371;return _0x35d1ca&&_0x35d1ca[_0x58420a(0xe1)]?_0x35d1ca:{'default':_0x35d1ca};};Object[a483_0x346371(0x101)](exports,'__esModule',{'value':!![]});function a483_0x5615(_0x469b3e,_0x1f1fe5){const _0x180d15=a483_0x180d();return a483_0x5615=function(_0x561590,_0x438c5e){_0x561590=_0x561590-0xe1;let _0x58a16c=_0x180d15[_0x561590];return _0x58a16c;},a483_0x5615(_0x469b3e,_0x1f1fe5);}const Yup=__importStar(require(a483_0x346371(0xf6))),AppError_1=__importDefault(require(a483_0x346371(0xfe))),Files_1=__importDefault(require(a483_0x346371(0xe9))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a483_0x346371(0xe2))),CreateService=async({name:_0x158f87,message:_0x33e9fa,companyId:_0x1df301,options:_0x581bdc})=>{const _0x27197e=a483_0x346371,_0x14fec0=Yup[_0x27197e(0xf4)]()['shape']({'name':Yup[_0x27197e(0x100)]()[_0x27197e(0xef)]()[_0x27197e(0xed)](0x3)[_0x27197e(0xf2)]('Check-unique-name',_0x27197e(0xe5),async _0xcae7b4=>{const _0x403bd8=_0x27197e;if(_0xcae7b4){const _0x104f2f=await Files_1[_0x403bd8(0xfd)][_0x403bd8(0xf8)]({'where':{'name':_0xcae7b4,'companyId':_0x1df301}});return!_0x104f2f;}return![];})});try{await _0x14fec0['validate']({'name':_0x158f87});}catch(_0x49a22b){throw new AppError_1[(_0x27197e(0xfd))](_0x49a22b[_0x27197e(0xe4)]);}let _0x5ccab4=await Files_1['default'][_0x27197e(0xee)]({'name':_0x158f87,'message':_0x33e9fa,'companyId':_0x1df301});return _0x581bdc&&_0x581bdc['length']>0x0&&await Promise[_0x27197e(0xe3)](_0x581bdc[_0x27197e(0xfb)](async _0xad0db6=>{const _0xf07545=_0x27197e;await FilesOptions_1[_0xf07545(0xfd)][_0xf07545(0xf0)]({..._0xad0db6,'fileId':_0x5ccab4['id']});})),_0x5ccab4=await(0x0,ShowService_1[_0x27197e(0xfd)])(_0x5ccab4['id'],_0x1df301),_0x5ccab4;};function a483_0x180d(){const _0x5a1a06=['ERR_RATING_NAME_ALREADY_EXISTS','12856oIWCqO','851073DIeSzJ','call','../../models/Files','378998mEHsMd','928844lMNWXt','18dBCTNl','min','create','required','upsert','writable','test','configurable','object','prototype','yup','770416qJBPuy','findOne','__importDefault','3639840EMhfBi','map','35502gzjtHe','default','../../errors/AppError','40pxwTkj','string','defineProperty','__esModule','./ShowService','all','message'];a483_0x180d=function(){return _0x5a1a06;};return a483_0x180d();}exports[a483_0x346371(0xfd)]=CreateService;