'use strict';const a435_0x59c4f6=a435_0x5b97;(function(_0x39a3e4,_0x3087eb){const _0x11a9a5=a435_0x5b97,_0x4c3129=_0x39a3e4();while(!![]){try{const _0x1ca65f=-parseInt(_0x11a9a5(0x14c))/0x1*(-parseInt(_0x11a9a5(0x156))/0x2)+-parseInt(_0x11a9a5(0x157))/0x3*(parseInt(_0x11a9a5(0x14e))/0x4)+parseInt(_0x11a9a5(0x152))/0x5*(parseInt(_0x11a9a5(0x15c))/0x6)+parseInt(_0x11a9a5(0x160))/0x7+parseInt(_0x11a9a5(0x145))/0x8+-parseInt(_0x11a9a5(0x15d))/0x9+-parseInt(_0x11a9a5(0x14a))/0xa*(parseInt(_0x11a9a5(0x140))/0xb);if(_0x1ca65f===_0x3087eb)break;else _0x4c3129['push'](_0x4c3129['shift']());}catch(_0x34f82e){_0x4c3129['push'](_0x4c3129['shift']());}}}(a435_0x4852,0x41df2));function a435_0x5b97(_0x27c3a7,_0xd56df){const _0x4852d5=a435_0x4852();return a435_0x5b97=function(_0x5b978a,_0x2be79b){_0x5b978a=_0x5b978a-0x13e;let _0x30340c=_0x4852d5[_0x5b978a];return _0x30340c;},a435_0x5b97(_0x27c3a7,_0xd56df);}var __createBinding=this&&this[a435_0x59c4f6(0x15b)]||(Object[a435_0x59c4f6(0x163)]?function(_0x113b2a,_0x27526a,_0x5b832b,_0x236d27){const _0x1eb4b7=a435_0x59c4f6;if(_0x236d27===undefined)_0x236d27=_0x5b832b;var _0x28e4ad=Object['getOwnPropertyDescriptor'](_0x27526a,_0x5b832b);(!_0x28e4ad||('get'in _0x28e4ad?!_0x27526a[_0x1eb4b7(0x149)]:_0x28e4ad[_0x1eb4b7(0x15f)]||_0x28e4ad[_0x1eb4b7(0x150)]))&&(_0x28e4ad={'enumerable':!![],'get':function(){return _0x27526a[_0x5b832b];}}),Object['defineProperty'](_0x113b2a,_0x236d27,_0x28e4ad);}:function(_0x5067c1,_0x2eaeba,_0x1e1f45,_0x42c23e){if(_0x42c23e===undefined)_0x42c23e=_0x1e1f45;_0x5067c1[_0x42c23e]=_0x2eaeba[_0x1e1f45];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a435_0x59c4f6(0x163)]?function(_0x3c6349,_0xe4b597){const _0xbcb213=a435_0x59c4f6;Object[_0xbcb213(0x13f)](_0x3c6349,_0xbcb213(0x161),{'enumerable':!![],'value':_0xe4b597});}:function(_0x38a861,_0x5809ca){_0x38a861['default']=_0x5809ca;}),__importStar=this&&this[a435_0x59c4f6(0x14f)]||function(_0x54021d){const _0x1f68bc=a435_0x59c4f6;if(_0x54021d&&_0x54021d[_0x1f68bc(0x149)])return _0x54021d;var _0x65d933={};if(_0x54021d!=null){for(var _0x1d5050 in _0x54021d)if(_0x1d5050!==_0x1f68bc(0x161)&&Object[_0x1f68bc(0x141)]['hasOwnProperty'][_0x1f68bc(0x154)](_0x54021d,_0x1d5050))__createBinding(_0x65d933,_0x54021d,_0x1d5050);}return __setModuleDefault(_0x65d933,_0x54021d),_0x65d933;},__importDefault=this&&this[a435_0x59c4f6(0x143)]||function(_0x129c2f){const _0x3eee68=a435_0x59c4f6;return _0x129c2f&&_0x129c2f[_0x3eee68(0x149)]?_0x129c2f:{'default':_0x129c2f};};function a435_0x4852(){const _0x59a04e=['235697irLnFK','default','findOne','create','../../models/FilesOptions','string','defineProperty','4164655gLmRUo','prototype','yup','__importDefault','validate','2190840fThkga','./ShowService','required','length','__esModule','10hZeWRi','shape','104672cGJWPj','ERR_RATING_NAME_ALREADY_EXISTS','516sVFaGi','__importStar','configurable','object','2456030lHTTQY','../../models/Files','call','map','2UUOmxW','5718FzFoFc','message','../../errors/AppError','test','__createBinding','6WHJeve','82035KBoUSC','min','writable'];a435_0x4852=function(){return _0x59a04e;};return a435_0x4852();}Object[a435_0x59c4f6(0x13f)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a435_0x59c4f6(0x142))),AppError_1=__importDefault(require(a435_0x59c4f6(0x159))),Files_1=__importDefault(require(a435_0x59c4f6(0x153))),FilesOptions_1=__importDefault(require(a435_0x59c4f6(0x164))),ShowService_1=__importDefault(require(a435_0x59c4f6(0x146))),CreateService=async({name:_0x5395b3,message:_0x34301e,companyId:_0x299c4d,options:_0x1186bd})=>{const _0x19131d=a435_0x59c4f6,_0x3aa56d=Yup[_0x19131d(0x151)]()[_0x19131d(0x14b)]({'name':Yup[_0x19131d(0x13e)]()[_0x19131d(0x147)]()[_0x19131d(0x15e)](0x3)[_0x19131d(0x15a)]('Check-unique-name',_0x19131d(0x14d),async _0x4c045f=>{const _0x3f6c53=_0x19131d;if(_0x4c045f){const _0xf207cb=await Files_1['default'][_0x3f6c53(0x162)]({'where':{'name':_0x4c045f,'companyId':_0x299c4d}});return!_0xf207cb;}return![];})});try{await _0x3aa56d[_0x19131d(0x144)]({'name':_0x5395b3});}catch(_0x1d9980){throw new AppError_1[(_0x19131d(0x161))](_0x1d9980[_0x19131d(0x158)]);}let _0x15e1b7=await Files_1[_0x19131d(0x161)][_0x19131d(0x163)]({'name':_0x5395b3,'message':_0x34301e,'companyId':_0x299c4d});return _0x1186bd&&_0x1186bd[_0x19131d(0x148)]>0x0&&await Promise['all'](_0x1186bd[_0x19131d(0x155)](async _0x4aae0a=>{await FilesOptions_1['default']['upsert']({..._0x4aae0a,'fileId':_0x15e1b7['id']});})),_0x15e1b7=await(0x0,ShowService_1[_0x19131d(0x161)])(_0x15e1b7['id'],_0x299c4d),_0x15e1b7;};exports[a435_0x59c4f6(0x161)]=CreateService;