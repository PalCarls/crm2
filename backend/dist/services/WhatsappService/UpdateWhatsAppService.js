'use strict';const a541_0x88ce32=a541_0x4d96;(function(_0x5dac8,_0x483584){const _0x4003ff=a541_0x4d96,_0x1c54ce=_0x5dac8();while(!![]){try{const _0x5b1ee5=-parseInt(_0x4003ff(0xa1))/0x1*(-parseInt(_0x4003ff(0xac))/0x2)+parseInt(_0x4003ff(0xa5))/0x3*(parseInt(_0x4003ff(0xa0))/0x4)+parseInt(_0x4003ff(0xa2))/0x5+parseInt(_0x4003ff(0xb8))/0x6+-parseInt(_0x4003ff(0xa6))/0x7*(-parseInt(_0x4003ff(0xc3))/0x8)+-parseInt(_0x4003ff(0xb2))/0x9+-parseInt(_0x4003ff(0xc1))/0xa;if(_0x5b1ee5===_0x483584)break;else _0x1c54ce['push'](_0x1c54ce['shift']());}catch(_0x5a95e8){_0x1c54ce['push'](_0x1c54ce['shift']());}}}(a541_0xaeef,0x29eff));var __createBinding=this&&this[a541_0x88ce32(0xbc)]||(Object[a541_0x88ce32(0x9f)]?function(_0x3d5314,_0x370d8e,_0x4a904e,_0x5635f4){const _0x2d78d7=a541_0x88ce32;if(_0x5635f4===undefined)_0x5635f4=_0x4a904e;var _0x2171ca=Object[_0x2d78d7(0xc2)](_0x370d8e,_0x4a904e);(!_0x2171ca||('get'in _0x2171ca?!_0x370d8e['__esModule']:_0x2171ca[_0x2d78d7(0xbf)]||_0x2171ca['configurable']))&&(_0x2171ca={'enumerable':!![],'get':function(){return _0x370d8e[_0x4a904e];}}),Object[_0x2d78d7(0xb4)](_0x3d5314,_0x5635f4,_0x2171ca);}:function(_0x5be35f,_0x2c1bc3,_0x4193ee,_0x2ed120){if(_0x2ed120===undefined)_0x2ed120=_0x4193ee;_0x5be35f[_0x2ed120]=_0x2c1bc3[_0x4193ee];}),__setModuleDefault=this&&this[a541_0x88ce32(0xb1)]||(Object[a541_0x88ce32(0x9f)]?function(_0x3a78f6,_0x109f22){const _0x191e5f=a541_0x88ce32;Object[_0x191e5f(0xb4)](_0x3a78f6,_0x191e5f(0xab),{'enumerable':!![],'value':_0x109f22});}:function(_0x3930d1,_0x30b619){const _0x13b495=a541_0x88ce32;_0x3930d1[_0x13b495(0xab)]=_0x30b619;}),__importStar=this&&this[a541_0x88ce32(0xa9)]||function(_0x5918d2){const _0x32d9cd=a541_0x88ce32;if(_0x5918d2&&_0x5918d2[_0x32d9cd(0xa4)])return _0x5918d2;var _0x56a0a3={};if(_0x5918d2!=null){for(var _0x3125c0 in _0x5918d2)if(_0x3125c0!==_0x32d9cd(0xab)&&Object[_0x32d9cd(0xbe)]['hasOwnProperty'][_0x32d9cd(0xaa)](_0x5918d2,_0x3125c0))__createBinding(_0x56a0a3,_0x5918d2,_0x3125c0);}return __setModuleDefault(_0x56a0a3,_0x5918d2),_0x56a0a3;},__importDefault=this&&this[a541_0x88ce32(0xbb)]||function(_0x3a2592){const _0x129f44=a541_0x88ce32;return _0x3a2592&&_0x3a2592[_0x129f44(0xa4)]?_0x3a2592:{'default':_0x3a2592};};Object[a541_0x88ce32(0xb4)](exports,a541_0x88ce32(0xa4),{'value':!![]});const Yup=__importStar(require(a541_0x88ce32(0xad))),sequelize_1=require(a541_0x88ce32(0xb7)),AppError_1=__importDefault(require(a541_0x88ce32(0xc4))),Whatsapp_1=__importDefault(require(a541_0x88ce32(0xba))),ShowWhatsAppService_1=__importDefault(require(a541_0x88ce32(0xaf))),AssociateWhatsappQueue_1=__importDefault(require(a541_0x88ce32(0xa8))),UpdateWhatsAppService=async({whatsappData:_0x589f09,whatsappId:_0x285c51,companyId:_0x4fa0df})=>{const _0x5aa83d=a541_0x88ce32,_0x532755=Yup[_0x5aa83d(0xae)]()[_0x5aa83d(0xbd)]({'name':Yup[_0x5aa83d(0xb6)]()[_0x5aa83d(0xb5)](0x2),'status':Yup[_0x5aa83d(0xb6)](),'isDefault':Yup[_0x5aa83d(0xa3)]()}),{name:_0x5a7f3c,status:_0x3f7be9,isDefault:_0x2533ba,session:_0x4f3c18,greetingMessage:_0x402a3b,complationMessage:_0x1a9a8f,outOfHoursMessage:_0x3de6f3,queueIds:queueIds=[],token:_0x5b6fc1,maxUseBotQueues:_0x4f9b92,timeUseBotQueues:_0xc64f16,expiresTicket:_0x32c32a,allowGroup:_0x305f26,timeSendQueue:_0x239a65,sendIdQueue:_0x443fda,timeInactiveMessage:_0x283d82,inactiveMessage:_0x1256a1,ratingMessage:_0x16e571,maxUseBotQueuesNPS:_0x367f07,expiresTicketNPS:_0xc5336e,whenExpiresTicket:_0x4666f3,expiresInactiveMessage:_0xdecbf4,groupAsTicket:_0x1e3d08,importOldMessages:_0x357c8,importRecentMessages:_0x1cfe3e,closedTicketsPostImported:_0x249b2f,importOldMessagesGroups:_0x3305df,timeCreateNewTicket:_0x29f4bb}=_0x589f09;try{await _0x532755[_0x5aa83d(0xb3)]({'name':_0x5a7f3c,'status':_0x3f7be9,'isDefault':_0x2533ba});}catch(_0x5fa97b){throw new AppError_1[(_0x5aa83d(0xab))](_0x5fa97b[_0x5aa83d(0xa7)]);}if(queueIds['length']>0x1&&!_0x402a3b)throw new AppError_1[(_0x5aa83d(0xab))](_0x5aa83d(0xb0));let _0x495207=null;_0x2533ba&&(_0x495207=await Whatsapp_1['default'][_0x5aa83d(0x9e)]({'where':{'isDefault':!![],'id':{[sequelize_1['Op'][_0x5aa83d(0xb9)]]:_0x285c51},'companyId':_0x4fa0df}}),_0x495207&&await _0x495207[_0x5aa83d(0xc0)]({'isDefault':![]}));const _0x5364d2=await(0x0,ShowWhatsAppService_1['default'])(_0x285c51,_0x4fa0df);return await _0x5364d2[_0x5aa83d(0xc0)]({'name':_0x5a7f3c,'status':_0x3f7be9,'session':_0x4f3c18,'greetingMessage':_0x402a3b,'complationMessage':_0x1a9a8f,'outOfHoursMessage':_0x3de6f3,'isDefault':_0x2533ba,'companyId':_0x4fa0df,'token':_0x5b6fc1,'maxUseBotQueues':_0x4f9b92,'timeUseBotQueues':_0xc64f16,'expiresTicket':_0x32c32a,'allowGroup':_0x305f26,'timeSendQueue':_0x239a65,'sendIdQueue':_0x443fda,'timeInactiveMessage':_0x283d82,'inactiveMessage':_0x1256a1,'ratingMessage':_0x16e571,'maxUseBotQueuesNPS':_0x367f07,'expiresTicketNPS':_0xc5336e,'whenExpiresTicket':_0x4666f3,'expiresInactiveMessage':_0xdecbf4,'groupAsTicket':_0x1e3d08,'importOldMessages':_0x357c8,'importRecentMessages':_0x1cfe3e,'closedTicketsPostImported':_0x249b2f,'importOldMessagesGroups':_0x3305df,'timeCreateNewTicket':_0x29f4bb}),await(0x0,AssociateWhatsappQueue_1[_0x5aa83d(0xab)])(_0x5364d2,queueIds),{'whatsapp':_0x5364d2,'oldDefaultWhatsapp':_0x495207};};exports[a541_0x88ce32(0xab)]=UpdateWhatsAppService;function a541_0x4d96(_0x205c13,_0x684d28){const _0xaeef93=a541_0xaeef();return a541_0x4d96=function(_0x4d967e,_0xd32d3f){_0x4d967e=_0x4d967e-0x9e;let _0x3b939d=_0xaeef93[_0x4d967e];return _0x3b939d;},a541_0x4d96(_0x205c13,_0x684d28);}function a541_0xaeef(){const _0x5d106e=['create','36haxVUf','116507ISfCii','785280OJkHFw','boolean','__esModule','82407JFJqzC','1596rceZqM','message','./AssociateWhatsappQueue','__importStar','call','default','2UYZGZP','yup','object','./ShowWhatsAppService','ERR_WAPP_GREETING_REQUIRED','__setModuleDefault','1979064SegEiR','validate','defineProperty','min','string','sequelize','321678LKlGZL','not','../../models/Whatsapp','__importDefault','__createBinding','shape','prototype','writable','update','3357140LkRgju','getOwnPropertyDescriptor','5368cRblBi','../../errors/AppError','findOne'];a541_0xaeef=function(){return _0x5d106e;};return a541_0xaeef();}