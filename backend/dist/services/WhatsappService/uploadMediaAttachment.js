'use strict';function a639_0x3ba9(_0x7b12a,_0x1e6b55){const _0x5e88b0=a639_0x5e88();return a639_0x3ba9=function(_0x3ba9c9,_0x57275f){_0x3ba9c9=_0x3ba9c9-0x19f;let _0x4454be=_0x5e88b0[_0x3ba9c9];return _0x4454be;},a639_0x3ba9(_0x7b12a,_0x1e6b55);}const a639_0x318584=a639_0x3ba9;(function(_0x3e1a72,_0x30d21d){const _0x2717c0=a639_0x3ba9,_0x4dce93=_0x3e1a72();while(!![]){try{const _0x503779=-parseInt(_0x2717c0(0x1b1))/0x1*(parseInt(_0x2717c0(0x1bd))/0x2)+-parseInt(_0x2717c0(0x1b6))/0x3*(-parseInt(_0x2717c0(0x1a6))/0x4)+-parseInt(_0x2717c0(0x1a3))/0x5*(-parseInt(_0x2717c0(0x1ad))/0x6)+-parseInt(_0x2717c0(0x1bb))/0x7+parseInt(_0x2717c0(0x1bf))/0x8+parseInt(_0x2717c0(0x1a2))/0x9+-parseInt(_0x2717c0(0x1b3))/0xa;if(_0x503779===_0x30d21d)break;else _0x4dce93['push'](_0x4dce93['shift']());}catch(_0x7b5179){_0x4dce93['push'](_0x4dce93['shift']());}}}(a639_0x5e88,0x3419b));var __importDefault=this&&this[a639_0x318584(0x1b5)]||function(_0x4db2d7){const _0x346b94=a639_0x318584;return _0x4db2d7&&_0x4db2d7[_0x346b94(0x1b4)]?_0x4db2d7:{'default':_0x4db2d7};};Object[a639_0x318584(0x1be)](exports,a639_0x318584(0x1b4),{'value':!![]}),exports[a639_0x318584(0x1a0)]=exports['mediaUpload']=void 0x0;function a639_0x5e88(){const _0x363823=['3ZppHkb','../../models/Whatsapp','send','filename','head','1877407uSorDR','json','4CFGMWZ','defineProperty','2413528rLmkPu','resolve','deleteMedia','unlinkSync','1730736FoRyze','12110DBdeWy','Arquivo\x20excluÃ­do','lodash','1191412PWHLeT','params','path','message','default','save','greetingMediaAttachment','726LngKTE','Arquivo\x20adicionado!','findByPk','existsSync','165493HiYZpI','../../errors/AppError','2723200HxHoTw','__esModule','__importDefault'];a639_0x5e88=function(){return _0x363823;};return a639_0x5e88();}const lodash_1=require(a639_0x318584(0x1a5)),AppError_1=__importDefault(require(a639_0x318584(0x1b2))),Whatsapp_1=__importDefault(require(a639_0x318584(0x1b7))),path_1=__importDefault(require(a639_0x318584(0x1a8))),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x367802,_0x2817ae)=>{const _0x32e4a2=a639_0x318584,{whatsappId:_0x971444}=_0x367802[_0x32e4a2(0x1a7)],_0x532e86=_0x367802['files'],_0x5f74e4=(0x0,lodash_1[_0x32e4a2(0x1ba)])(_0x532e86);try{const _0x28d9a8=await Whatsapp_1[_0x32e4a2(0x1aa)]['findByPk'](_0x971444);return _0x28d9a8[_0x32e4a2(0x1ac)]=_0x5f74e4[_0x32e4a2(0x1b9)],await _0x28d9a8['save'](),_0x2817ae['status'](0xc8)[_0x32e4a2(0x1bc)]({'mensagem':_0x32e4a2(0x1ae)});}catch(_0x394ace){throw new AppError_1['default'](_0x394ace['message']);}};exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x5aff8a,_0x20f8c9)=>{const _0x13a824=a639_0x318584,{whatsappId:_0x3be936}=_0x5aff8a[_0x13a824(0x1a7)];try{const _0xc623b7=await Whatsapp_1[_0x13a824(0x1aa)][_0x13a824(0x1af)](_0x3be936),_0x4f0a0b=path_1[_0x13a824(0x1aa)][_0x13a824(0x19f)]('public',_0xc623b7['greetingMediaAttachment']),_0x319e5a=fs_1[_0x13a824(0x1aa)][_0x13a824(0x1b0)](_0x4f0a0b);return _0x319e5a&&fs_1[_0x13a824(0x1aa)][_0x13a824(0x1a1)](_0x4f0a0b),_0xc623b7[_0x13a824(0x1ac)]=null,await _0xc623b7[_0x13a824(0x1ab)](),_0x20f8c9[_0x13a824(0x1b8)]({'message':_0x13a824(0x1a4)});}catch(_0x461185){throw new AppError_1['default'](_0x461185[_0x13a824(0x1a9)]);}};exports[a639_0x318584(0x1a0)]=deleteMedia;