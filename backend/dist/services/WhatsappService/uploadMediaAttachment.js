'use strict';const a562_0x4e966a=a562_0x13d3;(function(_0x2ccb74,_0x1a0ccb){const _0x3ddbbd=a562_0x13d3,_0x5768e9=_0x2ccb74();while(!![]){try{const _0x4d435e=parseInt(_0x3ddbbd(0x110))/0x1*(-parseInt(_0x3ddbbd(0xfe))/0x2)+parseInt(_0x3ddbbd(0x104))/0x3*(-parseInt(_0x3ddbbd(0x10c))/0x4)+parseInt(_0x3ddbbd(0x106))/0x5*(-parseInt(_0x3ddbbd(0x102))/0x6)+parseInt(_0x3ddbbd(0x116))/0x7+parseInt(_0x3ddbbd(0xfc))/0x8*(parseInt(_0x3ddbbd(0x108))/0x9)+-parseInt(_0x3ddbbd(0x112))/0xa+parseInt(_0x3ddbbd(0x118))/0xb*(parseInt(_0x3ddbbd(0x105))/0xc);if(_0x4d435e===_0x1a0ccb)break;else _0x5768e9['push'](_0x5768e9['shift']());}catch(_0xa80225){_0x5768e9['push'](_0x5768e9['shift']());}}}(a562_0x1f5c,0x90f27));function a562_0x1f5c(){const _0x2f2c20=['120ehcHGB','Arquivo\x20adicionado!','__esModule','files','11sDcwRA','message','9410250xduaID','json','../../errors/AppError','send','8109276WyEIMG','public','473vjnjBp','head','greetingMediaAttachment','path','defineProperty','16YwBuvr','findByPk','102682ZZULfv','deleteMedia','unlinkSync','default','6171432usRWmv','save','24918tkpSjb','392268qIdJiR','5BcpsHI','params','3659112HnsYUX','mediaUpload','Arquivo\x20excluÃ­do','filename'];a562_0x1f5c=function(){return _0x2f2c20;};return a562_0x1f5c();}function a562_0x13d3(_0x1855d4,_0x4bd90b){const _0x1f5c6c=a562_0x1f5c();return a562_0x13d3=function(_0x13d3e0,_0x235e72){_0x13d3e0=_0x13d3e0-0xfb;let _0x5e60f7=_0x1f5c6c[_0x13d3e0];return _0x5e60f7;},a562_0x13d3(_0x1855d4,_0x4bd90b);}var __importDefault=this&&this['__importDefault']||function(_0x3a2038){const _0x3f03da=a562_0x13d3;return _0x3a2038&&_0x3a2038[_0x3f03da(0x10e)]?_0x3a2038:{'default':_0x3a2038};};Object[a562_0x4e966a(0xfb)](exports,'__esModule',{'value':!![]}),exports[a562_0x4e966a(0xff)]=exports[a562_0x4e966a(0x109)]=void 0x0;const lodash_1=require('lodash'),AppError_1=__importDefault(require(a562_0x4e966a(0x114))),Whatsapp_1=__importDefault(require('../../models/Whatsapp')),path_1=__importDefault(require(a562_0x4e966a(0x11b))),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x34fe20,_0x23f173)=>{const _0x3cbb9a=a562_0x4e966a,{whatsappId:_0x59ce08}=_0x34fe20[_0x3cbb9a(0x107)],_0x835cbc=_0x34fe20[_0x3cbb9a(0x10f)],_0x43446c=(0x0,lodash_1[_0x3cbb9a(0x119)])(_0x835cbc);try{const _0x4cdd9e=await Whatsapp_1['default'][_0x3cbb9a(0xfd)](_0x59ce08);return _0x4cdd9e[_0x3cbb9a(0x11a)]=_0x43446c[_0x3cbb9a(0x10b)],await _0x4cdd9e[_0x3cbb9a(0x103)](),_0x23f173['status'](0xc8)[_0x3cbb9a(0x113)]({'mensagem':_0x3cbb9a(0x10d)});}catch(_0x17099f){throw new AppError_1[(_0x3cbb9a(0x101))](_0x17099f['message']);}};exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x9c9b53,_0x3ed0a1)=>{const _0xb18c34=a562_0x4e966a,{whatsappId:_0xd92741}=_0x9c9b53[_0xb18c34(0x107)];try{const _0x53462c=await Whatsapp_1[_0xb18c34(0x101)]['findByPk'](_0xd92741),_0x2e3def=path_1[_0xb18c34(0x101)]['resolve'](_0xb18c34(0x117),_0x53462c['greetingMediaAttachment']),_0x19bc2c=fs_1['default']['existsSync'](_0x2e3def);return _0x19bc2c&&fs_1[_0xb18c34(0x101)][_0xb18c34(0x100)](_0x2e3def),_0x53462c[_0xb18c34(0x11a)]=null,await _0x53462c[_0xb18c34(0x103)](),_0x3ed0a1[_0xb18c34(0x115)]({'message':_0xb18c34(0x10a)});}catch(_0x1af56c){throw new AppError_1['default'](_0x1af56c[_0xb18c34(0x111)]);}};exports['deleteMedia']=deleteMedia;