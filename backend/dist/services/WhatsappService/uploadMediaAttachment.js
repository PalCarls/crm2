'use strict';const a583_0x1d1cf2=a583_0x5876;function a583_0x5876(_0x49c4db,_0x325744){const _0xca63fd=a583_0xca63();return a583_0x5876=function(_0x5876b1,_0x475714){_0x5876b1=_0x5876b1-0xab;let _0x41608d=_0xca63fd[_0x5876b1];return _0x41608d;},a583_0x5876(_0x49c4db,_0x325744);}(function(_0x50683c,_0x27f1e1){const _0x37fe86=a583_0x5876,_0x2d95f5=_0x50683c();while(!![]){try{const _0x1249ba=-parseInt(_0x37fe86(0xb1))/0x1*(-parseInt(_0x37fe86(0xaf))/0x2)+parseInt(_0x37fe86(0xb9))/0x3*(parseInt(_0x37fe86(0xca))/0x4)+-parseInt(_0x37fe86(0xb7))/0x5*(parseInt(_0x37fe86(0xbc))/0x6)+parseInt(_0x37fe86(0xc6))/0x7*(-parseInt(_0x37fe86(0xc9))/0x8)+parseInt(_0x37fe86(0xb4))/0x9+-parseInt(_0x37fe86(0xc2))/0xa*(parseInt(_0x37fe86(0xc8))/0xb)+parseInt(_0x37fe86(0xb8))/0xc*(parseInt(_0x37fe86(0xc0))/0xd);if(_0x1249ba===_0x27f1e1)break;else _0x2d95f5['push'](_0x2d95f5['shift']());}catch(_0x5ce915){_0x2d95f5['push'](_0x2d95f5['shift']());}}}(a583_0xca63,0x42331));var __importDefault=this&&this[a583_0x1d1cf2(0xc3)]||function(_0x51b5d0){const _0x293068=a583_0x1d1cf2;return _0x51b5d0&&_0x51b5d0[_0x293068(0xc7)]?_0x51b5d0:{'default':_0x51b5d0};};Object[a583_0x1d1cf2(0xad)](exports,'__esModule',{'value':!![]}),exports['deleteMedia']=exports[a583_0x1d1cf2(0xbb)]=void 0x0;const lodash_1=require('lodash'),AppError_1=__importDefault(require(a583_0x1d1cf2(0xb2))),Whatsapp_1=__importDefault(require(a583_0x1d1cf2(0xc5))),path_1=__importDefault(require(a583_0x1d1cf2(0xcd))),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x56bd78,_0x4e2556)=>{const _0x4bf9da=a583_0x1d1cf2,{whatsappId:_0x457575}=_0x56bd78[_0x4bf9da(0xce)],_0x19eab6=_0x56bd78[_0x4bf9da(0xbf)],_0x46cdde=(0x0,lodash_1['head'])(_0x19eab6);try{const _0x3fcd41=await Whatsapp_1[_0x4bf9da(0xcb)][_0x4bf9da(0xb6)](_0x457575);return _0x3fcd41[_0x4bf9da(0xae)]=_0x46cdde[_0x4bf9da(0xb0)],await _0x3fcd41[_0x4bf9da(0xac)](),_0x4e2556[_0x4bf9da(0xcc)](0xc8)['json']({'mensagem':_0x4bf9da(0xb5)});}catch(_0x35a093){throw new AppError_1[(_0x4bf9da(0xcb))](_0x35a093[_0x4bf9da(0xab)]);}};function a583_0xca63(){const _0x235c93=['1881436uXMAnU','default','status','path','params','message','save','defineProperty','greetingMediaAttachment','6fXYMEm','filename','99561bbGyOI','../../errors/AppError','public','1968174kqKfuF','Arquivo\x20adicionado!','findByPk','62390CxMoip','12vnccbF','3YDIdWr','resolve','mediaUpload','186skgJzh','deleteMedia','send','files','900341YbTRYn','Arquivo\x20excluÃ­do','70EVewEY','__importDefault','existsSync','../../models/Whatsapp','5831IAiZGQ','__esModule','23573ZKkeWZ','3688swxcnD'];a583_0xca63=function(){return _0x235c93;};return a583_0xca63();}exports[a583_0x1d1cf2(0xbb)]=mediaUpload;const deleteMedia=async(_0x9357c9,_0xee74ca)=>{const _0x1f1594=a583_0x1d1cf2,{whatsappId:_0x14ab6f}=_0x9357c9[_0x1f1594(0xce)];try{const _0x59dd55=await Whatsapp_1[_0x1f1594(0xcb)][_0x1f1594(0xb6)](_0x14ab6f),_0x35d651=path_1['default'][_0x1f1594(0xba)](_0x1f1594(0xb3),_0x59dd55[_0x1f1594(0xae)]),_0x560845=fs_1[_0x1f1594(0xcb)][_0x1f1594(0xc4)](_0x35d651);return _0x560845&&fs_1[_0x1f1594(0xcb)]['unlinkSync'](_0x35d651),_0x59dd55[_0x1f1594(0xae)]=null,await _0x59dd55[_0x1f1594(0xac)](),_0xee74ca[_0x1f1594(0xbe)]({'message':_0x1f1594(0xc1)});}catch(_0x5bd495){throw new AppError_1[(_0x1f1594(0xcb))](_0x5bd495['message']);}};exports[a583_0x1d1cf2(0xbd)]=deleteMedia;