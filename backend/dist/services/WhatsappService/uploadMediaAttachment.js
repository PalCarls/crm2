'use strict';const a624_0x2a2d2c=a624_0x5c0c;(function(_0x1ff624,_0x3e69cc){const _0x197ad4=a624_0x5c0c,_0xba726e=_0x1ff624();while(!![]){try{const _0x525f12=-parseInt(_0x197ad4(0x19f))/0x1+-parseInt(_0x197ad4(0x19b))/0x2+-parseInt(_0x197ad4(0x1aa))/0x3+-parseInt(_0x197ad4(0x1a6))/0x4+-parseInt(_0x197ad4(0x1ba))/0x5+-parseInt(_0x197ad4(0x1b5))/0x6+-parseInt(_0x197ad4(0x19d))/0x7*(-parseInt(_0x197ad4(0x1a1))/0x8);if(_0x525f12===_0x3e69cc)break;else _0xba726e['push'](_0xba726e['shift']());}catch(_0x1f5b69){_0xba726e['push'](_0xba726e['shift']());}}}(a624_0x8726,0xe2597));function a624_0x5c0c(_0x319d9a,_0x3a87ea){const _0x872694=a624_0x8726();return a624_0x5c0c=function(_0x5c0c32,_0x8906de){_0x5c0c32=_0x5c0c32-0x19b;let _0xd45420=_0x872694[_0x5c0c32];return _0xd45420;},a624_0x5c0c(_0x319d9a,_0x3a87ea);}function a624_0x8726(){const _0x3d7bdd=['10683924kOjVQm','files','path','unlinkSync','lodash','8224355XdmsMo','137546GoHLwS','../../errors/AppError','39847311OvaJFM','resolve','1007733szEdkh','defineProperty','8ajBTQx','default','params','save','existsSync','83644pYafzL','greetingMediaAttachment','findByPk','filename','727212nsaixh','head','deleteMedia','json','send','message','../../models/Whatsapp','__importDefault','__esModule','public','Arquivo\x20excluÃ­do'];a624_0x8726=function(){return _0x3d7bdd;};return a624_0x8726();}var __importDefault=this&&this[a624_0x2a2d2c(0x1b1)]||function(_0x8a1476){const _0xcaedcc=a624_0x2a2d2c;return _0x8a1476&&_0x8a1476[_0xcaedcc(0x1b2)]?_0x8a1476:{'default':_0x8a1476};};Object[a624_0x2a2d2c(0x1a0)](exports,'__esModule',{'value':!![]}),exports[a624_0x2a2d2c(0x1ac)]=exports['mediaUpload']=void 0x0;const lodash_1=require(a624_0x2a2d2c(0x1b9)),AppError_1=__importDefault(require(a624_0x2a2d2c(0x19c))),Whatsapp_1=__importDefault(require(a624_0x2a2d2c(0x1b0))),path_1=__importDefault(require(a624_0x2a2d2c(0x1b7))),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x976711,_0x4b44ae)=>{const _0x54b472=a624_0x2a2d2c,{whatsappId:_0x5d868d}=_0x976711[_0x54b472(0x1a3)],_0xee1a77=_0x976711[_0x54b472(0x1b6)],_0x163c69=(0x0,lodash_1[_0x54b472(0x1ab)])(_0xee1a77);try{const _0x204e60=await Whatsapp_1[_0x54b472(0x1a2)]['findByPk'](_0x5d868d);return _0x204e60[_0x54b472(0x1a7)]=_0x163c69[_0x54b472(0x1a9)],await _0x204e60[_0x54b472(0x1a4)](),_0x4b44ae['status'](0xc8)[_0x54b472(0x1ad)]({'mensagem':'Arquivo\x20adicionado!'});}catch(_0x349421){throw new AppError_1['default'](_0x349421[_0x54b472(0x1af)]);}};exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x476052,_0x26a989)=>{const _0x58a60b=a624_0x2a2d2c,{whatsappId:_0x3d5165}=_0x476052[_0x58a60b(0x1a3)];try{const _0x2be8b8=await Whatsapp_1[_0x58a60b(0x1a2)][_0x58a60b(0x1a8)](_0x3d5165),_0x495433=path_1[_0x58a60b(0x1a2)][_0x58a60b(0x19e)](_0x58a60b(0x1b3),_0x2be8b8[_0x58a60b(0x1a7)]),_0x3aa620=fs_1[_0x58a60b(0x1a2)][_0x58a60b(0x1a5)](_0x495433);return _0x3aa620&&fs_1[_0x58a60b(0x1a2)][_0x58a60b(0x1b8)](_0x495433),_0x2be8b8[_0x58a60b(0x1a7)]=null,await _0x2be8b8[_0x58a60b(0x1a4)](),_0x26a989[_0x58a60b(0x1ae)]({'message':_0x58a60b(0x1b4)});}catch(_0x57d229){throw new AppError_1[(_0x58a60b(0x1a2))](_0x57d229[_0x58a60b(0x1af)]);}};exports[a624_0x2a2d2c(0x1ac)]=deleteMedia;