'use strict';function a578_0x2718(_0x59c15e,_0x51d42a){const _0x1e6d22=a578_0x1e6d();return a578_0x2718=function(_0x271880,_0x4527bd){_0x271880=_0x271880-0x6e;let _0x47b618=_0x1e6d22[_0x271880];return _0x47b618;},a578_0x2718(_0x59c15e,_0x51d42a);}const a578_0x3a90c1=a578_0x2718;(function(_0x41a0ea,_0x2cb313){const _0x2f9e77=a578_0x2718,_0x10edc0=_0x41a0ea();while(!![]){try{const _0x35770c=-parseInt(_0x2f9e77(0x8a))/0x1+-parseInt(_0x2f9e77(0x70))/0x2+parseInt(_0x2f9e77(0x82))/0x3+parseInt(_0x2f9e77(0x6f))/0x4+-parseInt(_0x2f9e77(0x73))/0x5+parseInt(_0x2f9e77(0x74))/0x6+parseInt(_0x2f9e77(0x87))/0x7;if(_0x35770c===_0x2cb313)break;else _0x10edc0['push'](_0x10edc0['shift']());}catch(_0x260aa1){_0x10edc0['push'](_0x10edc0['shift']());}}}(a578_0x1e6d,0x914f0));var __importDefault=this&&this[a578_0x3a90c1(0x7e)]||function(_0x279add){return _0x279add&&_0x279add['__esModule']?_0x279add:{'default':_0x279add};};function a578_0x1e6d(){const _0x23867d=['defineProperty','Arquivo\x20excluÃ­do','2151144KwFFHs','greetingMediaAttachment','save','__esModule','existsSync','8314901KUoiuq','json','message','670304dDTCjn','resolve','2300176HFOadV','2107028cNUveC','files','head','3610465pJiJeq','3366960iYWvuA','../../errors/AppError','params','send','mediaUpload','Arquivo\x20adicionado!','status','path','public','../../models/Whatsapp','__importDefault','default'];a578_0x1e6d=function(){return _0x23867d;};return a578_0x1e6d();}Object[a578_0x3a90c1(0x80)](exports,a578_0x3a90c1(0x85),{'value':!![]}),exports['deleteMedia']=exports[a578_0x3a90c1(0x78)]=void 0x0;const lodash_1=require('lodash'),AppError_1=__importDefault(require(a578_0x3a90c1(0x75))),Whatsapp_1=__importDefault(require(a578_0x3a90c1(0x7d))),path_1=__importDefault(require(a578_0x3a90c1(0x7b))),fs_1=__importDefault(require('fs')),mediaUpload=async(_0x50cd34,_0x5be620)=>{const _0x54bb36=a578_0x3a90c1,{whatsappId:_0x4b8e0b}=_0x50cd34[_0x54bb36(0x76)],_0x34cc72=_0x50cd34[_0x54bb36(0x71)],_0xb81ce0=(0x0,lodash_1[_0x54bb36(0x72)])(_0x34cc72);try{const _0x38fdd3=await Whatsapp_1[_0x54bb36(0x7f)]['findByPk'](_0x4b8e0b);return _0x38fdd3[_0x54bb36(0x83)]=_0xb81ce0['filename'],await _0x38fdd3[_0x54bb36(0x84)](),_0x5be620[_0x54bb36(0x7a)](0xc8)[_0x54bb36(0x88)]({'mensagem':_0x54bb36(0x79)});}catch(_0x3364e1){throw new AppError_1[(_0x54bb36(0x7f))](_0x3364e1[_0x54bb36(0x89)]);}};exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x403a32,_0x2a6c3b)=>{const _0x8bbc76=a578_0x3a90c1,{whatsappId:_0x43d66b}=_0x403a32[_0x8bbc76(0x76)];try{const _0x3665da=await Whatsapp_1[_0x8bbc76(0x7f)]['findByPk'](_0x43d66b),_0x2bbc54=path_1['default'][_0x8bbc76(0x6e)](_0x8bbc76(0x7c),_0x3665da[_0x8bbc76(0x83)]),_0xac490c=fs_1[_0x8bbc76(0x7f)][_0x8bbc76(0x86)](_0x2bbc54);return _0xac490c&&fs_1[_0x8bbc76(0x7f)]['unlinkSync'](_0x2bbc54),_0x3665da[_0x8bbc76(0x83)]=null,await _0x3665da[_0x8bbc76(0x84)](),_0x2a6c3b[_0x8bbc76(0x77)]({'message':_0x8bbc76(0x81)});}catch(_0x18bbb8){throw new AppError_1[(_0x8bbc76(0x7f))](_0x18bbb8['message']);}};exports['deleteMedia']=deleteMedia;