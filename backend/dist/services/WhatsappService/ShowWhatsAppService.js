'use strict';const a622_0x51fb3d=a622_0x102a;function a622_0x4d7d(){const _0x16d10e=['chatbots','findByPk','596UTnpDs','../../models/Prompt','10VtYjiD','defineProperty','companyId','prompt','ERR_NO_WAPP_FOUND','../../models/Whatsapp','1342vdZWgz','integrationId','32AgatKG','981jWWyfE','../../models/Chatbot','closeTicket','default','name','__esModule','718595dFcwDX','session','4150719LdDewr','greetingMessage','fileListId','4966QRNFux','queues','91435LTTLjN','162588lIMPyE','69610BeiNzq','__importDefault','95124WAbKIr','color','attributes','413ZTpdiR','orderQueue'];a622_0x4d7d=function(){return _0x16d10e;};return a622_0x4d7d();}function a622_0x102a(_0x12f3fd,_0x35e6af){const _0x4d7db7=a622_0x4d7d();return a622_0x102a=function(_0x102a3b,_0x46c604){_0x102a3b=_0x102a3b-0x198;let _0x4e4123=_0x4d7db7[_0x102a3b];return _0x4e4123;},a622_0x102a(_0x12f3fd,_0x35e6af);}(function(_0x50f7d7,_0x4d9a39){const _0xe1f00=a622_0x102a,_0x4cf143=_0x50f7d7();while(!![]){try{const _0x26dffc=parseInt(_0xe1f00(0x1ad))/0x1*(-parseInt(_0xe1f00(0x1ba))/0x2)+parseInt(_0xe1f00(0x1a0))/0x3*(parseInt(_0xe1f00(0x1b8))/0x4)+parseInt(_0xe1f00(0x1a6))/0x5+-parseInt(_0xe1f00(0x1ae))/0x6*(-parseInt(_0xe1f00(0x1b4))/0x7)+-parseInt(_0xe1f00(0x19f))/0x8*(-parseInt(_0xe1f00(0x1a8))/0x9)+-parseInt(_0xe1f00(0x1af))/0xa*(-parseInt(_0xe1f00(0x19d))/0xb)+-parseInt(_0xe1f00(0x1b1))/0xc*(parseInt(_0xe1f00(0x1ab))/0xd);if(_0x26dffc===_0x4d9a39)break;else _0x4cf143['push'](_0x4cf143['shift']());}catch(_0x5b9244){_0x4cf143['push'](_0x4cf143['shift']());}}}(a622_0x4d7d,0xf4205));var __importDefault=this&&this[a622_0x51fb3d(0x1b0)]||function(_0x310370){const _0x2b5c37=a622_0x51fb3d;return _0x310370&&_0x310370[_0x2b5c37(0x1a5)]?_0x310370:{'default':_0x310370};};Object[a622_0x51fb3d(0x198)](exports,'__esModule',{'value':!![]});const Whatsapp_1=__importDefault(require(a622_0x51fb3d(0x19c))),AppError_1=__importDefault(require('../../errors/AppError')),Queue_1=__importDefault(require('../../models/Queue')),Chatbot_1=__importDefault(require(a622_0x51fb3d(0x1a1))),Prompt_1=__importDefault(require(a622_0x51fb3d(0x1b9))),ShowWhatsAppService=async(_0x320951,_0x3b4687,_0x85c9a4)=>{const _0x3c35f3=a622_0x51fb3d,_0x25a29a={'include':[{'model':Queue_1['default'],'as':'queues','attributes':['id',_0x3c35f3(0x1a4),_0x3c35f3(0x1b2),_0x3c35f3(0x1a9),_0x3c35f3(0x19e),_0x3c35f3(0x1aa),'closeTicket'],'include':[{'model':Chatbot_1['default'],'as':_0x3c35f3(0x1b6),'attributes':['id',_0x3c35f3(0x1a4),_0x3c35f3(0x1a9),_0x3c35f3(0x1a2)]}]},{'model':Prompt_1[_0x3c35f3(0x1a3)],'as':_0x3c35f3(0x19a)}],'order':[[_0x3c35f3(0x1ac),_0x3c35f3(0x1b5),'ASC'],['queues',_0x3c35f3(0x1b6),'id','ASC']]};_0x85c9a4!==undefined&&_0x85c9a4==0x0&&(_0x25a29a[_0x3c35f3(0x1b3)]={'exclude':[_0x3c35f3(0x1a7)]});const _0x2b9940=await Whatsapp_1[_0x3c35f3(0x1a3)][_0x3c35f3(0x1b7)](_0x320951,_0x25a29a);if(_0x2b9940?.[_0x3c35f3(0x199)]!==_0x3b4687)throw new AppError_1[(_0x3c35f3(0x1a3))]('Não\x20é\x20possível\x20acessar\x20registros\x20de\x20outra\x20empresa');if(!_0x2b9940)throw new AppError_1[(_0x3c35f3(0x1a3))](_0x3c35f3(0x19b),0x194);return _0x2b9940;};exports['default']=ShowWhatsAppService;