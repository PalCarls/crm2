'use strict';const a638_0xd5d4f1=a638_0x518c;(function(_0x3aa5de,_0x5376c4){const _0x6f4806=a638_0x518c,_0x51419a=_0x3aa5de();while(!![]){try{const _0xa1cacc=parseInt(_0x6f4806(0xb3))/0x1+-parseInt(_0x6f4806(0xa3))/0x2+parseInt(_0x6f4806(0xb2))/0x3*(-parseInt(_0x6f4806(0xad))/0x4)+parseInt(_0x6f4806(0xa5))/0x5*(parseInt(_0x6f4806(0xab))/0x6)+-parseInt(_0x6f4806(0xa1))/0x7*(-parseInt(_0x6f4806(0x95))/0x8)+-parseInt(_0x6f4806(0xa2))/0x9+-parseInt(_0x6f4806(0x9e))/0xa*(-parseInt(_0x6f4806(0x97))/0xb);if(_0xa1cacc===_0x5376c4)break;else _0x51419a['push'](_0x51419a['shift']());}catch(_0x100d9c){_0x51419a['push'](_0x51419a['shift']());}}}(a638_0xef36,0xbe98f));function a638_0xef36(){const _0x29050c=['getOwnPropertyDescriptor','12NPJaRy','writable','84mWtemH','validate','ERR_WAPP_GREETING_REQUIRED','configurable','shape','39513zaxKGF','974701JswZNz','defineProperty','__esModule','680rnqBVw','__importDefault','16752725OarjDX','./AssociateWhatsappQueue','update','default','sequelize','__setModuleDefault','yup','10gOydbD','prototype','__createBinding','6377vkMRWK','11689839fDbsuf','1101952qGPNNL','string','830035DiNjSW','not','../../models/Whatsapp','create','hasOwnProperty'];a638_0xef36=function(){return _0x29050c;};return a638_0xef36();}var __createBinding=this&&this[a638_0xd5d4f1(0xa0)]||(Object[a638_0xd5d4f1(0xa8)]?function(_0x247132,_0x2c8718,_0x140b7d,_0x48a548){const _0x1619d9=a638_0xd5d4f1;if(_0x48a548===undefined)_0x48a548=_0x140b7d;var _0x34b1ce=Object[_0x1619d9(0xaa)](_0x2c8718,_0x140b7d);(!_0x34b1ce||('get'in _0x34b1ce?!_0x2c8718[_0x1619d9(0x94)]:_0x34b1ce[_0x1619d9(0xac)]||_0x34b1ce[_0x1619d9(0xb0)]))&&(_0x34b1ce={'enumerable':!![],'get':function(){return _0x2c8718[_0x140b7d];}}),Object[_0x1619d9(0xb4)](_0x247132,_0x48a548,_0x34b1ce);}:function(_0x2f3595,_0x2c6383,_0x1bd807,_0x14a8f8){if(_0x14a8f8===undefined)_0x14a8f8=_0x1bd807;_0x2f3595[_0x14a8f8]=_0x2c6383[_0x1bd807];}),__setModuleDefault=this&&this[a638_0xd5d4f1(0x9c)]||(Object[a638_0xd5d4f1(0xa8)]?function(_0x2e4b4f,_0x1126fe){const _0x568774=a638_0xd5d4f1;Object[_0x568774(0xb4)](_0x2e4b4f,_0x568774(0x9a),{'enumerable':!![],'value':_0x1126fe});}:function(_0x4c09e6,_0x391f07){const _0x20c29c=a638_0xd5d4f1;_0x4c09e6[_0x20c29c(0x9a)]=_0x391f07;}),__importStar=this&&this['__importStar']||function(_0x45b31f){const _0x9da5b0=a638_0xd5d4f1;if(_0x45b31f&&_0x45b31f['__esModule'])return _0x45b31f;var _0x468f44={};if(_0x45b31f!=null){for(var _0xb59839 in _0x45b31f)if(_0xb59839!=='default'&&Object[_0x9da5b0(0x9f)][_0x9da5b0(0xa9)]['call'](_0x45b31f,_0xb59839))__createBinding(_0x468f44,_0x45b31f,_0xb59839);}return __setModuleDefault(_0x468f44,_0x45b31f),_0x468f44;},__importDefault=this&&this[a638_0xd5d4f1(0x96)]||function(_0x8dd63c){return _0x8dd63c&&_0x8dd63c['__esModule']?_0x8dd63c:{'default':_0x8dd63c};};Object['defineProperty'](exports,a638_0xd5d4f1(0x94),{'value':!![]});const Yup=__importStar(require(a638_0xd5d4f1(0x9d))),sequelize_1=require(a638_0xd5d4f1(0x9b)),AppError_1=__importDefault(require('../../errors/AppError')),Whatsapp_1=__importDefault(require(a638_0xd5d4f1(0xa7))),AssociateWhatsappQueue_1=__importDefault(require(a638_0xd5d4f1(0x98))),ShowWhatsAppServiceAdmin_1=__importDefault(require('./ShowWhatsAppServiceAdmin')),UpdateWhatsAppServiceAdmin=async({whatsappData:_0x1894c0,whatsappId:_0x34ff52,companyId:_0x28c410})=>{const _0x24d323=a638_0xd5d4f1,_0x496da3=Yup['object']()[_0x24d323(0xb1)]({'name':Yup[_0x24d323(0xa4)]()['min'](0x2),'status':Yup[_0x24d323(0xa4)](),'isDefault':Yup['boolean']()}),{name:_0x126ba2,status:_0x193f71,isDefault:_0x445803,session:_0x104203,greetingMessage:_0x478568,complationMessage:_0x39bf92,outOfHoursMessage:_0x480be4,queueIds:queueIds=[],token:_0x32bcbf,maxUseBotQueues:maxUseBotQueues=0x0,timeUseBotQueues:timeUseBotQueues=0x0,expiresTicket:expiresTicket=0x0,allowGroup:_0x2927c0,timeSendQueue:timeSendQueue=0x0,sendIdQueue:sendIdQueue=null,timeInactiveMessage:timeInactiveMessage=0x0,inactiveMessage:_0x5b0c52,ratingMessage:_0x554640,maxUseBotQueuesNPS:_0x137599,expiresTicketNPS:expiresTicketNPS=0x0,whenExpiresTicket:_0x4817ae,expiresInactiveMessage:_0x5c38dc,groupAsTicket:_0x5a7385,importOldMessages:_0x7883a,importRecentMessages:_0x4d7ee7,closedTicketsPostImported:_0x330707,importOldMessagesGroups:_0x2948f7,timeCreateNewTicket:timeCreateNewTicket=null,integrationId:_0x42819d,schedules:_0x4d9676,promptId:_0xba4c2,requestQR:requestQR=![]}=_0x1894c0;try{await _0x496da3[_0x24d323(0xae)]({'name':_0x126ba2,'status':_0x193f71,'isDefault':_0x445803});}catch(_0x59ab1c){throw new AppError_1[(_0x24d323(0x9a))](_0x59ab1c['message']);}if(queueIds['length']>0x1&&!_0x478568)throw new AppError_1[(_0x24d323(0x9a))](_0x24d323(0xaf));let _0x4f3433=null;_0x445803&&(_0x4f3433=await Whatsapp_1[_0x24d323(0x9a)]['findOne']({'where':{'isDefault':!![],'id':{[sequelize_1['Op'][_0x24d323(0xa6)]]:_0x34ff52}}}),_0x4f3433&&await _0x4f3433[_0x24d323(0x99)]({'isDefault':![]}));const _0x45a7fd=await(0x0,ShowWhatsAppServiceAdmin_1['default'])(_0x34ff52);return await _0x45a7fd[_0x24d323(0x99)]({'name':_0x126ba2,'status':_0x193f71,'session':_0x104203,'greetingMessage':_0x478568,'complationMessage':_0x39bf92,'outOfHoursMessage':_0x480be4,'isDefault':_0x445803,'companyId':_0x28c410,'token':_0x32bcbf,'maxUseBotQueues':maxUseBotQueues||0x0,'timeUseBotQueues':timeUseBotQueues||0x0,'expiresTicket':expiresTicket||0x0,'allowGroup':_0x2927c0,'timeSendQueue':timeSendQueue,'sendIdQueue':sendIdQueue,'timeInactiveMessage':timeInactiveMessage,'inactiveMessage':_0x5b0c52,'ratingMessage':_0x554640,'maxUseBotQueuesNPS':_0x137599,'expiresTicketNPS':expiresTicketNPS,'whenExpiresTicket':_0x4817ae,'expiresInactiveMessage':_0x5c38dc,'groupAsTicket':_0x5a7385,'importOldMessages':_0x7883a,'importRecentMessages':_0x4d7ee7,'closedTicketsPostImported':_0x330707,'importOldMessagesGroups':_0x2948f7,'timeCreateNewTicket':timeCreateNewTicket,'integrationId':_0x42819d,'schedules':_0x4d9676,'promptId':_0xba4c2}),!requestQR&&await(0x0,AssociateWhatsappQueue_1[_0x24d323(0x9a)])(_0x45a7fd,queueIds),{'whatsapp':_0x45a7fd,'oldDefaultWhatsapp':_0x4f3433};};function a638_0x518c(_0x364e2b,_0x3999d2){const _0xef36ff=a638_0xef36();return a638_0x518c=function(_0x518c2c,_0x30da77){_0x518c2c=_0x518c2c-0x94;let _0x596d57=_0xef36ff[_0x518c2c];return _0x596d57;},a638_0x518c(_0x364e2b,_0x3999d2);}exports['default']=UpdateWhatsAppServiceAdmin;