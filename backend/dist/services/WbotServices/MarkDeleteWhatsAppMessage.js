'use strict';const a618_0x5f2eae=a618_0xc98d;(function(_0x26fd5b,_0x40404e){const _0xade177=a618_0xc98d,_0x147587=_0x26fd5b();while(!![]){try{const _0x2e390b=-parseInt(_0xade177(0x110))/0x1*(parseInt(_0xade177(0x12a))/0x2)+parseInt(_0xade177(0x123))/0x3*(parseInt(_0xade177(0x113))/0x4)+-parseInt(_0xade177(0x115))/0x5+parseInt(_0xade177(0x11a))/0x6+parseInt(_0xade177(0x12b))/0x7*(parseInt(_0xade177(0x11f))/0x8)+-parseInt(_0xade177(0x114))/0x9+-parseInt(_0xade177(0x12c))/0xa;if(_0x2e390b===_0x40404e)break;else _0x147587['push'](_0x147587['shift']());}catch(_0x306c36){_0x147587['push'](_0x147587['shift']());}}}(a618_0x5ab7,0x4ecb0));var __importDefault=this&&this['__importDefault']||function(_0x3d7089){return _0x3d7089&&_0x3d7089['__esModule']?_0x3d7089:{'default':_0x3d7089};};function a618_0xc98d(_0x3b7dc8,_0x2a1f8b){const _0x5ab7c7=a618_0x5ab7();return a618_0xc98d=function(_0xc98d55,_0x5529b2){_0xc98d55=_0xc98d55-0x110;let _0x2c171b=_0x5ab7c7[_0xc98d55];return _0x2c171b;},a618_0xc98d(_0x3b7dc8,_0x2a1f8b);}Object[a618_0x5f2eae(0x12d)](exports,a618_0x5f2eae(0x125),{'value':!![]});const Message_1=__importDefault(require(a618_0x5f2eae(0x121))),socket_1=require('../../libs/socket'),Ticket_1=__importDefault(require(a618_0x5f2eae(0x119))),UpdateTicketService_1=__importDefault(require(a618_0x5f2eae(0x112))),CompaniesSettings_1=__importDefault(require(a618_0x5f2eae(0x126))),MarkDeleteWhatsAppMessage=async(_0x5ad3ce,_0x5175f9,_0x1af8f5,_0x25ad34)=>{const _0xa32b59=a618_0x5f2eae;_0x5ad3ce=_0x5ad3ce['replace'](_0xa32b59(0x124),'')['replace']('@s.whatsapp.net','');if(_0x1af8f5){const _0x4351d9=await Message_1[_0xa32b59(0x120)]['findAll']({'where':{'wid':_0x1af8f5,'companyId':_0x25ad34}});try{const _0x549ad9=await Message_1['default']['findOne']({'where':{'wid':_0x4351d9[0x0][_0xa32b59(0x122)]},'include':[_0xa32b59(0x118),{'model':Message_1[_0xa32b59(0x120)],'as':_0xa32b59(0x128),'include':[_0xa32b59(0x118)]}]});if(_0x549ad9){const _0x3109e9=await CompaniesSettings_1['default'][_0xa32b59(0x11e)]({'where':{'companyId':_0x25ad34}}),_0xf0847=await Ticket_1['default'][_0xa32b59(0x11e)]({'where':{'id':_0x549ad9[_0xa32b59(0x117)],'companyId':_0x25ad34}});_0x3109e9[_0xa32b59(0x12f)]===_0xa32b59(0x116)&&_0x3109e9['enableLGPD']===_0xa32b59(0x116)?await _0x549ad9['update']({'body':_0xa32b59(0x127),'isDeleted':!![]}):await _0x549ad9[_0xa32b59(0x12e)]({'isDeleted':!![]});await(0x0,UpdateTicketService_1[_0xa32b59(0x120)])({'ticketData':{'lastMessage':_0xa32b59(0x127)},'ticketId':_0xf0847['id'],'companyId':_0x25ad34});const _0x281d37=(0x0,socket_1[_0xa32b59(0x129)])();_0x281d37['to'](_0x549ad9[_0xa32b59(0x117)]['toString']())[_0xa32b59(0x11b)](_0xa32b59(0x11d)+_0x549ad9,{'action':_0xa32b59(0x12e),'message':_0x549ad9});}}catch(_0x447fe5){console[_0xa32b59(0x11c)](_0xa32b59(0x111));}return _0x5175f9;};};exports[a618_0x5f2eae(0x120)]=MarkDeleteWhatsAppMessage;function a618_0x5ab7(){const _0x4fad25=['8tFaLGy','Erro\x20ao\x20tentar\x20marcar\x20a\x20mensagem\x20com\x20excluÃ­da','../TicketServices/UpdateTicketService','4WVVFcC','1472634DQinps','339045XTsCIF','enabled','ticketId','contact','../../models/Ticket','2238552OpyTvG','emit','log','appMessage-','findOne','4575880XZdNcH','default','../../models/Message','wid','1744839NGlAxj','@c.us','__esModule','../../models/CompaniesSettings','ðŸš«\x20_Mensagem\x20Apagada_','quotedMsg','getIO','95566tzbvpa','7itqaUf','5902550zkILbt','defineProperty','update','lgpdDeleteMessage'];a618_0x5ab7=function(){return _0x4fad25;};return a618_0x5ab7();}