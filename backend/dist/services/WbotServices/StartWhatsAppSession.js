'use strict';const a625_0x5da85b=a625_0x1016;function a625_0x3778(){const _0x5266f4=['writable','__setModuleDefault','388573MfLQhf','../../libs/wbot','260029gdKKlf','1460239liRGUX','./wbotMessageListener','430362aMjuRT','emit','logger','1636194jvXEZp','599035JQaPRP','error','__importStar','hasOwnProperty','60warbOO','default','StartWhatsAppSession','16XBQJzd','40NAnNbo','2qjmiCy','configurable','prototype','167432NbKZFS','__esModule','captureException','15gRqHDD','@sentry/node','create','call','getOwnPropertyDescriptor','__importDefault','defineProperty','initWASocket','__createBinding'];a625_0x3778=function(){return _0x5266f4;};return a625_0x3778();}(function(_0x2dfb10,_0x109910){const _0x14277f=a625_0x1016,_0x2335fa=_0x2dfb10();while(!![]){try{const _0x42c050=-parseInt(_0x14277f(0x107))/0x1*(parseInt(_0x14277f(0x119))/0x2)+-parseInt(_0x14277f(0x11f))/0x3*(parseInt(_0x14277f(0x11c))/0x4)+-parseInt(_0x14277f(0x110))/0x5+parseInt(_0x14277f(0x10f))/0x6+-parseInt(_0x14277f(0x109))/0x7*(parseInt(_0x14277f(0x117))/0x8)+-parseInt(_0x14277f(0x10c))/0x9*(-parseInt(_0x14277f(0x118))/0xa)+parseInt(_0x14277f(0x10a))/0xb*(parseInt(_0x14277f(0x114))/0xc);if(_0x42c050===_0x109910)break;else _0x2335fa['push'](_0x2335fa['shift']());}catch(_0x2d8e94){_0x2335fa['push'](_0x2335fa['shift']());}}}(a625_0x3778,0x51f88));function a625_0x1016(_0x4f88ed,_0x23e04b){const _0x3778b9=a625_0x3778();return a625_0x1016=function(_0x1016b4,_0x502241){_0x1016b4=_0x1016b4-0x103;let _0x2ca3ee=_0x3778b9[_0x1016b4];return _0x2ca3ee;},a625_0x1016(_0x4f88ed,_0x23e04b);}var __createBinding=this&&this[a625_0x5da85b(0x104)]||(Object['create']?function(_0x1e39a2,_0x27104d,_0x561768,_0x5d7eef){const _0x292f5c=a625_0x5da85b;if(_0x5d7eef===undefined)_0x5d7eef=_0x561768;var _0x2bd1b4=Object[_0x292f5c(0x123)](_0x27104d,_0x561768);(!_0x2bd1b4||('get'in _0x2bd1b4?!_0x27104d[_0x292f5c(0x11d)]:_0x2bd1b4[_0x292f5c(0x105)]||_0x2bd1b4[_0x292f5c(0x11a)]))&&(_0x2bd1b4={'enumerable':!![],'get':function(){return _0x27104d[_0x561768];}}),Object[_0x292f5c(0x125)](_0x1e39a2,_0x5d7eef,_0x2bd1b4);}:function(_0xf2089d,_0x266b9e,_0x2a10bb,_0xc9a578){if(_0xc9a578===undefined)_0xc9a578=_0x2a10bb;_0xf2089d[_0xc9a578]=_0x266b9e[_0x2a10bb];}),__setModuleDefault=this&&this[a625_0x5da85b(0x106)]||(Object[a625_0x5da85b(0x121)]?function(_0x57bb16,_0x153499){const _0x1933ac=a625_0x5da85b;Object[_0x1933ac(0x125)](_0x57bb16,_0x1933ac(0x115),{'enumerable':!![],'value':_0x153499});}:function(_0x2c0d5a,_0x4735f0){_0x2c0d5a['default']=_0x4735f0;}),__importStar=this&&this[a625_0x5da85b(0x112)]||function(_0x14d59c){const _0x12f082=a625_0x5da85b;if(_0x14d59c&&_0x14d59c[_0x12f082(0x11d)])return _0x14d59c;var _0x4c8ba5={};if(_0x14d59c!=null){for(var _0x1e1e48 in _0x14d59c)if(_0x1e1e48!=='default'&&Object[_0x12f082(0x11b)][_0x12f082(0x113)][_0x12f082(0x122)](_0x14d59c,_0x1e1e48))__createBinding(_0x4c8ba5,_0x14d59c,_0x1e1e48);}return __setModuleDefault(_0x4c8ba5,_0x14d59c),_0x4c8ba5;},__importDefault=this&&this[a625_0x5da85b(0x124)]||function(_0x2e0ccf){const _0x48b537=a625_0x5da85b;return _0x2e0ccf&&_0x2e0ccf[_0x48b537(0x11d)]?_0x2e0ccf:{'default':_0x2e0ccf};};Object[a625_0x5da85b(0x125)](exports,a625_0x5da85b(0x11d),{'value':!![]}),exports['StartWhatsAppSession']=void 0x0;const wbot_1=require(a625_0x5da85b(0x108)),wbotMessageListener_1=require(a625_0x5da85b(0x10b)),socket_1=require('../../libs/socket'),wbotMonitor_1=__importDefault(require('./wbotMonitor')),logger_1=require('../../utils/logger'),Sentry=__importStar(require(a625_0x5da85b(0x120))),StartWhatsAppSession=async(_0x290d2e,_0x2f1138)=>{const _0xad1c68=a625_0x5da85b;await _0x290d2e['update']({'status':'OPENING'});const _0x49ff52=(0x0,socket_1['getIO'])();_0x49ff52[_0xad1c68(0x10d)]('company-'+_0x2f1138+'-whatsappSession',{'action':'update','session':_0x290d2e});try{const _0x3bd54c=await(0x0,wbot_1[_0xad1c68(0x103)])(_0x290d2e);(0x0,wbotMessageListener_1['wbotMessageListener'])(_0x3bd54c,_0x2f1138),(0x0,wbotMonitor_1['default'])(_0x3bd54c,_0x290d2e,_0x2f1138);}catch(_0x572416){Sentry[_0xad1c68(0x11e)](_0x572416),logger_1[_0xad1c68(0x10e)][_0xad1c68(0x111)](_0x572416);}};exports[a625_0x5da85b(0x116)]=StartWhatsAppSession;