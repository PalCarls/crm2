'use strict';const a505_0x1ef592=a505_0x2d45;(function(_0x2d04aa,_0x53a0b9){const _0x596a4c=a505_0x2d45,_0x455d6a=_0x2d04aa();while(!![]){try{const _0x3fe566=-parseInt(_0x596a4c(0x19d))/0x1*(parseInt(_0x596a4c(0x1ad))/0x2)+parseInt(_0x596a4c(0x1ab))/0x3*(-parseInt(_0x596a4c(0x1aa))/0x4)+-parseInt(_0x596a4c(0x1c1))/0x5*(parseInt(_0x596a4c(0x1bc))/0x6)+-parseInt(_0x596a4c(0x1cb))/0x7*(parseInt(_0x596a4c(0x1a3))/0x8)+parseInt(_0x596a4c(0x1b2))/0x9+-parseInt(_0x596a4c(0x1b5))/0xa+parseInt(_0x596a4c(0x1c7))/0xb;if(_0x3fe566===_0x53a0b9)break;else _0x455d6a['push'](_0x455d6a['shift']());}catch(_0x47ad6f){_0x455d6a['push'](_0x455d6a['shift']());}}}(a505_0x2bb0,0xf1136));var __createBinding=this&&this[a505_0x1ef592(0x1b1)]||(Object[a505_0x1ef592(0x1a5)]?function(_0x3604e2,_0x123ed0,_0x162053,_0x59dd70){const _0x43a8df=a505_0x1ef592;if(_0x59dd70===undefined)_0x59dd70=_0x162053;var _0x279330=Object[_0x43a8df(0x1c4)](_0x123ed0,_0x162053);(!_0x279330||(_0x43a8df(0x1a7)in _0x279330?!_0x123ed0[_0x43a8df(0x1b9)]:_0x279330[_0x43a8df(0x1c0)]||_0x279330[_0x43a8df(0x1a4)]))&&(_0x279330={'enumerable':!![],'get':function(){return _0x123ed0[_0x162053];}}),Object[_0x43a8df(0x1b6)](_0x3604e2,_0x59dd70,_0x279330);}:function(_0x437b0d,_0x5e6244,_0x293b25,_0x17c4ba){if(_0x17c4ba===undefined)_0x17c4ba=_0x293b25;_0x437b0d[_0x17c4ba]=_0x5e6244[_0x293b25];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a505_0x1ef592(0x1a5)]?function(_0x3e0acc,_0x489150){const _0x351f8c=a505_0x1ef592;Object[_0x351f8c(0x1b6)](_0x3e0acc,_0x351f8c(0x1b7),{'enumerable':!![],'value':_0x489150});}:function(_0x274b37,_0x175189){const _0x295981=a505_0x1ef592;_0x274b37[_0x295981(0x1b7)]=_0x175189;}),__importStar=this&&this[a505_0x1ef592(0x1af)]||function(_0x21f362){const _0x2bb692=a505_0x1ef592;if(_0x21f362&&_0x21f362['__esModule'])return _0x21f362;var _0x385e4e={};if(_0x21f362!=null){for(var _0x1c2d8d in _0x21f362)if(_0x1c2d8d!=='default'&&Object[_0x2bb692(0x1c2)][_0x2bb692(0x1cd)]['call'](_0x21f362,_0x1c2d8d))__createBinding(_0x385e4e,_0x21f362,_0x1c2d8d);}return __setModuleDefault(_0x385e4e,_0x21f362),_0x385e4e;},__importDefault=this&&this[a505_0x1ef592(0x19c)]||function(_0x147b5c){const _0x5e6ec0=a505_0x1ef592;return _0x147b5c&&_0x147b5c[_0x5e6ec0(0x1b9)]?_0x147b5c:{'default':_0x147b5c};};function a505_0x2d45(_0x294cb6,_0x497cca){const _0x2bb06f=a505_0x2bb0();return a505_0x2d45=function(_0x2d45a6,_0x11eeee){_0x2d45a6=_0x2d45a6-0x19c;let _0x2bdae6=_0x2bb06f[_0x2d45a6];return _0x2bdae6;},a505_0x2d45(_0x294cb6,_0x497cca);}Object['defineProperty'](exports,'__esModule',{'value':!![]});function a505_0x2bb0(){const _0x2d8ab3=['\x5ccontatos_antes.txt','__createBinding','2400282DKlosb','../../helpers/GetDefaultWhatsApp','../../libs/wbot','5061380deWfAe','defineProperty','default','../../models/Contact','__esModule','includes','warn','8695218STqSqI','g.us','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20','findOne','writable','5tcEHHl','prototype','path','getOwnPropertyDescriptor','log','lodash','74077080ESpwQi','../../utils/logger','getWbot','status@broadcast','35DYeZCm','@sentry/node','hasOwnProperty','logger','isString','__importDefault','978586RKDUVU','../ContactServices/CreateContactService','../BaileysServices/ShowBaileysService','replaceAll','captureException','O\x20arquivo\x20foi\x20criado!','2061104KvtmsY','configurable','create','resolve','get','contacts','public','692VJUWgE','31065zLzBid','\x5ccontatos_depois.txt','2ERXLFE','parse','__importStar'];a505_0x2bb0=function(){return _0x2d8ab3;};return a505_0x2bb0();}const Sentry=__importStar(require(a505_0x1ef592(0x1cc))),GetDefaultWhatsApp_1=__importDefault(require(a505_0x1ef592(0x1b3))),wbot_1=require(a505_0x1ef592(0x1b4)),Contact_1=__importDefault(require(a505_0x1ef592(0x1b8))),logger_1=require(a505_0x1ef592(0x1c8)),ShowBaileysService_1=__importDefault(require(a505_0x1ef592(0x19f))),CreateContactService_1=__importDefault(require(a505_0x1ef592(0x19e))),lodash_1=require(a505_0x1ef592(0x1c6)),path_1=__importDefault(require(a505_0x1ef592(0x1c3))),fs=require('fs'),ImportContactsService=async _0xeabe12=>{const _0x1cec4e=a505_0x1ef592,_0x214cc5=await(0x0,GetDefaultWhatsApp_1[_0x1cec4e(0x1b7)])(_0xeabe12),_0x5c7045=(0x0,wbot_1[_0x1cec4e(0x1c9)])(_0x214cc5['id']);let _0x3ad286;try{const _0x2c8000=await(0x0,ShowBaileysService_1['default'])(_0x5c7045['id']);_0x3ad286=JSON[_0x1cec4e(0x1ae)](JSON['stringify'](_0x2c8000[_0x1cec4e(0x1a8)]));const _0x55e252=path_1[_0x1cec4e(0x1b7)][_0x1cec4e(0x1a6)](__dirname,'..','..','..',_0x1cec4e(0x1a9)),_0x54b573=_0x55e252+_0x1cec4e(0x1b0);fs['writeFile'](_0x54b573,_0x3ad286,_0x3226ad=>{const _0x5e6717=_0x1cec4e;if(_0x3226ad)throw _0x3226ad;console['log'](_0x5e6717(0x1a2));}),_0x3ad286=_0x3ad286[_0x1cec4e(0x1a0)]('\x27',''),_0x3ad286=_0x3ad286[_0x1cec4e(0x1a0)](/\\"/g,''),_0x3ad286=_0x3ad286[_0x1cec4e(0x1a0)](/\//g,'\x20'),_0x3ad286=_0x3ad286[_0x1cec4e(0x1a0)](/\\/g,''),_0x3ad286=_0x3ad286[_0x1cec4e(0x1a0)]('\x22\x22','\x22'),_0x3ad286=_0x3ad286[_0x1cec4e(0x1a0)](/""""""/g,''),_0x3ad286=_0x3ad286[_0x1cec4e(0x1a0)](/""""""""""""/g,'');}catch(_0x2f492f){Sentry[_0x1cec4e(0x1a1)](_0x2f492f),logger_1['logger']['error'](_0x1cec4e(0x1be)+_0x2f492f);}const _0x233f59=path_1['default'][_0x1cec4e(0x1a6)](__dirname,'..','..','..',_0x1cec4e(0x1a9)),_0x4c3bb3=_0x233f59+_0x1cec4e(0x1ac);fs['writeFile'](_0x4c3bb3,_0x3ad286,_0x153081=>{const _0xfbc397=_0x1cec4e;if(_0x153081)throw _0x153081;console[_0xfbc397(0x1c5)](_0xfbc397(0x1a2));}),console['log']('phoneContacts',_0x3ad286);const _0xe8fb5a=(0x0,lodash_1[_0x1cec4e(0x1cf)])(_0x3ad286)?JSON[_0x1cec4e(0x1ae)](_0x3ad286):_0x3ad286;(0x0,lodash_1['isArray'])(_0xe8fb5a)&&_0xe8fb5a['forEach'](async({id:_0x5a5d50,name:_0xfb5494,notify:_0x4a6495})=>{const _0x57a2f3=_0x1cec4e;if(_0x5a5d50===_0x57a2f3(0x1ca)||_0x5a5d50[_0x57a2f3(0x1ba)]('g.us')===_0x57a2f3(0x1bd))return;const _0x4b7ef6=_0x5a5d50['replace'](/\D/g,''),_0x2777dc=await Contact_1[_0x57a2f3(0x1b7)][_0x57a2f3(0x1bf)]({'where':{'number':_0x4b7ef6,'companyId':_0xeabe12}});if(!_0x2777dc)try{await(0x0,CreateContactService_1['default'])({'number':_0x4b7ef6,'name':_0xfb5494||_0x4a6495,'companyId':_0xeabe12});}catch(_0x30961b){Sentry[_0x57a2f3(0x1a1)](_0x30961b),console[_0x57a2f3(0x1c5)](_0x30961b),logger_1[_0x57a2f3(0x1ce)][_0x57a2f3(0x1bb)]('Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20'+_0x30961b);}});};exports[a505_0x1ef592(0x1b7)]=ImportContactsService;