'use strict';const a605_0x99e777=a605_0x112f;(function(_0x3e6a5b,_0x4755a7){const _0x3631b8=a605_0x112f,_0xd844a0=_0x3e6a5b();while(!![]){try{const _0x314b3a=parseInt(_0x3631b8(0x1cf))/0x1+parseInt(_0x3631b8(0x1d1))/0x2+-parseInt(_0x3631b8(0x1a1))/0x3+parseInt(_0x3631b8(0x19e))/0x4+-parseInt(_0x3631b8(0x1ae))/0x5*(parseInt(_0x3631b8(0x1b3))/0x6)+parseInt(_0x3631b8(0x1bf))/0x7*(parseInt(_0x3631b8(0x1c6))/0x8)+parseInt(_0x3631b8(0x1c4))/0x9*(-parseInt(_0x3631b8(0x1c0))/0xa);if(_0x314b3a===_0x4755a7)break;else _0xd844a0['push'](_0xd844a0['shift']());}catch(_0x2c4d08){_0xd844a0['push'](_0xd844a0['shift']());}}}(a605_0x26fd,0x27179));function a605_0x26fd(){const _0x27b380=['g.us','__setModuleDefault','14172GrXABK','../../helpers/GetDefaultWhatsApp','includes','../../utils/logger','hasOwnProperty','default','captureException','lodash','getOwnPropertyDescriptor','findOne','error','log','1189545bbwTtV','10BACHBM','isString','__createBinding','warn','5449887FaPXCv','contatos_depois.txt','8lehGRe','name','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20','writeFile','path','stringify','join','resolve','O\x20arquivo\x20contatos_antes.txt\x20foi\x20criado!','312708GFUiCy','call','614766jODWst','contacts','__importDefault','parse','@sentry/node','defineProperty','O\x20arquivo\x20contatos_depois.txt\x20foi\x20criado!','1258256KnlFwf','public','status@broadcast','768768kOJLSY','../../models/Contact','../BaileysServices/ShowBaileysService','contatos_antes.txt','logger','writable','forEach','__importStar','Failed\x20to\x20write\x20contacts\x20to\x20file:\x20','isArray','create','../ContactServices/CreateContactService','save','175kzGBQd','../../libs/wbot','__esModule'];a605_0x26fd=function(){return _0x27b380;};return a605_0x26fd();}var __createBinding=this&&this[a605_0x99e777(0x1c2)]||(Object['create']?function(_0x3b9f95,_0x2cfb21,_0x5159c8,_0x3b6ba9){const _0x4349c=a605_0x99e777;if(_0x3b6ba9===undefined)_0x3b6ba9=_0x5159c8;var _0x1cf173=Object[_0x4349c(0x1bb)](_0x2cfb21,_0x5159c8);(!_0x1cf173||('get'in _0x1cf173?!_0x2cfb21['__esModule']:_0x1cf173[_0x4349c(0x1a6)]||_0x1cf173['configurable']))&&(_0x1cf173={'enumerable':!![],'get':function(){return _0x2cfb21[_0x5159c8];}}),Object[_0x4349c(0x19c)](_0x3b9f95,_0x3b6ba9,_0x1cf173);}:function(_0x3edb52,_0x5d37bc,_0x268d35,_0x158827){if(_0x158827===undefined)_0x158827=_0x268d35;_0x3edb52[_0x158827]=_0x5d37bc[_0x268d35];}),__setModuleDefault=this&&this[a605_0x99e777(0x1b2)]||(Object[a605_0x99e777(0x1ab)]?function(_0x3365cd,_0x5c2035){const _0x4cffce=a605_0x99e777;Object[_0x4cffce(0x19c)](_0x3365cd,_0x4cffce(0x1b8),{'enumerable':!![],'value':_0x5c2035});}:function(_0x5452e3,_0x1ddecc){const _0x2accc9=a605_0x99e777;_0x5452e3[_0x2accc9(0x1b8)]=_0x1ddecc;}),__importStar=this&&this[a605_0x99e777(0x1a8)]||function(_0x2b680d){const _0x2d94d6=a605_0x99e777;if(_0x2b680d&&_0x2b680d[_0x2d94d6(0x1b0)])return _0x2b680d;var _0x12e905={};if(_0x2b680d!=null){for(var _0x24427a in _0x2b680d)if(_0x24427a!=='default'&&Object['prototype'][_0x2d94d6(0x1b7)][_0x2d94d6(0x1d0)](_0x2b680d,_0x24427a))__createBinding(_0x12e905,_0x2b680d,_0x24427a);}return __setModuleDefault(_0x12e905,_0x2b680d),_0x12e905;},__importDefault=this&&this[a605_0x99e777(0x1d3)]||function(_0x39ea0b){const _0x4592e2=a605_0x99e777;return _0x39ea0b&&_0x39ea0b[_0x4592e2(0x1b0)]?_0x39ea0b:{'default':_0x39ea0b};};Object[a605_0x99e777(0x19c)](exports,'__esModule',{'value':!![]});const Sentry=__importStar(require(a605_0x99e777(0x19b))),GetDefaultWhatsApp_1=__importDefault(require(a605_0x99e777(0x1b4))),wbot_1=require(a605_0x99e777(0x1af)),Contact_1=__importDefault(require(a605_0x99e777(0x1a2))),logger_1=require(a605_0x99e777(0x1b6)),ShowBaileysService_1=__importDefault(require(a605_0x99e777(0x1a3))),CreateContactService_1=__importDefault(require(a605_0x99e777(0x1ac))),lodash_1=require(a605_0x99e777(0x1ba)),path_1=__importDefault(require(a605_0x99e777(0x1ca))),fs_1=__importDefault(require('fs')),ImportContactsService=async _0xb5e64=>{const _0x2504a2=a605_0x99e777,_0x68ce3d=await(0x0,GetDefaultWhatsApp_1[_0x2504a2(0x1b8)])(_0xb5e64),_0x346833=(0x0,wbot_1['getWbot'])(_0x68ce3d['id']);let _0x559fc1;try{const _0x364352=await(0x0,ShowBaileysService_1[_0x2504a2(0x1b8)])(_0x346833['id']);_0x559fc1=JSON[_0x2504a2(0x1d4)](JSON[_0x2504a2(0x1cb)](_0x364352[_0x2504a2(0x1d2)]));const _0x2e3df5=path_1[_0x2504a2(0x1b8)][_0x2504a2(0x1cd)](__dirname,'..','..','..',_0x2504a2(0x19f)),_0x20cfa6=path_1[_0x2504a2(0x1b8)]['join'](_0x2e3df5,_0x2504a2(0x1a4));fs_1[_0x2504a2(0x1b8)][_0x2504a2(0x1c9)](_0x20cfa6,JSON[_0x2504a2(0x1cb)](_0x559fc1,null,0x2),_0x1418cd=>{const _0x24832e=_0x2504a2;if(_0x1418cd){logger_1[_0x24832e(0x1a5)][_0x24832e(0x1bd)]('Failed\x20to\x20write\x20contacts\x20to\x20file:\x20'+_0x1418cd);throw _0x1418cd;}console[_0x24832e(0x1be)](_0x24832e(0x1ce));});}catch(_0x5d7269){Sentry[_0x2504a2(0x1b9)](_0x5d7269),logger_1[_0x2504a2(0x1a5)][_0x2504a2(0x1bd)](_0x2504a2(0x1c8)+_0x5d7269);}const _0x471a7a=path_1['default'][_0x2504a2(0x1cd)](__dirname,'..','..','..',_0x2504a2(0x19f)),_0x4aaee8=path_1[_0x2504a2(0x1b8)][_0x2504a2(0x1cc)](_0x471a7a,_0x2504a2(0x1c5));fs_1[_0x2504a2(0x1b8)][_0x2504a2(0x1c9)](_0x4aaee8,JSON[_0x2504a2(0x1cb)](_0x559fc1,null,0x2),_0x62fcf8=>{const _0x46354e=_0x2504a2;if(_0x62fcf8){logger_1[_0x46354e(0x1a5)][_0x46354e(0x1bd)](_0x46354e(0x1a9)+_0x62fcf8);throw _0x62fcf8;}console[_0x46354e(0x1be)](_0x46354e(0x19d));});const _0x37895c=(0x0,lodash_1[_0x2504a2(0x1c1)])(_0x559fc1)?JSON[_0x2504a2(0x1d4)](_0x559fc1):_0x559fc1;(0x0,lodash_1[_0x2504a2(0x1aa)])(_0x37895c)&&_0x37895c[_0x2504a2(0x1a7)](async({id:_0x42c9de,name:_0x3022c8,notify:_0x400a88})=>{const _0x2f001e=_0x2504a2;if(_0x42c9de===_0x2f001e(0x1a0)||_0x42c9de[_0x2f001e(0x1b5)](_0x2f001e(0x1b1)))return;const _0x33ca37=_0x42c9de['replace'](/\D/g,''),_0x27d352=await Contact_1[_0x2f001e(0x1b8)][_0x2f001e(0x1bc)]({'where':{'number':_0x33ca37,'companyId':_0xb5e64}});if(_0x27d352)_0x27d352[_0x2f001e(0x1c7)]=_0x3022c8||_0x400a88,await _0x27d352[_0x2f001e(0x1ad)]();else try{await(0x0,CreateContactService_1[_0x2f001e(0x1b8)])({'number':_0x33ca37,'name':_0x3022c8||_0x400a88,'companyId':_0xb5e64});}catch(_0x518688){Sentry[_0x2f001e(0x1b9)](_0x518688),logger_1[_0x2f001e(0x1a5)][_0x2f001e(0x1c3)](_0x2f001e(0x1c8)+_0x518688);}});};function a605_0x112f(_0x4dc8bf,_0xf7d7cb){const _0x26fd3f=a605_0x26fd();return a605_0x112f=function(_0x112ff8,_0x2a97bd){_0x112ff8=_0x112ff8-0x19b;let _0x596dd7=_0x26fd3f[_0x112ff8];return _0x596dd7;},a605_0x112f(_0x4dc8bf,_0xf7d7cb);}exports[a605_0x99e777(0x1b8)]=ImportContactsService;