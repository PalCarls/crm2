<<<<<<< HEAD
'use strict';const a606_0xde9468=a606_0x5f51;(function(_0x10cb3b,_0x2fc591){const _0x4b4f8d=a606_0x5f51,_0x35c06b=_0x10cb3b();while(!![]){try{const _0x22f2a1=parseInt(_0x4b4f8d(0xc3))/0x1*(parseInt(_0x4b4f8d(0xc0))/0x2)+parseInt(_0x4b4f8d(0xce))/0x3+parseInt(_0x4b4f8d(0xae))/0x4*(parseInt(_0x4b4f8d(0xbc))/0x5)+parseInt(_0x4b4f8d(0xbe))/0x6*(parseInt(_0x4b4f8d(0xdc))/0x7)+-parseInt(_0x4b4f8d(0xbd))/0x8+-parseInt(_0x4b4f8d(0xb8))/0x9+-parseInt(_0x4b4f8d(0xd5))/0xa;if(_0x22f2a1===_0x2fc591)break;else _0x35c06b['push'](_0x35c06b['shift']());}catch(_0x585e6e){_0x35c06b['push'](_0x35c06b['shift']());}}}(a606_0x147d,0xcec0a));function a606_0x147d(){const _0x3c9620=['logger','12455CFSxlR','../ContactServices/CreateContactService','defineProperty','join','contatos_antes.txt','save','O\x20arquivo\x20contatos_antes.txt\x20foi\x20criado!','isArray','__importDefault','stringify','../BaileysServices/ShowBaileysService','3293076oGxNih','call','forEach','public','warn','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20','findOne','12543550vgmozP','O\x20arquivo\x20contatos_depois.txt\x20foi\x20criado!','writable','../../utils/logger','Failed\x20to\x20write\x20contacts\x20to\x20file:\x20','parse','default','831551KTqARj','__importStar','getOwnPropertyDescriptor','replace','contatos_depois.txt','includes','writeFile','4UTlueH','__createBinding','path','@sentry/node','log','status@broadcast','lodash','../../helpers/GetDefaultWhatsApp','name','__setModuleDefault','4631841fjxBzv','isString','create','error','8010910HSNusR','10152952lDIhUV','24dcbqDy','__esModule','114AIwuaw','resolve'];a606_0x147d=function(){return _0x3c9620;};return a606_0x147d();}var __createBinding=this&&this[a606_0xde9468(0xaf)]||(Object[a606_0xde9468(0xba)]?function(_0x134ba1,_0x493667,_0x4acba4,_0x5ee4e){const _0x74fb19=a606_0xde9468;if(_0x5ee4e===undefined)_0x5ee4e=_0x4acba4;var _0x490ec1=Object[_0x74fb19(0xde)](_0x493667,_0x4acba4);(!_0x490ec1||('get'in _0x490ec1?!_0x493667[_0x74fb19(0xbf)]:_0x490ec1[_0x74fb19(0xd7)]||_0x490ec1['configurable']))&&(_0x490ec1={'enumerable':!![],'get':function(){return _0x493667[_0x4acba4];}}),Object[_0x74fb19(0xc5)](_0x134ba1,_0x5ee4e,_0x490ec1);}:function(_0x28bd01,_0x4ba560,_0x101149,_0x55631c){if(_0x55631c===undefined)_0x55631c=_0x101149;_0x28bd01[_0x55631c]=_0x4ba560[_0x101149];}),__setModuleDefault=this&&this[a606_0xde9468(0xb7)]||(Object[a606_0xde9468(0xba)]?function(_0x17af36,_0x27c270){Object['defineProperty'](_0x17af36,'default',{'enumerable':!![],'value':_0x27c270});}:function(_0x1cf3bb,_0x15e9c1){const _0x2ee948=a606_0xde9468;_0x1cf3bb[_0x2ee948(0xdb)]=_0x15e9c1;}),__importStar=this&&this[a606_0xde9468(0xdd)]||function(_0x3e002b){const _0x34405e=a606_0xde9468;if(_0x3e002b&&_0x3e002b[_0x34405e(0xbf)])return _0x3e002b;var _0x5e4bd5={};if(_0x3e002b!=null){for(var _0x358933 in _0x3e002b)if(_0x358933!=='default'&&Object['prototype']['hasOwnProperty'][_0x34405e(0xcf)](_0x3e002b,_0x358933))__createBinding(_0x5e4bd5,_0x3e002b,_0x358933);}return __setModuleDefault(_0x5e4bd5,_0x3e002b),_0x5e4bd5;},__importDefault=this&&this[a606_0xde9468(0xcb)]||function(_0x3b2c86){const _0x159867=a606_0xde9468;return _0x3b2c86&&_0x3b2c86[_0x159867(0xbf)]?_0x3b2c86:{'default':_0x3b2c86};};function a606_0x5f51(_0x5be9e9,_0x11675e){const _0x147dab=a606_0x147d();return a606_0x5f51=function(_0x5f512a,_0x47bda6){_0x5f512a=_0x5f512a-0xaa;let _0x3a5392=_0x147dab[_0x5f512a];return _0x3a5392;},a606_0x5f51(_0x5be9e9,_0x11675e);}Object['defineProperty'](exports,a606_0xde9468(0xbf),{'value':!![]});const Sentry=__importStar(require(a606_0xde9468(0xb1))),GetDefaultWhatsApp_1=__importDefault(require(a606_0xde9468(0xb5))),wbot_1=require('../../libs/wbot'),Contact_1=__importDefault(require('../../models/Contact')),logger_1=require(a606_0xde9468(0xd8)),ShowBaileysService_1=__importDefault(require(a606_0xde9468(0xcd))),CreateContactService_1=__importDefault(require(a606_0xde9468(0xc4))),lodash_1=require(a606_0xde9468(0xb4)),path_1=__importDefault(require(a606_0xde9468(0xb0))),fs_1=__importDefault(require('fs')),ImportContactsService=async _0x371ff0=>{const _0x370bb3=a606_0xde9468,_0x2a7e11=await(0x0,GetDefaultWhatsApp_1[_0x370bb3(0xdb)])(_0x371ff0),_0xaec84c=(0x0,wbot_1['getWbot'])(_0x2a7e11['id']);let _0x6f9a0a;try{const _0xef4e39=await(0x0,ShowBaileysService_1[_0x370bb3(0xdb)])(_0xaec84c['id']);_0x6f9a0a=JSON[_0x370bb3(0xda)](JSON[_0x370bb3(0xcc)](_0xef4e39['contacts']));const _0xd87812=path_1[_0x370bb3(0xdb)][_0x370bb3(0xc1)](__dirname,'..','..','..',_0x370bb3(0xd1)),_0x1310d8=path_1[_0x370bb3(0xdb)]['join'](_0xd87812,_0x370bb3(0xc7));fs_1[_0x370bb3(0xdb)][_0x370bb3(0xad)](_0x1310d8,JSON[_0x370bb3(0xcc)](_0x6f9a0a,null,0x2),_0x229fbd=>{const _0x5a127d=_0x370bb3;if(_0x229fbd){logger_1[_0x5a127d(0xc2)]['error'](_0x5a127d(0xd9)+_0x229fbd);throw _0x229fbd;}console[_0x5a127d(0xb2)](_0x5a127d(0xc9));});}catch(_0xd80631){Sentry['captureException'](_0xd80631),logger_1['logger'][_0x370bb3(0xbb)](_0x370bb3(0xd3)+_0xd80631);}const _0x39b392=path_1[_0x370bb3(0xdb)][_0x370bb3(0xc1)](__dirname,'..','..','..',_0x370bb3(0xd1)),_0x164cce=path_1['default'][_0x370bb3(0xc6)](_0x39b392,_0x370bb3(0xab));fs_1[_0x370bb3(0xdb)][_0x370bb3(0xad)](_0x164cce,JSON[_0x370bb3(0xcc)](_0x6f9a0a,null,0x2),_0x1051d0=>{const _0x2c0974=_0x370bb3;if(_0x1051d0){logger_1[_0x2c0974(0xc2)]['error'](_0x2c0974(0xd9)+_0x1051d0);throw _0x1051d0;}console[_0x2c0974(0xb2)](_0x2c0974(0xd6));});const _0x88b84=(0x0,lodash_1[_0x370bb3(0xb9)])(_0x6f9a0a)?JSON[_0x370bb3(0xda)](_0x6f9a0a):_0x6f9a0a;(0x0,lodash_1[_0x370bb3(0xca)])(_0x88b84)&&_0x88b84[_0x370bb3(0xd0)](async({id:_0x115db4,name:_0x11f553,notify:_0x208018})=>{const _0x6138d4=_0x370bb3;if(_0x115db4===_0x6138d4(0xb3)||_0x115db4[_0x6138d4(0xac)]('g.us'))return;const _0x28d96e=_0x115db4[_0x6138d4(0xaa)](/\D/g,''),_0x37561e=await Contact_1[_0x6138d4(0xdb)][_0x6138d4(0xd4)]({'where':{'number':_0x28d96e,'companyId':_0x371ff0}});if(_0x37561e)_0x37561e[_0x6138d4(0xb6)]=_0x11f553||_0x208018,await _0x37561e[_0x6138d4(0xc8)]();else try{await(0x0,CreateContactService_1[_0x6138d4(0xdb)])({'number':_0x28d96e,'name':_0x11f553||_0x208018,'companyId':_0x371ff0});}catch(_0x41d1c8){Sentry['captureException'](_0x41d1c8),logger_1[_0x6138d4(0xc2)][_0x6138d4(0xd2)](_0x6138d4(0xd3)+_0x41d1c8);}});};exports[a606_0xde9468(0xdb)]=ImportContactsService;
=======
'use strict';const a605_0x422e53=a605_0x5c08;function a605_0x5c08(_0xedd691,_0x3a9fb5){const _0x181f01=a605_0x181f();return a605_0x5c08=function(_0x5c08cc,_0x1e3f13){_0x5c08cc=_0x5c08cc-0x7d;let _0x10de48=_0x181f01[_0x5c08cc];return _0x10de48;},a605_0x5c08(_0xedd691,_0x3a9fb5);}(function(_0x379263,_0x4d1c68){const _0x1a55a6=a605_0x5c08,_0x37a578=_0x379263();while(!![]){try{const _0x339783=-parseInt(_0x1a55a6(0x9b))/0x1+parseInt(_0x1a55a6(0xa7))/0x2+parseInt(_0x1a55a6(0x91))/0x3*(-parseInt(_0x1a55a6(0xb1))/0x4)+parseInt(_0x1a55a6(0xae))/0x5+-parseInt(_0x1a55a6(0x7f))/0x6+parseInt(_0x1a55a6(0x88))/0x7+parseInt(_0x1a55a6(0xa2))/0x8*(parseInt(_0x1a55a6(0xa1))/0x9);if(_0x339783===_0x4d1c68)break;else _0x37a578['push'](_0x37a578['shift']());}catch(_0x37d6eb){_0x37a578['push'](_0x37a578['shift']());}}}(a605_0x181f,0xcc6d3));function a605_0x181f(){const _0x5e6877=['O\x20arquivo\x20contatos_depois.txt\x20foi\x20criado!','error','public','join','configurable','captureException','getWbot','3510815OYetHA','../../libs/wbot','Failed\x20to\x20write\x20contacts\x20to\x20file:\x20','findOne','stringify','contatos_depois.txt','logger','resolve','create','385989HckdHm','prototype','../../utils/logger','__importStar','call','__importDefault','log','replace','__esModule','../../models/Contact','403692wcIyUb','lodash','includes','parse','default','warn','18126jBQWPQ','1928mNMcxi','defineProperty','writable','../BaileysServices/ShowBaileysService','contatos_antes.txt','2527246XdiPFR','contacts','__setModuleDefault','../ContactServices/CreateContactService','name','__createBinding','getOwnPropertyDescriptor','7084580IzbCZD','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20','hasOwnProperty','28CAwxfE','isArray','status@broadcast','9154764myIOsd','O\x20arquivo\x20contatos_antes.txt\x20foi\x20criado!'];a605_0x181f=function(){return _0x5e6877;};return a605_0x181f();}var __createBinding=this&&this[a605_0x422e53(0xac)]||(Object['create']?function(_0x2e7bdf,_0x61c83d,_0x18f4e1,_0x47145e){const _0x21bfa=a605_0x422e53;if(_0x47145e===undefined)_0x47145e=_0x18f4e1;var _0x3f8f83=Object[_0x21bfa(0xad)](_0x61c83d,_0x18f4e1);(!_0x3f8f83||('get'in _0x3f8f83?!_0x61c83d['__esModule']:_0x3f8f83[_0x21bfa(0xa4)]||_0x3f8f83[_0x21bfa(0x85)]))&&(_0x3f8f83={'enumerable':!![],'get':function(){return _0x61c83d[_0x18f4e1];}}),Object[_0x21bfa(0xa3)](_0x2e7bdf,_0x47145e,_0x3f8f83);}:function(_0xe9bcb5,_0x1b8957,_0x41ee2c,_0x26834d){if(_0x26834d===undefined)_0x26834d=_0x41ee2c;_0xe9bcb5[_0x26834d]=_0x1b8957[_0x41ee2c];}),__setModuleDefault=this&&this[a605_0x422e53(0xa9)]||(Object[a605_0x422e53(0x90)]?function(_0x492389,_0x5457ad){const _0x17f653=a605_0x422e53;Object[_0x17f653(0xa3)](_0x492389,'default',{'enumerable':!![],'value':_0x5457ad});}:function(_0x26d52f,_0x15c325){const _0x4b256d=a605_0x422e53;_0x26d52f[_0x4b256d(0x9f)]=_0x15c325;}),__importStar=this&&this[a605_0x422e53(0x94)]||function(_0x72a160){const _0x3fa259=a605_0x422e53;if(_0x72a160&&_0x72a160[_0x3fa259(0x99)])return _0x72a160;var _0x3cc20a={};if(_0x72a160!=null){for(var _0xc0b381 in _0x72a160)if(_0xc0b381!==_0x3fa259(0x9f)&&Object[_0x3fa259(0x92)][_0x3fa259(0xb0)][_0x3fa259(0x95)](_0x72a160,_0xc0b381))__createBinding(_0x3cc20a,_0x72a160,_0xc0b381);}return __setModuleDefault(_0x3cc20a,_0x72a160),_0x3cc20a;},__importDefault=this&&this[a605_0x422e53(0x96)]||function(_0x58992c){const _0x5a441f=a605_0x422e53;return _0x58992c&&_0x58992c[_0x5a441f(0x99)]?_0x58992c:{'default':_0x58992c};};Object['defineProperty'](exports,a605_0x422e53(0x99),{'value':!![]});const Sentry=__importStar(require('@sentry/node')),GetDefaultWhatsApp_1=__importDefault(require('../../helpers/GetDefaultWhatsApp')),wbot_1=require(a605_0x422e53(0x89)),Contact_1=__importDefault(require(a605_0x422e53(0x9a))),logger_1=require(a605_0x422e53(0x93)),ShowBaileysService_1=__importDefault(require(a605_0x422e53(0xa5))),CreateContactService_1=__importDefault(require(a605_0x422e53(0xaa))),lodash_1=require(a605_0x422e53(0x9c)),path_1=__importDefault(require('path')),fs_1=__importDefault(require('fs')),ImportContactsService=async _0x2cd19b=>{const _0x4c408b=a605_0x422e53,_0x66cf94=await(0x0,GetDefaultWhatsApp_1[_0x4c408b(0x9f)])(_0x2cd19b),_0x8db6c9=(0x0,wbot_1[_0x4c408b(0x87)])(_0x66cf94['id']);let _0x255b77;try{const _0x1ed379=await(0x0,ShowBaileysService_1['default'])(_0x8db6c9['id']);_0x255b77=JSON['parse'](JSON['stringify'](_0x1ed379[_0x4c408b(0xa8)]));const _0x239cc9=path_1[_0x4c408b(0x9f)][_0x4c408b(0x8f)](__dirname,'..','..','..',_0x4c408b(0x83)),_0x498752=path_1[_0x4c408b(0x9f)][_0x4c408b(0x84)](_0x239cc9,_0x4c408b(0xa6));fs_1[_0x4c408b(0x9f)]['writeFile'](_0x498752,JSON[_0x4c408b(0x8c)](_0x255b77,null,0x2),_0x1d2d08=>{const _0x35aa1b=_0x4c408b;if(_0x1d2d08){logger_1[_0x35aa1b(0x8e)]['error'](_0x35aa1b(0x8a)+_0x1d2d08);throw _0x1d2d08;}console[_0x35aa1b(0x97)](_0x35aa1b(0x80));});}catch(_0x1b04a5){Sentry[_0x4c408b(0x86)](_0x1b04a5),logger_1[_0x4c408b(0x8e)][_0x4c408b(0x82)](_0x4c408b(0xaf)+_0x1b04a5);}const _0xa5dfc0=path_1['default'][_0x4c408b(0x8f)](__dirname,'..','..','..',_0x4c408b(0x83)),_0x44fb0c=path_1[_0x4c408b(0x9f)][_0x4c408b(0x84)](_0xa5dfc0,_0x4c408b(0x8d));fs_1[_0x4c408b(0x9f)]['writeFile'](_0x44fb0c,JSON[_0x4c408b(0x8c)](_0x255b77,null,0x2),_0x2da427=>{const _0x3cced2=_0x4c408b;if(_0x2da427){logger_1[_0x3cced2(0x8e)]['error']('Failed\x20to\x20write\x20contacts\x20to\x20file:\x20'+_0x2da427);throw _0x2da427;}console['log'](_0x3cced2(0x81));});const _0x4cbe7e=(0x0,lodash_1['isString'])(_0x255b77)?JSON[_0x4c408b(0x9e)](_0x255b77):_0x255b77;(0x0,lodash_1[_0x4c408b(0x7d)])(_0x4cbe7e)&&_0x4cbe7e['forEach'](async({id:_0x159ee5,name:_0x40bf32,notify:_0x3c8776})=>{const _0x1ff722=_0x4c408b;if(_0x159ee5===_0x1ff722(0x7e)||_0x159ee5[_0x1ff722(0x9d)]('g.us'))return;const _0x188b35=_0x159ee5[_0x1ff722(0x98)](/\D/g,''),_0x5c8ce3=await Contact_1[_0x1ff722(0x9f)][_0x1ff722(0x8b)]({'where':{'number':_0x188b35,'companyId':_0x2cd19b}});if(_0x5c8ce3)_0x5c8ce3[_0x1ff722(0xab)]=_0x40bf32||_0x3c8776,await _0x5c8ce3['save']();else try{await(0x0,CreateContactService_1['default'])({'number':_0x188b35,'name':_0x40bf32||_0x3c8776,'companyId':_0x2cd19b});}catch(_0x4dcfc5){Sentry['captureException'](_0x4dcfc5),logger_1[_0x1ff722(0x8e)][_0x1ff722(0xa0)]('Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20'+_0x4dcfc5);}});};exports[a605_0x422e53(0x9f)]=ImportContactsService;
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
