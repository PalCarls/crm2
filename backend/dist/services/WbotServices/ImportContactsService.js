'use strict';const a617_0x50e9c2=a617_0x309c;(function(_0x18c733,_0x2f3c24){const _0x59a8a1=a617_0x309c,_0x10616b=_0x18c733();while(!![]){try{const _0x59bb08=parseInt(_0x59a8a1(0x124))/0x1*(-parseInt(_0x59a8a1(0x144))/0x2)+-parseInt(_0x59a8a1(0x141))/0x3+parseInt(_0x59a8a1(0x12f))/0x4*(parseInt(_0x59a8a1(0x142))/0x5)+-parseInt(_0x59a8a1(0x14e))/0x6+-parseInt(_0x59a8a1(0x12a))/0x7+-parseInt(_0x59a8a1(0x14f))/0x8*(-parseInt(_0x59a8a1(0x134))/0x9)+parseInt(_0x59a8a1(0x153))/0xa;if(_0x59bb08===_0x2f3c24)break;else _0x10616b['push'](_0x10616b['shift']());}catch(_0x31a00e){_0x10616b['push'](_0x10616b['shift']());}}}(a617_0x56c9,0x5686c));var __createBinding=this&&this[a617_0x50e9c2(0x14a)]||(Object[a617_0x50e9c2(0x14b)]?function(_0x22c7db,_0x37196e,_0x2c2aa5,_0x5d4a8e){const _0x54ce2f=a617_0x50e9c2;if(_0x5d4a8e===undefined)_0x5d4a8e=_0x2c2aa5;var _0x5a493a=Object['getOwnPropertyDescriptor'](_0x37196e,_0x2c2aa5);(!_0x5a493a||(_0x54ce2f(0x11e)in _0x5a493a?!_0x37196e[_0x54ce2f(0x146)]:_0x5a493a[_0x54ce2f(0x13b)]||_0x5a493a[_0x54ce2f(0x14c)]))&&(_0x5a493a={'enumerable':!![],'get':function(){return _0x37196e[_0x2c2aa5];}}),Object[_0x54ce2f(0x14d)](_0x22c7db,_0x5d4a8e,_0x5a493a);}:function(_0xb08458,_0x215107,_0x5b3ac,_0x243c63){if(_0x243c63===undefined)_0x243c63=_0x5b3ac;_0xb08458[_0x243c63]=_0x215107[_0x5b3ac];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a617_0x50e9c2(0x14b)]?function(_0x5e4104,_0x443fd5){const _0x139944=a617_0x50e9c2;Object[_0x139944(0x14d)](_0x5e4104,'default',{'enumerable':!![],'value':_0x443fd5});}:function(_0x56829c,_0x1bef31){const _0x370f8f=a617_0x50e9c2;_0x56829c[_0x370f8f(0x11f)]=_0x1bef31;}),__importStar=this&&this[a617_0x50e9c2(0x127)]||function(_0x1d250b){const _0x59fa00=a617_0x50e9c2;if(_0x1d250b&&_0x1d250b[_0x59fa00(0x146)])return _0x1d250b;var _0x5866c3={};if(_0x1d250b!=null){for(var _0x453d90 in _0x1d250b)if(_0x453d90!==_0x59fa00(0x11f)&&Object[_0x59fa00(0x13f)][_0x59fa00(0x13a)]['call'](_0x1d250b,_0x453d90))__createBinding(_0x5866c3,_0x1d250b,_0x453d90);}return __setModuleDefault(_0x5866c3,_0x1d250b),_0x5866c3;},__importDefault=this&&this['__importDefault']||function(_0xc76825){const _0x7bdb7a=a617_0x50e9c2;return _0xc76825&&_0xc76825[_0x7bdb7a(0x146)]?_0xc76825:{'default':_0xc76825};};Object[a617_0x50e9c2(0x14d)](exports,a617_0x50e9c2(0x146),{'value':!![]});function a617_0x309c(_0x2c90a3,_0x5cb928){const _0x56c948=a617_0x56c9();return a617_0x309c=function(_0x309cc8,_0x7ce3fb){_0x309cc8=_0x309cc8-0x11e;let _0x5ea052=_0x56c948[_0x309cc8];return _0x5ea052;},a617_0x309c(_0x2c90a3,_0x5cb928);}const Sentry=__importStar(require(a617_0x50e9c2(0x13c))),GetDefaultWhatsApp_1=__importDefault(require(a617_0x50e9c2(0x12e))),wbot_1=require(a617_0x50e9c2(0x123)),Contact_1=__importDefault(require(a617_0x50e9c2(0x147))),logger_1=require(a617_0x50e9c2(0x13d)),ShowBaileysService_1=__importDefault(require(a617_0x50e9c2(0x136))),CreateContactService_1=__importDefault(require(a617_0x50e9c2(0x130))),lodash_1=require(a617_0x50e9c2(0x126)),path_1=__importDefault(require('path')),fs_1=__importDefault(require('fs')),ImportContactsService=async _0x3161f0=>{const _0x37e8e5=a617_0x50e9c2,_0x53e7e7=await(0x0,GetDefaultWhatsApp_1[_0x37e8e5(0x11f)])(_0x3161f0),_0x45c819=(0x0,wbot_1[_0x37e8e5(0x138)])(_0x53e7e7['id']);let _0x1c3a60;try{const _0x23c269=await(0x0,ShowBaileysService_1[_0x37e8e5(0x11f)])(_0x45c819['id']);_0x1c3a60=JSON['parse'](JSON[_0x37e8e5(0x120)](_0x23c269[_0x37e8e5(0x137)]));const _0x27e8f5=path_1[_0x37e8e5(0x11f)]['resolve'](__dirname,'..','..','..','public'),_0xffedaa=path_1[_0x37e8e5(0x11f)][_0x37e8e5(0x128)](_0x27e8f5,_0x37e8e5(0x143));fs_1[_0x37e8e5(0x11f)][_0x37e8e5(0x129)](_0xffedaa,JSON[_0x37e8e5(0x120)](_0x1c3a60,null,0x2),_0x47eec3=>{const _0x24dae5=_0x37e8e5;if(_0x47eec3){logger_1[_0x24dae5(0x151)][_0x24dae5(0x125)](_0x24dae5(0x152)+_0x47eec3);throw _0x47eec3;}console['log']('O\x20arquivo\x20contatos_antes.txt\x20foi\x20criado!');});}catch(_0x2d758a){Sentry[_0x37e8e5(0x149)](_0x2d758a),logger_1[_0x37e8e5(0x151)][_0x37e8e5(0x125)]('Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20'+_0x2d758a);}const _0x19cc2b=path_1[_0x37e8e5(0x11f)]['resolve'](__dirname,'..','..','..',_0x37e8e5(0x145)),_0x542502=path_1[_0x37e8e5(0x11f)][_0x37e8e5(0x128)](_0x19cc2b,_0x37e8e5(0x140));fs_1[_0x37e8e5(0x11f)][_0x37e8e5(0x129)](_0x542502,JSON[_0x37e8e5(0x120)](_0x1c3a60,null,0x2),_0x4b2ab5=>{const _0xd8c7c8=_0x37e8e5;if(_0x4b2ab5){logger_1[_0xd8c7c8(0x151)]['error'](_0xd8c7c8(0x152)+_0x4b2ab5);throw _0x4b2ab5;}console[_0xd8c7c8(0x121)](_0xd8c7c8(0x148));});const _0x5a526f=(0x0,lodash_1['isString'])(_0x1c3a60)?JSON[_0x37e8e5(0x150)](_0x1c3a60):_0x1c3a60;(0x0,lodash_1[_0x37e8e5(0x122)])(_0x5a526f)&&_0x5a526f[_0x37e8e5(0x12c)](async({id:_0x2452bf,name:_0x5564d4,notify:_0x16e68c})=>{const _0x5f3777=_0x37e8e5;if(_0x2452bf===_0x5f3777(0x133)||_0x2452bf['includes'](_0x5f3777(0x13e)))return;const _0x19b296=_0x2452bf[_0x5f3777(0x139)](/\D/g,''),_0x5e0225=await Contact_1[_0x5f3777(0x11f)][_0x5f3777(0x131)]({'where':{'number':_0x19b296,'companyId':_0x3161f0}});if(_0x5e0225)_0x5e0225[_0x5f3777(0x135)]=_0x5564d4||_0x16e68c,await _0x5e0225[_0x5f3777(0x132)]();else try{await(0x0,CreateContactService_1[_0x5f3777(0x11f)])({'number':_0x19b296,'name':_0x5564d4||_0x16e68c,'companyId':_0x3161f0});}catch(_0x5f4e3d){Sentry[_0x5f3777(0x149)](_0x5f4e3d),logger_1[_0x5f3777(0x151)][_0x5f3777(0x12b)](_0x5f3777(0x12d)+_0x5f4e3d);}});};exports[a617_0x50e9c2(0x11f)]=ImportContactsService;function a617_0x56c9(){const _0x2ea5fd=['save','status@broadcast','9eJEgVa','name','../BaileysServices/ShowBaileysService','contacts','getWbot','replace','hasOwnProperty','writable','@sentry/node','../../utils/logger','g.us','prototype','contatos_depois.txt','276258EFcIla','448525qzIPyr','contatos_antes.txt','16muyLzG','public','__esModule','../../models/Contact','O\x20arquivo\x20contatos_depois.txt\x20foi\x20criado!','captureException','__createBinding','create','configurable','defineProperty','1090152KiAObT','377808mmpaJH','parse','logger','Failed\x20to\x20write\x20contacts\x20to\x20file:\x20','13447220eKugia','get','default','stringify','log','isArray','../../libs/wbot','86945siaIWG','error','lodash','__importStar','join','writeFile','4872931TqjJTy','warn','forEach','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20','../../helpers/GetDefaultWhatsApp','28NAHWZO','../ContactServices/CreateContactService','findOne'];a617_0x56c9=function(){return _0x2ea5fd;};return a617_0x56c9();}