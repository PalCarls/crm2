'use strict';const a570_0x35e161=a570_0x4cc7;function a570_0x4cc7(_0x315e22,_0x3cfce8){const _0x5a34b9=a570_0x5a34();return a570_0x4cc7=function(_0x4cc72d,_0x5ed08c){_0x4cc72d=_0x4cc72d-0x88;let _0xcd9e8=_0x5a34b9[_0x4cc72d];return _0xcd9e8;},a570_0x4cc7(_0x315e22,_0x3cfce8);}function a570_0x5a34(){const _0x2b709f=['unavailable','companyId','../../models/Contact','image/jpeg','250dCLoWB','../../errors/AppError','remoteJid','58343857FRnDNp','readFileSync','s.whatsapp.net','8192639fpfYsm','random','/company','ERR_SENDING_WAPP_MSG','includes','263586hIbXLu','307830BhKtHh','available','548OhICAL','.png','11497wmlHfi','default','length','delay','11326168qPrLIm','path','sendPresenceUpdate','findByPk','../../helpers/GetTicketWbot','defineProperty','g.us','105IVBvDI','111WLLalU','sendMessage','117PLLJNm','__esModule'];a570_0x5a34=function(){return _0x2b709f;};return a570_0x5a34();}(function(_0x3b8a13,_0x5c09fe){const _0x4251c2=a570_0x4cc7,_0x92af3=_0x3b8a13();while(!![]){try{const _0x33a7e6=parseInt(_0x4251c2(0x9a))/0x1*(-parseInt(_0x4251c2(0x8a))/0x2)+-parseInt(_0x4251c2(0xa6))/0x3*(parseInt(_0x4251c2(0x98))/0x4)+parseInt(_0x4251c2(0xa5))/0x5*(-parseInt(_0x4251c2(0x95))/0x6)+-parseInt(_0x4251c2(0x90))/0x7+-parseInt(_0x4251c2(0x9e))/0x8+parseInt(_0x4251c2(0xa8))/0x9*(parseInt(_0x4251c2(0x96))/0xa)+parseInt(_0x4251c2(0x8d))/0xb;if(_0x33a7e6===_0x5c09fe)break;else _0x92af3['push'](_0x92af3['shift']());}catch(_0x3e8c18){_0x92af3['push'](_0x92af3['shift']());}}}(a570_0x5a34,0xb7e79));var __importDefault=this&&this['__importDefault']||function(_0x52c708){const _0x176a4c=a570_0x4cc7;return _0x52c708&&_0x52c708[_0x176a4c(0xa9)]?_0x52c708:{'default':_0x52c708};};Object[a570_0x35e161(0xa3)](exports,a570_0x35e161(0xa9),{'value':!![]});const baileys_1=require('@whiskeysockets/baileys'),AppError_1=__importDefault(require(a570_0x35e161(0x8b))),GetTicketWbot_1=__importDefault(require(a570_0x35e161(0xa2))),Mustache_1=__importDefault(require('../../helpers/Mustache')),Contact_1=__importDefault(require(a570_0x35e161(0x88))),path_1=__importDefault(require(a570_0x35e161(0x9f))),fs_1=__importDefault(require('fs'));function makeid(_0x390382){const _0x1e2eb0=a570_0x35e161;var _0x14006f='',_0x2036a3='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x529abb=_0x2036a3[_0x1e2eb0(0x9c)];for(var _0x35bfab=0x0;_0x35bfab<_0x390382;_0x35bfab++){_0x14006f+=_0x2036a3['charAt'](Math['floor'](Math[_0x1e2eb0(0x91)]()*_0x529abb));}return _0x14006f;}const publicFolder=path_1['default']['resolve'](__dirname,'..','..','..','public'),SendWhatsAppMediaImage=async({ticket:_0x10b57c,url:_0x51cf4e,caption:_0x4896f7,msdelay:_0x4bcb19})=>{const _0x56e09c=a570_0x35e161,_0x12c445=await(0x0,GetTicketWbot_1[_0x56e09c(0x9b)])(_0x10b57c),_0xc49830=await Contact_1['default'][_0x56e09c(0xa1)](_0x10b57c['contactId']);let _0x5957b7;_0xc49830[_0x56e09c(0x8c)]&&_0xc49830[_0x56e09c(0x8c)]!==''&&_0xc49830[_0x56e09c(0x8c)][_0x56e09c(0x94)]('@')?_0x5957b7=_0xc49830[_0x56e09c(0x8c)]:_0x5957b7=_0xc49830['number']+'@'+(_0x10b57c['isGroup']?_0x56e09c(0xa4):_0x56e09c(0x8f));try{_0x12c445[_0x56e09c(0xa0)](_0x56e09c(0x97)),await(0x0,baileys_1[_0x56e09c(0x9d)])(_0x4bcb19);const _0x29b340=await _0x12c445[_0x56e09c(0xa7)](''+_0x5957b7,{'image':_0x51cf4e?{'url':_0x51cf4e}:fs_1[_0x56e09c(0x9b)][_0x56e09c(0x8e)](publicFolder+_0x56e09c(0x92)+_0x10b57c[_0x56e09c(0xab)]+'/'+_0x4896f7+'-'+makeid(0x5)+_0x56e09c(0x99)),'caption':(0x0,Mustache_1['default'])(''+_0x4896f7,_0x10b57c),'mimetype':_0x56e09c(0x89)});return _0x12c445['sendPresenceUpdate'](_0x56e09c(0xaa)),_0x29b340;}catch(_0x404903){throw new AppError_1[(_0x56e09c(0x9b))](_0x56e09c(0x93));}};exports[a570_0x35e161(0x9b)]=SendWhatsAppMediaImage;