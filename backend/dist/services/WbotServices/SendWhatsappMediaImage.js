'use strict';const a565_0xb66e8d=a565_0x4a3b;function a565_0x4a3b(_0x5aa144,_0x49075f){const _0x1a9cf8=a565_0x1a9c();return a565_0x4a3b=function(_0x4a3be9,_0x3eaae0){_0x4a3be9=_0x4a3be9-0x14e;let _0xd7077d=_0x1a9cf8[_0x4a3be9];return _0xd7077d;},a565_0x4a3b(_0x5aa144,_0x49075f);}(function(_0x3361a4,_0x151247){const _0x4b03c5=a565_0x4a3b,_0x5cb9ed=_0x3361a4();while(!![]){try{const _0x851d49=-parseInt(_0x4b03c5(0x153))/0x1*(parseInt(_0x4b03c5(0x169))/0x2)+-parseInt(_0x4b03c5(0x165))/0x3*(parseInt(_0x4b03c5(0x16f))/0x4)+-parseInt(_0x4b03c5(0x16d))/0x5+parseInt(_0x4b03c5(0x167))/0x6*(-parseInt(_0x4b03c5(0x15b))/0x7)+parseInt(_0x4b03c5(0x14f))/0x8+-parseInt(_0x4b03c5(0x156))/0x9+parseInt(_0x4b03c5(0x159))/0xa;if(_0x851d49===_0x151247)break;else _0x5cb9ed['push'](_0x5cb9ed['shift']());}catch(_0x4f37e8){_0x5cb9ed['push'](_0x5cb9ed['shift']());}}}(a565_0x1a9c,0xf12b8));var __importDefault=this&&this[a565_0xb66e8d(0x16b)]||function(_0x4e59ba){const _0x4f4a80=a565_0xb66e8d;return _0x4e59ba&&_0x4e59ba[_0x4f4a80(0x171)]?_0x4e59ba:{'default':_0x4e59ba};};Object[a565_0xb66e8d(0x161)](exports,'__esModule',{'value':!![]});const baileys_1=require(a565_0xb66e8d(0x150)),AppError_1=__importDefault(require(a565_0xb66e8d(0x14e))),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),Mustache_1=__importDefault(require(a565_0xb66e8d(0x162))),Contact_1=__importDefault(require(a565_0xb66e8d(0x155))),path_1=__importDefault(require('path')),fs_1=__importDefault(require('fs'));function makeid(_0x3f928a){const _0x249520=a565_0xb66e8d;var _0x1a0135='',_0x31e949=_0x249520(0x164),_0xa4dc8b=_0x31e949[_0x249520(0x152)];for(var _0x9ac8b1=0x0;_0x9ac8b1<_0x3f928a;_0x9ac8b1++){_0x1a0135+=_0x31e949[_0x249520(0x15f)](Math[_0x249520(0x15d)](Math['random']()*_0xa4dc8b));}return _0x1a0135;}const publicFolder=path_1[a565_0xb66e8d(0x15c)]['resolve'](__dirname,'..','..','..',a565_0xb66e8d(0x16e)),SendWhatsAppMediaImage=async({ticket:_0x5a582d,url:_0xbd712e,caption:_0x511e3e,msdelay:_0x4af060})=>{const _0x54fef6=a565_0xb66e8d,_0x5cd2ab=await(0x0,GetTicketWbot_1['default'])(_0x5a582d),_0x1aadf3=await Contact_1['default'][_0x54fef6(0x173)](_0x5a582d['contactId']);let _0x116b58;_0x1aadf3['remoteJid']&&_0x1aadf3['remoteJid']!==''&&_0x1aadf3['remoteJid'][_0x54fef6(0x157)]('@')?_0x116b58=_0x1aadf3[_0x54fef6(0x151)]:_0x116b58=_0x1aadf3[_0x54fef6(0x172)]+'@'+(_0x5a582d['isGroup']?_0x54fef6(0x16c):_0x54fef6(0x168));try{_0x5cd2ab['sendPresenceUpdate'](_0x54fef6(0x170)),await(0x0,baileys_1['delay'])(_0x4af060);const _0xa76b28=await _0x5cd2ab[_0x54fef6(0x15e)](''+_0x116b58,{'image':_0xbd712e?{'url':_0xbd712e}:fs_1['default'][_0x54fef6(0x16a)](publicFolder+_0x54fef6(0x15a)+_0x5a582d[_0x54fef6(0x158)]+'/'+_0x511e3e+'-'+makeid(0x5)+_0x54fef6(0x154)),'caption':(0x0,Mustache_1[_0x54fef6(0x15c)])(''+_0x511e3e,_0x5a582d),'mimetype':_0x54fef6(0x163)});return _0x5cd2ab[_0x54fef6(0x166)](_0x54fef6(0x160)),_0xa76b28;}catch(_0x27acff){throw new AppError_1['default']('ERR_SENDING_WAPP_MSG');}};function a565_0x1a9c(){const _0x221445=['available','__esModule','number','findByPk','../../errors/AppError','8629024ZbVVHN','@whiskeysockets/baileys','remoteJid','length','25922sBWISk','.png','../../models/Contact','17066619sflZgR','includes','companyId','59927850UbqITf','/company','21jKOAsI','default','floor','sendMessage','charAt','unavailable','defineProperty','../../helpers/Mustache','image/jpeg','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','442785Vkwopy','sendPresenceUpdate','265290IEPYmo','s.whatsapp.net','104AsCuUU','readFileSync','__importDefault','g.us','6891730rsNeUx','public','36rhyATC'];a565_0x1a9c=function(){return _0x221445;};return a565_0x1a9c();}exports[a565_0xb66e8d(0x15c)]=SendWhatsAppMediaImage;