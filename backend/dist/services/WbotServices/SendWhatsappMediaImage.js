'use strict';const a529_0x598342=a529_0x41e4;function a529_0x2fc8(){const _0x58e673=['defineProperty','28090224LroyWL','11WRGOpk','ERR_SENDING_WAPP_MSG','public','image/jpeg','sendPresenceUpdate','default','../../helpers/Mustache','available','includes','796270qRoxBO','charAt','delay','path','resolve','7994706SvVXPz','18zqovQn','remoteJid','random','unavailable','97255vzTbux','.png','number','../../errors/AppError','/company','__esModule','477344kKmFJb','__importDefault','findByPk','sendMessage','companyId','../../models/Contact','readFileSync','335030NXrxja','length','s.whatsapp.net','g.us','45aQIGLd','147kGHsGN','84RCKBoP','454182aVazFT','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'];a529_0x2fc8=function(){return _0x58e673;};return a529_0x2fc8();}function a529_0x41e4(_0x220dec,_0x441d50){const _0x2fc88b=a529_0x2fc8();return a529_0x41e4=function(_0x41e45d,_0x485786){_0x41e45d=_0x41e45d-0xd5;let _0x10d713=_0x2fc88b[_0x41e45d];return _0x10d713;},a529_0x41e4(_0x220dec,_0x441d50);}(function(_0x102162,_0x3c6f2b){const _0x56c2dd=a529_0x41e4,_0x9e102b=_0x102162();while(!![]){try{const _0x183a04=-parseInt(_0x56c2dd(0xfd))/0x1+parseInt(_0x56c2dd(0xf6))/0x2*(-parseInt(_0x56c2dd(0xe5))/0x3)+parseInt(_0x56c2dd(0xfc))/0x4*(-parseInt(_0x56c2dd(0xe9))/0x5)+-parseInt(_0x56c2dd(0xe4))/0x6+parseInt(_0x56c2dd(0xfb))/0x7*(parseInt(_0x56c2dd(0xef))/0x8)+parseInt(_0x56c2dd(0xfa))/0x9*(parseInt(_0x56c2dd(0xdf))/0xa)+-parseInt(_0x56c2dd(0xd6))/0xb*(-parseInt(_0x56c2dd(0xd5))/0xc);if(_0x183a04===_0x3c6f2b)break;else _0x9e102b['push'](_0x9e102b['shift']());}catch(_0x38bdb3){_0x9e102b['push'](_0x9e102b['shift']());}}}(a529_0x2fc8,0xc150d));var __importDefault=this&&this[a529_0x598342(0xf0)]||function(_0x3f8f89){const _0x4525f6=a529_0x598342;return _0x3f8f89&&_0x3f8f89[_0x4525f6(0xee)]?_0x3f8f89:{'default':_0x3f8f89};};Object[a529_0x598342(0xff)](exports,a529_0x598342(0xee),{'value':!![]});const baileys_1=require('@whiskeysockets/baileys'),AppError_1=__importDefault(require(a529_0x598342(0xec))),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),Mustache_1=__importDefault(require(a529_0x598342(0xdc))),Contact_1=__importDefault(require(a529_0x598342(0xf4))),path_1=__importDefault(require(a529_0x598342(0xe2))),fs_1=__importDefault(require('fs'));function makeid(_0x3ed203){const _0x2ded0a=a529_0x598342;var _0x4b5821='',_0xb04cda=_0x2ded0a(0xfe),_0x8f5a30=_0xb04cda[_0x2ded0a(0xf7)];for(var _0x2f2c5b=0x0;_0x2f2c5b<_0x3ed203;_0x2f2c5b++){_0x4b5821+=_0xb04cda[_0x2ded0a(0xe0)](Math['floor'](Math[_0x2ded0a(0xe7)]()*_0x8f5a30));}return _0x4b5821;}const publicFolder=path_1[a529_0x598342(0xdb)][a529_0x598342(0xe3)](__dirname,'..','..','..',a529_0x598342(0xd8)),SendWhatsAppMediaImage=async({ticket:_0x8b0ad6,url:_0x552c1b,caption:_0x4c3f47,msdelay:_0x27324c})=>{const _0x14a0bd=a529_0x598342,_0x390c0c=await(0x0,GetTicketWbot_1['default'])(_0x8b0ad6),_0x58098d=await Contact_1['default'][_0x14a0bd(0xf1)](_0x8b0ad6['contactId']);let _0x149eb1;_0x58098d[_0x14a0bd(0xe6)]&&_0x58098d[_0x14a0bd(0xe6)]!==''&&_0x58098d[_0x14a0bd(0xe6)][_0x14a0bd(0xde)]('@')?_0x149eb1=_0x58098d[_0x14a0bd(0xe6)]:_0x149eb1=_0x58098d[_0x14a0bd(0xeb)]+'@'+(_0x8b0ad6['isGroup']?_0x14a0bd(0xf9):_0x14a0bd(0xf8));try{_0x390c0c[_0x14a0bd(0xda)](_0x14a0bd(0xdd)),await(0x0,baileys_1[_0x14a0bd(0xe1)])(_0x27324c);const _0x18eb44=await _0x390c0c[_0x14a0bd(0xf2)](''+_0x149eb1,{'image':_0x552c1b?{'url':_0x552c1b}:fs_1[_0x14a0bd(0xdb)][_0x14a0bd(0xf5)](publicFolder+_0x14a0bd(0xed)+_0x8b0ad6[_0x14a0bd(0xf3)]+'/'+_0x4c3f47+'-'+makeid(0x5)+_0x14a0bd(0xea)),'caption':(0x0,Mustache_1[_0x14a0bd(0xdb)])(''+_0x4c3f47,_0x8b0ad6),'mimetype':_0x14a0bd(0xd9)});return _0x390c0c['sendPresenceUpdate'](_0x14a0bd(0xe8)),_0x18eb44;}catch(_0x5b113e){throw new AppError_1[(_0x14a0bd(0xdb))](_0x14a0bd(0xd7));}};exports[a529_0x598342(0xdb)]=SendWhatsAppMediaImage;