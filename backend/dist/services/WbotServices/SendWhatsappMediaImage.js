'use strict';const a623_0x1fe659=a623_0x187b;(function(_0x577e6a,_0x17966f){const _0x3a4d16=a623_0x187b,_0x3d95d3=_0x577e6a();while(!![]){try{const _0x25eebb=-parseInt(_0x3a4d16(0xe3))/0x1+parseInt(_0x3a4d16(0xf0))/0x2+-parseInt(_0x3a4d16(0xf4))/0x3+-parseInt(_0x3a4d16(0xdb))/0x4+-parseInt(_0x3a4d16(0xe0))/0x5*(parseInt(_0x3a4d16(0xdf))/0x6)+-parseInt(_0x3a4d16(0xe5))/0x7+parseInt(_0x3a4d16(0xf1))/0x8;if(_0x25eebb===_0x17966f)break;else _0x3d95d3['push'](_0x3d95d3['shift']());}catch(_0x2f7d8f){_0x3d95d3['push'](_0x3d95d3['shift']());}}}(a623_0xa392,0x1ffb8));var __importDefault=this&&this[a623_0x1fe659(0xe8)]||function(_0x5102f9){const _0x15e120=a623_0x1fe659;return _0x5102f9&&_0x5102f9[_0x15e120(0xe1)]?_0x5102f9:{'default':_0x5102f9};};Object[a623_0x1fe659(0xed)](exports,a623_0x1fe659(0xe1),{'value':!![]});const baileys_1=require(a623_0x1fe659(0xdc)),AppError_1=__importDefault(require(a623_0x1fe659(0xd6))),GetTicketWbot_1=__importDefault(require(a623_0x1fe659(0xd9))),Mustache_1=__importDefault(require('../../helpers/Mustache')),Contact_1=__importDefault(require(a623_0x1fe659(0xdd))),path_1=__importDefault(require(a623_0x1fe659(0xd7))),fs_1=__importDefault(require('fs'));function makeid(_0x3c3238){const _0x54146e=a623_0x1fe659;var _0x54a815='',_0x3f51a1='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x53f5c5=_0x3f51a1['length'];for(var _0x1ca794=0x0;_0x1ca794<_0x3c3238;_0x1ca794++){_0x54a815+=_0x3f51a1['charAt'](Math[_0x54146e(0xef)](Math['random']()*_0x53f5c5));}return _0x54a815;}function a623_0xa392(){const _0x3a3063=['229860GgnOdd','includes','1597841wHrZpG','s.whatsapp.net','/company','__importDefault','number','default','sendPresenceUpdate','available','defineProperty','contactId','floor','390688kActPA','6260728dwAxwv','companyId','resolve','141783AHqgvG','isGroup','unavailable','delay','sendMessage','../../errors/AppError','path','ERR_SENDING_WAPP_MSG','../../helpers/GetTicketWbot','remoteJid','453984HKIkwt','@whiskeysockets/baileys','../../models/Contact','readFileSync','510GNLKSS','13415pKerhS','__esModule','.png'];a623_0xa392=function(){return _0x3a3063;};return a623_0xa392();}function a623_0x187b(_0x515b2b,_0x22bcc1){const _0xa3920c=a623_0xa392();return a623_0x187b=function(_0x187b79,_0xc28d2d){_0x187b79=_0x187b79-0xd4;let _0x20c2e2=_0xa3920c[_0x187b79];return _0x20c2e2;},a623_0x187b(_0x515b2b,_0x22bcc1);}const publicFolder=path_1[a623_0x1fe659(0xea)][a623_0x1fe659(0xf3)](__dirname,'..','..','..','public'),SendWhatsAppMediaImage=async({ticket:_0x51a8da,url:_0x578b84,caption:_0x871b72,msdelay:_0x5c51fd})=>{const _0x194ce6=a623_0x1fe659,_0x3dcd49=await(0x0,GetTicketWbot_1['default'])(_0x51a8da),_0x56fe81=await Contact_1[_0x194ce6(0xea)]['findByPk'](_0x51a8da[_0x194ce6(0xee)]);let _0x364c66;_0x56fe81[_0x194ce6(0xda)]&&_0x56fe81[_0x194ce6(0xda)]!==''&&_0x56fe81[_0x194ce6(0xda)][_0x194ce6(0xe4)]('@')?_0x364c66=_0x56fe81[_0x194ce6(0xda)]:_0x364c66=_0x56fe81[_0x194ce6(0xe9)]+'@'+(_0x51a8da[_0x194ce6(0xf5)]?'g.us':_0x194ce6(0xe6));try{_0x3dcd49[_0x194ce6(0xeb)](_0x194ce6(0xec)),await(0x0,baileys_1[_0x194ce6(0xd4)])(_0x5c51fd);const _0x1add31=await _0x3dcd49[_0x194ce6(0xd5)](''+_0x364c66,{'image':_0x578b84?{'url':_0x578b84}:fs_1['default'][_0x194ce6(0xde)](publicFolder+_0x194ce6(0xe7)+_0x51a8da[_0x194ce6(0xf2)]+'/'+_0x871b72+'-'+makeid(0x5)+_0x194ce6(0xe2)),'caption':(0x0,Mustache_1[_0x194ce6(0xea)])(''+_0x871b72,_0x51a8da),'mimetype':'image/jpeg'});return _0x3dcd49[_0x194ce6(0xeb)](_0x194ce6(0xf6)),_0x1add31;}catch(_0x2ffe8b){throw new AppError_1[(_0x194ce6(0xea))](_0x194ce6(0xd8));}};exports[a623_0x1fe659(0xea)]=SendWhatsAppMediaImage;