'use strict';const a623_0x3febe9=a623_0x28b9;(function(_0x2dc005,_0x34df87){const _0x1ea5e7=a623_0x28b9,_0x423278=_0x2dc005();while(!![]){try{const _0xfca8ce=parseInt(_0x1ea5e7(0xa1))/0x1+-parseInt(_0x1ea5e7(0xa5))/0x2+parseInt(_0x1ea5e7(0xbb))/0x3*(-parseInt(_0x1ea5e7(0xb4))/0x4)+parseInt(_0x1ea5e7(0xa8))/0x5*(parseInt(_0x1ea5e7(0xae))/0x6)+parseInt(_0x1ea5e7(0xb5))/0x7*(parseInt(_0x1ea5e7(0xad))/0x8)+parseInt(_0x1ea5e7(0x95))/0x9+parseInt(_0x1ea5e7(0x9a))/0xa*(parseInt(_0x1ea5e7(0xa4))/0xb);if(_0xfca8ce===_0x34df87)break;else _0x423278['push'](_0x423278['shift']());}catch(_0x3ddeea){_0x423278['push'](_0x423278['shift']());}}}(a623_0x5435,0x49136));function a623_0x28b9(_0x187225,_0x1a8679){const _0x5435c3=a623_0x5435();return a623_0x28b9=function(_0x28b9d4,_0x14377f){_0x28b9d4=_0x28b9d4-0x95;let _0x25f328=_0x5435c3[_0x28b9d4];return _0x25f328;},a623_0x28b9(_0x187225,_0x1a8679);}var __importDefault=this&&this[a623_0x3febe9(0xa2)]||function(_0x4fb47d){const _0x381ea3=a623_0x3febe9;return _0x4fb47d&&_0x4fb47d[_0x381ea3(0xa7)]?_0x4fb47d:{'default':_0x4fb47d};};function a623_0x5435(){const _0x1b9978=['.png','default','../../errors/AppError','197727IJxIzy','1586871nZhqXQ','remoteJid','../../helpers/GetTicketWbot','g.us','ERR_SENDING_WAPP_MSG','1028630BnWHPA','includes','path','findByPk','sendMessage','resolve','available','316891iiYAAU','__importDefault','contactId','33gDJVHN','767414SvaxFJ','image/jpeg','__esModule','57435osLWHy','readFileSync','companyId','random','@whiskeysockets/baileys','154064eFbypi','18RnMauQ','public','s.whatsapp.net','floor','number','charAt','28JfFNui','112FLlYil','sendPresenceUpdate','unavailable'];a623_0x5435=function(){return _0x1b9978;};return a623_0x5435();}Object['defineProperty'](exports,a623_0x3febe9(0xa7),{'value':!![]});const baileys_1=require(a623_0x3febe9(0xac)),AppError_1=__importDefault(require(a623_0x3febe9(0xba))),GetTicketWbot_1=__importDefault(require(a623_0x3febe9(0x97))),Mustache_1=__importDefault(require('../../helpers/Mustache')),Contact_1=__importDefault(require('../../models/Contact')),path_1=__importDefault(require(a623_0x3febe9(0x9c))),fs_1=__importDefault(require('fs'));function makeid(_0x97ee87){const _0x375d7c=a623_0x3febe9;var _0x3b7ed7='',_0x2c905b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x49f05c=_0x2c905b['length'];for(var _0xebf6df=0x0;_0xebf6df<_0x97ee87;_0xebf6df++){_0x3b7ed7+=_0x2c905b[_0x375d7c(0xb3)](Math[_0x375d7c(0xb1)](Math[_0x375d7c(0xab)]()*_0x49f05c));}return _0x3b7ed7;}const publicFolder=path_1[a623_0x3febe9(0xb9)][a623_0x3febe9(0x9f)](__dirname,'..','..','..',a623_0x3febe9(0xaf)),SendWhatsAppMediaImage=async({ticket:_0xbd85a6,url:_0x641a2c,caption:_0xe68ab1,msdelay:_0xb9ceb0})=>{const _0xcd1918=a623_0x3febe9,_0xb4ecb3=await(0x0,GetTicketWbot_1['default'])(_0xbd85a6),_0x3d742b=await Contact_1[_0xcd1918(0xb9)][_0xcd1918(0x9d)](_0xbd85a6[_0xcd1918(0xa3)]);let _0x2f6591;_0x3d742b['remoteJid']&&_0x3d742b[_0xcd1918(0x96)]!==''&&_0x3d742b[_0xcd1918(0x96)][_0xcd1918(0x9b)]('@')?_0x2f6591=_0x3d742b[_0xcd1918(0x96)]:_0x2f6591=_0x3d742b[_0xcd1918(0xb2)]+'@'+(_0xbd85a6['isGroup']?_0xcd1918(0x98):_0xcd1918(0xb0));try{_0xb4ecb3[_0xcd1918(0xb6)](_0xcd1918(0xa0)),await(0x0,baileys_1['delay'])(_0xb9ceb0);const _0xf9ba1c=await _0xb4ecb3[_0xcd1918(0x9e)](''+_0x2f6591,{'image':_0x641a2c?{'url':_0x641a2c}:fs_1[_0xcd1918(0xb9)][_0xcd1918(0xa9)](publicFolder+'/company'+_0xbd85a6[_0xcd1918(0xaa)]+'/'+_0xe68ab1+'-'+makeid(0x5)+_0xcd1918(0xb8)),'caption':(0x0,Mustache_1[_0xcd1918(0xb9)])(''+_0xe68ab1,_0xbd85a6),'mimetype':_0xcd1918(0xa6)});return _0xb4ecb3[_0xcd1918(0xb6)](_0xcd1918(0xb7)),_0xf9ba1c;}catch(_0x51bfb5){throw new AppError_1['default'](_0xcd1918(0x99));}};exports[a623_0x3febe9(0xb9)]=SendWhatsAppMediaImage;