'use strict';const a631_0x540893=a631_0x4f8a;(function(_0x36c38d,_0xd616a1){const _0x2da9ef=a631_0x4f8a,_0x4073a3=_0x36c38d();while(!![]){try{const _0x4c1200=-parseInt(_0x2da9ef(0x12c))/0x1*(-parseInt(_0x2da9ef(0x122))/0x2)+-parseInt(_0x2da9ef(0x12b))/0x3*(-parseInt(_0x2da9ef(0x12d))/0x4)+parseInt(_0x2da9ef(0x124))/0x5*(parseInt(_0x2da9ef(0x125))/0x6)+parseInt(_0x2da9ef(0x135))/0x7+parseInt(_0x2da9ef(0x11e))/0x8+-parseInt(_0x2da9ef(0x12f))/0x9*(-parseInt(_0x2da9ef(0x11b))/0xa)+-parseInt(_0x2da9ef(0x136))/0xb;if(_0x4c1200===_0xd616a1)break;else _0x4073a3['push'](_0x4073a3['shift']());}catch(_0x3f4c5a){_0x4073a3['push'](_0x4073a3['shift']());}}}(a631_0x5a93,0xd7b78));function a631_0x5a93(){const _0x56a1b9=['sendPresenceUpdate','.png','210yKHKgE','__importDefault','505aIsoMJ','97896rajhZt','../../helpers/GetTicketWbot','g.us','findByPk','__esModule','length','5148147RWMLaG','15tnParN','4LjrplV','isGroup','189eyvPUm','../../models/Contact','defineProperty','ERR_SENDING_WAPP_MSG','s.whatsapp.net','../../helpers/Mustache','9859836CQtqog','64543688GsUqBt','public','charAt','default','number','586580bhuJLL','contactId','remoteJid','5962224uqAmqv','companyId'];a631_0x5a93=function(){return _0x56a1b9;};return a631_0x5a93();}var __importDefault=this&&this[a631_0x540893(0x123)]||function(_0x366ed2){const _0x4e3cbf=a631_0x540893;return _0x366ed2&&_0x366ed2[_0x4e3cbf(0x129)]?_0x366ed2:{'default':_0x366ed2};};Object[a631_0x540893(0x131)](exports,a631_0x540893(0x129),{'value':!![]});const baileys_1=require('@whiskeysockets/baileys'),AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require(a631_0x540893(0x126))),Mustache_1=__importDefault(require(a631_0x540893(0x134))),Contact_1=__importDefault(require(a631_0x540893(0x130))),path_1=__importDefault(require('path')),fs_1=__importDefault(require('fs'));function makeid(_0x416286){const _0x6c03d5=a631_0x540893;var _0x56a07b='',_0x819341='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x17ea45=_0x819341[_0x6c03d5(0x12a)];for(var _0x511a62=0x0;_0x511a62<_0x416286;_0x511a62++){_0x56a07b+=_0x819341[_0x6c03d5(0x118)](Math['floor'](Math['random']()*_0x17ea45));}return _0x56a07b;}function a631_0x4f8a(_0x1a6d77,_0x5356fe){const _0x5a9380=a631_0x5a93();return a631_0x4f8a=function(_0x4f8a2e,_0x46bf56){_0x4f8a2e=_0x4f8a2e-0x117;let _0x4c029d=_0x5a9380[_0x4f8a2e];return _0x4c029d;},a631_0x4f8a(_0x1a6d77,_0x5356fe);}const publicFolder=path_1[a631_0x540893(0x119)]['resolve'](__dirname,'..','..','..',a631_0x540893(0x117)),SendWhatsAppMediaImage=async({ticket:_0x56f2c1,url:_0xf47241,caption:_0x4e9ab7,msdelay:_0x227a14})=>{const _0x4e5460=a631_0x540893,_0x54404a=await(0x0,GetTicketWbot_1[_0x4e5460(0x119)])(_0x56f2c1),_0x167c8b=await Contact_1[_0x4e5460(0x119)][_0x4e5460(0x128)](_0x56f2c1[_0x4e5460(0x11c)]);let _0x5b324a;_0x167c8b[_0x4e5460(0x11d)]&&_0x167c8b[_0x4e5460(0x11d)]!==''&&_0x167c8b['remoteJid']['includes']('@')?_0x5b324a=_0x167c8b[_0x4e5460(0x11d)]:_0x5b324a=_0x167c8b[_0x4e5460(0x11a)]+'@'+(_0x56f2c1[_0x4e5460(0x12e)]?_0x4e5460(0x127):_0x4e5460(0x133));try{_0x54404a[_0x4e5460(0x120)]('available'),await(0x0,baileys_1['delay'])(_0x227a14);const _0x5a60e1=await _0x54404a['sendMessage'](''+_0x5b324a,{'image':_0xf47241?{'url':_0xf47241}:fs_1[_0x4e5460(0x119)]['readFileSync'](publicFolder+'/company'+_0x56f2c1[_0x4e5460(0x11f)]+'/'+_0x4e9ab7+'-'+makeid(0x5)+_0x4e5460(0x121)),'caption':(0x0,Mustache_1['default'])(''+_0x4e9ab7,_0x56f2c1),'mimetype':'image/jpeg'});return _0x54404a['sendPresenceUpdate']('unavailable'),_0x5a60e1;}catch(_0x2c1431){throw new AppError_1[(_0x4e5460(0x119))](_0x4e5460(0x132));}};exports[a631_0x540893(0x119)]=SendWhatsAppMediaImage;