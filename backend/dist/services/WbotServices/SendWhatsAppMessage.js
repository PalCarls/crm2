'use strict';const a562_0x20b5cf=a562_0x2d5d;(function(_0x249354,_0x2f219e){const _0x53bd4e=a562_0x2d5d,_0x5647a7=_0x249354();while(!![]){try{const _0x5201cd=parseInt(_0x53bd4e(0x1c2))/0x1+-parseInt(_0x53bd4e(0x1cc))/0x2+-parseInt(_0x53bd4e(0x1c6))/0x3*(parseInt(_0x53bd4e(0x1e9))/0x4)+-parseInt(_0x53bd4e(0x1dc))/0x5+-parseInt(_0x53bd4e(0x1f2))/0x6*(parseInt(_0x53bd4e(0x1cd))/0x7)+-parseInt(_0x53bd4e(0x1eb))/0x8*(parseInt(_0x53bd4e(0x1e5))/0x9)+parseInt(_0x53bd4e(0x1c0))/0xa;if(_0x5201cd===_0x2f219e)break;else _0x5647a7['push'](_0x5647a7['shift']());}catch(_0x131b20){_0x5647a7['push'](_0x5647a7['shift']());}}}(a562_0x1231,0x8a53b));var __createBinding=this&&this[a562_0x20b5cf(0x1e2)]||(Object[a562_0x20b5cf(0x1df)]?function(_0x49e027,_0x6ebad,_0x4bdae7,_0x1f43bc){const _0x1296dc=a562_0x20b5cf;if(_0x1f43bc===undefined)_0x1f43bc=_0x4bdae7;var _0x3947d4=Object[_0x1296dc(0x1d6)](_0x6ebad,_0x4bdae7);(!_0x3947d4||('get'in _0x3947d4?!_0x6ebad[_0x1296dc(0x1ca)]:_0x3947d4[_0x1296dc(0x1d0)]||_0x3947d4[_0x1296dc(0x1ea)]))&&(_0x3947d4={'enumerable':!![],'get':function(){return _0x6ebad[_0x4bdae7];}}),Object['defineProperty'](_0x49e027,_0x1f43bc,_0x3947d4);}:function(_0x4723e5,_0x24c8ae,_0x3e3b71,_0x41df61){if(_0x41df61===undefined)_0x41df61=_0x3e3b71;_0x4723e5[_0x41df61]=_0x24c8ae[_0x3e3b71];}),__setModuleDefault=this&&this[a562_0x20b5cf(0x1da)]||(Object[a562_0x20b5cf(0x1df)]?function(_0x25ede0,_0x270c19){const _0x4cb5d2=a562_0x20b5cf;Object[_0x4cb5d2(0x1c8)](_0x25ede0,_0x4cb5d2(0x1d7),{'enumerable':!![],'value':_0x270c19});}:function(_0x1b75f2,_0xf8c824){_0x1b75f2['default']=_0xf8c824;}),__importStar=this&&this[a562_0x20b5cf(0x1c7)]||function(_0x3731f8){const _0x47c9f7=a562_0x20b5cf;if(_0x3731f8&&_0x3731f8[_0x47c9f7(0x1ca)])return _0x3731f8;var _0x5f1b1a={};if(_0x3731f8!=null){for(var _0x5c9a70 in _0x3731f8)if(_0x5c9a70!==_0x47c9f7(0x1d7)&&Object['prototype']['hasOwnProperty']['call'](_0x3731f8,_0x5c9a70))__createBinding(_0x5f1b1a,_0x3731f8,_0x5c9a70);}return __setModuleDefault(_0x5f1b1a,_0x3731f8),_0x5f1b1a;},__importDefault=this&&this[a562_0x20b5cf(0x1e7)]||function(_0x48fd09){const _0x5aa5d9=a562_0x20b5cf;return _0x48fd09&&_0x48fd09[_0x5aa5d9(0x1ca)]?_0x48fd09:{'default':_0x48fd09};};Object[a562_0x20b5cf(0x1c8)](exports,a562_0x20b5cf(0x1ca),{'value':!![]});function a562_0x1231(){const _0x220496=['remoteJid','writable','ERR_SENDING_WAPP_MSG','isNil','../../helpers/Mustache','isGroup','../../models/Message','getOwnPropertyDescriptor','default','log','key','__setModuleDefault','s.whatsapp.net','474320nVcCLa','@sentry/node','update','create','../../models/Contact','lodash','__createBinding','BEGIN:VCARD\x0a','conversation','36MpjBXV','g.us','__importDefault','FN:','12kCdOOu','configurable','1429240KAcSXf','@whiskeysockets/baileys','includes','../../helpers/GetTicketWbot','../../errors/AppError','TEL;type=CELL;waid=','split','8682AaJRgU','name','contactId','19438810ftIHoD',';;;\x0a','276DujYKY','sendMessage','number','findOne','82221hNnHAl','__importStar','defineProperty','delay','__esModule','extendedTextMessage','800984gyVZwj','413MVheRR','message'];a562_0x1231=function(){return _0x220496;};return a562_0x1231();}function a562_0x2d5d(_0x977111,_0x2f9275){const _0x123133=a562_0x1231();return a562_0x2d5d=function(_0x2d5d1b,_0x4abe10){_0x2d5d1b=_0x2d5d1b-0x1c0;let _0x165203=_0x123133[_0x2d5d1b];return _0x165203;},a562_0x2d5d(_0x977111,_0x2f9275);}const baileys_1=require(a562_0x20b5cf(0x1ec)),Sentry=__importStar(require(a562_0x20b5cf(0x1dd))),AppError_1=__importDefault(require(a562_0x20b5cf(0x1ef))),GetTicketWbot_1=__importDefault(require(a562_0x20b5cf(0x1ee))),Message_1=__importDefault(require(a562_0x20b5cf(0x1d5))),Contact_1=__importDefault(require(a562_0x20b5cf(0x1e0))),lodash_1=require(a562_0x20b5cf(0x1e1)),Mustache_1=__importDefault(require(a562_0x20b5cf(0x1d3))),SendWhatsAppMessage=async({body:_0x53c65e,ticket:_0x3d9c02,quotedMsg:_0x2f53ee,msdelay:_0xac2b02,isPrivate:_0xe3409b,vCard:_0x8795ae,isForwarded:isForwarded=![]})=>{const _0x555704=a562_0x20b5cf;let _0x2cc854={};const _0x26225b=await(0x0,GetTicketWbot_1[_0x555704(0x1d7)])(_0x3d9c02),_0x33bf19=await Contact_1['default']['findByPk'](_0x3d9c02[_0x555704(0x1f4)]);let _0x1c57a1;_0x33bf19[_0x555704(0x1cf)]&&_0x33bf19[_0x555704(0x1cf)]!==''&&_0x33bf19[_0x555704(0x1cf)][_0x555704(0x1ed)]('@')?_0x1c57a1=_0x33bf19['remoteJid']:_0x1c57a1=_0x33bf19[_0x555704(0x1c4)]+'@'+(_0x3d9c02[_0x555704(0x1d4)]?_0x555704(0x1e6):_0x555704(0x1db));if(_0x2f53ee){const _0x243e6d=await Message_1[_0x555704(0x1d7)][_0x555704(0x1c5)]({'where':{'id':_0x2f53ee['id']}});if(_0x243e6d){const _0x389b41=JSON['parse'](_0x243e6d['dataJson']);_0x389b41[_0x555704(0x1ce)][_0x555704(0x1cb)]!==undefined?_0x2cc854={'quoted':{'key':_0x389b41['key'],'message':{'extendedTextMessage':_0x389b41[_0x555704(0x1ce)][_0x555704(0x1cb)]}}}:_0x2cc854={'quoted':{'key':_0x389b41[_0x555704(0x1d9)],'message':{'conversation':_0x389b41[_0x555704(0x1ce)][_0x555704(0x1e4)]}}};}}if(!(0x0,lodash_1[_0x555704(0x1d2)])(_0x8795ae)){const _0x47c6dc=_0x8795ae[_0x555704(0x1c4)],_0x23917f=_0x8795ae[_0x555704(0x1f3)]['split']('\x20')[0x0],_0x2c8466=String(_0x8795ae['name'])['replace'](_0x8795ae['name'][_0x555704(0x1f1)]('\x20')[0x0],''),_0x12151b=_0x555704(0x1e3)+'VERSION:3.0\x0a'+('N:'+_0x2c8466+';'+_0x23917f+_0x555704(0x1c1))+(_0x555704(0x1e8)+_0x8795ae['name']+'\x0a')+(_0x555704(0x1f0)+_0x47c6dc+':+'+_0x47c6dc+'\x0a')+'END:VCARD';console[_0x555704(0x1d8)](_0x12151b);try{await(0x0,baileys_1[_0x555704(0x1c9)])(_0xac2b02);const _0x4dce02=await _0x26225b[_0x555704(0x1c3)](_0x1c57a1,{'contacts':{'displayName':''+_0x8795ae[_0x555704(0x1f3)],'contacts':[{'vcard':_0x12151b}]}});return await _0x3d9c02[_0x555704(0x1de)]({'lastMessage':(0x0,Mustache_1[_0x555704(0x1d7)])(_0x12151b,_0x3d9c02),'imported':null}),_0x4dce02;}catch(_0x5277a7){Sentry['captureException'](_0x5277a7),console[_0x555704(0x1d8)](_0x5277a7);throw new AppError_1['default'](_0x555704(0x1d1));}};try{await(0x0,baileys_1['delay'])(_0xac2b02);const _0x585653=await _0x26225b['sendMessage'](_0x1c57a1,{'text':(0x0,Mustache_1['default'])(_0xe3409b?'‚Äç'+_0x53c65e:_0x53c65e,_0x3d9c02),'contextInfo':{'forwardingScore':isForwarded?0x2:0x0,'isForwarded':isForwarded?!![]:![]}},{..._0x2cc854});return await _0x3d9c02[_0x555704(0x1de)]({'lastMessage':(0x0,Mustache_1[_0x555704(0x1d7)])(_0x53c65e,_0x3d9c02),'imported':null}),_0x585653;}catch(_0x2270fc){Sentry['captureException'](_0x2270fc),console[_0x555704(0x1d8)](_0x2270fc);throw new AppError_1['default']('ERR_SENDING_WAPP_MSG');}};exports[a562_0x20b5cf(0x1d7)]=SendWhatsAppMessage;