'use strict';const a520_0x3078f0=a520_0x5834;function a520_0x1024(){const _0x8ae047=['654804BsSxqD','No\x20message\x20found\x20with\x20this\x20ID.','default','defineProperty','parse','../../models/Ticket','key','11416xoxDXf','findOne','6SEfqiq','contact','903357pLfBxG','ERR_DELETE_WAPP_MSG','3673675rVPFkY','sendMessage','../../errors/AppError','749ehuRAR','__importDefault','ticket','log','5358750uonQdi','isPrivate','6MtrAVl','1605792Dnpwet','update','__esModule','../../models/Message','273279mnHMkh','dataJson'];a520_0x1024=function(){return _0x8ae047;};return a520_0x1024();}function a520_0x5834(_0x43bed4,_0x1980dc){const _0x102485=a520_0x1024();return a520_0x5834=function(_0x5834b7,_0x26f679){_0x5834b7=_0x5834b7-0xc2;let _0x3d26f2=_0x102485[_0x5834b7];return _0x3d26f2;},a520_0x5834(_0x43bed4,_0x1980dc);}(function(_0x1224fc,_0x1b7eaf){const _0xc52825=a520_0x5834,_0x371ad9=_0x1224fc();while(!![]){try{const _0x1c2669=parseInt(_0xc52825(0xd4))/0x1+parseInt(_0xc52825(0xcd))/0x2*(parseInt(_0xc52825(0xd2))/0x3)+-parseInt(_0xc52825(0xce))/0x4+parseInt(_0xc52825(0xc4))/0x5*(-parseInt(_0xc52825(0xdd))/0x6)+parseInt(_0xc52825(0xc7))/0x7*(parseInt(_0xc52825(0xdb))/0x8)+-parseInt(_0xc52825(0xc2))/0x9+parseInt(_0xc52825(0xcb))/0xa;if(_0x1c2669===_0x1b7eaf)break;else _0x371ad9['push'](_0x371ad9['shift']());}catch(_0x4737ab){_0x371ad9['push'](_0x371ad9['shift']());}}}(a520_0x1024,0x5ccbb));var __importDefault=this&&this[a520_0x3078f0(0xc8)]||function(_0x3fd915){const _0x4fd313=a520_0x3078f0;return _0x3fd915&&_0x3fd915[_0x4fd313(0xd0)]?_0x3fd915:{'default':_0x3fd915};};Object[a520_0x3078f0(0xd7)](exports,a520_0x3078f0(0xd0),{'value':!![]});const AppError_1=__importDefault(require(a520_0x3078f0(0xc6))),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),GetWbotMessage_1=__importDefault(require('../../helpers/GetWbotMessage')),Message_1=__importDefault(require(a520_0x3078f0(0xd1))),Ticket_1=__importDefault(require(a520_0x3078f0(0xd9))),DeleteWhatsAppMessage=async _0x3050a9=>{const _0x4146f3=a520_0x3078f0,_0x173d50=await Message_1[_0x4146f3(0xd6)][_0x4146f3(0xdc)]({'where':{'id':_0x3050a9},'include':[{'model':Ticket_1['default'],'as':_0x4146f3(0xc9),'include':[_0x4146f3(0xde)]}]});if(!_0x173d50)throw new AppError_1['default'](_0x4146f3(0xd5));const {ticket:_0x508e05}=_0x173d50;if(!_0x173d50[_0x4146f3(0xcc)]){const _0x2c6839=await(0x0,GetWbotMessage_1[_0x4146f3(0xd6)])(_0x508e05,_0x3050a9);try{const _0x25d3e8=await(0x0,GetTicketWbot_1['default'])(_0x508e05),_0x2479f8=_0x2c6839,_0x3ee6f5=JSON[_0x4146f3(0xd8)](_0x2479f8[_0x4146f3(0xd3)]);await _0x25d3e8[_0x4146f3(0xc5)](_0x2479f8['remoteJid'],{'delete':_0x3ee6f5[_0x4146f3(0xda)]});}catch(_0x3f1596){console[_0x4146f3(0xca)](_0x3f1596);throw new AppError_1['default'](_0x4146f3(0xc3));}}return!_0x173d50[_0x4146f3(0xcc)]&&await _0x173d50[_0x4146f3(0xcf)]({'isDeleted':!![]}),_0x173d50;};exports[a520_0x3078f0(0xd6)]=DeleteWhatsAppMessage;