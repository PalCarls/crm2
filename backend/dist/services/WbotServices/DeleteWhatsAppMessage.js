'use strict';function a539_0x4837(){const _0x4d391b=['1180040QmzVFz','4735544fatIit','key','1425HXsazI','../../helpers/GetWbotMessage','__esModule','1881103CZBEDR','3076NzuKpf','parse','8412icAIUz','1570544hbEskt','../../models/Message','sendMessage','6CngYMM','contact','log','defineProperty','../../models/Ticket','ticket','findOne','../../errors/AppError','No\x20message\x20found\x20with\x20this\x20ID.','__importDefault','9912204TwbpPO','default','dataJson'];a539_0x4837=function(){return _0x4d391b;};return a539_0x4837();}const a539_0x5e4c8b=a539_0x4247;(function(_0x2e9fd0,_0x49b480){const _0x13ffbd=a539_0x4247,_0x40e234=_0x2e9fd0();while(!![]){try{const _0xf11b0b=parseInt(_0x13ffbd(0x137))/0x1+parseInt(_0x13ffbd(0x138))/0x2+-parseInt(_0x13ffbd(0x131))/0x3*(parseInt(_0x13ffbd(0x135))/0x4)+parseInt(_0x13ffbd(0x12e))/0x5*(parseInt(_0x13ffbd(0x13b))/0x6)+parseInt(_0x13ffbd(0x134))/0x7+parseInt(_0x13ffbd(0x12f))/0x8+-parseInt(_0x13ffbd(0x12b))/0x9;if(_0xf11b0b===_0x49b480)break;else _0x40e234['push'](_0x40e234['shift']());}catch(_0x41f471){_0x40e234['push'](_0x40e234['shift']());}}}(a539_0x4837,0x67735));var __importDefault=this&&this[a539_0x5e4c8b(0x12a)]||function(_0x1868e1){return _0x1868e1&&_0x1868e1['__esModule']?_0x1868e1:{'default':_0x1868e1};};Object[a539_0x5e4c8b(0x13e)](exports,a539_0x5e4c8b(0x133),{'value':!![]});function a539_0x4247(_0x26e4ea,_0x388cb8){const _0x4837a3=a539_0x4837();return a539_0x4247=function(_0x4247f2,_0x5a7f78){_0x4247f2=_0x4247f2-0x126;let _0x45f117=_0x4837a3[_0x4247f2];return _0x45f117;},a539_0x4247(_0x26e4ea,_0x388cb8);}const AppError_1=__importDefault(require(a539_0x5e4c8b(0x128))),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),GetWbotMessage_1=__importDefault(require(a539_0x5e4c8b(0x132))),Message_1=__importDefault(require(a539_0x5e4c8b(0x139))),Ticket_1=__importDefault(require(a539_0x5e4c8b(0x13f))),DeleteWhatsAppMessage=async _0x26f6ce=>{const _0xc5d5af=a539_0x5e4c8b,_0xe27044=await Message_1['default'][_0xc5d5af(0x127)]({'where':{'id':_0x26f6ce},'include':[{'model':Ticket_1[_0xc5d5af(0x12c)],'as':_0xc5d5af(0x126),'include':[_0xc5d5af(0x13c)]}]});if(!_0xe27044)throw new AppError_1[(_0xc5d5af(0x12c))](_0xc5d5af(0x129));const {ticket:_0x1036e8}=_0xe27044;if(!_0xe27044['isPrivate']){const _0x4db6f6=await(0x0,GetWbotMessage_1[_0xc5d5af(0x12c)])(_0x1036e8,_0x26f6ce);try{const _0x1f2b7d=await(0x0,GetTicketWbot_1['default'])(_0x1036e8),_0x2f534a=_0x4db6f6,_0x546de9=JSON[_0xc5d5af(0x136)](_0x2f534a[_0xc5d5af(0x12d)]);await _0x1f2b7d[_0xc5d5af(0x13a)](_0x2f534a['remoteJid'],{'delete':_0x546de9[_0xc5d5af(0x130)]});}catch(_0x40667c){console[_0xc5d5af(0x13d)](_0x40667c);throw new AppError_1['default']('ERR_DELETE_WAPP_MSG');}}return!_0xe27044['isPrivate']&&await _0xe27044['update']({'isDeleted':!![]}),_0xe27044;};exports['default']=DeleteWhatsAppMessage;