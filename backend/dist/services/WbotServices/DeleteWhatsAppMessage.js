'use strict';const a556_0x3e6c99=a556_0x4960;(function(_0x6721a7,_0x3f02a3){const _0x49b97e=a556_0x4960,_0xc57f27=_0x6721a7();while(!![]){try{const _0x118c15=parseInt(_0x49b97e(0x161))/0x1*(parseInt(_0x49b97e(0x159))/0x2)+parseInt(_0x49b97e(0x164))/0x3+-parseInt(_0x49b97e(0x158))/0x4+parseInt(_0x49b97e(0x154))/0x5*(-parseInt(_0x49b97e(0x153))/0x6)+-parseInt(_0x49b97e(0x155))/0x7+parseInt(_0x49b97e(0x15e))/0x8*(parseInt(_0x49b97e(0x156))/0x9)+parseInt(_0x49b97e(0x163))/0xa;if(_0x118c15===_0x3f02a3)break;else _0xc57f27['push'](_0xc57f27['shift']());}catch(_0x4faa92){_0xc57f27['push'](_0xc57f27['shift']());}}}(a556_0x2b5c,0xc7c05));function a556_0x4960(_0x119aeb,_0x11d337){const _0x2b5cdb=a556_0x2b5c();return a556_0x4960=function(_0x4960e1,_0x11650e){_0x4960e1=_0x4960e1-0x152;let _0x35cd0c=_0x2b5cdb[_0x4960e1];return _0x35cd0c;},a556_0x4960(_0x119aeb,_0x11d337);}var __importDefault=this&&this[a556_0x3e6c99(0x160)]||function(_0x36d753){const _0x4ee08f=a556_0x3e6c99;return _0x36d753&&_0x36d753[_0x4ee08f(0x152)]?_0x36d753:{'default':_0x36d753};};Object['defineProperty'](exports,a556_0x3e6c99(0x152),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require(a556_0x3e6c99(0x157))),GetWbotMessage_1=__importDefault(require(a556_0x3e6c99(0x16a))),Message_1=__importDefault(require(a556_0x3e6c99(0x167))),Ticket_1=__importDefault(require('../../models/Ticket')),DeleteWhatsAppMessage=async _0x50ec0a=>{const _0x2031ad=a556_0x3e6c99,_0x3dfd12=await Message_1[_0x2031ad(0x15f)][_0x2031ad(0x162)]({'where':{'id':_0x50ec0a},'include':[{'model':Ticket_1[_0x2031ad(0x15f)],'as':_0x2031ad(0x15d),'include':[_0x2031ad(0x168)]}]});if(!_0x3dfd12)throw new AppError_1[(_0x2031ad(0x15f))]('No\x20message\x20found\x20with\x20this\x20ID.');const {ticket:_0x49c5f1}=_0x3dfd12;if(!_0x3dfd12[_0x2031ad(0x15a)]){const _0x5bc80a=await(0x0,GetWbotMessage_1[_0x2031ad(0x15f)])(_0x49c5f1,_0x50ec0a);try{const _0x497c75=await(0x0,GetTicketWbot_1[_0x2031ad(0x15f)])(_0x49c5f1),_0x305c81=_0x5bc80a,_0x67ff69=JSON[_0x2031ad(0x169)](_0x305c81[_0x2031ad(0x15b)]);await _0x497c75[_0x2031ad(0x16b)](_0x305c81[_0x2031ad(0x166)],{'delete':_0x67ff69['key']});}catch(_0x44c730){console[_0x2031ad(0x15c)](_0x44c730);throw new AppError_1[(_0x2031ad(0x15f))](_0x2031ad(0x165));}}return!_0x3dfd12['isPrivate']&&await _0x3dfd12['update']({'isDeleted':!![]}),_0x3dfd12;};function a556_0x2b5c(){const _0x44049c=['__importDefault','289648vOyBPy','findOne','12432000iUnqjD','2498769XhSWjm','ERR_DELETE_WAPP_MSG','remoteJid','../../models/Message','contact','parse','../../helpers/GetWbotMessage','sendMessage','__esModule','1159836pJEGhy','10wBBYSG','2653770asSpPx','99GzaWHx','../../helpers/GetTicketWbot','3988948AwKRJm','2AqLkIb','isPrivate','dataJson','log','ticket','156632krAGRY','default'];a556_0x2b5c=function(){return _0x44049c;};return a556_0x2b5c();}exports[a556_0x3e6c99(0x15f)]=DeleteWhatsAppMessage;