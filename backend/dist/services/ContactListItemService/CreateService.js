'use strict';const a397_0x13fd5b=a397_0x380a;function a397_0x380a(_0x1365ef,_0x11898f){const _0x4d9ab4=a397_0x4d9a();return a397_0x380a=function(_0x380a31,_0x16314c){_0x380a31=_0x380a31-0x117;let _0x488ea7=_0x4d9ab4[_0x380a31];return _0x488ea7;},a397_0x380a(_0x1365ef,_0x11898f);}function a397_0x4d9a(){const _0x1c50a3=['contactListId','number','197236AYIkdS','50DkygAE','companyId','../WbotServices/CheckNumber','getOwnPropertyDescriptor','ERR_CONTACTLISTITEM_REQUIRED','yup','66644yOUicQ','validate','486996imylIA','default','logger','412444QGIUzg','defineProperty','object','message','../../utils/logger','findOrCreate','29406TiDNmy','prototype','__setModuleDefault','required','__esModule','isWhatsappValid','__createBinding','create','2647050KXPzmH','hasOwnProperty','../../errors/AppError','error','save','Número\x20de\x20contato\x20inválido:\x20','ERR_CONTACTLISTITEM_INVALID_NAME','min','string','4536464mycrai'];a397_0x4d9a=function(){return _0x1c50a3;};return a397_0x4d9a();}(function(_0xa42ce2,_0x4eb63d){const _0x26d9c5=a397_0x380a,_0x454b5e=_0xa42ce2();while(!![]){try{const _0xae6273=parseInt(_0x26d9c5(0x124))/0x1+parseInt(_0x26d9c5(0x130))/0x2+parseInt(_0x26d9c5(0x12d))/0x3+-parseInt(_0x26d9c5(0x12b))/0x4*(parseInt(_0x26d9c5(0x125))/0x5)+parseInt(_0x26d9c5(0x136))/0x6+parseInt(_0x26d9c5(0x118))/0x7+-parseInt(_0x26d9c5(0x121))/0x8;if(_0xae6273===_0x4eb63d)break;else _0x454b5e['push'](_0x454b5e['shift']());}catch(_0x18b873){_0x454b5e['push'](_0x454b5e['shift']());}}}(a397_0x4d9a,0x34885));var __createBinding=this&&this[a397_0x13fd5b(0x13c)]||(Object[a397_0x13fd5b(0x117)]?function(_0x2cc2fe,_0x4eee3e,_0x2e3f8e,_0x200205){const _0x21efc3=a397_0x13fd5b;if(_0x200205===undefined)_0x200205=_0x2e3f8e;var _0x193e30=Object[_0x21efc3(0x128)](_0x4eee3e,_0x2e3f8e);(!_0x193e30||('get'in _0x193e30?!_0x4eee3e[_0x21efc3(0x13a)]:_0x193e30['writable']||_0x193e30['configurable']))&&(_0x193e30={'enumerable':!![],'get':function(){return _0x4eee3e[_0x2e3f8e];}}),Object[_0x21efc3(0x131)](_0x2cc2fe,_0x200205,_0x193e30);}:function(_0xe94537,_0x14f2db,_0x18abaf,_0x3e8be3){if(_0x3e8be3===undefined)_0x3e8be3=_0x18abaf;_0xe94537[_0x3e8be3]=_0x14f2db[_0x18abaf];}),__setModuleDefault=this&&this[a397_0x13fd5b(0x138)]||(Object[a397_0x13fd5b(0x117)]?function(_0x193772,_0x28e66c){const _0x5dd853=a397_0x13fd5b;Object[_0x5dd853(0x131)](_0x193772,_0x5dd853(0x12e),{'enumerable':!![],'value':_0x28e66c});}:function(_0x5d2ec,_0x585ffb){_0x5d2ec['default']=_0x585ffb;}),__importStar=this&&this['__importStar']||function(_0x2fed42){const _0x4acc57=a397_0x13fd5b;if(_0x2fed42&&_0x2fed42[_0x4acc57(0x13a)])return _0x2fed42;var _0x1ffe46={};if(_0x2fed42!=null){for(var _0x1c4998 in _0x2fed42)if(_0x1c4998!==_0x4acc57(0x12e)&&Object[_0x4acc57(0x137)][_0x4acc57(0x119)]['call'](_0x2fed42,_0x1c4998))__createBinding(_0x1ffe46,_0x2fed42,_0x1c4998);}return __setModuleDefault(_0x1ffe46,_0x2fed42),_0x1ffe46;},__importDefault=this&&this['__importDefault']||function(_0x4fc22f){const _0x1e0550=a397_0x13fd5b;return _0x4fc22f&&_0x4fc22f[_0x1e0550(0x13a)]?_0x4fc22f:{'default':_0x4fc22f};};Object[a397_0x13fd5b(0x131)](exports,a397_0x13fd5b(0x13a),{'value':!![]});const Yup=__importStar(require(a397_0x13fd5b(0x12a))),AppError_1=__importDefault(require(a397_0x13fd5b(0x11a))),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),logger_1=require(a397_0x13fd5b(0x134)),CheckNumber_1=__importDefault(require(a397_0x13fd5b(0x127))),CreateService=async _0x2136a1=>{const _0x40a561=a397_0x13fd5b,{name:_0x26a234}=_0x2136a1,_0x3f83c8=Yup[_0x40a561(0x132)]()['shape']({'name':Yup[_0x40a561(0x120)]()[_0x40a561(0x11f)](0x3,_0x40a561(0x11e))[_0x40a561(0x139)](_0x40a561(0x129))});try{await _0x3f83c8[_0x40a561(0x12c)]({'name':_0x26a234});}catch(_0x296c43){throw new AppError_1['default'](_0x296c43[_0x40a561(0x133)]);}const [_0x527e99]=await ContactListItem_1[_0x40a561(0x12e)][_0x40a561(0x135)]({'where':{'number':_0x2136a1[_0x40a561(0x123)],'companyId':_0x2136a1['companyId'],'contactListId':_0x2136a1[_0x40a561(0x122)]},'defaults':_0x2136a1});try{const _0x49436c=await(0x0,CheckNumber_1['default'])(_0x527e99[_0x40a561(0x123)],_0x527e99[_0x40a561(0x126)]);_0x527e99[_0x40a561(0x13b)]=_0x49436c?!![]:![];const _0x488a05=_0x49436c;_0x527e99[_0x40a561(0x123)]=_0x488a05,await _0x527e99[_0x40a561(0x11c)]();}catch(_0x29eef2){logger_1[_0x40a561(0x12f)][_0x40a561(0x11b)](_0x40a561(0x11d)+_0x527e99['number']);}return _0x527e99;};exports['default']=CreateService;