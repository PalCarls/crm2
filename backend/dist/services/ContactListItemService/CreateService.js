'use strict';function a433_0x1f2e(_0x2d170d,_0x1dfd4d){const _0x1c1e5a=a433_0x1c1e();return a433_0x1f2e=function(_0x1f2ebf,_0x577c11){_0x1f2ebf=_0x1f2ebf-0x126;let _0x17a2af=_0x1c1e5a[_0x1f2ebf];return _0x17a2af;},a433_0x1f2e(_0x2d170d,_0x1dfd4d);}const a433_0x27affc=a433_0x1f2e;(function(_0x5b757b,_0x425cc5){const _0x836cff=a433_0x1f2e,_0x4cf8c6=_0x5b757b();while(!![]){try{const _0xa1bf64=-parseInt(_0x836cff(0x14b))/0x1*(parseInt(_0x836cff(0x126))/0x2)+-parseInt(_0x836cff(0x13f))/0x3+-parseInt(_0x836cff(0x133))/0x4+-parseInt(_0x836cff(0x13a))/0x5+-parseInt(_0x836cff(0x142))/0x6+-parseInt(_0x836cff(0x13c))/0x7+-parseInt(_0x836cff(0x13b))/0x8*(-parseInt(_0x836cff(0x137))/0x9);if(_0xa1bf64===_0x425cc5)break;else _0x4cf8c6['push'](_0x4cf8c6['shift']());}catch(_0xa9fd7b){_0x4cf8c6['push'](_0x4cf8c6['shift']());}}}(a433_0x1c1e,0xb162c));function a433_0x1c1e(){const _0x11beae=['create','1005mDfaSb','../WbotServices/CheckNumber','min','getOwnPropertyDescriptor','2776RawEcT','default','number','string','hasOwnProperty','writable','error','logger','isWhatsappValid','../../models/ContactListItem','__esModule','defineProperty','__setModuleDefault','3289600xalwNK','save','call','__importStar','18cCPmiX','shape','configurable','6309035bbVzUA','21198568UcNvXX','4437601siswGD','validate','companyId','484053ppdZal','ERR_CONTACTLISTITEM_INVALID_NAME','ERR_CONTACTLISTITEM_REQUIRED','1791774QbYcVH','Número\x20de\x20contato\x20inválido:\x20','__importDefault','object','../../errors/AppError','contactListId','prototype','../../utils/logger'];a433_0x1c1e=function(){return _0x11beae;};return a433_0x1c1e();}var __createBinding=this&&this['__createBinding']||(Object[a433_0x27affc(0x14a)]?function(_0x836f3f,_0x3a920e,_0x508f3a,_0x37da8c){const _0x10a65b=a433_0x27affc;if(_0x37da8c===undefined)_0x37da8c=_0x508f3a;var _0x1388a5=Object[_0x10a65b(0x14e)](_0x3a920e,_0x508f3a);(!_0x1388a5||('get'in _0x1388a5?!_0x3a920e[_0x10a65b(0x130)]:_0x1388a5[_0x10a65b(0x12b)]||_0x1388a5[_0x10a65b(0x139)]))&&(_0x1388a5={'enumerable':!![],'get':function(){return _0x3a920e[_0x508f3a];}}),Object[_0x10a65b(0x131)](_0x836f3f,_0x37da8c,_0x1388a5);}:function(_0x5cc5ad,_0x2d0cbb,_0x41556e,_0xf0f9cc){if(_0xf0f9cc===undefined)_0xf0f9cc=_0x41556e;_0x5cc5ad[_0xf0f9cc]=_0x2d0cbb[_0x41556e];}),__setModuleDefault=this&&this[a433_0x27affc(0x132)]||(Object[a433_0x27affc(0x14a)]?function(_0xfd7068,_0xe097bc){const _0xe35887=a433_0x27affc;Object[_0xe35887(0x131)](_0xfd7068,_0xe35887(0x127),{'enumerable':!![],'value':_0xe097bc});}:function(_0x38e191,_0x36e6b5){const _0x3af3d5=a433_0x27affc;_0x38e191[_0x3af3d5(0x127)]=_0x36e6b5;}),__importStar=this&&this[a433_0x27affc(0x136)]||function(_0x485b78){const _0x29f629=a433_0x27affc;if(_0x485b78&&_0x485b78['__esModule'])return _0x485b78;var _0x3cf07d={};if(_0x485b78!=null){for(var _0x2e9f0f in _0x485b78)if(_0x2e9f0f!=='default'&&Object[_0x29f629(0x148)][_0x29f629(0x12a)][_0x29f629(0x135)](_0x485b78,_0x2e9f0f))__createBinding(_0x3cf07d,_0x485b78,_0x2e9f0f);}return __setModuleDefault(_0x3cf07d,_0x485b78),_0x3cf07d;},__importDefault=this&&this[a433_0x27affc(0x144)]||function(_0x3f2b67){const _0x3b96bc=a433_0x27affc;return _0x3f2b67&&_0x3f2b67[_0x3b96bc(0x130)]?_0x3f2b67:{'default':_0x3f2b67};};Object[a433_0x27affc(0x131)](exports,a433_0x27affc(0x130),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a433_0x27affc(0x146))),ContactListItem_1=__importDefault(require(a433_0x27affc(0x12f))),logger_1=require(a433_0x27affc(0x149)),CheckNumber_1=__importDefault(require(a433_0x27affc(0x14c))),CreateService=async _0x25c642=>{const _0x173712=a433_0x27affc,{name:_0x4b30dd}=_0x25c642,_0x1fd475=Yup[_0x173712(0x145)]()[_0x173712(0x138)]({'name':Yup[_0x173712(0x129)]()[_0x173712(0x14d)](0x3,_0x173712(0x140))['required'](_0x173712(0x141))});try{await _0x1fd475[_0x173712(0x13d)]({'name':_0x4b30dd});}catch(_0x1b02d9){throw new AppError_1[(_0x173712(0x127))](_0x1b02d9['message']);}const [_0x1384cb]=await ContactListItem_1[_0x173712(0x127)]['findOrCreate']({'where':{'number':_0x25c642[_0x173712(0x128)],'companyId':_0x25c642['companyId'],'contactListId':_0x25c642[_0x173712(0x147)]},'defaults':_0x25c642});try{const _0x4b5561=await(0x0,CheckNumber_1['default'])(_0x1384cb['number'],_0x1384cb[_0x173712(0x13e)]);_0x1384cb[_0x173712(0x12e)]=_0x4b5561?!![]:![];const _0x537c0c=_0x4b5561;_0x1384cb[_0x173712(0x128)]=_0x537c0c,await _0x1384cb[_0x173712(0x134)]();}catch(_0x4e548d){logger_1[_0x173712(0x12d)][_0x173712(0x12c)](_0x173712(0x143)+_0x1384cb[_0x173712(0x128)]);}return _0x1384cb;};exports[a433_0x27affc(0x127)]=CreateService;