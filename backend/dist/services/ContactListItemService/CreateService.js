'use strict';const a411_0x45afd7=a411_0x46a1;function a411_0x753b(){const _0x19ce2f=['isWhatsappValid','contactListId','__createBinding','3423984lBvrrM','getOwnPropertyDescriptor','ERR_CONTACTLISTITEM_REQUIRED','create','required','2146164qDnEpC','logger','63065HECAsR','get','defineProperty','42fiBUbS','52619XZxoSV','../../errors/AppError','__importDefault','save','shape','ERR_CONTACTLISTITEM_INVALID_NAME','690129oqtPox','../../models/ContactListItem','default','348WhFWFA','companyId','prototype','object','20420QtVgpX','number','../WbotServices/CheckNumber','__setModuleDefault','min','message','writable','__esModule','string','error','116LCfqsH','__importStar','50KUpjOF','177783GIwnnC','findOrCreate','11WqBlUB','call','configurable','Número\x20de\x20contato\x20inválido:\x20','validate'];a411_0x753b=function(){return _0x19ce2f;};return a411_0x753b();}(function(_0x184284,_0x499d20){const _0x28e412=a411_0x46a1,_0x56742f=_0x184284();while(!![]){try{const _0x563d26=parseInt(_0x28e412(0x202))/0x1+-parseInt(_0x28e412(0x1f5))/0x2*(parseInt(_0x28e412(0x1e7))/0x3)+-parseInt(_0x28e412(0x1ff))/0x4*(parseInt(_0x28e412(0x213))/0x5)+-parseInt(_0x28e412(0x1f1))/0x6*(-parseInt(_0x28e412(0x1e8))/0x7)+-parseInt(_0x28e412(0x20c))/0x8+parseInt(_0x28e412(0x1ee))/0x9*(parseInt(_0x28e412(0x201))/0xa)+parseInt(_0x28e412(0x204))/0xb*(parseInt(_0x28e412(0x211))/0xc);if(_0x563d26===_0x499d20)break;else _0x56742f['push'](_0x56742f['shift']());}catch(_0x54fa94){_0x56742f['push'](_0x56742f['shift']());}}}(a411_0x753b,0x3a6ca));var __createBinding=this&&this[a411_0x45afd7(0x20b)]||(Object[a411_0x45afd7(0x20f)]?function(_0x2b2a30,_0x656b20,_0x532457,_0x14bb81){const _0x1df565=a411_0x45afd7;if(_0x14bb81===undefined)_0x14bb81=_0x532457;var _0x5302e5=Object[_0x1df565(0x20d)](_0x656b20,_0x532457);(!_0x5302e5||(_0x1df565(0x214)in _0x5302e5?!_0x656b20['__esModule']:_0x5302e5[_0x1df565(0x1fb)]||_0x5302e5[_0x1df565(0x206)]))&&(_0x5302e5={'enumerable':!![],'get':function(){return _0x656b20[_0x532457];}}),Object[_0x1df565(0x215)](_0x2b2a30,_0x14bb81,_0x5302e5);}:function(_0x4c62c2,_0x381066,_0x231e76,_0x5ebb65){if(_0x5ebb65===undefined)_0x5ebb65=_0x231e76;_0x4c62c2[_0x5ebb65]=_0x381066[_0x231e76];}),__setModuleDefault=this&&this[a411_0x45afd7(0x1f8)]||(Object[a411_0x45afd7(0x20f)]?function(_0x5ce353,_0x710e04){const _0x16baba=a411_0x45afd7;Object[_0x16baba(0x215)](_0x5ce353,_0x16baba(0x1f0),{'enumerable':!![],'value':_0x710e04});}:function(_0x59de0e,_0x253799){const _0xbbaa1a=a411_0x45afd7;_0x59de0e[_0xbbaa1a(0x1f0)]=_0x253799;}),__importStar=this&&this[a411_0x45afd7(0x200)]||function(_0x2670f7){const _0x587323=a411_0x45afd7;if(_0x2670f7&&_0x2670f7[_0x587323(0x1fc)])return _0x2670f7;var _0x34f5ad={};if(_0x2670f7!=null){for(var _0x107c37 in _0x2670f7)if(_0x107c37!==_0x587323(0x1f0)&&Object[_0x587323(0x1f3)]['hasOwnProperty'][_0x587323(0x205)](_0x2670f7,_0x107c37))__createBinding(_0x34f5ad,_0x2670f7,_0x107c37);}return __setModuleDefault(_0x34f5ad,_0x2670f7),_0x34f5ad;},__importDefault=this&&this[a411_0x45afd7(0x1ea)]||function(_0x1d47d0){const _0x5eeef3=a411_0x45afd7;return _0x1d47d0&&_0x1d47d0[_0x5eeef3(0x1fc)]?_0x1d47d0:{'default':_0x1d47d0};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a411_0x46a1(_0x2ec253,_0x2dac58){const _0x753bc7=a411_0x753b();return a411_0x46a1=function(_0x46a187,_0x17b121){_0x46a187=_0x46a187-0x1e7;let _0x3f71ac=_0x753bc7[_0x46a187];return _0x3f71ac;},a411_0x46a1(_0x2ec253,_0x2dac58);}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a411_0x45afd7(0x1e9))),ContactListItem_1=__importDefault(require(a411_0x45afd7(0x1ef))),logger_1=require('../../utils/logger'),CheckNumber_1=__importDefault(require(a411_0x45afd7(0x1f7))),CreateService=async _0x116859=>{const _0x20bb23=a411_0x45afd7,{name:_0x578bce}=_0x116859,_0x2fc78f=Yup[_0x20bb23(0x1f4)]()[_0x20bb23(0x1ec)]({'name':Yup[_0x20bb23(0x1fd)]()[_0x20bb23(0x1f9)](0x3,_0x20bb23(0x1ed))[_0x20bb23(0x210)](_0x20bb23(0x20e))});try{await _0x2fc78f[_0x20bb23(0x208)]({'name':_0x578bce});}catch(_0x56db30){throw new AppError_1[(_0x20bb23(0x1f0))](_0x56db30[_0x20bb23(0x1fa)]);}const [_0x590c04]=await ContactListItem_1['default'][_0x20bb23(0x203)]({'where':{'number':_0x116859[_0x20bb23(0x1f6)],'companyId':_0x116859[_0x20bb23(0x1f2)],'contactListId':_0x116859[_0x20bb23(0x20a)]},'defaults':_0x116859});try{const _0x43f735=await(0x0,CheckNumber_1[_0x20bb23(0x1f0)])(_0x590c04[_0x20bb23(0x1f6)],_0x590c04[_0x20bb23(0x1f2)]);_0x590c04[_0x20bb23(0x209)]=_0x43f735?!![]:![];const _0x3c70ec=_0x43f735;_0x590c04[_0x20bb23(0x1f6)]=_0x3c70ec,await _0x590c04[_0x20bb23(0x1eb)]();}catch(_0xca51fe){logger_1[_0x20bb23(0x212)][_0x20bb23(0x1fe)](_0x20bb23(0x207)+_0x590c04[_0x20bb23(0x1f6)]);}return _0x590c04;};exports[a411_0x45afd7(0x1f0)]=CreateService;