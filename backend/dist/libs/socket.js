'use strict';function a285_0x126f(){const _0x35fdb7=['1385jXwwON','__esModule','Server','connection','371880cnCtaC','32753nfeaWW','default','1203969tMBRQf','Socket\x20IO\x20not\x20initialized','343688dtULZG','../errors/AppError','joinNotification','../queues/userMonitor','3684nZlIoa','4kAmOZD','join','UserConnection','joinTickets','initIO','env','8121447oZTTqO','82444yJplYE','handshake','getIO','add'];a285_0x126f=function(){return _0x35fdb7;};return a285_0x126f();}const a285_0x13d715=a285_0x2242;(function(_0x560a31,_0x3e570f){const _0x64caa9=a285_0x2242,_0x421496=_0x560a31();while(!![]){try{const _0x2895af=-parseInt(_0x64caa9(0x142))/0x1+-parseInt(_0x64caa9(0x153))/0x2+-parseInt(_0x64caa9(0x145))/0x3*(parseInt(_0x64caa9(0x14c))/0x4)+parseInt(_0x64caa9(0x157))/0x5*(parseInt(_0x64caa9(0x14b))/0x6)+parseInt(_0x64caa9(0x143))/0x7+-parseInt(_0x64caa9(0x147))/0x8+parseInt(_0x64caa9(0x152))/0x9;if(_0x2895af===_0x3e570f)break;else _0x421496['push'](_0x421496['shift']());}catch(_0x13f3d1){_0x421496['push'](_0x421496['shift']());}}}(a285_0x126f,0x35a6a));var __importDefault=this&&this['__importDefault']||function(_0x2c2267){const _0x136982=a285_0x2242;return _0x2c2267&&_0x2c2267[_0x136982(0x158)]?_0x2c2267:{'default':_0x2c2267};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a285_0x13d715(0x155)]=exports['initIO']=void 0x0;const socket_io_1=require('socket.io'),AppError_1=__importDefault(require(a285_0x13d715(0x148))),userMonitor_1=require(a285_0x13d715(0x14a));function a285_0x2242(_0x57ec4d,_0x17b878){const _0x126f1d=a285_0x126f();return a285_0x2242=function(_0x224285,_0x3f4015){_0x224285=_0x224285-0x141;let _0x3efbff=_0x126f1d[_0x224285];return _0x3efbff;},a285_0x2242(_0x57ec4d,_0x17b878);}let io;const initIO=_0x3fc4f0=>{const _0x32f82f=a285_0x13d715;return io=new socket_io_1[(_0x32f82f(0x159))](_0x3fc4f0,{'cors':{'origin':process[_0x32f82f(0x151)]['FRONTEND_URL']}}),io['on'](_0x32f82f(0x141),async _0x1a02e3=>{const _0x1a7d12=_0x32f82f,{userId:_0x153943}=_0x1a02e3[_0x1a7d12(0x154)]['query'];_0x1a02e3['on']('joinChatBox',_0x42b3a6=>{_0x1a02e3['join'](_0x42b3a6);}),_0x1a02e3['on'](_0x1a7d12(0x149),()=>{const _0x22faeb=_0x1a7d12;_0x1a02e3[_0x22faeb(0x14d)]('notification');}),_0x1a02e3['on'](_0x1a7d12(0x14f),_0x17b302=>{const _0x22f9f6=_0x1a7d12;_0x1a02e3[_0x22f9f6(0x14d)](_0x17b302);}),userMonitor_1['userMonitor'][_0x1a7d12(0x156)](_0x1a7d12(0x14e),{'id':_0x153943},{'removeOnComplete':{'age':0x3c*0x3c,'count':0xa},'removeOnFail':{'age':0x3c*0x3c,'count':0xa}});}),io;};exports[a285_0x13d715(0x150)]=initIO;const getIO=()=>{const _0x167404=a285_0x13d715;if(!io)throw new AppError_1[(_0x167404(0x144))](_0x167404(0x146));return io;};exports['getIO']=getIO;