'use strict';const a257_0x33ae31=a257_0x4a42;(function(_0x211bdc,_0x11f7a4){const _0x441b86=a257_0x4a42,_0x8aa377=_0x211bdc();while(!![]){try{const _0x2c9509=parseInt(_0x441b86(0x191))/0x1*(parseInt(_0x441b86(0x1ac))/0x2)+parseInt(_0x441b86(0x194))/0x3+parseInt(_0x441b86(0x1a5))/0x4*(parseInt(_0x441b86(0x19d))/0x5)+parseInt(_0x441b86(0x1ae))/0x6+parseInt(_0x441b86(0x18f))/0x7*(parseInt(_0x441b86(0x19b))/0x8)+-parseInt(_0x441b86(0x1ab))/0x9*(parseInt(_0x441b86(0x1aa))/0xa)+-parseInt(_0x441b86(0x1a3))/0xb*(parseInt(_0x441b86(0x190))/0xc);if(_0x2c9509===_0x11f7a4)break;else _0x8aa377['push'](_0x8aa377['shift']());}catch(_0x34b813){_0x8aa377['push'](_0x8aa377['shift']());}}}(a257_0x2098,0xec34c));var __importDefault=this&&this[a257_0x33ae31(0x19f)]||function(_0x46a954){return _0x46a954&&_0x46a954['__esModule']?_0x46a954:{'default':_0x46a954};};Object[a257_0x33ae31(0x1a7)](exports,'__esModule',{'value':!![]}),exports[a257_0x33ae31(0x1a8)]=exports[a257_0x33ae31(0x198)]=void 0x0;const socket_io_1=require(a257_0x33ae31(0x1a9)),AppError_1=__importDefault(require(a257_0x33ae31(0x1a0))),logger_1=require('../utils/logger'),userMonitor_1=require(a257_0x33ae31(0x18e));function a257_0x4a42(_0x57bbfc,_0x3fdd99){const _0x209895=a257_0x2098();return a257_0x4a42=function(_0x4a42d3,_0x3ae57d){_0x4a42d3=_0x4a42d3-0x18d;let _0x2ea9f7=_0x209895[_0x4a42d3];return _0x2ea9f7;},a257_0x4a42(_0x57bbfc,_0x3fdd99);}let io;const initIO=_0x5526a7=>{const _0x472f90=a257_0x33ae31;return io=new socket_io_1[(_0x472f90(0x1ad))](_0x5526a7,{'cors':{'origin':process[_0x472f90(0x18d)][_0x472f90(0x197)]}}),io['on'](_0x472f90(0x1a4),async _0x447180=>{const _0x1e94c4=_0x472f90;logger_1[_0x1e94c4(0x193)][_0x1e94c4(0x1a2)](_0x1e94c4(0x192));const {userId:_0x4bb1ec}=_0x447180[_0x1e94c4(0x199)][_0x1e94c4(0x19e)];_0x447180['on'](_0x1e94c4(0x195),_0x1d206d=>{const _0x472e23=_0x1e94c4;logger_1[_0x472e23(0x193)][_0x472e23(0x1a2)](_0x472e23(0x1a1)),_0x447180['join'](_0x1d206d);}),_0x447180['on']('joinNotification',()=>{const _0x8a14a9=_0x1e94c4;logger_1[_0x8a14a9(0x193)]['info'](_0x8a14a9(0x19c)),_0x447180['join']('notification');}),_0x447180['on']('joinTickets',_0x280670=>{const _0x379e9e=_0x1e94c4;logger_1[_0x379e9e(0x193)][_0x379e9e(0x1a2)](_0x379e9e(0x196)+_0x280670+'\x20tickets\x20channel.'),_0x447180['join'](_0x280670);}),userMonitor_1['userMonitor'][_0x1e94c4(0x19a)](_0x1e94c4(0x1b0),{'id':_0x4bb1ec},{'removeOnComplete':{'age':0x3c*0x3c,'count':0xa},'removeOnFail':{'age':0x3c*0x3c,'count':0xa}});}),io;};exports[a257_0x33ae31(0x198)]=initIO;const getIO=()=>{const _0x39ff64=a257_0x33ae31;if(!io)throw new AppError_1[(_0x39ff64(0x1af))](_0x39ff64(0x1a6));return io;};function a257_0x2098(){const _0x32864a=['Server','4645788lLiubi','default','UserConnection','env','../queues/userMonitor','14TjRpBv','120FCZZXH','1189817BLyvba','Client\x20Connected','logger','2330772zPUNcj','joinChatBox','A\x20client\x20joined\x20to\x20','FRONTEND_URL','initIO','handshake','add','6787168NxHoTg','A\x20client\x20joined\x20notification\x20channel','864700KGPIMl','query','__importDefault','../errors/AppError','A\x20client\x20joined\x20a\x20ticket\x20channel','info','4830749LmfHcv','connection','32xDbtss','Socket\x20IO\x20not\x20initialized','defineProperty','getIO','socket.io','30PkbSoF','1386783WStrrv','2AiDWpp'];a257_0x2098=function(){return _0x32864a;};return a257_0x2098();}exports[a257_0x33ae31(0x1a8)]=getIO;