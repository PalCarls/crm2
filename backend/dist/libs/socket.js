'use strict';function a293_0x5536(){const _0x52ea9f=['join','FRONTEND_URL','28792BoShUw','defineProperty','initIO','handshake','notification','../errors/AppError','12102417bBBpFZ','5843089KEEWZG','11638XdVJhY','1298222jOcnch','env','getIO','14358YucihS','__esModule','__importDefault','../queues/userMonitor','socket.io','Server','connection','add','2754540LHnBYS','joinChatBox','2150oErvmN','385zgBbmK','8hLaMgL','query','309DSrBmA','Socket\x20IO\x20not\x20initialized'];a293_0x5536=function(){return _0x52ea9f;};return a293_0x5536();}const a293_0x589e37=a293_0x17e4;(function(_0x299232,_0x570f4c){const _0x36ba15=a293_0x17e4,_0x109134=_0x299232();while(!![]){try{const _0x2b42b2=parseInt(_0x36ba15(0x131))/0x1+parseInt(_0x36ba15(0x11e))/0x2+-parseInt(_0x36ba15(0x124))/0x3*(-parseInt(_0x36ba15(0x128))/0x4)+-parseInt(_0x36ba15(0x121))/0x5*(parseInt(_0x36ba15(0x116))/0x6)+-parseInt(_0x36ba15(0x12f))/0x7*(parseInt(_0x36ba15(0x122))/0x8)+-parseInt(_0x36ba15(0x12e))/0x9+-parseInt(_0x36ba15(0x120))/0xa*(parseInt(_0x36ba15(0x130))/0xb);if(_0x2b42b2===_0x570f4c)break;else _0x109134['push'](_0x109134['shift']());}catch(_0x2f39f8){_0x109134['push'](_0x109134['shift']());}}}(a293_0x5536,0xc9973));var __importDefault=this&&this[a293_0x589e37(0x118)]||function(_0x17f556){return _0x17f556&&_0x17f556['__esModule']?_0x17f556:{'default':_0x17f556};};Object[a293_0x589e37(0x129)](exports,a293_0x589e37(0x117),{'value':!![]}),exports[a293_0x589e37(0x133)]=exports[a293_0x589e37(0x12a)]=void 0x0;const socket_io_1=require(a293_0x589e37(0x11a)),AppError_1=__importDefault(require(a293_0x589e37(0x12d))),userMonitor_1=require(a293_0x589e37(0x119));let io;const initIO=_0x478ef9=>{const _0x5ea976=a293_0x589e37;return io=new socket_io_1[(_0x5ea976(0x11b))](_0x478ef9,{'cors':{'origin':process[_0x5ea976(0x132)][_0x5ea976(0x127)]}}),io['on'](_0x5ea976(0x11c),async _0x7b5d70=>{const _0x493beb=_0x5ea976,{userId:_0xa460c4}=_0x7b5d70[_0x493beb(0x12b)][_0x493beb(0x123)];_0x7b5d70['on'](_0x493beb(0x11f),_0x859050=>{_0x7b5d70['join'](_0x859050);}),_0x7b5d70['on']('joinNotification',()=>{const _0xd38a27=_0x493beb;_0x7b5d70['join'](_0xd38a27(0x12c));}),_0x7b5d70['on']('joinTickets',_0x829e18=>{const _0x4b0de5=_0x493beb;_0x7b5d70[_0x4b0de5(0x126)](_0x829e18);}),userMonitor_1['userMonitor'][_0x493beb(0x11d)]('UserConnection',{'id':_0xa460c4},{'removeOnComplete':{'age':0x3c*0x3c,'count':0xa},'removeOnFail':{'age':0x3c*0x3c,'count':0xa}});}),io;};function a293_0x17e4(_0xe1679f,_0x1e937e){const _0x55368c=a293_0x5536();return a293_0x17e4=function(_0x17e4d6,_0x222fbc){_0x17e4d6=_0x17e4d6-0x116;let _0x56dd23=_0x55368c[_0x17e4d6];return _0x56dd23;},a293_0x17e4(_0xe1679f,_0x1e937e);}exports[a293_0x589e37(0x12a)]=initIO;const getIO=()=>{const _0x4d1b23=a293_0x589e37;if(!io)throw new AppError_1['default'](_0x4d1b23(0x125));return io;};exports[a293_0x589e37(0x133)]=getIO;