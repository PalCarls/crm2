'use strict';const a242_0x2a0d36=a242_0x47a6;(function(_0x434b50,_0x51ddec){const _0x49140e=a242_0x47a6,_0x33eedb=_0x434b50();while(!![]){try{const _0x4c51c1=parseInt(_0x49140e(0x19f))/0x1+parseInt(_0x49140e(0x19b))/0x2+parseInt(_0x49140e(0x19e))/0x3*(parseInt(_0x49140e(0x199))/0x4)+parseInt(_0x49140e(0x190))/0x5+-parseInt(_0x49140e(0x196))/0x6*(parseInt(_0x49140e(0x1a5))/0x7)+parseInt(_0x49140e(0x1a6))/0x8+parseInt(_0x49140e(0x197))/0x9*(-parseInt(_0x49140e(0x194))/0xa);if(_0x4c51c1===_0x51ddec)break;else _0x33eedb['push'](_0x33eedb['shift']());}catch(_0x1633c1){_0x33eedb['push'](_0x33eedb['shift']());}}}(a242_0x36b0,0x74e87));var __importDefault=this&&this[a242_0x2a0d36(0x1b0)]||function(_0x297fa9){const _0x122fbc=a242_0x2a0d36;return _0x297fa9&&_0x297fa9[_0x122fbc(0x1b1)]?_0x297fa9:{'default':_0x297fa9};};Object['defineProperty'](exports,a242_0x2a0d36(0x1b1),{'value':!![]}),exports[a242_0x2a0d36(0x19d)]=exports['initIO']=void 0x0;const socket_io_1=require('socket.io'),AppError_1=__importDefault(require(a242_0x2a0d36(0x1ab))),logger_1=require(a242_0x2a0d36(0x192)),userMonitor_1=require(a242_0x2a0d36(0x1ae));let io;function a242_0x36b0(){const _0x2c7d52=['1345480wKWyxJ','userMonitor','add','joinChatBox','default','../errors/AppError','\x20tickets\x20channel.','FRONTEND_URL','../queues/userMonitor','connection','__importDefault','__esModule','joinNotification','3934435HXjNXk','logger','../utils/logger','Client\x20Connected','10STioEY','env','6JyhOCk','1632474jLQzla','UserConnection','35328Oydgcr','Server','103166DzLMEU','query','getIO','78VDXuwt','101781yGouYJ','info','join','A\x20client\x20joined\x20a\x20ticket\x20channel','A\x20client\x20joined\x20notification\x20channel','joinTickets','4744789HdtdBz'];a242_0x36b0=function(){return _0x2c7d52;};return a242_0x36b0();}const initIO=_0x23f462=>{const _0x54f4fd=a242_0x2a0d36;return io=new socket_io_1[(_0x54f4fd(0x19a))](_0x23f462,{'cors':{'origin':process[_0x54f4fd(0x195)][_0x54f4fd(0x1ad)]}}),io['on'](_0x54f4fd(0x1af),async _0x1d3999=>{const _0x5096a6=_0x54f4fd;logger_1['logger']['info'](_0x5096a6(0x193));const {userId:_0x5b0d51}=_0x1d3999['handshake'][_0x5096a6(0x19c)];_0x1d3999['on'](_0x5096a6(0x1a9),_0x104937=>{const _0x20cddc=_0x5096a6;logger_1[_0x20cddc(0x191)]['info'](_0x20cddc(0x1a2)),_0x1d3999[_0x20cddc(0x1a1)](_0x104937);}),_0x1d3999['on'](_0x5096a6(0x1b2),()=>{const _0x39445b=_0x5096a6;logger_1[_0x39445b(0x191)][_0x39445b(0x1a0)](_0x39445b(0x1a3)),_0x1d3999[_0x39445b(0x1a1)]('notification');}),_0x1d3999['on'](_0x5096a6(0x1a4),_0xd6bbdf=>{const _0x464b5d=_0x5096a6;logger_1[_0x464b5d(0x191)][_0x464b5d(0x1a0)]('A\x20client\x20joined\x20to\x20'+_0xd6bbdf+_0x464b5d(0x1ac)),_0x1d3999[_0x464b5d(0x1a1)](_0xd6bbdf);}),userMonitor_1[_0x5096a6(0x1a7)][_0x5096a6(0x1a8)](_0x5096a6(0x198),{'id':_0x5b0d51},{'removeOnComplete':{'age':0x3c*0x3c,'count':0xa},'removeOnFail':{'age':0x3c*0x3c,'count':0xa}});}),io;};function a242_0x47a6(_0x50b1ff,_0x12b62a){const _0x36b06a=a242_0x36b0();return a242_0x47a6=function(_0x47a6c3,_0x3d6d55){_0x47a6c3=_0x47a6c3-0x190;let _0x3c9f21=_0x36b06a[_0x47a6c3];return _0x3c9f21;},a242_0x47a6(_0x50b1ff,_0x12b62a);}exports['initIO']=initIO;const getIO=()=>{const _0x41ddb9=a242_0x2a0d36;if(!io)throw new AppError_1[(_0x41ddb9(0x1aa))]('Socket\x20IO\x20not\x20initialized');return io;};exports['getIO']=getIO;