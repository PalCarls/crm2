<<<<<<< HEAD
'use strict';const a286_0xc67997=a286_0x4720;(function(_0x30e275,_0x1fa400){const _0x3d5415=a286_0x4720,_0x2a8e56=_0x30e275();while(!![]){try{const _0x227068=parseInt(_0x3d5415(0x1fd))/0x1*(parseInt(_0x3d5415(0x20a))/0x2)+parseInt(_0x3d5415(0x1e3))/0x3+parseInt(_0x3d5415(0x1e8))/0x4+parseInt(_0x3d5415(0x1e4))/0x5*(-parseInt(_0x3d5415(0x1bf))/0x6)+-parseInt(_0x3d5415(0x1b5))/0x7+-parseInt(_0x3d5415(0x207))/0x8+parseInt(_0x3d5415(0x1b1))/0x9;if(_0x227068===_0x1fa400)break;else _0x2a8e56['push'](_0x2a8e56['shift']());}catch(_0xc315a0){_0x2a8e56['push'](_0x2a8e56['shift']());}}}(a286_0x53bf,0x491a6));function a286_0x4720(_0x4a75cb,_0x48a9d9){const _0x53bf5a=a286_0x53bf();return a286_0x4720=function(_0x472055,_0x459aae){_0x472055=_0x472055-0x19c;let _0x4cb212=_0x53bf5a[_0x472055];return _0x4cb212;},a286_0x4720(_0x4a75cb,_0x48a9d9);}var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x2a327f,_0x1e0558,_0x1094a9,_0x3c6a53){const _0x591b0f=a286_0x4720;if(_0x3c6a53===undefined)_0x3c6a53=_0x1094a9;var _0x2d430b=Object[_0x591b0f(0x1f1)](_0x1e0558,_0x1094a9);(!_0x2d430b||(_0x591b0f(0x1af)in _0x2d430b?!_0x1e0558[_0x591b0f(0x1a7)]:_0x2d430b[_0x591b0f(0x20c)]||_0x2d430b[_0x591b0f(0x1e6)]))&&(_0x2d430b={'enumerable':!![],'get':function(){return _0x1e0558[_0x1094a9];}}),Object[_0x591b0f(0x1d6)](_0x2a327f,_0x3c6a53,_0x2d430b);}:function(_0x4f271c,_0x2caf94,_0x5998c9,_0x220421){if(_0x220421===undefined)_0x220421=_0x5998c9;_0x4f271c[_0x220421]=_0x2caf94[_0x5998c9];}),__setModuleDefault=this&&this[a286_0xc67997(0x1be)]||(Object[a286_0xc67997(0x1b6)]?function(_0x191b30,_0xed2434){const _0x41481c=a286_0xc67997;Object[_0x41481c(0x1d6)](_0x191b30,_0x41481c(0x200),{'enumerable':!![],'value':_0xed2434});}:function(_0x183255,_0x51e2c0){const _0x58d675=a286_0xc67997;_0x183255[_0x58d675(0x200)]=_0x51e2c0;}),__importStar=this&&this[a286_0xc67997(0x1cf)]||function(_0x255397){const _0x5b04ec=a286_0xc67997;if(_0x255397&&_0x255397[_0x5b04ec(0x1a7)])return _0x255397;var _0x437e00={};if(_0x255397!=null){for(var _0x2e5753 in _0x255397)if(_0x2e5753!==_0x5b04ec(0x200)&&Object['prototype']['hasOwnProperty'][_0x5b04ec(0x205)](_0x255397,_0x2e5753))__createBinding(_0x437e00,_0x255397,_0x2e5753);}return __setModuleDefault(_0x437e00,_0x255397),_0x437e00;},__importDefault=this&&this[a286_0xc67997(0x1a2)]||function(_0x2a2ed2){return _0x2a2ed2&&_0x2a2ed2['__esModule']?_0x2a2ed2:{'default':_0x2a2ed2};};Object[a286_0xc67997(0x1d6)](exports,a286_0xc67997(0x1a7),{'value':!![]}),exports[a286_0xc67997(0x1cc)]=exports[a286_0xc67997(0x1aa)]=exports[a286_0xc67997(0x213)]=exports[a286_0xc67997(0x1b7)]=exports[a286_0xc67997(0x1c7)]=void 0x0;function a286_0x53bf(){const _0x567534=['@sentry/node','DISCONNECTED','addLogs','getTime','\x0a\x20\x20Tipo\x20da\x20mensagem\x20:\x20','sessions:','getOwnPropertyDescriptor','split','captureException','Aguardando\x20conexão\x20para\x20iniciar\x20a\x20importação\x20de\x20mensagens:\x0a\x20\x20Whatsapp\x20nome:\x20','findByPk','useMultiFileAuthState','company-','../services/BaileysServices/DeleteBaileysService','add','findAll','Status:::::','statusImportMessages','194JIkAoi','\x20Connection\x20Update\x20','status','default','StartWhatsAppSession','delFromPattern','Running','../services/WbotServices/StartWhatsAppSession','call','removeAllListeners','772552SXlkzw','isValidMsg','keys','1906gUsmFw','findOne','writable','emit','statusCode','info','update','preparingImportMessagesWppId','importRecentMessages','removeWbot','level','../services/WbotServices/wbotMessageListener','companyId','node-cache','format','connection.update','forEach','type','../errors/AppError','getTypeMessage','__importDefault','g.us','name','.txt','messageTimestamp','__esModule','child','map','dataMessages','low','splice','remoteJid','Starting\x20session\x20','get','../helpers/addLogs','7410726bqWDWD','log','floor','DD/MM/YYYY\x20HH:mm:ss','552909QYqzxd','create','restartWbot','isJidBroadcast','jidNormalizedUser','importMessages-','../utils/logger','../libs/cache','importOldMessagesGroups','__setModuleDefault','84bXBmhQ','\x0a\x20\x20Contato\x20da\x20Mensagem\x20:\x20','whatsappSession','date-fns','error','ERR_WAPP_NOT_INITIALIZED',',\x20isLatest:\x20','../services/WhatsappService/ImportWhatsAppMessageService','getWbot','@whiskeysockets/baileys','delete','\x0a\x20\x20Criação\x20do\x20arquivo\x20de\x20logs:\x20','output','initWASocket','-whatsappSession','key','__importStar','push','PENDING','fetchLatestBaileysVersion','logger','messaging-history.set','\x0a\x20\x20\x0a\x20\x20','defineProperty','creds','qrcode','\x20\x0a\x20\x20','CONNECTED','findIndex','Session\x20QRCode\x20Generate\x20','close','Desktop','../models/Whatsapp','loggedOut','\x0a\x20\x20Whatsapp\x20Id:\x20','getIO','60174RnXtkw','203645eyuyBa','importOldMessages','configurable','messages','67352zPqrbW','makeCacheableSignalKeyStore','DisconnectReason'];a286_0x53bf=function(){return _0x567534;};return a286_0x53bf();}const Sentry=__importStar(require(a286_0xc67997(0x1eb))),baileys_1=__importStar(require(a286_0xc67997(0x1c8))),Whatsapp_1=__importDefault(require(a286_0xc67997(0x1df))),logger_1=require(a286_0xc67997(0x1bb)),logger_2=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),useMultiFileAuthState_1=require('../helpers/useMultiFileAuthState'),AppError_1=__importDefault(require(a286_0xc67997(0x1a0))),socket_1=require('./socket'),StartWhatsAppSession_1=require(a286_0xc67997(0x204)),DeleteBaileysService_1=__importDefault(require(a286_0xc67997(0x1f8))),cache_1=__importDefault(require(a286_0xc67997(0x1bc))),ImportWhatsAppMessageService_1=__importDefault(require(a286_0xc67997(0x1c6))),date_fns_1=require(a286_0xc67997(0x1c2)),moment_1=__importDefault(require('moment')),wbotMessageListener_1=require(a286_0xc67997(0x215)),addLogs_1=require(a286_0xc67997(0x1b0)),node_cache_1=__importDefault(require(a286_0xc67997(0x217))),loggerBaileys=logger_2[a286_0xc67997(0x200)][a286_0xc67997(0x1a8)]({});loggerBaileys[a286_0xc67997(0x214)]=a286_0xc67997(0x1c3);const sessions=[],retriesQrCodeMap=new Map(),getWbot=_0x5b08c2=>{const _0x274a39=a286_0xc67997,_0xc99fb8=sessions[_0x274a39(0x1db)](_0x455dbd=>_0x455dbd['id']===_0x5b08c2);if(_0xc99fb8===-0x1)throw new AppError_1[(_0x274a39(0x200))](_0x274a39(0x1c4));return sessions[_0xc99fb8];};exports[a286_0xc67997(0x1c7)]=getWbot;const restartWbot=async(_0x2e06d3,_0x51c7b5)=>{const _0x59377a=a286_0xc67997;try{const _0x2cf09c={'where':{'companyId':_0x2e06d3},'attributes':['id']},_0x4f03e3=await Whatsapp_1[_0x59377a(0x200)][_0x59377a(0x1fa)](_0x2cf09c);_0x4f03e3[_0x59377a(0x1a9)](async _0x21309c=>{const _0x324ff9=sessions['findIndex'](_0x5d3874=>_0x5d3874['id']===_0x21309c['id']);_0x324ff9!==-0x1&&sessions[_0x324ff9]['ws']['close']();});}catch(_0x2638cb){logger_1[_0x59377a(0x1d3)][_0x59377a(0x1c3)](_0x2638cb);}};exports[a286_0xc67997(0x1b7)]=restartWbot;const removeWbot=async(_0x45af07,_0x22600d=!![])=>{const _0xed2456=a286_0xc67997;try{const _0x28c3fd=sessions[_0xed2456(0x1db)](_0x2a93c6=>_0x2a93c6['id']===_0x45af07);_0x28c3fd!==-0x1&&(_0x22600d&&(sessions[_0x28c3fd]['logout'](),sessions[_0x28c3fd]['ws'][_0xed2456(0x1dd)]()),sessions[_0xed2456(0x1ac)](_0x28c3fd,0x1));}catch(_0x231239){logger_1[_0xed2456(0x1d3)][_0xed2456(0x1c3)](_0x231239);}};exports['removeWbot']=removeWbot,exports[a286_0xc67997(0x1aa)]={};const initWASocket=async _0x1b2b10=>{return new Promise(async(_0x1be699,_0x22c5c3)=>{const _0x1b696b=a286_0x4720;try{((async()=>{const _0xd0afaa=a286_0x4720,_0x312d33=(0x0,socket_1[_0xd0afaa(0x1e2)])(),_0x40ba89=await Whatsapp_1[_0xd0afaa(0x200)][_0xd0afaa(0x20b)]({'where':{'id':_0x1b2b10['id']}});if(!_0x40ba89)return;const {id:_0x41cedc,name:_0x2a9381,provider:_0x1d151c}=_0x40ba89,{version:_0x13e0ce,isLatest:_0x248795}=await(0x0,baileys_1[_0xd0afaa(0x1d2)])();logger_1[_0xd0afaa(0x1d3)][_0xd0afaa(0x20f)]('using\x20WA\x20v'+_0x13e0ce['join']('.')+_0xd0afaa(0x1c5)+_0x248795),logger_1[_0xd0afaa(0x1d3)][_0xd0afaa(0x20f)](_0xd0afaa(0x1ae)+_0x2a9381);let _0x2ad435=0x0,_0xce9d4f=null;const {state:_0x460cc7,saveCreds:_0x49d086}=await(0x0,useMultiFileAuthState_1[_0xd0afaa(0x1f6)])(_0x1b2b10),_0x25d38d=new node_cache_1[(_0xd0afaa(0x200))]();_0xce9d4f=(0x0,baileys_1[_0xd0afaa(0x200)])({'logger':loggerBaileys,'printQRInTerminal':![],'browser':baileys_1['Browsers']['appropriate'](_0xd0afaa(0x1de)),'auth':{'creds':_0x460cc7[_0xd0afaa(0x1d7)],'keys':(0x0,baileys_1[_0xd0afaa(0x1e9)])(_0x460cc7[_0xd0afaa(0x209)],logger_1['logger'])},'version':_0x13e0ce,'defaultQueryTimeoutMs':0xea60,'msgRetryCounterCache':_0x25d38d,'shouldIgnoreJid':_0x35763f=>(0x0,baileys_1[_0xd0afaa(0x1b8)])(_0x35763f)}),setTimeout(async()=>{const _0x3d983a=_0xd0afaa,_0x203897=await Whatsapp_1[_0x3d983a(0x200)][_0x3d983a(0x1f5)](_0x1b2b10['id']);console[_0x3d983a(0x1b2)](_0x3d983a(0x1fb),_0x203897[_0x3d983a(0x1ff)]);if(_0x203897?.['importOldMessages']&&_0x203897[_0x3d983a(0x1ff)]===_0x3d983a(0x1da)){let _0x59d2bf=new Date(_0x203897[_0x3d983a(0x1e5)])[_0x3d983a(0x1ee)](),_0x251744=new Date(_0x203897[_0x3d983a(0x212)])[_0x3d983a(0x1ee)]();(0x0,addLogs_1[_0x3d983a(0x1ed)])({'fileName':'preparingImportMessagesWppId'+_0x1b2b10['id']+_0x3d983a(0x1a5),'forceNewFile':!![],'text':_0x3d983a(0x1f4)+_0x203897[_0x3d983a(0x1a4)]+_0x3d983a(0x1e1)+_0x203897['id']+_0x3d983a(0x1ca)+(0x0,moment_1['default'])()[_0x3d983a(0x19c)](_0x3d983a(0x1b4))+'\x0a\x20\x20Selecionado\x20Data\x20de\x20inicio\x20de\x20importação:\x20'+(0x0,moment_1['default'])(_0x59d2bf)['format'](_0x3d983a(0x1b4))+'\x20\x0a\x20\x20Selecionado\x20Data\x20final\x20da\x20importação:\x20'+(0x0,moment_1[_0x3d983a(0x200)])(_0x251744)['format'](_0x3d983a(0x1b4))+_0x3d983a(0x1d9)});const _0x13388a=new Date()[_0x3d983a(0x1ee)]();await _0x203897[_0x3d983a(0x210)]({'statusImportMessages':_0x13388a}),_0xce9d4f['ev']['on'](_0x3d983a(0x1d4),async _0x4c831a=>{const _0x1d41a7=_0x3d983a,_0x3d6f1b=new Date()[_0x1d41a7(0x1ee)]();await _0x203897[_0x1d41a7(0x210)]({'statusImportMessages':_0x3d6f1b});const _0x3a9a9f=_0x1b2b10['id'];let _0x16b8c3=_0x4c831a[_0x1d41a7(0x1e7)],_0x21472b=[];_0x16b8c3[_0x1d41a7(0x19e)](_0x4fb5e9=>{const _0x3c596b=_0x1d41a7,_0x22eb21=Math['floor'](_0x4fb5e9[_0x3c596b(0x1a6)][_0x3c596b(0x1ab)]*0x3e8);(0x0,wbotMessageListener_1[_0x3c596b(0x208)])(_0x4fb5e9)&&_0x59d2bf<_0x22eb21&&_0x251744>_0x22eb21&&(_0x4fb5e9[_0x3c596b(0x1ce)]?.[_0x3c596b(0x1ad)][_0x3c596b(0x1f2)]('@')[0x1]!=_0x3c596b(0x1a3)?((0x0,addLogs_1[_0x3c596b(0x1ed)])({'fileName':_0x3c596b(0x211)+_0x1b2b10['id']+'.txt','text':'Adicionando\x20mensagem\x20para\x20pos\x20processamento:\x0a\x20\x20Não\x20é\x20Mensagem\x20de\x20GRUPO\x20>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\x0a\x20\x20Data\x20e\x20hora\x20da\x20mensagem:\x20'+(0x0,moment_1[_0x3c596b(0x200)])(_0x22eb21)[_0x3c596b(0x19c)](_0x3c596b(0x1b4))+_0x3c596b(0x1c0)+_0x4fb5e9[_0x3c596b(0x1ce)]?.[_0x3c596b(0x1ad)]+_0x3c596b(0x1ef)+(0x0,wbotMessageListener_1[_0x3c596b(0x1a1)])(_0x4fb5e9)+_0x3c596b(0x1d5)}),_0x21472b[_0x3c596b(0x1d0)](_0x4fb5e9)):_0x203897?.[_0x3c596b(0x1bd)]&&((0x0,addLogs_1[_0x3c596b(0x1ed)])({'fileName':'preparingImportMessagesWppId'+_0x1b2b10['id']+_0x3c596b(0x1a5),'text':'Adicionando\x20mensagem\x20para\x20pos\x20processamento:\x0a\x20\x20Mensagem\x20de\x20GRUPO\x20>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\x0a\x20\x20Data\x20e\x20hora\x20da\x20mensagem:\x20'+(0x0,moment_1[_0x3c596b(0x200)])(_0x22eb21)[_0x3c596b(0x19c)](_0x3c596b(0x1b4))+_0x3c596b(0x1c0)+_0x4fb5e9['key']?.[_0x3c596b(0x1ad)]+_0x3c596b(0x1ef)+(0x0,wbotMessageListener_1[_0x3c596b(0x1a1)])(_0x4fb5e9)+'\x0a\x20\x20\x0a\x20\x20'}),_0x21472b[_0x3c596b(0x1d0)](_0x4fb5e9)));}),!exports[_0x1d41a7(0x1aa)]?.[_0x3a9a9f]?(exports['dataMessages'][_0x3a9a9f]=[],exports[_0x1d41a7(0x1aa)][_0x3a9a9f]['unshift'](..._0x21472b)):exports['dataMessages'][_0x3a9a9f]['unshift'](..._0x21472b),setTimeout(async()=>{const _0x2779bf=_0x1d41a7,_0x38926b=await Whatsapp_1[_0x2779bf(0x200)][_0x2779bf(0x1f5)](_0x3a9a9f);_0x312d33[_0x2779bf(0x20d)](_0x2779bf(0x1ba)+_0x38926b[_0x2779bf(0x216)],{'action':_0x2779bf(0x210),'status':{'this':-0x1,'all':-0x1}}),_0x312d33[_0x2779bf(0x20d)](_0x2779bf(0x1c1),{'action':_0x2779bf(0x210),'session':_0x38926b});},0x1f4),setTimeout(async()=>{const _0x968b1=_0x1d41a7,_0xbf413e=await Whatsapp_1[_0x968b1(0x200)]['findByPk'](_0x3a9a9f);if(_0xbf413e?.['importOldMessages']){let _0x2261c8=!isNaN(new Date(Math[_0x968b1(0x1b3)](parseInt(_0xbf413e?.[_0x968b1(0x1fc)])))['getTime']());if(_0x2261c8){const _0x513b73=new Date(Math[_0x968b1(0x1b3)](parseInt(_0xbf413e?.[_0x968b1(0x1fc)])))[_0x968b1(0x1ee)](),_0x472e1f=+(0x0,date_fns_1[_0x968b1(0x1f9)])(_0x513b73,{'seconds':+0x2d})['getTime']();if(_0x472e1f<new Date()[_0x968b1(0x1ee)]())(0x0,ImportWhatsAppMessageService_1['default'])(_0xbf413e['id']),_0xbf413e[_0x968b1(0x210)]({'statusImportMessages':_0x968b1(0x203)});else{}}}_0x312d33[_0x968b1(0x20d)]('whatsappSession',{'action':'update','session':_0xbf413e});},0x3e8*0x2d);});}},0x9c4),_0xce9d4f['ev']['on'](_0xd0afaa(0x19d),async({connection:_0x3a4459,lastDisconnect:_0x17f2c4,qr:_0x3295ce})=>{const _0x4fe941=_0xd0afaa;logger_1[_0x4fe941(0x1d3)]['info']('Socket\x20\x20'+_0x2a9381+_0x4fe941(0x1fe)+(_0x3a4459||'')+'\x20'+(_0x17f2c4||''));_0x3a4459===_0x4fe941(0x1dd)&&(_0x17f2c4?.['error']?.[_0x4fe941(0x1cb)]?.['statusCode']===0x193&&(await _0x1b2b10['update']({'status':'PENDING','session':''}),await(0x0,DeleteBaileysService_1['default'])(_0x1b2b10['id']),await cache_1[_0x4fe941(0x200)][_0x4fe941(0x202)](_0x4fe941(0x1f0)+_0x1b2b10['id']+':*'),_0x312d33[_0x4fe941(0x20d)](_0x4fe941(0x1f7)+_0x1b2b10[_0x4fe941(0x216)]+_0x4fe941(0x1cd),{'action':_0x4fe941(0x210),'session':_0x1b2b10}),(0x0,exports['removeWbot'])(_0x41cedc,![])),_0x17f2c4?.['error']?.[_0x4fe941(0x1cb)]?.[_0x4fe941(0x20e)]!==baileys_1[_0x4fe941(0x1ea)][_0x4fe941(0x1e0)]?((0x0,exports[_0x4fe941(0x213)])(_0x41cedc,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1['StartWhatsAppSession'])(_0x1b2b10,_0x1b2b10[_0x4fe941(0x216)]),0x7d0)):(await _0x1b2b10['update']({'status':_0x4fe941(0x1d1),'session':''}),await(0x0,DeleteBaileysService_1[_0x4fe941(0x200)])(_0x1b2b10['id']),await cache_1['default'][_0x4fe941(0x202)]('sessions:'+_0x1b2b10['id']+':*'),_0x312d33[_0x4fe941(0x20d)](_0x4fe941(0x1f7)+_0x1b2b10['companyId']+_0x4fe941(0x1cd),{'action':_0x4fe941(0x210),'session':_0x1b2b10}),(0x0,exports[_0x4fe941(0x213)])(_0x41cedc,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x4fe941(0x201)])(_0x1b2b10,_0x1b2b10['companyId']),0x7d0)));if(_0x3a4459==='open'){await _0x1b2b10[_0x4fe941(0x210)]({'status':_0x4fe941(0x1da),'qrcode':'','retries':0x0,'number':_0xce9d4f[_0x4fe941(0x19f)]==='md'?(0x0,baileys_1[_0x4fe941(0x1b9)])(_0xce9d4f['user']['id'])['split']('@')[0x0]:'-'}),_0x312d33['emit']('company-'+_0x1b2b10[_0x4fe941(0x216)]+_0x4fe941(0x1cd),{'action':_0x4fe941(0x210),'session':_0x1b2b10});const _0x57bf69=sessions[_0x4fe941(0x1db)](_0x63b492=>_0x63b492['id']===_0x1b2b10['id']);_0x57bf69===-0x1&&(_0xce9d4f['id']=_0x1b2b10['id'],sessions[_0x4fe941(0x1d0)](_0xce9d4f)),_0x1be699(_0xce9d4f);}if(_0x3295ce!==undefined){if(retriesQrCodeMap['get'](_0x41cedc)&&retriesQrCodeMap[_0x4fe941(0x1af)](_0x41cedc)>=0x3)await _0x40ba89[_0x4fe941(0x210)]({'status':_0x4fe941(0x1ec),'qrcode':''}),await(0x0,DeleteBaileysService_1[_0x4fe941(0x200)])(_0x40ba89['id']),await cache_1[_0x4fe941(0x200)][_0x4fe941(0x202)](_0x4fe941(0x1f0)+_0x1b2b10['id']+':*'),_0x312d33[_0x4fe941(0x20d)](_0x4fe941(0x1f7)+_0x1b2b10['companyId']+_0x4fe941(0x1cd),{'action':'update','session':_0x40ba89}),_0xce9d4f['ev'][_0x4fe941(0x206)](_0x4fe941(0x19d)),_0xce9d4f['ws'][_0x4fe941(0x1dd)](),_0xce9d4f=null,retriesQrCodeMap[_0x4fe941(0x1c9)](_0x41cedc);else{logger_1['logger'][_0x4fe941(0x20f)](_0x4fe941(0x1dc)+_0x2a9381),retriesQrCodeMap['set'](_0x41cedc,_0x2ad435+=0x1),await _0x1b2b10['update']({'qrcode':_0x3295ce,'status':_0x4fe941(0x1d8),'retries':0x0,'number':''});const _0x2b5e48=sessions[_0x4fe941(0x1db)](_0x414297=>_0x414297['id']===_0x1b2b10['id']);_0x2b5e48===-0x1&&(_0xce9d4f['id']=_0x1b2b10['id'],sessions[_0x4fe941(0x1d0)](_0xce9d4f)),_0x312d33[_0x4fe941(0x20d)](_0x4fe941(0x1f7)+_0x1b2b10[_0x4fe941(0x216)]+_0x4fe941(0x1cd),{'action':_0x4fe941(0x210),'session':_0x1b2b10});}}}),_0xce9d4f['ev']['on']('creds.update',_0x49d086);})());}catch(_0x5776b0){Sentry[_0x1b696b(0x1f3)](_0x5776b0),console[_0x1b696b(0x1b2)](_0x5776b0),_0x22c5c3(_0x5776b0);}});};exports[a286_0xc67997(0x1cc)]=initWASocket;
=======
'use strict';const a286_0x515233=a286_0x4ef7;(function(_0x5a81f9,_0x13c076){const _0x1d489f=a286_0x4ef7,_0x5a3ad6=_0x5a81f9();while(!![]){try{const _0xf3076f=parseInt(_0x1d489f(0x172))/0x1*(parseInt(_0x1d489f(0x14f))/0x2)+parseInt(_0x1d489f(0x195))/0x3+parseInt(_0x1d489f(0x148))/0x4*(parseInt(_0x1d489f(0x12c))/0x5)+parseInt(_0x1d489f(0x141))/0x6+parseInt(_0x1d489f(0x168))/0x7+parseInt(_0x1d489f(0x144))/0x8*(parseInt(_0x1d489f(0x170))/0x9)+-parseInt(_0x1d489f(0x191))/0xa;if(_0xf3076f===_0x13c076)break;else _0x5a3ad6['push'](_0x5a3ad6['shift']());}catch(_0x335a4d){_0x5a3ad6['push'](_0x5a3ad6['shift']());}}}(a286_0x22f7,0x9ea04));var __createBinding=this&&this[a286_0x515233(0x128)]||(Object[a286_0x515233(0x15e)]?function(_0x444e0a,_0x71ebc8,_0x4173cd,_0x43570d){const _0x3a6490=a286_0x515233;if(_0x43570d===undefined)_0x43570d=_0x4173cd;var _0x52518b=Object['getOwnPropertyDescriptor'](_0x71ebc8,_0x4173cd);(!_0x52518b||('get'in _0x52518b?!_0x71ebc8[_0x3a6490(0x16b)]:_0x52518b['writable']||_0x52518b[_0x3a6490(0x15f)]))&&(_0x52518b={'enumerable':!![],'get':function(){return _0x71ebc8[_0x4173cd];}}),Object[_0x3a6490(0x143)](_0x444e0a,_0x43570d,_0x52518b);}:function(_0x30701f,_0x213919,_0x1be538,_0x6fb6){if(_0x6fb6===undefined)_0x6fb6=_0x1be538;_0x30701f[_0x6fb6]=_0x213919[_0x1be538];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a286_0x515233(0x15e)]?function(_0x4eecf8,_0x1eb631){const _0x3d6324=a286_0x515233;Object[_0x3d6324(0x143)](_0x4eecf8,_0x3d6324(0x18c),{'enumerable':!![],'value':_0x1eb631});}:function(_0x19fcca,_0x221ddb){_0x19fcca['default']=_0x221ddb;}),__importStar=this&&this[a286_0x515233(0x150)]||function(_0x70930){const _0x1ef97a=a286_0x515233;if(_0x70930&&_0x70930[_0x1ef97a(0x16b)])return _0x70930;var _0x377ba6={};if(_0x70930!=null){for(var _0x57bc14 in _0x70930)if(_0x57bc14!==_0x1ef97a(0x18c)&&Object[_0x1ef97a(0x190)][_0x1ef97a(0x166)][_0x1ef97a(0x177)](_0x70930,_0x57bc14))__createBinding(_0x377ba6,_0x70930,_0x57bc14);}return __setModuleDefault(_0x377ba6,_0x70930),_0x377ba6;},__importDefault=this&&this[a286_0x515233(0x13a)]||function(_0x384014){return _0x384014&&_0x384014['__esModule']?_0x384014:{'default':_0x384014};};Object[a286_0x515233(0x143)](exports,a286_0x515233(0x16b),{'value':!![]}),exports[a286_0x515233(0x12d)]=exports[a286_0x515233(0x161)]=exports[a286_0x515233(0x12a)]=exports[a286_0x515233(0x17a)]=exports[a286_0x515233(0x186)]=void 0x0;const Sentry=__importStar(require('@sentry/node')),baileys_1=__importStar(require(a286_0x515233(0x18b))),Whatsapp_1=__importDefault(require('../models/Whatsapp')),logger_1=require(a286_0x515233(0x145)),logger_2=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),useMultiFileAuthState_1=require(a286_0x515233(0x147)),AppError_1=__importDefault(require(a286_0x515233(0x187))),socket_1=require('./socket'),StartWhatsAppSession_1=require(a286_0x515233(0x171)),DeleteBaileysService_1=__importDefault(require(a286_0x515233(0x163))),cache_1=__importDefault(require(a286_0x515233(0x17f))),ImportWhatsAppMessageService_1=__importDefault(require('../services/WhatsappService/ImportWhatsAppMessageService')),date_fns_1=require(a286_0x515233(0x13c)),moment_1=__importDefault(require('moment')),wbotMessageListener_1=require(a286_0x515233(0x13f)),addLogs_1=require(a286_0x515233(0x12b)),node_cache_1=__importDefault(require(a286_0x515233(0x178))),loggerBaileys=logger_2[a286_0x515233(0x18c)]['child']({});function a286_0x4ef7(_0xf5d2b3,_0x5dd8e8){const _0x22f72c=a286_0x22f7();return a286_0x4ef7=function(_0x4ef753,_0x4ab7dd){_0x4ef753=_0x4ef753-0x125;let _0x31e512=_0x22f72c[_0x4ef753];return _0x31e512;},a286_0x4ef7(_0xf5d2b3,_0x5dd8e8);}loggerBaileys[a286_0x515233(0x149)]=a286_0x515233(0x193);const sessions=[],retriesQrCodeMap=new Map(),getWbot=_0x12d9d2=>{const _0x550f10=a286_0x515233,_0x351128=sessions[_0x550f10(0x130)](_0x292b51=>_0x292b51['id']===_0x12d9d2);if(_0x351128===-0x1)throw new AppError_1[(_0x550f10(0x18c))](_0x550f10(0x18d));return sessions[_0x351128];};exports['getWbot']=getWbot;const restartWbot=async(_0x533600,_0x384be0)=>{const _0x11d8f6=a286_0x515233;try{const _0x3f4b44={'where':{'companyId':_0x533600},'attributes':['id']},_0x20fc60=await Whatsapp_1[_0x11d8f6(0x18c)]['findAll'](_0x3f4b44);_0x20fc60[_0x11d8f6(0x179)](async _0x31a611=>{const _0x3585a6=_0x11d8f6,_0x2d9d5b=sessions[_0x3585a6(0x130)](_0x1617c4=>_0x1617c4['id']===_0x31a611['id']);_0x2d9d5b!==-0x1&&sessions[_0x2d9d5b]['ws'][_0x3585a6(0x162)]();});}catch(_0x113442){logger_1[_0x11d8f6(0x12f)]['error'](_0x113442);}};exports[a286_0x515233(0x17a)]=restartWbot;const removeWbot=async(_0xfad6f3,_0x2edd1d=!![])=>{const _0x4ffbd5=a286_0x515233;try{const _0x330972=sessions[_0x4ffbd5(0x130)](_0x14955e=>_0x14955e['id']===_0xfad6f3);_0x330972!==-0x1&&(_0x2edd1d&&(sessions[_0x330972]['logout'](),sessions[_0x330972]['ws'][_0x4ffbd5(0x162)]()),sessions[_0x4ffbd5(0x152)](_0x330972,0x1));}catch(_0xfa8f6){logger_1[_0x4ffbd5(0x12f)][_0x4ffbd5(0x193)](_0xfa8f6);}};exports[a286_0x515233(0x12a)]=removeWbot,exports['dataMessages']={};function a286_0x22f7(){const _0x3fc022=['creds','type','Starting\x20session\x20','10829493NNFdSo','../services/WbotServices/StartWhatsAppSession','1082PxwelD','split','DD/MM/YYYY\x20HH:mm:ss','creds.update','status','call','node-cache','map','restartWbot','\x0a\x20\x20Contato\x20da\x20Mensagem\x20:\x20','\x0a\x20\x20\x0a\x20\x20','Adicionando\x20mensagem\x20para\x20pos\x20processamento:\x0a\x20\x20Mensagem\x20de\x20GRUPO\x20>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\x0a\x20\x20Data\x20e\x20hora\x20da\x20mensagem:\x20','get','../libs/cache','Browsers','messaging-history.set','Aguardando\x20conexão\x20para\x20iniciar\x20a\x20importação\x20de\x20mensagens:\x0a\x20\x20Whatsapp\x20nome:\x20','log','set','\x0a\x20\x20Selecionado\x20Data\x20de\x20inicio\x20de\x20importação:\x20','getWbot','../errors/AppError','using\x20WA\x20v','StartWhatsAppSession',',\x20isLatest:\x20','@whiskeysockets/baileys','default','ERR_WAPP_NOT_INITIALIZED','makeCacheableSignalKeyStore','whatsappSession','prototype','31633480qCJsYy','fetchLatestBaileysVersion','error','\x0a\x20\x20Tipo\x20da\x20mensagem\x20:\x20','637338rxOgGg','low','findByPk','Status:::::','removeAllListeners','getTypeMessage','__createBinding','floor','removeWbot','../helpers/addLogs','190ToknNq','initWASocket','getTime','logger','findIndex','CONNECTED','add','emit','preparingImportMessagesWppId','Adicionando\x20mensagem\x20para\x20pos\x20processamento:\x0a\x20\x20Não\x20é\x20Mensagem\x20de\x20GRUPO\x20>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\x0a\x20\x20Data\x20e\x20hora\x20da\x20mensagem:\x20','key','connection.update','qrcode','companyId','__importDefault','company-','date-fns','sessions:','statusCode','../services/WbotServices/wbotMessageListener','-whatsappSession','6159870UtXZOr','output','defineProperty','8iyOZkR','../utils/logger','push','../helpers/useMultiFileAuthState','33560bvjXur','level','.txt','Running','addLogs','importMessages-','messages','1130NOmzrp','__importStar','keys','splice','format','remoteJid','\x20\x0a\x20\x20Selecionado\x20Data\x20final\x20da\x20importação:\x20','info','PENDING','messageTimestamp','\x20\x0a\x20\x20','\x0a\x20\x20Criação\x20do\x20arquivo\x20de\x20logs:\x20','importOldMessages','DisconnectReason','importRecentMessages','create','configurable','useMultiFileAuthState','dataMessages','close','../services/BaileysServices/DeleteBaileysService','DISCONNECTED','user','hasOwnProperty','Session\x20QRCode\x20Generate\x20','3083934sXFYda','unshift','update','__esModule','findOne'];a286_0x22f7=function(){return _0x3fc022;};return a286_0x22f7();}const initWASocket=async _0x4d6d6b=>{return new Promise(async(_0x5932b6,_0x159f17)=>{try{((async()=>{const _0x3899c0=a286_0x4ef7,_0x24e9b1=(0x0,socket_1['getIO'])(),_0x5efeed=await Whatsapp_1[_0x3899c0(0x18c)][_0x3899c0(0x16c)]({'where':{'id':_0x4d6d6b['id']}});if(!_0x5efeed)return;const {id:_0x1471e4,name:_0x1b6ac6,provider:_0x53cf03}=_0x5efeed,{version:_0x5b1456,isLatest:_0x284c16}=await(0x0,baileys_1[_0x3899c0(0x192)])();logger_1['logger'][_0x3899c0(0x156)](_0x3899c0(0x188)+_0x5b1456['join']('.')+_0x3899c0(0x18a)+_0x284c16),logger_1[_0x3899c0(0x12f)][_0x3899c0(0x156)](_0x3899c0(0x16f)+_0x1b6ac6);let _0x37d6bd=0x0,_0x296647=null;const {state:_0x55bb8c,saveCreds:_0x5dd017}=await(0x0,useMultiFileAuthState_1[_0x3899c0(0x160)])(_0x4d6d6b),_0x3357ba=new node_cache_1['default']();_0x296647=(0x0,baileys_1[_0x3899c0(0x18c)])({'logger':loggerBaileys,'printQRInTerminal':![],'browser':baileys_1[_0x3899c0(0x180)]['appropriate']('Desktop'),'auth':{'creds':_0x55bb8c[_0x3899c0(0x16d)],'keys':(0x0,baileys_1[_0x3899c0(0x18e)])(_0x55bb8c[_0x3899c0(0x151)],logger_1[_0x3899c0(0x12f)])},'version':_0x5b1456,'defaultQueryTimeoutMs':0xea60,'msgRetryCounterCache':_0x3357ba,'shouldIgnoreJid':_0x379cc6=>(0x0,baileys_1['isJidBroadcast'])(_0x379cc6)}),setTimeout(async()=>{const _0x43cdd6=_0x3899c0,_0x4a6764=await Whatsapp_1[_0x43cdd6(0x18c)][_0x43cdd6(0x197)](_0x4d6d6b['id']);console[_0x43cdd6(0x183)](_0x43cdd6(0x125),_0x4a6764['status']);if(_0x4a6764?.[_0x43cdd6(0x15b)]&&_0x4a6764[_0x43cdd6(0x176)]===_0x43cdd6(0x131)){let _0x2d7413=new Date(_0x4a6764[_0x43cdd6(0x15b)])[_0x43cdd6(0x12e)](),_0x565eee=new Date(_0x4a6764[_0x43cdd6(0x15d)])[_0x43cdd6(0x12e)]();(0x0,addLogs_1[_0x43cdd6(0x14c)])({'fileName':_0x43cdd6(0x134)+_0x4d6d6b['id']+'.txt','forceNewFile':!![],'text':_0x43cdd6(0x182)+_0x4a6764['name']+'\x0a\x20\x20Whatsapp\x20Id:\x20'+_0x4a6764['id']+_0x43cdd6(0x15a)+(0x0,moment_1[_0x43cdd6(0x18c)])()[_0x43cdd6(0x153)](_0x43cdd6(0x174))+_0x43cdd6(0x185)+(0x0,moment_1[_0x43cdd6(0x18c)])(_0x2d7413)['format'](_0x43cdd6(0x174))+_0x43cdd6(0x155)+(0x0,moment_1[_0x43cdd6(0x18c)])(_0x565eee)[_0x43cdd6(0x153)](_0x43cdd6(0x174))+_0x43cdd6(0x159)});const _0x1958ad=new Date()[_0x43cdd6(0x12e)]();await _0x4a6764[_0x43cdd6(0x16a)]({'statusImportMessages':_0x1958ad}),_0x296647['ev']['on'](_0x43cdd6(0x181),async _0x40b571=>{const _0x417f88=_0x43cdd6,_0x295325=new Date()[_0x417f88(0x12e)]();await _0x4a6764[_0x417f88(0x16a)]({'statusImportMessages':_0x295325});const _0x4e2772=_0x4d6d6b['id'];let _0x2ce8f1=_0x40b571[_0x417f88(0x14e)],_0x3a6b22=[];_0x2ce8f1['forEach'](_0x12f62c=>{const _0x30a6d5=_0x417f88,_0x196333=Math[_0x30a6d5(0x129)](_0x12f62c[_0x30a6d5(0x158)][_0x30a6d5(0x196)]*0x3e8);(0x0,wbotMessageListener_1['isValidMsg'])(_0x12f62c)&&_0x2d7413<_0x196333&&_0x565eee>_0x196333&&(_0x12f62c[_0x30a6d5(0x136)]?.[_0x30a6d5(0x154)][_0x30a6d5(0x173)]('@')[0x1]!='g.us'?((0x0,addLogs_1[_0x30a6d5(0x14c)])({'fileName':_0x30a6d5(0x134)+_0x4d6d6b['id']+_0x30a6d5(0x14a),'text':_0x30a6d5(0x135)+(0x0,moment_1[_0x30a6d5(0x18c)])(_0x196333)[_0x30a6d5(0x153)](_0x30a6d5(0x174))+_0x30a6d5(0x17b)+_0x12f62c[_0x30a6d5(0x136)]?.[_0x30a6d5(0x154)]+_0x30a6d5(0x194)+(0x0,wbotMessageListener_1[_0x30a6d5(0x127)])(_0x12f62c)+_0x30a6d5(0x17c)}),_0x3a6b22[_0x30a6d5(0x146)](_0x12f62c)):_0x4a6764?.['importOldMessagesGroups']&&((0x0,addLogs_1['addLogs'])({'fileName':_0x30a6d5(0x134)+_0x4d6d6b['id']+_0x30a6d5(0x14a),'text':_0x30a6d5(0x17d)+(0x0,moment_1['default'])(_0x196333)['format'](_0x30a6d5(0x174))+'\x0a\x20\x20Contato\x20da\x20Mensagem\x20:\x20'+_0x12f62c[_0x30a6d5(0x136)]?.['remoteJid']+'\x0a\x20\x20Tipo\x20da\x20mensagem\x20:\x20'+(0x0,wbotMessageListener_1[_0x30a6d5(0x127)])(_0x12f62c)+_0x30a6d5(0x17c)}),_0x3a6b22[_0x30a6d5(0x146)](_0x12f62c)));}),!exports['dataMessages']?.[_0x4e2772]?(exports['dataMessages'][_0x4e2772]=[],exports['dataMessages'][_0x4e2772]['unshift'](..._0x3a6b22)):exports[_0x417f88(0x161)][_0x4e2772][_0x417f88(0x169)](..._0x3a6b22),setTimeout(async()=>{const _0x2d98f7=_0x417f88,_0x115bc8=await Whatsapp_1['default'][_0x2d98f7(0x197)](_0x4e2772);_0x24e9b1[_0x2d98f7(0x133)](_0x2d98f7(0x14d)+_0x115bc8[_0x2d98f7(0x139)],{'action':'update','status':{'this':-0x1,'all':-0x1}}),_0x24e9b1[_0x2d98f7(0x133)](_0x2d98f7(0x18f),{'action':'update','session':_0x115bc8});},0x1f4),setTimeout(async()=>{const _0x574609=_0x417f88,_0x2af100=await Whatsapp_1[_0x574609(0x18c)][_0x574609(0x197)](_0x4e2772);if(_0x2af100?.['importOldMessages']){let _0x21a38e=!isNaN(new Date(Math['floor'](parseInt(_0x2af100?.['statusImportMessages'])))['getTime']());if(_0x21a38e){const _0x5dd1cb=new Date(Math['floor'](parseInt(_0x2af100?.['statusImportMessages'])))[_0x574609(0x12e)](),_0x347be7=+(0x0,date_fns_1[_0x574609(0x132)])(_0x5dd1cb,{'seconds':+0x2d})[_0x574609(0x12e)]();if(_0x347be7<new Date()[_0x574609(0x12e)]())(0x0,ImportWhatsAppMessageService_1['default'])(_0x2af100['id']),_0x2af100['update']({'statusImportMessages':_0x574609(0x14b)});else{}}}_0x24e9b1[_0x574609(0x133)](_0x574609(0x18f),{'action':_0x574609(0x16a),'session':_0x2af100});},0x3e8*0x2d);});}},0x9c4),_0x296647['ev']['on']('connection.update',async({connection:_0x590105,lastDisconnect:_0x2a5063,qr:_0x45f6de})=>{const _0x8d02db=_0x3899c0;logger_1[_0x8d02db(0x12f)]['info']('Socket\x20\x20'+_0x1b6ac6+'\x20Connection\x20Update\x20'+(_0x590105||'')+'\x20'+(_0x2a5063||''));_0x590105===_0x8d02db(0x162)&&(_0x2a5063?.[_0x8d02db(0x193)]?.[_0x8d02db(0x142)]?.[_0x8d02db(0x13e)]===0x193&&(await _0x4d6d6b[_0x8d02db(0x16a)]({'status':_0x8d02db(0x157),'session':''}),await(0x0,DeleteBaileysService_1[_0x8d02db(0x18c)])(_0x4d6d6b['id']),await cache_1[_0x8d02db(0x18c)]['delFromPattern'](_0x8d02db(0x13d)+_0x4d6d6b['id']+':*'),_0x24e9b1[_0x8d02db(0x133)](_0x8d02db(0x13b)+_0x4d6d6b[_0x8d02db(0x139)]+'-whatsappSession',{'action':_0x8d02db(0x16a),'session':_0x4d6d6b}),(0x0,exports[_0x8d02db(0x12a)])(_0x1471e4,![])),_0x2a5063?.['error']?.[_0x8d02db(0x142)]?.[_0x8d02db(0x13e)]!==baileys_1[_0x8d02db(0x15c)]['loggedOut']?((0x0,exports['removeWbot'])(_0x1471e4,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x8d02db(0x189)])(_0x4d6d6b,_0x4d6d6b[_0x8d02db(0x139)]),0x7d0)):(await _0x4d6d6b[_0x8d02db(0x16a)]({'status':_0x8d02db(0x157),'session':''}),await(0x0,DeleteBaileysService_1[_0x8d02db(0x18c)])(_0x4d6d6b['id']),await cache_1[_0x8d02db(0x18c)]['delFromPattern'](_0x8d02db(0x13d)+_0x4d6d6b['id']+':*'),_0x24e9b1[_0x8d02db(0x133)]('company-'+_0x4d6d6b[_0x8d02db(0x139)]+_0x8d02db(0x140),{'action':_0x8d02db(0x16a),'session':_0x4d6d6b}),(0x0,exports[_0x8d02db(0x12a)])(_0x1471e4,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x8d02db(0x189)])(_0x4d6d6b,_0x4d6d6b['companyId']),0x7d0)));if(_0x590105==='open'){await _0x4d6d6b[_0x8d02db(0x16a)]({'status':_0x8d02db(0x131),'qrcode':'','retries':0x0,'number':_0x296647[_0x8d02db(0x16e)]==='md'?(0x0,baileys_1['jidNormalizedUser'])(_0x296647[_0x8d02db(0x165)]['id'])['split']('@')[0x0]:'-'}),_0x24e9b1[_0x8d02db(0x133)](_0x8d02db(0x13b)+_0x4d6d6b[_0x8d02db(0x139)]+_0x8d02db(0x140),{'action':_0x8d02db(0x16a),'session':_0x4d6d6b});const _0xa05a94=sessions['findIndex'](_0x57406e=>_0x57406e['id']===_0x4d6d6b['id']);_0xa05a94===-0x1&&(_0x296647['id']=_0x4d6d6b['id'],sessions[_0x8d02db(0x146)](_0x296647)),_0x5932b6(_0x296647);}if(_0x45f6de!==undefined){if(retriesQrCodeMap[_0x8d02db(0x17e)](_0x1471e4)&&retriesQrCodeMap[_0x8d02db(0x17e)](_0x1471e4)>=0x3)await _0x5efeed[_0x8d02db(0x16a)]({'status':_0x8d02db(0x164),'qrcode':''}),await(0x0,DeleteBaileysService_1[_0x8d02db(0x18c)])(_0x5efeed['id']),await cache_1[_0x8d02db(0x18c)]['delFromPattern'](_0x8d02db(0x13d)+_0x4d6d6b['id']+':*'),_0x24e9b1[_0x8d02db(0x133)](_0x8d02db(0x13b)+_0x4d6d6b['companyId']+_0x8d02db(0x140),{'action':_0x8d02db(0x16a),'session':_0x5efeed}),_0x296647['ev'][_0x8d02db(0x126)](_0x8d02db(0x137)),_0x296647['ws']['close'](),_0x296647=null,retriesQrCodeMap['delete'](_0x1471e4);else{logger_1[_0x8d02db(0x12f)]['info'](_0x8d02db(0x167)+_0x1b6ac6),retriesQrCodeMap[_0x8d02db(0x184)](_0x1471e4,_0x37d6bd+=0x1),await _0x4d6d6b[_0x8d02db(0x16a)]({'qrcode':_0x45f6de,'status':_0x8d02db(0x138),'retries':0x0,'number':''});const _0x2db032=sessions[_0x8d02db(0x130)](_0x4f367c=>_0x4f367c['id']===_0x4d6d6b['id']);_0x2db032===-0x1&&(_0x296647['id']=_0x4d6d6b['id'],sessions[_0x8d02db(0x146)](_0x296647)),_0x24e9b1[_0x8d02db(0x133)]('company-'+_0x4d6d6b[_0x8d02db(0x139)]+_0x8d02db(0x140),{'action':_0x8d02db(0x16a),'session':_0x4d6d6b});}}}),_0x296647['ev']['on'](_0x3899c0(0x175),_0x5dd017);})());}catch(_0x26989a){Sentry['captureException'](_0x26989a),console['log'](_0x26989a),_0x159f17(_0x26989a);}});};exports['initWASocket']=initWASocket;
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
