'use strict';const a256_0x46ffa3=a256_0x2c7c;(function(_0x1581e1,_0xb238ca){const _0x2228ec=a256_0x2c7c,_0x444bc6=_0x1581e1();while(!![]){try{const _0x305af4=-parseInt(_0x2228ec(0x12c))/0x1+parseInt(_0x2228ec(0x11c))/0x2*(-parseInt(_0x2228ec(0x128))/0x3)+-parseInt(_0x2228ec(0x11e))/0x4+parseInt(_0x2228ec(0x11d))/0x5+-parseInt(_0x2228ec(0x131))/0x6+parseInt(_0x2228ec(0x124))/0x7+-parseInt(_0x2228ec(0x129))/0x8*(-parseInt(_0x2228ec(0x12d))/0x9);if(_0x305af4===_0xb238ca)break;else _0x444bc6['push'](_0x444bc6['shift']());}catch(_0x334c75){_0x444bc6['push'](_0x444bc6['shift']());}}}(a256_0x51c0,0x4039d));var __importDefault=this&&this[a256_0x46ffa3(0x11a)]||function(_0x54a6c4){const _0x53bf28=a256_0x46ffa3;return _0x54a6c4&&_0x54a6c4[_0x53bf28(0x133)]?_0x54a6c4:{'default':_0x54a6c4};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a256_0x2c7c(_0x312a1e,_0x35361e){const _0x51c0a2=a256_0x51c0();return a256_0x2c7c=function(_0x2c7c17,_0x27016d){_0x2c7c17=_0x2c7c17-0x119;let _0x42f9ea=_0x51c0a2[_0x2c7c17];return _0x42f9ea;},a256_0x2c7c(_0x312a1e,_0x35361e);}function a256_0x51c0(){const _0x230218=['601976TgdOco','redis','bind','277538jnotVA','63DejCLF','getKeys','crypto-js/enc-base64','del','1047132QzWogH','promisify','__esModule','REDIS_URI_CONNECTION','setFromParams','../config/redis','encryptParams','set','getInstance','stringify','__importDefault','getFromParams','2ToRwZe','602815ztwScU','62080ACuUOJ','keys','util','get','instance','delFromParams','3140655ILuhbp','default','ioredis','all','1095924zSdKPq'];a256_0x51c0=function(){return _0x230218;};return a256_0x51c0();}const util_1=__importDefault(require(a256_0x46ffa3(0x120))),ioredis_1=__importDefault(require(a256_0x46ffa3(0x126))),hmac_sha512_1=__importDefault(require('crypto-js/hmac-sha512')),enc_base64_1=__importDefault(require(a256_0x46ffa3(0x12f))),redis_1=require(a256_0x46ffa3(0x136));class CacheSingleton{constructor(_0x122938){const _0x2b3e5a=a256_0x46ffa3;this[_0x2b3e5a(0x12a)]=_0x122938,this[_0x2b3e5a(0x138)]=util_1[_0x2b3e5a(0x125)][_0x2b3e5a(0x132)](this['redis']['set'])[_0x2b3e5a(0x12b)](this['redis']),this['get']=util_1[_0x2b3e5a(0x125)][_0x2b3e5a(0x132)](this[_0x2b3e5a(0x12a)]['get'])[_0x2b3e5a(0x12b)](this['redis']),this[_0x2b3e5a(0x11f)]=util_1[_0x2b3e5a(0x125)]['promisify'](this[_0x2b3e5a(0x12a)][_0x2b3e5a(0x11f)])[_0x2b3e5a(0x12b)](this[_0x2b3e5a(0x12a)]),this['del']=util_1[_0x2b3e5a(0x125)]['promisify'](this['redis'][_0x2b3e5a(0x130)])[_0x2b3e5a(0x12b)](this[_0x2b3e5a(0x12a)]);}static[a256_0x46ffa3(0x139)](_0xc440d7){const _0x3512ff=a256_0x46ffa3;return!CacheSingleton[_0x3512ff(0x122)]&&(CacheSingleton[_0x3512ff(0x122)]=new CacheSingleton(_0xc440d7)),CacheSingleton['instance'];}static['encryptParams'](_0x488ec6){const _0x4512b6=a256_0x46ffa3,_0x3dcb98=JSON[_0x4512b6(0x119)](_0x488ec6),_0x307938=enc_base64_1[_0x4512b6(0x125)][_0x4512b6(0x119)]((0x0,hmac_sha512_1[_0x4512b6(0x125)])(_0x488ec6,_0x3dcb98));return _0x307938;}async[a256_0x46ffa3(0x138)](_0x2907dc,_0x539655,_0x2ba498,_0x3920fb){const _0x70921c=a256_0x46ffa3,_0x155ff9=util_1[_0x70921c(0x125)][_0x70921c(0x132)](this[_0x70921c(0x12a)][_0x70921c(0x138)])[_0x70921c(0x12b)](this['redis']);if(_0x2ba498!==undefined&&_0x3920fb!==undefined)return _0x155ff9(_0x2907dc,_0x539655,_0x2ba498,_0x3920fb);return _0x155ff9(_0x2907dc,_0x539655);}async[a256_0x46ffa3(0x121)](_0x21e81c){const _0x286cd6=a256_0x46ffa3,_0x379ad5=util_1[_0x286cd6(0x125)]['promisify'](this['redis']['get'])[_0x286cd6(0x12b)](this[_0x286cd6(0x12a)]);return _0x379ad5(_0x21e81c);}async['getKeys'](_0x241409){const _0x16181c=a256_0x46ffa3,_0x15d1ef=util_1[_0x16181c(0x125)][_0x16181c(0x132)](this[_0x16181c(0x12a)]['keys'])[_0x16181c(0x12b)](this[_0x16181c(0x12a)]);return _0x15d1ef(_0x241409);}async['del'](_0x1e2bcb){const _0x22b9e4=a256_0x46ffa3,_0xa9250e=util_1['default'][_0x22b9e4(0x132)](this[_0x22b9e4(0x12a)][_0x22b9e4(0x130)])[_0x22b9e4(0x12b)](this[_0x22b9e4(0x12a)]);return _0xa9250e(_0x1e2bcb);}async['delFromPattern'](_0xb5ccc4){const _0x35c819=a256_0x46ffa3,_0x19c5b1=await this[_0x35c819(0x12e)](_0xb5ccc4);await Promise[_0x35c819(0x127)](_0x19c5b1['map'](_0x5ea4de=>this[_0x35c819(0x130)](_0x5ea4de)));}async[a256_0x46ffa3(0x135)](_0x546b53,_0x122c4f,_0x3ee865,_0x65338c,_0x2dbde0){const _0xf64428=a256_0x46ffa3,_0x4ae8a5=_0x546b53+':'+CacheSingleton[_0xf64428(0x137)](_0x122c4f);if(_0x65338c!==undefined&&_0x2dbde0!==undefined)return this[_0xf64428(0x138)](_0x4ae8a5,_0x3ee865,_0x65338c,_0x2dbde0);return this['set'](_0x4ae8a5,_0x3ee865);}async[a256_0x46ffa3(0x11b)](_0xad1f,_0x422366){const _0x41bfea=a256_0x46ffa3,_0x222181=_0xad1f+':'+CacheSingleton[_0x41bfea(0x137)](_0x422366);return this[_0x41bfea(0x121)](_0x222181);}async[a256_0x46ffa3(0x123)](_0x2d6597,_0x4cebf5){const _0x2c11aa=a256_0x46ffa3,_0x2617ce=_0x2d6597+':'+CacheSingleton[_0x2c11aa(0x137)](_0x4cebf5);return this[_0x2c11aa(0x130)](_0x2617ce);}['getRedisInstance'](){return this['redis'];}}const redisInstance=new ioredis_1[(a256_0x46ffa3(0x125))](redis_1[a256_0x46ffa3(0x134)]);exports[a256_0x46ffa3(0x125)]=CacheSingleton[a256_0x46ffa3(0x139)](redisInstance);