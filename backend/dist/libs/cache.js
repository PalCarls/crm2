'use strict';const a257_0x3f716b=a257_0x4ec9;(function(_0x2f91be,_0x24cd65){const _0x10bb25=a257_0x4ec9,_0x45ebef=_0x2f91be();while(!![]){try{const _0x587af4=-parseInt(_0x10bb25(0x1df))/0x1+parseInt(_0x10bb25(0x1ee))/0x2*(parseInt(_0x10bb25(0x1ed))/0x3)+-parseInt(_0x10bb25(0x1d6))/0x4+-parseInt(_0x10bb25(0x1e3))/0x5*(parseInt(_0x10bb25(0x1f0))/0x6)+-parseInt(_0x10bb25(0x1dd))/0x7+-parseInt(_0x10bb25(0x1da))/0x8+parseInt(_0x10bb25(0x1e1))/0x9;if(_0x587af4===_0x24cd65)break;else _0x45ebef['push'](_0x45ebef['shift']());}catch(_0x32344c){_0x45ebef['push'](_0x45ebef['shift']());}}}(a257_0x294a,0x601a6));function a257_0x294a(){const _0x3cd74f=['encryptParams','273536jjtMUJ','delFromParams','redis','getKeys','4475352mSgxCK','crypto-js/hmac-sha512','getFromParams','3838387nEMLjC','getInstance','537049JqKqUb','promisify','20805156pPiUNS','../config/redis','1086235JoWKVw','defineProperty','set','stringify','ioredis','all','__importDefault','REDIS_URI_CONNECTION','util','keys','6kPxpfN','12394rvVrYl','default','6rpglOj','bind','__esModule','delFromPattern','del','setFromParams','instance','get'];a257_0x294a=function(){return _0x3cd74f;};return a257_0x294a();}var __importDefault=this&&this[a257_0x3f716b(0x1e9)]||function(_0x1b826b){const _0x2def52=a257_0x3f716b;return _0x1b826b&&_0x1b826b[_0x2def52(0x1f2)]?_0x1b826b:{'default':_0x1b826b};};Object[a257_0x3f716b(0x1e4)](exports,'__esModule',{'value':!![]});const util_1=__importDefault(require(a257_0x3f716b(0x1eb))),ioredis_1=__importDefault(require(a257_0x3f716b(0x1e7))),hmac_sha512_1=__importDefault(require(a257_0x3f716b(0x1db))),enc_base64_1=__importDefault(require('crypto-js/enc-base64')),redis_1=require(a257_0x3f716b(0x1e2));class CacheSingleton{constructor(_0x2fb590){const _0x1c0a42=a257_0x3f716b;this[_0x1c0a42(0x1d8)]=_0x2fb590,this[_0x1c0a42(0x1e5)]=util_1[_0x1c0a42(0x1ef)][_0x1c0a42(0x1e0)](this[_0x1c0a42(0x1d8)][_0x1c0a42(0x1e5)])['bind'](this[_0x1c0a42(0x1d8)]),this[_0x1c0a42(0x1f7)]=util_1['default'][_0x1c0a42(0x1e0)](this[_0x1c0a42(0x1d8)][_0x1c0a42(0x1f7)])[_0x1c0a42(0x1f1)](this[_0x1c0a42(0x1d8)]),this[_0x1c0a42(0x1ec)]=util_1[_0x1c0a42(0x1ef)][_0x1c0a42(0x1e0)](this[_0x1c0a42(0x1d8)]['keys'])[_0x1c0a42(0x1f1)](this[_0x1c0a42(0x1d8)]),this['del']=util_1[_0x1c0a42(0x1ef)][_0x1c0a42(0x1e0)](this[_0x1c0a42(0x1d8)][_0x1c0a42(0x1f4)])[_0x1c0a42(0x1f1)](this[_0x1c0a42(0x1d8)]);}static[a257_0x3f716b(0x1de)](_0x532303){const _0x6bc4bc=a257_0x3f716b;return!CacheSingleton['instance']&&(CacheSingleton[_0x6bc4bc(0x1f6)]=new CacheSingleton(_0x532303)),CacheSingleton['instance'];}static[a257_0x3f716b(0x1d5)](_0x6c10e0){const _0x4b795e=a257_0x3f716b,_0x467d16=JSON[_0x4b795e(0x1e6)](_0x6c10e0),_0x56c976=enc_base64_1['default'][_0x4b795e(0x1e6)]((0x0,hmac_sha512_1[_0x4b795e(0x1ef)])(_0x6c10e0,_0x467d16));return _0x56c976;}async[a257_0x3f716b(0x1e5)](_0x3c9ba6,_0x597e48,_0x20525,_0x566080){const _0xdb1dfe=a257_0x3f716b,_0xfe4435=util_1[_0xdb1dfe(0x1ef)][_0xdb1dfe(0x1e0)](this[_0xdb1dfe(0x1d8)]['set'])['bind'](this[_0xdb1dfe(0x1d8)]);if(_0x20525!==undefined&&_0x566080!==undefined)return _0xfe4435(_0x3c9ba6,_0x597e48,_0x20525,_0x566080);return _0xfe4435(_0x3c9ba6,_0x597e48);}async[a257_0x3f716b(0x1f7)](_0x2eaf85){const _0xc9d15d=a257_0x3f716b,_0x11b7b4=util_1['default']['promisify'](this[_0xc9d15d(0x1d8)][_0xc9d15d(0x1f7)])[_0xc9d15d(0x1f1)](this[_0xc9d15d(0x1d8)]);return _0x11b7b4(_0x2eaf85);}async['getKeys'](_0x350ba1){const _0x3180cf=a257_0x3f716b,_0x31ef2e=util_1[_0x3180cf(0x1ef)]['promisify'](this[_0x3180cf(0x1d8)][_0x3180cf(0x1ec)])['bind'](this[_0x3180cf(0x1d8)]);return _0x31ef2e(_0x350ba1);}async[a257_0x3f716b(0x1f4)](_0x1f851a){const _0x14b628=a257_0x3f716b,_0x16b011=util_1[_0x14b628(0x1ef)][_0x14b628(0x1e0)](this['redis'][_0x14b628(0x1f4)])[_0x14b628(0x1f1)](this[_0x14b628(0x1d8)]);return _0x16b011(_0x1f851a);}async[a257_0x3f716b(0x1f3)](_0x147043){const _0x13d9aa=a257_0x3f716b,_0x2f5f1c=await this[_0x13d9aa(0x1d9)](_0x147043);await Promise[_0x13d9aa(0x1e8)](_0x2f5f1c['map'](_0x304e9f=>this[_0x13d9aa(0x1f4)](_0x304e9f)));}async[a257_0x3f716b(0x1f5)](_0x52dc35,_0x2eacb2,_0x288d26,_0x5b3fe8,_0x250794){const _0x451f4e=a257_0x3f716b,_0x7e460e=_0x52dc35+':'+CacheSingleton[_0x451f4e(0x1d5)](_0x2eacb2);if(_0x5b3fe8!==undefined&&_0x250794!==undefined)return this[_0x451f4e(0x1e5)](_0x7e460e,_0x288d26,_0x5b3fe8,_0x250794);return this['set'](_0x7e460e,_0x288d26);}async[a257_0x3f716b(0x1dc)](_0x2e4d81,_0x35f77e){const _0x59fbc2=a257_0x3f716b,_0x174b4f=_0x2e4d81+':'+CacheSingleton[_0x59fbc2(0x1d5)](_0x35f77e);return this[_0x59fbc2(0x1f7)](_0x174b4f);}async[a257_0x3f716b(0x1d7)](_0x468828,_0x45a46a){const _0x128a51=a257_0x3f716b,_0x4d71ce=_0x468828+':'+CacheSingleton[_0x128a51(0x1d5)](_0x45a46a);return this[_0x128a51(0x1f4)](_0x4d71ce);}['getRedisInstance'](){const _0x399cc7=a257_0x3f716b;return this[_0x399cc7(0x1d8)];}}function a257_0x4ec9(_0x3ccbaf,_0x1db11c){const _0x294a01=a257_0x294a();return a257_0x4ec9=function(_0x4ec9b7,_0xff7114){_0x4ec9b7=_0x4ec9b7-0x1d5;let _0x5a337f=_0x294a01[_0x4ec9b7];return _0x5a337f;},a257_0x4ec9(_0x3ccbaf,_0x1db11c);}const redisInstance=new ioredis_1[(a257_0x3f716b(0x1ef))](redis_1[a257_0x3f716b(0x1ea)]);exports[a257_0x3f716b(0x1ef)]=CacheSingleton[a257_0x3f716b(0x1de)](redisInstance);