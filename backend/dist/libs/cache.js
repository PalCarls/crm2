'use strict';function a266_0x5986(_0xfd5e27,_0x5babb1){const _0x21043f=a266_0x2104();return a266_0x5986=function(_0x59868f,_0x482560){_0x59868f=_0x59868f-0x12b;let _0x30c4da=_0x21043f[_0x59868f];return _0x30c4da;},a266_0x5986(_0xfd5e27,_0x5babb1);}const a266_0x4fee7a=a266_0x5986;(function(_0x12362f,_0x2195d8){const _0x5e991b=a266_0x5986,_0x14da20=_0x12362f();while(!![]){try{const _0x351190=parseInt(_0x5e991b(0x12d))/0x1*(-parseInt(_0x5e991b(0x138))/0x2)+-parseInt(_0x5e991b(0x137))/0x3+-parseInt(_0x5e991b(0x13a))/0x4+-parseInt(_0x5e991b(0x14c))/0x5*(parseInt(_0x5e991b(0x13b))/0x6)+parseInt(_0x5e991b(0x139))/0x7*(parseInt(_0x5e991b(0x136))/0x8)+parseInt(_0x5e991b(0x149))/0x9*(parseInt(_0x5e991b(0x12b))/0xa)+parseInt(_0x5e991b(0x13d))/0xb*(parseInt(_0x5e991b(0x143))/0xc);if(_0x351190===_0x2195d8)break;else _0x14da20['push'](_0x14da20['shift']());}catch(_0x11fdc0){_0x14da20['push'](_0x14da20['shift']());}}}(a266_0x2104,0x85956));var __importDefault=this&&this[a266_0x4fee7a(0x148)]||function(_0x1200c0){const _0xe5620b=a266_0x4fee7a;return _0x1200c0&&_0x1200c0[_0xe5620b(0x133)]?_0x1200c0:{'default':_0x1200c0};};Object[a266_0x4fee7a(0x147)](exports,a266_0x4fee7a(0x133),{'value':!![]});const util_1=__importDefault(require(a266_0x4fee7a(0x140))),ioredis_1=__importDefault(require(a266_0x4fee7a(0x141))),hmac_sha512_1=__importDefault(require('crypto-js/hmac-sha512')),enc_base64_1=__importDefault(require('crypto-js/enc-base64')),redis_1=require('../config/redis');class CacheSingleton{constructor(_0xd04424){const _0x47bc38=a266_0x4fee7a;this[_0x47bc38(0x132)]=_0xd04424,this[_0x47bc38(0x144)]=util_1[_0x47bc38(0x14a)][_0x47bc38(0x135)](this[_0x47bc38(0x132)][_0x47bc38(0x144)])[_0x47bc38(0x145)](this['redis']),this['get']=util_1[_0x47bc38(0x14a)][_0x47bc38(0x135)](this[_0x47bc38(0x132)][_0x47bc38(0x131)])[_0x47bc38(0x145)](this['redis']),this[_0x47bc38(0x134)]=util_1[_0x47bc38(0x14a)]['promisify'](this[_0x47bc38(0x132)][_0x47bc38(0x134)])[_0x47bc38(0x145)](this[_0x47bc38(0x132)]),this[_0x47bc38(0x146)]=util_1[_0x47bc38(0x14a)]['promisify'](this['redis']['del'])[_0x47bc38(0x145)](this['redis']);}static[a266_0x4fee7a(0x13e)](_0x3fcbe5){const _0x16c0e4=a266_0x4fee7a;return!CacheSingleton[_0x16c0e4(0x142)]&&(CacheSingleton[_0x16c0e4(0x142)]=new CacheSingleton(_0x3fcbe5)),CacheSingleton[_0x16c0e4(0x142)];}static['encryptParams'](_0x1ee277){const _0x39686a=a266_0x4fee7a,_0x57a9ec=JSON[_0x39686a(0x12f)](_0x1ee277),_0x567773=enc_base64_1['default'][_0x39686a(0x12f)]((0x0,hmac_sha512_1[_0x39686a(0x14a)])(_0x1ee277,_0x57a9ec));return _0x567773;}async['set'](_0x2f6376,_0x4a7944,_0x1bff5e,_0x355ed9){const _0x40cdd3=a266_0x4fee7a,_0x111a72=util_1['default']['promisify'](this['redis'][_0x40cdd3(0x144)])[_0x40cdd3(0x145)](this[_0x40cdd3(0x132)]);if(_0x1bff5e!==undefined&&_0x355ed9!==undefined)return _0x111a72(_0x2f6376,_0x4a7944,_0x1bff5e,_0x355ed9);return _0x111a72(_0x2f6376,_0x4a7944);}async[a266_0x4fee7a(0x131)](_0x110194){const _0x1c72c3=a266_0x4fee7a,_0x2ec768=util_1[_0x1c72c3(0x14a)][_0x1c72c3(0x135)](this['redis'][_0x1c72c3(0x131)])['bind'](this[_0x1c72c3(0x132)]);return _0x2ec768(_0x110194);}async[a266_0x4fee7a(0x12e)](_0x1ccdb0){const _0x12309e=a266_0x4fee7a,_0x2ec2af=util_1[_0x12309e(0x14a)][_0x12309e(0x135)](this['redis'][_0x12309e(0x134)])['bind'](this['redis']);return _0x2ec2af(_0x1ccdb0);}async[a266_0x4fee7a(0x146)](_0x3ac402){const _0x47e477=a266_0x4fee7a,_0x376723=util_1[_0x47e477(0x14a)]['promisify'](this[_0x47e477(0x132)][_0x47e477(0x146)])[_0x47e477(0x145)](this[_0x47e477(0x132)]);return _0x376723(_0x3ac402);}async[a266_0x4fee7a(0x13f)](_0x5b29c9){const _0x4ca96e=a266_0x4fee7a,_0x4eebd9=await this[_0x4ca96e(0x12e)](_0x5b29c9);await Promise['all'](_0x4eebd9[_0x4ca96e(0x130)](_0x541e87=>this[_0x4ca96e(0x146)](_0x541e87)));}async['setFromParams'](_0x30160c,_0x3ee7a4,_0x5ed50b,_0x38ebad,_0x4927c5){const _0x3baa5d=a266_0x4fee7a,_0x11b9a5=_0x30160c+':'+CacheSingleton[_0x3baa5d(0x13c)](_0x3ee7a4);if(_0x38ebad!==undefined&&_0x4927c5!==undefined)return this['set'](_0x11b9a5,_0x5ed50b,_0x38ebad,_0x4927c5);return this['set'](_0x11b9a5,_0x5ed50b);}async['getFromParams'](_0x141002,_0x1be6aa){const _0x263db1=a266_0x4fee7a,_0x49c578=_0x141002+':'+CacheSingleton['encryptParams'](_0x1be6aa);return this[_0x263db1(0x131)](_0x49c578);}async[a266_0x4fee7a(0x12c)](_0x352aee,_0x31118f){const _0x43bbd6=_0x352aee+':'+CacheSingleton['encryptParams'](_0x31118f);return this['del'](_0x43bbd6);}['getRedisInstance'](){return this['redis'];}}const redisInstance=new ioredis_1[(a266_0x4fee7a(0x14a))](redis_1[a266_0x4fee7a(0x14b)]);exports['default']=CacheSingleton[a266_0x4fee7a(0x13e)](redisInstance);function a266_0x2104(){const _0x357b3d=['REDIS_URI_CONNECTION','20NttUuh','10JOIsqX','delFromParams','995056nYuEHJ','getKeys','stringify','map','get','redis','__esModule','keys','promisify','16NBjDcS','904158SNFOds','2RvTpyH','2290715Hicswj','1570032foUrVc','1099368qYZhPV','encryptParams','11wbuaeC','getInstance','delFromPattern','util','ioredis','instance','21064716wEzwkC','set','bind','del','defineProperty','__importDefault','5032233UIJeed','default'];a266_0x2104=function(){return _0x357b3d;};return a266_0x2104();}