'use strict';const a292_0x4565ad=a292_0x1b5d;(function(_0x5f345d,_0x1b72c9){const _0x3c67f4=a292_0x1b5d,_0xe86fbf=_0x5f345d();while(!![]){try{const _0x3084c4=parseInt(_0x3c67f4(0xe4))/0x1*(-parseInt(_0x3c67f4(0xf0))/0x2)+-parseInt(_0x3c67f4(0xed))/0x3*(-parseInt(_0x3c67f4(0xf3))/0x4)+-parseInt(_0x3c67f4(0xdf))/0x5+parseInt(_0x3c67f4(0xf6))/0x6*(-parseInt(_0x3c67f4(0xf1))/0x7)+-parseInt(_0x3c67f4(0xe9))/0x8*(-parseInt(_0x3c67f4(0xe0))/0x9)+parseInt(_0x3c67f4(0xf4))/0xa+-parseInt(_0x3c67f4(0xd7))/0xb*(-parseInt(_0x3c67f4(0xd6))/0xc);if(_0x3084c4===_0x1b72c9)break;else _0xe86fbf['push'](_0xe86fbf['shift']());}catch(_0x1d42d3){_0xe86fbf['push'](_0xe86fbf['shift']());}}}(a292_0x18aa,0x65800));function a292_0x18aa(){const _0x4d3703=['crypto-js/enc-base64','ioredis','364EOErdW','332038YzschP','instance','12btGHYf','405730QrRmpw','stringify','78LEJNiG','map','set','2432388rwDFuC','77FPHoiq','keys','getRedisInstance','util','setFromParams','del','bind','delFromParams','3806140dmlMXZ','181827PfmINX','delFromPattern','get','default','4534ckMWdR','crypto-js/hmac-sha512','getFromParams','defineProperty','getKeys','200BDIStf','promisify','encryptParams','redis','654261XcUomP'];a292_0x18aa=function(){return _0x4d3703;};return a292_0x18aa();}function a292_0x1b5d(_0x139311,_0x5d311e){const _0x18aaf9=a292_0x18aa();return a292_0x1b5d=function(_0x1b5d53,_0x429b98){_0x1b5d53=_0x1b5d53-0xd4;let _0x244fc3=_0x18aaf9[_0x1b5d53];return _0x244fc3;},a292_0x1b5d(_0x139311,_0x5d311e);}var __importDefault=this&&this['__importDefault']||function(_0x1ae6bc){return _0x1ae6bc&&_0x1ae6bc['__esModule']?_0x1ae6bc:{'default':_0x1ae6bc};};Object[a292_0x4565ad(0xe7)](exports,'__esModule',{'value':!![]});const util_1=__importDefault(require(a292_0x4565ad(0xda))),ioredis_1=__importDefault(require(a292_0x4565ad(0xef))),hmac_sha512_1=__importDefault(require(a292_0x4565ad(0xe5))),enc_base64_1=__importDefault(require(a292_0x4565ad(0xee))),redis_1=require('../config/redis');class CacheSingleton{constructor(_0x564441){const _0x90800=a292_0x4565ad;this[_0x90800(0xec)]=_0x564441,this['set']=util_1[_0x90800(0xe3)][_0x90800(0xea)](this[_0x90800(0xec)][_0x90800(0xd5)])[_0x90800(0xdd)](this[_0x90800(0xec)]),this['get']=util_1[_0x90800(0xe3)][_0x90800(0xea)](this[_0x90800(0xec)][_0x90800(0xe2)])[_0x90800(0xdd)](this['redis']),this[_0x90800(0xd8)]=util_1[_0x90800(0xe3)][_0x90800(0xea)](this[_0x90800(0xec)][_0x90800(0xd8)])[_0x90800(0xdd)](this[_0x90800(0xec)]),this['del']=util_1['default'][_0x90800(0xea)](this[_0x90800(0xec)]['del'])['bind'](this[_0x90800(0xec)]);}static['getInstance'](_0x537b0a){const _0x5e8c3f=a292_0x4565ad;return!CacheSingleton[_0x5e8c3f(0xf2)]&&(CacheSingleton[_0x5e8c3f(0xf2)]=new CacheSingleton(_0x537b0a)),CacheSingleton[_0x5e8c3f(0xf2)];}static['encryptParams'](_0x342c88){const _0x401760=a292_0x4565ad,_0x53a7a3=JSON[_0x401760(0xf5)](_0x342c88),_0x271fca=enc_base64_1[_0x401760(0xe3)][_0x401760(0xf5)]((0x0,hmac_sha512_1[_0x401760(0xe3)])(_0x342c88,_0x53a7a3));return _0x271fca;}async['set'](_0x53410a,_0x8a58a2,_0x2b45ca,_0x32dfca){const _0x422b71=a292_0x4565ad,_0x391521=util_1[_0x422b71(0xe3)][_0x422b71(0xea)](this[_0x422b71(0xec)][_0x422b71(0xd5)])[_0x422b71(0xdd)](this['redis']);if(_0x2b45ca!==undefined&&_0x32dfca!==undefined)return _0x391521(_0x53410a,_0x8a58a2,_0x2b45ca,_0x32dfca);return _0x391521(_0x53410a,_0x8a58a2);}async['get'](_0x5a90d7){const _0x32e200=a292_0x4565ad,_0x4f1eee=util_1[_0x32e200(0xe3)][_0x32e200(0xea)](this[_0x32e200(0xec)]['get'])[_0x32e200(0xdd)](this['redis']);return _0x4f1eee(_0x5a90d7);}async[a292_0x4565ad(0xe8)](_0x5b79b8){const _0x39bd24=a292_0x4565ad,_0x4cec62=util_1[_0x39bd24(0xe3)][_0x39bd24(0xea)](this[_0x39bd24(0xec)][_0x39bd24(0xd8)])['bind'](this[_0x39bd24(0xec)]);return _0x4cec62(_0x5b79b8);}async[a292_0x4565ad(0xdc)](_0x4d7439){const _0x3a01a0=a292_0x4565ad,_0x2e3169=util_1['default'][_0x3a01a0(0xea)](this[_0x3a01a0(0xec)][_0x3a01a0(0xdc)])[_0x3a01a0(0xdd)](this[_0x3a01a0(0xec)]);return _0x2e3169(_0x4d7439);}async[a292_0x4565ad(0xe1)](_0x5eaf1a){const _0xb4297b=a292_0x4565ad,_0x5c8c17=await this[_0xb4297b(0xe8)](_0x5eaf1a);await Promise['all'](_0x5c8c17[_0xb4297b(0xd4)](_0x41dd26=>this['del'](_0x41dd26)));}async[a292_0x4565ad(0xdb)](_0x5bcab4,_0x5e65dc,_0x475ab7,_0x53107d,_0x47c680){const _0x2006e2=a292_0x4565ad,_0x2e285d=_0x5bcab4+':'+CacheSingleton[_0x2006e2(0xeb)](_0x5e65dc);if(_0x53107d!==undefined&&_0x47c680!==undefined)return this[_0x2006e2(0xd5)](_0x2e285d,_0x475ab7,_0x53107d,_0x47c680);return this[_0x2006e2(0xd5)](_0x2e285d,_0x475ab7);}async[a292_0x4565ad(0xe6)](_0x5daf8e,_0x575c8f){const _0x55ac5a=a292_0x4565ad,_0x33de51=_0x5daf8e+':'+CacheSingleton[_0x55ac5a(0xeb)](_0x575c8f);return this[_0x55ac5a(0xe2)](_0x33de51);}async[a292_0x4565ad(0xde)](_0x3548c5,_0x16505e){const _0x47e632=a292_0x4565ad,_0x58a79c=_0x3548c5+':'+CacheSingleton[_0x47e632(0xeb)](_0x16505e);return this[_0x47e632(0xdc)](_0x58a79c);}[a292_0x4565ad(0xd9)](){const _0x33cbca=a292_0x4565ad;return this[_0x33cbca(0xec)];}}const redisInstance=new ioredis_1['default'](redis_1['REDIS_URI_CONNECTION']);exports[a292_0x4565ad(0xe3)]=CacheSingleton['getInstance'](redisInstance);