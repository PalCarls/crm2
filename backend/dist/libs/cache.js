'use strict';const a271_0x331548=a271_0x5845;function a271_0x5845(_0x408da4,_0x5cf83d){const _0x8c1167=a271_0x8c11();return a271_0x5845=function(_0x584568,_0x1efc3f){_0x584568=_0x584568-0x184;let _0x310548=_0x8c1167[_0x584568];return _0x310548;},a271_0x5845(_0x408da4,_0x5cf83d);}(function(_0x432d7c,_0xc844be){const _0x33f9e7=a271_0x5845,_0x4e5959=_0x432d7c();while(!![]){try{const _0x394bca=parseInt(_0x33f9e7(0x18d))/0x1*(parseInt(_0x33f9e7(0x194))/0x2)+-parseInt(_0x33f9e7(0x18b))/0x3*(parseInt(_0x33f9e7(0x187))/0x4)+-parseInt(_0x33f9e7(0x18c))/0x5*(-parseInt(_0x33f9e7(0x184))/0x6)+-parseInt(_0x33f9e7(0x185))/0x7*(-parseInt(_0x33f9e7(0x196))/0x8)+parseInt(_0x33f9e7(0x192))/0x9*(parseInt(_0x33f9e7(0x1a3))/0xa)+-parseInt(_0x33f9e7(0x195))/0xb*(-parseInt(_0x33f9e7(0x1a1))/0xc)+-parseInt(_0x33f9e7(0x18f))/0xd;if(_0x394bca===_0xc844be)break;else _0x4e5959['push'](_0x4e5959['shift']());}catch(_0x5102ac){_0x4e5959['push'](_0x4e5959['shift']());}}}(a271_0x8c11,0x97732));var __importDefault=this&&this['__importDefault']||function(_0xa43496){const _0x23f6c1=a271_0x5845;return _0xa43496&&_0xa43496[_0x23f6c1(0x19b)]?_0xa43496:{'default':_0xa43496};};Object[a271_0x331548(0x18a)](exports,a271_0x331548(0x19b),{'value':!![]});const util_1=__importDefault(require(a271_0x331548(0x189))),ioredis_1=__importDefault(require(a271_0x331548(0x1a6))),hmac_sha512_1=__importDefault(require('crypto-js/hmac-sha512')),enc_base64_1=__importDefault(require(a271_0x331548(0x19e))),redis_1=require(a271_0x331548(0x1a4));class CacheSingleton{constructor(_0x3ca979){const _0x18d576=a271_0x331548;this[_0x18d576(0x186)]=_0x3ca979,this['set']=util_1['default']['promisify'](this[_0x18d576(0x186)][_0x18d576(0x188)])[_0x18d576(0x1a5)](this[_0x18d576(0x186)]),this[_0x18d576(0x19a)]=util_1[_0x18d576(0x19c)][_0x18d576(0x199)](this[_0x18d576(0x186)][_0x18d576(0x19a)])[_0x18d576(0x1a5)](this[_0x18d576(0x186)]),this['keys']=util_1[_0x18d576(0x19c)][_0x18d576(0x199)](this[_0x18d576(0x186)][_0x18d576(0x1a2)])[_0x18d576(0x1a5)](this[_0x18d576(0x186)]),this[_0x18d576(0x18e)]=util_1[_0x18d576(0x19c)][_0x18d576(0x199)](this['redis']['del'])['bind'](this[_0x18d576(0x186)]);}static[a271_0x331548(0x198)](_0x4d0e00){const _0x40d19f=a271_0x331548;return!CacheSingleton['instance']&&(CacheSingleton[_0x40d19f(0x193)]=new CacheSingleton(_0x4d0e00)),CacheSingleton[_0x40d19f(0x193)];}static[a271_0x331548(0x190)](_0x43ee05){const _0x4585ed=a271_0x331548,_0x1dd339=JSON[_0x4585ed(0x1a0)](_0x43ee05),_0x5d6bb5=enc_base64_1[_0x4585ed(0x19c)][_0x4585ed(0x1a0)]((0x0,hmac_sha512_1[_0x4585ed(0x19c)])(_0x43ee05,_0x1dd339));return _0x5d6bb5;}async['set'](_0x3c4dde,_0xce9fd2,_0x2f4c9a,_0x41a0bb){const _0x56b5be=a271_0x331548,_0x33158f=util_1['default'][_0x56b5be(0x199)](this[_0x56b5be(0x186)][_0x56b5be(0x188)])[_0x56b5be(0x1a5)](this['redis']);if(_0x2f4c9a!==undefined&&_0x41a0bb!==undefined)return _0x33158f(_0x3c4dde,_0xce9fd2,_0x2f4c9a,_0x41a0bb);return _0x33158f(_0x3c4dde,_0xce9fd2);}async[a271_0x331548(0x19a)](_0x1d0c2d){const _0x485056=a271_0x331548,_0x2ea583=util_1[_0x485056(0x19c)]['promisify'](this['redis'][_0x485056(0x19a)])[_0x485056(0x1a5)](this['redis']);return _0x2ea583(_0x1d0c2d);}async[a271_0x331548(0x19f)](_0x5e2c0d){const _0x10ac07=a271_0x331548,_0x17c968=util_1[_0x10ac07(0x19c)]['promisify'](this['redis'][_0x10ac07(0x1a2)])[_0x10ac07(0x1a5)](this[_0x10ac07(0x186)]);return _0x17c968(_0x5e2c0d);}async[a271_0x331548(0x18e)](_0x494ed0){const _0x25a54e=a271_0x331548,_0x3a29dd=util_1[_0x25a54e(0x19c)][_0x25a54e(0x199)](this[_0x25a54e(0x186)][_0x25a54e(0x18e)])['bind'](this[_0x25a54e(0x186)]);return _0x3a29dd(_0x494ed0);}async['delFromPattern'](_0x13af5e){const _0xe14ed4=a271_0x331548,_0x3484ae=await this[_0xe14ed4(0x19f)](_0x13af5e);await Promise[_0xe14ed4(0x197)](_0x3484ae['map'](_0x4794b2=>this[_0xe14ed4(0x18e)](_0x4794b2)));}async['setFromParams'](_0x402c69,_0x1900c0,_0x2fcab5,_0x2e050a,_0x5bf4eb){const _0x5d5b97=a271_0x331548,_0x51253c=_0x402c69+':'+CacheSingleton[_0x5d5b97(0x190)](_0x1900c0);if(_0x2e050a!==undefined&&_0x5bf4eb!==undefined)return this[_0x5d5b97(0x188)](_0x51253c,_0x2fcab5,_0x2e050a,_0x5bf4eb);return this[_0x5d5b97(0x188)](_0x51253c,_0x2fcab5);}async['getFromParams'](_0x4de032,_0x4aff6f){const _0x12acc2=a271_0x331548,_0x146c59=_0x4de032+':'+CacheSingleton[_0x12acc2(0x190)](_0x4aff6f);return this[_0x12acc2(0x19a)](_0x146c59);}async[a271_0x331548(0x191)](_0x58e12a,_0x5dbbdc){const _0x1c1e3f=a271_0x331548,_0x346c5f=_0x58e12a+':'+CacheSingleton[_0x1c1e3f(0x190)](_0x5dbbdc);return this['del'](_0x346c5f);}['getRedisInstance'](){return this['redis'];}}const redisInstance=new ioredis_1[(a271_0x331548(0x19c))](redis_1[a271_0x331548(0x19d)]);exports[a271_0x331548(0x19c)]=CacheSingleton[a271_0x331548(0x198)](redisInstance);function a271_0x8c11(){const _0x22e33b=['20LEbcpO','set','util','defineProperty','118698tLSMTi','5QXfRlb','1767ChkTGX','del','30087954EYqOmp','encryptParams','delFromParams','10917VShUOR','instance','914HSKTLF','220uWxpfE','7867456uVxfNf','all','getInstance','promisify','get','__esModule','default','REDIS_URI_CONNECTION','crypto-js/enc-base64','getKeys','stringify','411024Nphuvn','keys','2810hTTSAR','../config/redis','bind','ioredis','1894692zuwRiG','7zroGDx','redis'];a271_0x8c11=function(){return _0x22e33b;};return a271_0x8c11();}