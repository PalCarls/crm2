'use strict';const a299_0x44f205=a299_0x4163;(function(_0x294bc4,_0x3cbf2b){const _0x5ec760=a299_0x4163,_0x3e6180=_0x294bc4();while(!![]){try{const _0x3fe64f=-parseInt(_0x5ec760(0x84))/0x1*(parseInt(_0x5ec760(0x89))/0x2)+parseInt(_0x5ec760(0x86))/0x3+-parseInt(_0x5ec760(0x6f))/0x4+-parseInt(_0x5ec760(0x7e))/0x5+parseInt(_0x5ec760(0x6b))/0x6*(parseInt(_0x5ec760(0x8b))/0x7)+-parseInt(_0x5ec760(0x77))/0x8*(parseInt(_0x5ec760(0x6a))/0x9)+parseInt(_0x5ec760(0x83))/0xa;if(_0x3fe64f===_0x3cbf2b)break;else _0x3e6180['push'](_0x3e6180['shift']());}catch(_0x113e5a){_0x3e6180['push'](_0x3e6180['shift']());}}}(a299_0x4c16,0x28380));var __importDefault=this&&this[a299_0x44f205(0x88)]||function(_0x3846bb){const _0x7a1d42=a299_0x44f205;return _0x3846bb&&_0x3846bb[_0x7a1d42(0x6d)]?_0x3846bb:{'default':_0x3846bb};};Object[a299_0x44f205(0x85)](exports,a299_0x44f205(0x6d),{'value':!![]});function a299_0x4c16(){const _0x326a3d=['promisify','1028060MuHlCk','getFromParams','getRedisInstance','redis','default','setFromParams','encryptParams','bind','8kzNNne','getInstance','instance','crypto-js/hmac-sha512','../config/redis','keys','util','302295dylXhU','ioredis','all','set','del','8094840OnJjPz','1RdIbrQ','defineProperty','221286UADybE','get','__importDefault','617348hIvehh','getKeys','153839vSxTJm','delFromParams','1424637RhVMEM','18HIbmlp','REDIS_URI_CONNECTION','__esModule'];a299_0x4c16=function(){return _0x326a3d;};return a299_0x4c16();}const util_1=__importDefault(require(a299_0x44f205(0x7d))),ioredis_1=__importDefault(require(a299_0x44f205(0x7f))),hmac_sha512_1=__importDefault(require(a299_0x44f205(0x7a))),enc_base64_1=__importDefault(require('crypto-js/enc-base64')),redis_1=require(a299_0x44f205(0x7b));class CacheSingleton{constructor(_0x2bf69){const _0x16488e=a299_0x44f205;this[_0x16488e(0x72)]=_0x2bf69,this['set']=util_1[_0x16488e(0x73)][_0x16488e(0x6e)](this[_0x16488e(0x72)][_0x16488e(0x81)])['bind'](this[_0x16488e(0x72)]),this['get']=util_1[_0x16488e(0x73)][_0x16488e(0x6e)](this[_0x16488e(0x72)][_0x16488e(0x87)])[_0x16488e(0x76)](this['redis']),this[_0x16488e(0x7c)]=util_1[_0x16488e(0x73)][_0x16488e(0x6e)](this[_0x16488e(0x72)][_0x16488e(0x7c)])[_0x16488e(0x76)](this[_0x16488e(0x72)]),this[_0x16488e(0x82)]=util_1['default'][_0x16488e(0x6e)](this['redis'][_0x16488e(0x82)])['bind'](this[_0x16488e(0x72)]);}static['getInstance'](_0x231d90){const _0x133308=a299_0x44f205;return!CacheSingleton[_0x133308(0x79)]&&(CacheSingleton['instance']=new CacheSingleton(_0x231d90)),CacheSingleton[_0x133308(0x79)];}static['encryptParams'](_0x3e8602){const _0x190979=a299_0x44f205,_0x26ea73=JSON['stringify'](_0x3e8602),_0x58c4e6=enc_base64_1['default']['stringify']((0x0,hmac_sha512_1[_0x190979(0x73)])(_0x3e8602,_0x26ea73));return _0x58c4e6;}async[a299_0x44f205(0x81)](_0x59cf62,_0x2ccdaf,_0x4e0f47,_0x581d3f){const _0x3ca689=a299_0x44f205,_0x137085=util_1[_0x3ca689(0x73)]['promisify'](this['redis'][_0x3ca689(0x81)])[_0x3ca689(0x76)](this[_0x3ca689(0x72)]);if(_0x4e0f47!==undefined&&_0x581d3f!==undefined)return _0x137085(_0x59cf62,_0x2ccdaf,_0x4e0f47,_0x581d3f);return _0x137085(_0x59cf62,_0x2ccdaf);}async[a299_0x44f205(0x87)](_0x5f47ac){const _0x447bc7=a299_0x44f205,_0x47773f=util_1[_0x447bc7(0x73)][_0x447bc7(0x6e)](this['redis'][_0x447bc7(0x87)])['bind'](this[_0x447bc7(0x72)]);return _0x47773f(_0x5f47ac);}async['getKeys'](_0x50ea9a){const _0x4c9531=a299_0x44f205,_0x15a471=util_1['default'][_0x4c9531(0x6e)](this[_0x4c9531(0x72)]['keys'])[_0x4c9531(0x76)](this[_0x4c9531(0x72)]);return _0x15a471(_0x50ea9a);}async[a299_0x44f205(0x82)](_0x3c65b9){const _0x1261b3=a299_0x44f205,_0x3f5606=util_1[_0x1261b3(0x73)][_0x1261b3(0x6e)](this['redis']['del'])[_0x1261b3(0x76)](this[_0x1261b3(0x72)]);return _0x3f5606(_0x3c65b9);}async['delFromPattern'](_0x1b3591){const _0xbca2fc=a299_0x44f205,_0x4f9632=await this[_0xbca2fc(0x8a)](_0x1b3591);await Promise[_0xbca2fc(0x80)](_0x4f9632['map'](_0x1607f8=>this[_0xbca2fc(0x82)](_0x1607f8)));}async[a299_0x44f205(0x74)](_0x5bd6e7,_0x317c0e,_0x5ba959,_0x32a54d,_0x2e1b59){const _0x500b83=a299_0x44f205,_0x5022dd=_0x5bd6e7+':'+CacheSingleton[_0x500b83(0x75)](_0x317c0e);if(_0x32a54d!==undefined&&_0x2e1b59!==undefined)return this[_0x500b83(0x81)](_0x5022dd,_0x5ba959,_0x32a54d,_0x2e1b59);return this['set'](_0x5022dd,_0x5ba959);}async[a299_0x44f205(0x70)](_0x562825,_0x26073c){const _0x1a7c59=a299_0x44f205,_0x12efc9=_0x562825+':'+CacheSingleton[_0x1a7c59(0x75)](_0x26073c);return this[_0x1a7c59(0x87)](_0x12efc9);}async[a299_0x44f205(0x8c)](_0x9dea9e,_0x41ce36){const _0x46233e=a299_0x44f205,_0x2f68e5=_0x9dea9e+':'+CacheSingleton[_0x46233e(0x75)](_0x41ce36);return this['del'](_0x2f68e5);}[a299_0x44f205(0x71)](){const _0x39163f=a299_0x44f205;return this[_0x39163f(0x72)];}}function a299_0x4163(_0xfbe04d,_0x27c695){const _0x4c1619=a299_0x4c16();return a299_0x4163=function(_0x416381,_0x3d9fcd){_0x416381=_0x416381-0x6a;let _0x307553=_0x4c1619[_0x416381];return _0x307553;},a299_0x4163(_0xfbe04d,_0x27c695);}const redisInstance=new ioredis_1[(a299_0x44f205(0x73))](redis_1[a299_0x44f205(0x6c)]);exports[a299_0x44f205(0x73)]=CacheSingleton[a299_0x44f205(0x78)](redisInstance);