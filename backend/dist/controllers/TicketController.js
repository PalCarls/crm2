'use strict';const a33_0x52a36f=a33_0x5bf2;(function(_0x286afb,_0x2920ca){const _0xc1cce8=a33_0x5bf2,_0x193bc1=_0x286afb();while(!![]){try{const _0x17f0cf=-parseInt(_0xc1cce8(0x206))/0x1+parseInt(_0xc1cce8(0x1f1))/0x2+-parseInt(_0xc1cce8(0x20f))/0x3+parseInt(_0xc1cce8(0x1f3))/0x4*(-parseInt(_0xc1cce8(0x20d))/0x5)+-parseInt(_0xc1cce8(0x204))/0x6*(-parseInt(_0xc1cce8(0x1fe))/0x7)+-parseInt(_0xc1cce8(0x1f6))/0x8*(-parseInt(_0xc1cce8(0x211))/0x9)+-parseInt(_0xc1cce8(0x1f8))/0xa;if(_0x17f0cf===_0x2920ca)break;else _0x193bc1['push'](_0x193bc1['shift']());}catch(_0x4650ba){_0x193bc1['push'](_0x193bc1['shift']());}}}(a33_0xa17b,0x592fe));var __importDefault=this&&this[a33_0x52a36f(0x203)]||function(_0x30fd73){const _0xa5f7d=a33_0x52a36f;return _0x30fd73&&_0x30fd73[_0xa5f7d(0x200)]?_0x30fd73:{'default':_0x30fd73};};Object[a33_0x52a36f(0x1f9)](exports,a33_0x52a36f(0x200),{'value':!![]}),exports[a33_0x52a36f(0x1fa)]=exports[a33_0x52a36f(0x1f5)]=exports[a33_0x52a36f(0x1ed)]=exports[a33_0x52a36f(0x1ff)]=exports[a33_0x52a36f(0x210)]=exports[a33_0x52a36f(0x1fc)]=void 0x0;const socket_1=require(a33_0x52a36f(0x201)),CreateTicketService_1=__importDefault(require('../services/TicketServices/CreateTicketService')),DeleteTicketService_1=__importDefault(require(a33_0x52a36f(0x20a))),ListTicketsService_1=__importDefault(require('../services/TicketServices/ListTicketsService')),ShowTicketFromUUIDService_1=__importDefault(require(a33_0x52a36f(0x1f4))),ShowTicketService_1=__importDefault(require(a33_0x52a36f(0x1f7))),UpdateTicketService_1=__importDefault(require(a33_0x52a36f(0x20e))),index=async(_0xa5f825,_0x4f358c)=>{const _0x4a7b70=a33_0x52a36f,{pageNumber:_0x413b76,status:_0x55a3a4,date:_0x375715,dateStart:_0x409daa,dateEnd:_0x26e489,updatedAt:_0x1f7b32,searchParam:_0x22a2ef,showAll:_0x54e3ec,queueIds:_0x5d71f8,tags:_0x5c7386,users:_0x2efc92,withUnreadMessages:_0x52b504,whatsapps:_0x1b1d1b,statusFilter:_0x39031a}=_0xa5f825[_0x4a7b70(0x1f2)],_0x5e65a6=_0xa5f825[_0x4a7b70(0x1f0)]['id'],{companyId:_0xa6d1dc}=_0xa5f825[_0x4a7b70(0x1f0)];let _0x48c32a=[],_0x13eb80=[],_0x32c7cf=[],_0x314bc0=[],_0x1a0a7f=[];_0x5d71f8&&(_0x48c32a=JSON[_0x4a7b70(0x209)](_0x5d71f8));_0x5c7386&&(_0x13eb80=JSON['parse'](_0x5c7386));_0x2efc92&&(_0x32c7cf=JSON[_0x4a7b70(0x209)](_0x2efc92));_0x1b1d1b&&(_0x314bc0=JSON[_0x4a7b70(0x209)](_0x1b1d1b));_0x39031a&&(_0x1a0a7f=JSON[_0x4a7b70(0x209)](_0x39031a));const {tickets:_0x1f777f,count:_0x517821,hasMore:_0x133777}=await(0x0,ListTicketsService_1[_0x4a7b70(0x208)])({'searchParam':_0x22a2ef,'tags':_0x13eb80,'users':_0x32c7cf,'pageNumber':_0x413b76,'status':_0x55a3a4,'date':_0x375715,'dateStart':_0x409daa,'dateEnd':_0x26e489,'updatedAt':_0x1f7b32,'showAll':_0x54e3ec,'userId':_0x5e65a6,'queueIds':_0x48c32a,'withUnreadMessages':_0x52b504,'whatsappIds':_0x314bc0,'statusFilters':_0x1a0a7f,'companyId':_0xa6d1dc});return _0x4f358c[_0x4a7b70(0x20c)](0xc8)['json']({'tickets':_0x1f777f,'count':_0x517821,'hasMore':_0x133777});};exports[a33_0x52a36f(0x1fc)]=index;function a33_0x5bf2(_0x33dafb,_0x5aee09){const _0xa17b08=a33_0xa17b();return a33_0x5bf2=function(_0x5bf26a,_0x544479){_0x5bf26a=_0x5bf26a-0x1ed;let _0x59d503=_0xa17b08[_0x5bf26a];return _0x59d503;},a33_0x5bf2(_0x33dafb,_0x5aee09);}const store=async(_0x3af3d5,_0x31edc9)=>{const _0x454a64=a33_0x52a36f,{contactId:_0x4a22e2,status:_0x3271b9,userId:_0x41eea8,queueId:_0x14bd11,whatsappId:_0x35b6f4}=_0x3af3d5[_0x454a64(0x1ee)],{companyId:_0x6be45d}=_0x3af3d5[_0x454a64(0x1f0)],_0x3f4a53=await(0x0,CreateTicketService_1[_0x454a64(0x208)])({'contactId':_0x4a22e2,'status':_0x3271b9,'userId':_0x41eea8,'companyId':_0x6be45d,'queueId':_0x14bd11,'whatsappId':_0x35b6f4}),_0x366b97=(0x0,socket_1[_0x454a64(0x1fd)])();return _0x366b97['to'](_0x3f4a53[_0x454a64(0x20c)])[_0x454a64(0x202)](_0x454a64(0x1ef)+_0x6be45d+_0x454a64(0x205),{'action':_0x454a64(0x1f5),'ticket':_0x3f4a53}),_0x31edc9[_0x454a64(0x20c)](0xc8)[_0x454a64(0x212)](_0x3f4a53);};exports[a33_0x52a36f(0x210)]=store;function a33_0xa17b(){const _0x1f8880=['../libs/socket','emit','__importDefault','6mikPIc','-ticket','477356cIbnBw','notification','default','parse','../services/TicketServices/DeleteTicketService','params','status','2855ICdETY','../services/TicketServices/UpdateTicketService','748632pRFSFF','store','140409Bwmavs','json','showFromUUID','body','company-','user','905082QmUyZK','query','388tDdxni','../services/TicketServices/ShowTicketFromUUIDService','update','280jxtvhD','../services/TicketServices/ShowTicketService','5121880NwmRXD','defineProperty','remove','ticket\x20deleted','index','getIO','4628463dmgCdv','show','__esModule'];a33_0xa17b=function(){return _0x1f8880;};return a33_0xa17b();}const show=async(_0x419d3a,_0x663161)=>{const _0x4e884a=a33_0x52a36f,{ticketId:_0x27f604}=_0x419d3a[_0x4e884a(0x20b)],{companyId:_0x171315}=_0x419d3a[_0x4e884a(0x1f0)],_0x5599a8=await(0x0,ShowTicketService_1[_0x4e884a(0x208)])(_0x27f604,_0x171315);return _0x663161[_0x4e884a(0x20c)](0xc8)[_0x4e884a(0x212)](_0x5599a8);};exports[a33_0x52a36f(0x1ff)]=show;const showFromUUID=async(_0x5cdbbc,_0x56da6b)=>{const _0x2fcbfb=a33_0x52a36f,{uuid:_0x3ddd4d}=_0x5cdbbc[_0x2fcbfb(0x20b)],_0x5f5266=await(0x0,ShowTicketFromUUIDService_1[_0x2fcbfb(0x208)])(_0x3ddd4d);return _0x56da6b[_0x2fcbfb(0x20c)](0xc8)[_0x2fcbfb(0x212)](_0x5f5266);};exports[a33_0x52a36f(0x1ed)]=showFromUUID;const update=async(_0x467bb7,_0xb0a8a6)=>{const _0x715be3=a33_0x52a36f,{ticketId:_0x53c975}=_0x467bb7['params'],_0x315cb3=_0x467bb7['body'],{companyId:_0x4ec6c3}=_0x467bb7[_0x715be3(0x1f0)],{ticket:_0x3f74c}=await(0x0,UpdateTicketService_1['default'])({'ticketData':_0x315cb3,'ticketId':_0x53c975,'companyId':_0x4ec6c3});return _0xb0a8a6[_0x715be3(0x20c)](0xc8)['json'](_0x3f74c);};exports[a33_0x52a36f(0x1f5)]=update;const remove=async(_0x3c512e,_0x2f9000)=>{const _0x49a486=a33_0x52a36f,{ticketId:_0x3e5784}=_0x3c512e[_0x49a486(0x20b)],{companyId:_0x17f138}=_0x3c512e[_0x49a486(0x1f0)];await(0x0,ShowTicketService_1[_0x49a486(0x208)])(_0x3e5784,_0x17f138);const _0x444015=await(0x0,DeleteTicketService_1[_0x49a486(0x208)])(_0x3e5784),_0x217634=(0x0,socket_1[_0x49a486(0x1fd)])();return _0x217634['to'](_0x444015[_0x49a486(0x20c)])['to'](_0x3e5784)['to'](_0x49a486(0x207))[_0x49a486(0x202)](_0x49a486(0x1ef)+_0x17f138+_0x49a486(0x205),{'action':'delete','ticketId':+_0x3e5784}),_0x2f9000[_0x49a486(0x20c)](0xc8)[_0x49a486(0x212)]({'message':_0x49a486(0x1fb)});};exports['remove']=remove;