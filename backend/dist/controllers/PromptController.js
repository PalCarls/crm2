<<<<<<< HEAD
'use strict';function a25_0x42e6(_0x6314b5,_0x5c724e){const _0x1fab46=a25_0x1fab();return a25_0x42e6=function(_0x42e61c,_0x11b2be){_0x42e61c=_0x42e61c-0x14e;let _0x28db4f=_0x1fab46[_0x42e61c];return _0x28db4f;},a25_0x42e6(_0x6314b5,_0x5c724e);}const a25_0x558000=a25_0x42e6;(function(_0x47c05d,_0x1bf19d){const _0x65c548=a25_0x42e6,_0x205192=_0x47c05d();while(!![]){try{const _0x4ad9de=parseInt(_0x65c548(0x177))/0x1+parseInt(_0x65c548(0x164))/0x2*(-parseInt(_0x65c548(0x15d))/0x3)+parseInt(_0x65c548(0x168))/0x4+parseInt(_0x65c548(0x15a))/0x5*(-parseInt(_0x65c548(0x150))/0x6)+-parseInt(_0x65c548(0x175))/0x7+-parseInt(_0x65c548(0x15f))/0x8*(parseInt(_0x65c548(0x162))/0x9)+parseInt(_0x65c548(0x174))/0xa;if(_0x4ad9de===_0x1bf19d)break;else _0x205192['push'](_0x205192['shift']());}catch(_0x49d6c1){_0x205192['push'](_0x205192['shift']());}}}(a25_0x1fab,0x6e319));var __importDefault=this&&this['__importDefault']||function(_0x1a59db){const _0x5603a8=a25_0x42e6;return _0x1a59db&&_0x1a59db[_0x5603a8(0x160)]?_0x1a59db:{'default':_0x1a59db};};Object['defineProperty'](exports,a25_0x558000(0x160),{'value':!![]}),exports[a25_0x558000(0x154)]=exports[a25_0x558000(0x155)]=exports[a25_0x558000(0x16e)]=exports[a25_0x558000(0x16f)]=exports[a25_0x558000(0x156)]=void 0x0;const socket_1=require(a25_0x558000(0x15e)),CreatePromptService_1=__importDefault(require(a25_0x558000(0x165))),DeletePromptService_1=__importDefault(require(a25_0x558000(0x172))),ListPromptsService_1=__importDefault(require(a25_0x558000(0x16d))),ShowPromptService_1=__importDefault(require(a25_0x558000(0x16a))),UpdatePromptService_1=__importDefault(require(a25_0x558000(0x14f))),Whatsapp_1=__importDefault(require(a25_0x558000(0x14e))),jsonwebtoken_1=require(a25_0x558000(0x171)),auth_1=__importDefault(require('../config/auth')),index=async(_0x404bdf,_0x2441d2)=>{const _0x324304=a25_0x558000,{pageNumber:_0x1b5617,searchParam:_0x3561cc}=_0x404bdf[_0x324304(0x158)],_0x4300b0=_0x404bdf[_0x324304(0x163)][_0x324304(0x167)],[,_0x33fe3e]=_0x4300b0[_0x324304(0x173)]('\x20'),_0x3203db=(0x0,jsonwebtoken_1[_0x324304(0x176)])(_0x33fe3e,auth_1[_0x324304(0x159)][_0x324304(0x153)]),{companyId:_0x13c011}=_0x3203db,{prompts:_0x41ba2f,count:_0x40ed70,hasMore:_0x1762d5}=await(0x0,ListPromptsService_1[_0x324304(0x159)])({'searchParam':_0x3561cc,'pageNumber':_0x1b5617,'companyId':_0x13c011});return _0x2441d2['status'](0xc8)[_0x324304(0x161)]({'prompts':_0x41ba2f,'count':_0x40ed70,'hasMore':_0x1762d5});};exports[a25_0x558000(0x156)]=index;const store=async(_0x2f9acf,_0x55aa37)=>{const _0x4162e3=a25_0x558000,_0x402e5b=_0x2f9acf[_0x4162e3(0x163)][_0x4162e3(0x167)],[,_0x427f76]=_0x402e5b[_0x4162e3(0x173)]('\x20'),_0x1b15e3=(0x0,jsonwebtoken_1[_0x4162e3(0x176)])(_0x427f76,auth_1[_0x4162e3(0x159)][_0x4162e3(0x153)]),{companyId:_0x53d44b}=_0x1b15e3,{name:_0x3f99d3,apiKey:_0x3d3f40,prompt:_0x410c7a,maxTokens:_0xfdeed4,temperature:_0x4de0f1,promptTokens:_0x235ea5,completionTokens:_0x4f4215,totalTokens:_0x3850b7,queueId:_0x1c20e3,maxMessages:_0x34684b,voice:_0x50de7b,voiceKey:_0x389a0f,voiceRegion:_0x41cf3f}=_0x2f9acf[_0x4162e3(0x157)],_0x578d87=await(0x0,CreatePromptService_1['default'])({'name':_0x3f99d3,'apiKey':_0x3d3f40,'prompt':_0x410c7a,'maxTokens':_0xfdeed4,'temperature':_0x4de0f1,'promptTokens':_0x235ea5,'completionTokens':_0x4f4215,'totalTokens':_0x3850b7,'queueId':_0x1c20e3,'maxMessages':_0x34684b,'companyId':_0x53d44b,'voice':_0x50de7b,'voiceKey':_0x389a0f,'voiceRegion':_0x41cf3f}),_0x532713=(0x0,socket_1[_0x4162e3(0x152)])();return _0x532713[_0x4162e3(0x15c)](_0x4162e3(0x15b),{'action':_0x4162e3(0x155),'prompt':_0x578d87}),_0x55aa37[_0x4162e3(0x170)](0xc8)[_0x4162e3(0x161)](_0x578d87);};exports[a25_0x558000(0x16f)]=store;const show=async(_0x2b6a49,_0x1c77a0)=>{const _0xc78a79=a25_0x558000,{promptId:_0x53c781}=_0x2b6a49[_0xc78a79(0x169)],_0x23740c=_0x2b6a49[_0xc78a79(0x163)]['authorization'],[,_0x56c11c]=_0x23740c[_0xc78a79(0x173)]('\x20'),_0x581c22=(0x0,jsonwebtoken_1[_0xc78a79(0x176)])(_0x56c11c,auth_1['default'][_0xc78a79(0x153)]),{companyId:_0x27b8cb}=_0x581c22,_0x3c2955=await(0x0,ShowPromptService_1[_0xc78a79(0x159)])({'promptId':_0x53c781,'companyId':_0x27b8cb});return _0x1c77a0['status'](0xc8)[_0xc78a79(0x161)](_0x3c2955);};exports['show']=show;const update=async(_0x46000a,_0x195a9f)=>{const _0x39123b=a25_0x558000,{promptId:_0x1c5fe6}=_0x46000a[_0x39123b(0x169)],_0x59e82f=_0x46000a[_0x39123b(0x157)],_0x27fd77=_0x46000a[_0x39123b(0x163)]['authorization'],[,_0x564ed0]=_0x27fd77[_0x39123b(0x173)]('\x20'),_0x4ed9b8=(0x0,jsonwebtoken_1[_0x39123b(0x176)])(_0x564ed0,auth_1['default'][_0x39123b(0x153)]),{companyId:_0x1857ca}=_0x4ed9b8,_0x31e14a=await(0x0,UpdatePromptService_1[_0x39123b(0x159)])({'promptData':_0x59e82f,'promptId':_0x1c5fe6,'companyId':_0x1857ca}),_0x1931b0=(0x0,socket_1['getIO'])();return _0x1931b0[_0x39123b(0x15c)](_0x39123b(0x15b),{'action':_0x39123b(0x155),'prompt':_0x31e14a}),_0x195a9f[_0x39123b(0x170)](0xc8)['json'](_0x31e14a);};exports[a25_0x558000(0x155)]=update;function a25_0x1fab(){const _0x149b59=['status','jsonwebtoken','../services/PromptServices/DeletePromptService','split','22895760nDnuRK','6074866OyzoTJ','verify','38062fWjzcB','../models/Whatsapp','../services/PromptServices/UpdatePromptService','18IabHAt','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado!','getIO','secret','remove','update','index','body','query','default','593945OaLDIm','prompt','emit','417801vMuNwv','../libs/socket','46968hMjehj','__esModule','json','1233TxjBxO','headers','10fXMCPN','../services/PromptServices/CreatePromptService','findAndCountAll','authorization','3394328IjauPb','params','../services/PromptServices/ShowPromptService','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado\x20nas\x20conexões\x20Whatsapp!','Prompt\x20deleted','../services/PromptServices/ListPromptsService','show','store'];a25_0x1fab=function(){return _0x149b59;};return a25_0x1fab();}const remove=async(_0x48ea16,_0x5271f2)=>{const _0x2e6a76=a25_0x558000,{promptId:_0x5270d2}=_0x48ea16[_0x2e6a76(0x169)],_0x5014a0=_0x48ea16[_0x2e6a76(0x163)]['authorization'],[,_0x1430e4]=_0x5014a0['split']('\x20'),_0x195a60=(0x0,jsonwebtoken_1[_0x2e6a76(0x176)])(_0x1430e4,auth_1[_0x2e6a76(0x159)][_0x2e6a76(0x153)]),{companyId:_0x49f570}=_0x195a60;try{const {count:_0xd04dc4}=await Whatsapp_1[_0x2e6a76(0x159)][_0x2e6a76(0x166)]({'where':{'promptId':+_0x5270d2,'companyId':_0x49f570}});if(_0xd04dc4>0x0)return _0x5271f2[_0x2e6a76(0x170)](0xc8)[_0x2e6a76(0x161)]({'message':_0x2e6a76(0x16b)});await(0x0,DeletePromptService_1[_0x2e6a76(0x159)])(_0x5270d2,_0x49f570);const _0x1ac36d=(0x0,socket_1['getIO'])();return _0x1ac36d[_0x2e6a76(0x15c)]('prompt',{'action':'delete','intelligenceId':+_0x5270d2}),_0x5271f2[_0x2e6a76(0x170)](0xc8)[_0x2e6a76(0x161)]({'message':_0x2e6a76(0x16c)});}catch(_0x4f99b7){return _0x5271f2['status'](0x1f4)['json']({'message':_0x2e6a76(0x151)});}};exports[a25_0x558000(0x154)]=remove;
=======
'use strict';const a25_0x13b6d2=a25_0x25df;(function(_0x1f76c7,_0x407cb2){const _0x426a24=a25_0x25df,_0xa2bab9=_0x1f76c7();while(!![]){try{const _0x5aa1ef=-parseInt(_0x426a24(0x1a4))/0x1+-parseInt(_0x426a24(0x1a9))/0x2*(parseInt(_0x426a24(0x19a))/0x3)+parseInt(_0x426a24(0x1b5))/0x4*(-parseInt(_0x426a24(0x195))/0x5)+parseInt(_0x426a24(0x1a0))/0x6+-parseInt(_0x426a24(0x197))/0x7*(-parseInt(_0x426a24(0x1b8))/0x8)+-parseInt(_0x426a24(0x1b2))/0x9*(parseInt(_0x426a24(0x1a7))/0xa)+-parseInt(_0x426a24(0x1ac))/0xb*(-parseInt(_0x426a24(0x198))/0xc);if(_0x5aa1ef===_0x407cb2)break;else _0xa2bab9['push'](_0xa2bab9['shift']());}catch(_0x1e5d36){_0xa2bab9['push'](_0xa2bab9['shift']());}}}(a25_0x29c3,0x766da));var __importDefault=this&&this[a25_0x13b6d2(0x1b7)]||function(_0x3586b4){const _0x71d43c=a25_0x13b6d2;return _0x3586b4&&_0x3586b4[_0x71d43c(0x19c)]?_0x3586b4:{'default':_0x3586b4};};Object['defineProperty'](exports,a25_0x13b6d2(0x19c),{'value':!![]}),exports[a25_0x13b6d2(0x1bd)]=exports[a25_0x13b6d2(0x194)]=exports[a25_0x13b6d2(0x1a6)]=exports['store']=exports[a25_0x13b6d2(0x1aa)]=void 0x0;const socket_1=require(a25_0x13b6d2(0x1af)),CreatePromptService_1=__importDefault(require(a25_0x13b6d2(0x192))),DeletePromptService_1=__importDefault(require(a25_0x13b6d2(0x1b0))),ListPromptsService_1=__importDefault(require(a25_0x13b6d2(0x1b3))),ShowPromptService_1=__importDefault(require(a25_0x13b6d2(0x1ae))),UpdatePromptService_1=__importDefault(require(a25_0x13b6d2(0x1ab))),Whatsapp_1=__importDefault(require(a25_0x13b6d2(0x19e))),jsonwebtoken_1=require(a25_0x13b6d2(0x19b)),auth_1=__importDefault(require(a25_0x13b6d2(0x1bb))),index=async(_0x1118a3,_0x4d1ace)=>{const _0x70441=a25_0x13b6d2,{pageNumber:_0x4496c5,searchParam:_0x5b39a3}=_0x1118a3[_0x70441(0x1b6)],_0x393b00=_0x1118a3['headers']['authorization'],[,_0x312475]=_0x393b00['split']('\x20'),_0x152351=(0x0,jsonwebtoken_1[_0x70441(0x1a8)])(_0x312475,auth_1[_0x70441(0x19f)][_0x70441(0x1bc)]),{companyId:_0x22c81c}=_0x152351,{prompts:_0x4d094e,count:_0x17bf87,hasMore:_0x3c024b}=await(0x0,ListPromptsService_1['default'])({'searchParam':_0x5b39a3,'pageNumber':_0x4496c5,'companyId':_0x22c81c});return _0x4d1ace[_0x70441(0x1a3)](0xc8)[_0x70441(0x1b9)]({'prompts':_0x4d094e,'count':_0x17bf87,'hasMore':_0x3c024b});};exports[a25_0x13b6d2(0x1aa)]=index;const store=async(_0x5d2545,_0x29116f)=>{const _0x240c39=a25_0x13b6d2,_0x127074=_0x5d2545[_0x240c39(0x191)][_0x240c39(0x199)],[,_0xfa0538]=_0x127074['split']('\x20'),_0x36ea4f=(0x0,jsonwebtoken_1['verify'])(_0xfa0538,auth_1['default'][_0x240c39(0x1bc)]),{companyId:_0x35bf26}=_0x36ea4f,{name:_0x1db2c8,apiKey:_0x21b24d,prompt:_0x1f2af0,maxTokens:_0x1ae6b4,temperature:_0x25202e,promptTokens:_0x379eb2,completionTokens:_0xe2411,totalTokens:_0x404fb7,queueId:_0x36b489,maxMessages:_0x465456,voice:_0x5c5866,voiceKey:_0x3a9ca9,voiceRegion:_0x418a2d}=_0x5d2545['body'],_0x50933c=await(0x0,CreatePromptService_1['default'])({'name':_0x1db2c8,'apiKey':_0x21b24d,'prompt':_0x1f2af0,'maxTokens':_0x1ae6b4,'temperature':_0x25202e,'promptTokens':_0x379eb2,'completionTokens':_0xe2411,'totalTokens':_0x404fb7,'queueId':_0x36b489,'maxMessages':_0x465456,'companyId':_0x35bf26,'voice':_0x5c5866,'voiceKey':_0x3a9ca9,'voiceRegion':_0x418a2d}),_0x443d5b=(0x0,socket_1[_0x240c39(0x1a5)])();return _0x443d5b['emit'](_0x240c39(0x193),{'action':'update','prompt':_0x50933c}),_0x29116f[_0x240c39(0x1a3)](0xc8)[_0x240c39(0x1b9)](_0x50933c);};exports[a25_0x13b6d2(0x1a1)]=store;const show=async(_0x366a03,_0x4af7a9)=>{const _0x37b322=a25_0x13b6d2,{promptId:_0x5ac9af}=_0x366a03[_0x37b322(0x19d)],_0x5a55d4=_0x366a03['headers'][_0x37b322(0x199)],[,_0x3aca4f]=_0x5a55d4[_0x37b322(0x1b1)]('\x20'),_0x446d88=(0x0,jsonwebtoken_1[_0x37b322(0x1a8)])(_0x3aca4f,auth_1[_0x37b322(0x19f)][_0x37b322(0x1bc)]),{companyId:_0x298a62}=_0x446d88,_0x8a2ba4=await(0x0,ShowPromptService_1['default'])({'promptId':_0x5ac9af,'companyId':_0x298a62});return _0x4af7a9[_0x37b322(0x1a3)](0xc8)[_0x37b322(0x1b9)](_0x8a2ba4);};exports['show']=show;function a25_0x25df(_0x23e54e,_0x550d6e){const _0x29c340=a25_0x29c3();return a25_0x25df=function(_0x25dfc7,_0x2e4c2d){_0x25dfc7=_0x25dfc7-0x191;let _0x4fcb42=_0x29c340[_0x25dfc7];return _0x4fcb42;},a25_0x25df(_0x23e54e,_0x550d6e);}function a25_0x29c3(){const _0x52c6ee=['7405paEPPK','emit','5537iguVvm','587592fPANLf','authorization','896631PTAXvH','jsonwebtoken','__esModule','params','../models/Whatsapp','default','2676894CIZXPu','store','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado\x20nas\x20conexões\x20Whatsapp!','status','670126gMxysu','getIO','show','9190jtsQOg','verify','6fCxbIS','index','../services/PromptServices/UpdatePromptService','517PDgWmc','Prompt\x20deleted','../services/PromptServices/ShowPromptService','../libs/socket','../services/PromptServices/DeletePromptService','split','1782onCeOI','../services/PromptServices/ListPromptsService','delete','2428yCBhdV','query','__importDefault','3896XbEUUL','json','findAndCountAll','../config/auth','secret','remove','headers','../services/PromptServices/CreatePromptService','prompt','update'];a25_0x29c3=function(){return _0x52c6ee;};return a25_0x29c3();}const update=async(_0xfe8220,_0x1e92f3)=>{const _0x3d9ca5=a25_0x13b6d2,{promptId:_0x3d552f}=_0xfe8220['params'],_0x4232e4=_0xfe8220['body'],_0x2c8832=_0xfe8220[_0x3d9ca5(0x191)][_0x3d9ca5(0x199)],[,_0x1947b3]=_0x2c8832[_0x3d9ca5(0x1b1)]('\x20'),_0x410185=(0x0,jsonwebtoken_1[_0x3d9ca5(0x1a8)])(_0x1947b3,auth_1[_0x3d9ca5(0x19f)][_0x3d9ca5(0x1bc)]),{companyId:_0x39e549}=_0x410185,_0x4270fb=await(0x0,UpdatePromptService_1[_0x3d9ca5(0x19f)])({'promptData':_0x4232e4,'promptId':_0x3d552f,'companyId':_0x39e549}),_0x5415fc=(0x0,socket_1[_0x3d9ca5(0x1a5)])();return _0x5415fc[_0x3d9ca5(0x196)](_0x3d9ca5(0x193),{'action':_0x3d9ca5(0x194),'prompt':_0x4270fb}),_0x1e92f3['status'](0xc8)[_0x3d9ca5(0x1b9)](_0x4270fb);};exports[a25_0x13b6d2(0x194)]=update;const remove=async(_0x48f0ef,_0x4b7493)=>{const _0x52037e=a25_0x13b6d2,{promptId:_0x365c6f}=_0x48f0ef[_0x52037e(0x19d)],_0x3045be=_0x48f0ef[_0x52037e(0x191)][_0x52037e(0x199)],[,_0x2c23a8]=_0x3045be['split']('\x20'),_0x552e1f=(0x0,jsonwebtoken_1[_0x52037e(0x1a8)])(_0x2c23a8,auth_1[_0x52037e(0x19f)]['secret']),{companyId:_0x523adb}=_0x552e1f;try{const {count:_0x7b659e}=await Whatsapp_1[_0x52037e(0x19f)][_0x52037e(0x1ba)]({'where':{'promptId':+_0x365c6f,'companyId':_0x523adb}});if(_0x7b659e>0x0)return _0x4b7493[_0x52037e(0x1a3)](0xc8)[_0x52037e(0x1b9)]({'message':_0x52037e(0x1a2)});await(0x0,DeletePromptService_1['default'])(_0x365c6f,_0x523adb);const _0x5c15e7=(0x0,socket_1[_0x52037e(0x1a5)])();return _0x5c15e7[_0x52037e(0x196)](_0x52037e(0x193),{'action':_0x52037e(0x1b4),'intelligenceId':+_0x365c6f}),_0x4b7493[_0x52037e(0x1a3)](0xc8)[_0x52037e(0x1b9)]({'message':_0x52037e(0x1ad)});}catch(_0x5ee891){return _0x4b7493[_0x52037e(0x1a3)](0x1f4)['json']({'message':'Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado!'});}};exports['remove']=remove;
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
