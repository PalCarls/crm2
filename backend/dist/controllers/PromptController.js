'use strict';const a25_0x490b3a=a25_0x5b21;(function(_0x417a19,_0x21048a){const _0x2ee91b=a25_0x5b21,_0x34e9e4=_0x417a19();while(!![]){try{const _0x36b423=parseInt(_0x2ee91b(0x17e))/0x1*(parseInt(_0x2ee91b(0x180))/0x2)+-parseInt(_0x2ee91b(0x175))/0x3+-parseInt(_0x2ee91b(0x18f))/0x4+-parseInt(_0x2ee91b(0x183))/0x5*(parseInt(_0x2ee91b(0x192))/0x6)+-parseInt(_0x2ee91b(0x16e))/0x7*(-parseInt(_0x2ee91b(0x17b))/0x8)+-parseInt(_0x2ee91b(0x189))/0x9+parseInt(_0x2ee91b(0x185))/0xa;if(_0x36b423===_0x21048a)break;else _0x34e9e4['push'](_0x34e9e4['shift']());}catch(_0x59da88){_0x34e9e4['push'](_0x34e9e4['shift']());}}}(a25_0x47f6,0x48694));function a25_0x5b21(_0x5a1e5,_0x37a6cc){const _0x47f6a4=a25_0x47f6();return a25_0x5b21=function(_0x5b21c4,_0xa382ba){_0x5b21c4=_0x5b21c4-0x16d;let _0x10ab79=_0x47f6a4[_0x5b21c4];return _0x10ab79;},a25_0x5b21(_0x5a1e5,_0x37a6cc);}var __importDefault=this&&this[a25_0x490b3a(0x191)]||function(_0x1b50be){const _0x4feb36=a25_0x490b3a;return _0x1b50be&&_0x1b50be[_0x4feb36(0x18d)]?_0x1b50be:{'default':_0x1b50be};};Object['defineProperty'](exports,a25_0x490b3a(0x18d),{'value':!![]}),exports['remove']=exports[a25_0x490b3a(0x193)]=exports[a25_0x490b3a(0x177)]=exports['store']=exports['index']=void 0x0;const socket_1=require(a25_0x490b3a(0x17a)),CreatePromptService_1=__importDefault(require(a25_0x490b3a(0x181))),DeletePromptService_1=__importDefault(require(a25_0x490b3a(0x17f))),ListPromptsService_1=__importDefault(require(a25_0x490b3a(0x179))),ShowPromptService_1=__importDefault(require(a25_0x490b3a(0x184))),UpdatePromptService_1=__importDefault(require(a25_0x490b3a(0x17d))),Whatsapp_1=__importDefault(require(a25_0x490b3a(0x18e))),jsonwebtoken_1=require(a25_0x490b3a(0x174)),auth_1=__importDefault(require('../config/auth')),index=async(_0x1168de,_0x3fe495)=>{const _0x4add31=a25_0x490b3a,{pageNumber:_0x493c1d,searchParam:_0x3115d6}=_0x1168de[_0x4add31(0x18a)],_0x57373b=_0x1168de[_0x4add31(0x18c)]['authorization'],[,_0x101428]=_0x57373b[_0x4add31(0x176)]('\x20'),_0x34a4fd=(0x0,jsonwebtoken_1[_0x4add31(0x178)])(_0x101428,auth_1[_0x4add31(0x17c)][_0x4add31(0x16f)]),{companyId:_0x18e2b0}=_0x34a4fd,{prompts:_0x4e32ba,count:_0x21796b,hasMore:_0x5ac828}=await(0x0,ListPromptsService_1[_0x4add31(0x17c)])({'searchParam':_0x3115d6,'pageNumber':_0x493c1d,'companyId':_0x18e2b0});return _0x3fe495[_0x4add31(0x186)](0xc8)['json']({'prompts':_0x4e32ba,'count':_0x21796b,'hasMore':_0x5ac828});};exports['index']=index;const store=async(_0x42fe26,_0x4e1d49)=>{const _0x3d65cf=a25_0x490b3a,_0x4c6b87=_0x42fe26[_0x3d65cf(0x18c)]['authorization'],[,_0x2502c5]=_0x4c6b87['split']('\x20'),_0x39cdf5=(0x0,jsonwebtoken_1[_0x3d65cf(0x178)])(_0x2502c5,auth_1[_0x3d65cf(0x17c)]['secret']),{companyId:_0x12ccf3}=_0x39cdf5,{name:_0x4cc4de,apiKey:_0x110e27,prompt:_0x16d52e,maxTokens:_0x20cc11,temperature:_0x2eaeb3,promptTokens:_0x477d3a,completionTokens:_0x539c39,totalTokens:_0x34a2e8,queueId:_0x46a8b9,maxMessages:_0x591173,voice:_0x3e0ec1,voiceKey:_0x590f5c,voiceRegion:_0x539874}=_0x42fe26['body'],_0x78ed55=await(0x0,CreatePromptService_1[_0x3d65cf(0x17c)])({'name':_0x4cc4de,'apiKey':_0x110e27,'prompt':_0x16d52e,'maxTokens':_0x20cc11,'temperature':_0x2eaeb3,'promptTokens':_0x477d3a,'completionTokens':_0x539c39,'totalTokens':_0x34a2e8,'queueId':_0x46a8b9,'maxMessages':_0x591173,'companyId':_0x12ccf3,'voice':_0x3e0ec1,'voiceKey':_0x590f5c,'voiceRegion':_0x539874}),_0x521f74=(0x0,socket_1[_0x3d65cf(0x16d)])();return _0x521f74[_0x3d65cf(0x170)](_0x3d65cf(0x182),{'action':_0x3d65cf(0x193),'prompt':_0x78ed55}),_0x4e1d49[_0x3d65cf(0x186)](0xc8)[_0x3d65cf(0x187)](_0x78ed55);};function a25_0x47f6(){const _0x52e102=['update','getIO','16387czOJqE','secret','emit','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado!','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado\x20nas\x20conexões\x20Whatsapp!','findAndCountAll','jsonwebtoken','1645014IqqnTP','split','show','verify','../services/PromptServices/ListPromptsService','../libs/socket','304ngwFct','default','../services/PromptServices/UpdatePromptService','2NxLZic','../services/PromptServices/DeletePromptService','385286pHDIHt','../services/PromptServices/CreatePromptService','prompt','15OxAELq','../services/PromptServices/ShowPromptService','12702280hpHJcf','status','json','authorization','4655619cOmqtH','query','body','headers','__esModule','../models/Whatsapp','944792OSiNZo','params','__importDefault','292098cusYiM'];a25_0x47f6=function(){return _0x52e102;};return a25_0x47f6();}exports['store']=store;const show=async(_0x567065,_0x2c35b4)=>{const _0x31d711=a25_0x490b3a,{promptId:_0x42ef61}=_0x567065[_0x31d711(0x190)],_0x190562=_0x567065[_0x31d711(0x18c)]['authorization'],[,_0x39557f]=_0x190562[_0x31d711(0x176)]('\x20'),_0x43e345=(0x0,jsonwebtoken_1['verify'])(_0x39557f,auth_1[_0x31d711(0x17c)][_0x31d711(0x16f)]),{companyId:_0x5794e3}=_0x43e345,_0x423312=await(0x0,ShowPromptService_1[_0x31d711(0x17c)])({'promptId':_0x42ef61,'companyId':_0x5794e3});return _0x2c35b4['status'](0xc8)[_0x31d711(0x187)](_0x423312);};exports[a25_0x490b3a(0x177)]=show;const update=async(_0x1c54ac,_0x220438)=>{const _0x896199=a25_0x490b3a,{promptId:_0xbf1d72}=_0x1c54ac[_0x896199(0x190)],_0x58ec0d=_0x1c54ac[_0x896199(0x18b)],_0xcd3067=_0x1c54ac[_0x896199(0x18c)][_0x896199(0x188)],[,_0x216cd8]=_0xcd3067['split']('\x20'),_0x4d5cda=(0x0,jsonwebtoken_1[_0x896199(0x178)])(_0x216cd8,auth_1['default']['secret']),{companyId:_0x9ddedf}=_0x4d5cda,_0x57d774=await(0x0,UpdatePromptService_1['default'])({'promptData':_0x58ec0d,'promptId':_0xbf1d72,'companyId':_0x9ddedf}),_0x3e03ef=(0x0,socket_1[_0x896199(0x16d)])();return _0x3e03ef[_0x896199(0x170)]('prompt',{'action':'update','prompt':_0x57d774}),_0x220438['status'](0xc8)[_0x896199(0x187)](_0x57d774);};exports['update']=update;const remove=async(_0x408649,_0x320fbb)=>{const _0xa6567f=a25_0x490b3a,{promptId:_0x43b7a0}=_0x408649[_0xa6567f(0x190)],_0x2be2d6=_0x408649[_0xa6567f(0x18c)]['authorization'],[,_0x40956e]=_0x2be2d6[_0xa6567f(0x176)]('\x20'),_0x3a2eea=(0x0,jsonwebtoken_1[_0xa6567f(0x178)])(_0x40956e,auth_1[_0xa6567f(0x17c)][_0xa6567f(0x16f)]),{companyId:_0x53e17b}=_0x3a2eea;try{const {count:_0x4e9ca5}=await Whatsapp_1[_0xa6567f(0x17c)][_0xa6567f(0x173)]({'where':{'promptId':+_0x43b7a0,'companyId':_0x53e17b}});if(_0x4e9ca5>0x0)return _0x320fbb[_0xa6567f(0x186)](0xc8)[_0xa6567f(0x187)]({'message':_0xa6567f(0x172)});await(0x0,DeletePromptService_1['default'])(_0x43b7a0,_0x53e17b);const _0x5b9b0a=(0x0,socket_1[_0xa6567f(0x16d)])();return _0x5b9b0a[_0xa6567f(0x170)](_0xa6567f(0x182),{'action':'delete','intelligenceId':+_0x43b7a0}),_0x320fbb[_0xa6567f(0x186)](0xc8)[_0xa6567f(0x187)]({'message':'Prompt\x20deleted'});}catch(_0x188a8d){return _0x320fbb[_0xa6567f(0x186)](0x1f4)[_0xa6567f(0x187)]({'message':_0xa6567f(0x171)});}};exports['remove']=remove;