'use strict';function a27_0x466e(){const _0x43774c=['../services/QueueIntegrationServices/UpdateQueueIntegrationService','default','show','query','params','585946uzMDjv','user','199334pqLfGh','__esModule','../libs/socket','send','__importDefault','update','1714652JcfkQw','2396325izdJbP','remove','body','10lKTFWP','json','2722458UPcQzU','store','14597541yXsCTb','528ygJPax','-queueIntegration','create','defineProperty','status','emit','testSession','index','company-','getIO','7231glQRgZ','delete','../services/QueueIntegrationServices/CreateQueueIntegrationService'];a27_0x466e=function(){return _0x43774c;};return a27_0x466e();}const a27_0x3db8ab=a27_0x39c2;(function(_0x47eec9,_0x4d2dac){const _0x514233=a27_0x39c2,_0x20d506=_0x47eec9();while(!![]){try{const _0x1c8951=parseInt(_0x514233(0x10c))/0x1+-parseInt(_0x514233(0x10a))/0x2+parseInt(_0x514233(0x113))/0x3+parseInt(_0x514233(0x112))/0x4*(parseInt(_0x514233(0x116))/0x5)+parseInt(_0x514233(0x118))/0x6+-parseInt(_0x514233(0x102))/0x7*(-parseInt(_0x514233(0x11b))/0x8)+-parseInt(_0x514233(0x11a))/0x9;if(_0x1c8951===_0x4d2dac)break;else _0x20d506['push'](_0x20d506['shift']());}catch(_0x46841b){_0x20d506['push'](_0x20d506['shift']());}}}(a27_0x466e,0x70e62));var __importDefault=this&&this[a27_0x3db8ab(0x110)]||function(_0x3774f4){const _0xc71f52=a27_0x3db8ab;return _0x3774f4&&_0x3774f4[_0xc71f52(0x10d)]?_0x3774f4:{'default':_0x3774f4};};Object[a27_0x3db8ab(0x11e)](exports,a27_0x3db8ab(0x10d),{'value':!![]}),exports[a27_0x3db8ab(0x121)]=exports[a27_0x3db8ab(0x114)]=exports[a27_0x3db8ab(0x111)]=exports['show']=exports[a27_0x3db8ab(0x119)]=exports['index']=void 0x0;const socket_1=require(a27_0x3db8ab(0x10e)),CreateQueueIntegrationService_1=__importDefault(require(a27_0x3db8ab(0x104))),DeleteQueueIntegrationService_1=__importDefault(require('../services/QueueIntegrationServices/DeleteQueueIntegrationService')),ListQueueIntegrationService_1=__importDefault(require('../services/QueueIntegrationServices/ListQueueIntegrationService')),ShowQueueIntegrationService_1=__importDefault(require('../services/QueueIntegrationServices/ShowQueueIntegrationService')),TestSessionDialogflowService_1=__importDefault(require('../services/QueueIntegrationServices/TestSessionDialogflowService')),UpdateQueueIntegrationService_1=__importDefault(require(a27_0x3db8ab(0x105))),index=async(_0x5733d9,_0x59085c)=>{const _0x582172=a27_0x3db8ab,{searchParam:_0x262c01,pageNumber:_0x304b0d}=_0x5733d9[_0x582172(0x108)],{companyId:_0x498737}=_0x5733d9['user'],{queueIntegrations:_0x15d674,count:_0x2d30af,hasMore:_0x568caf}=await(0x0,ListQueueIntegrationService_1[_0x582172(0x106)])({'searchParam':_0x262c01,'pageNumber':_0x304b0d,'companyId':_0x498737});return _0x59085c[_0x582172(0x11f)](0xc8)[_0x582172(0x117)]({'queueIntegrations':_0x15d674,'count':_0x2d30af,'hasMore':_0x568caf});};exports[a27_0x3db8ab(0xff)]=index;const store=async(_0x3bd2cf,_0x114c52)=>{const _0x3f2fa6=a27_0x3db8ab,{type:_0x1d86e0,name:_0x3a849c,projectName:_0x427fc4,jsonContent:_0x3fe75a,language:_0xb6e0bc,urlN8N:_0x2c07f8,typebotExpires:_0x35fd3,typebotKeywordFinish:_0x3d6c46,typebotSlug:_0x25b03a,typebotUnknownMessage:_0x492c4b}=_0x3bd2cf[_0x3f2fa6(0x115)],{companyId:_0x3e8c27}=_0x3bd2cf['user'],_0x20899a=await(0x0,CreateQueueIntegrationService_1[_0x3f2fa6(0x106)])({'type':_0x1d86e0,'name':_0x3a849c,'projectName':_0x427fc4,'jsonContent':_0x3fe75a,'language':_0xb6e0bc,'urlN8N':_0x2c07f8,'companyId':_0x3e8c27,'typebotExpires':_0x35fd3,'typebotKeywordFinish':_0x3d6c46,'typebotSlug':_0x25b03a,'typebotUnknownMessage':_0x492c4b}),_0x3dc761=(0x0,socket_1['getIO'])();return _0x3dc761[_0x3f2fa6(0x120)](_0x3f2fa6(0x100)+_0x3e8c27+_0x3f2fa6(0x11c),{'action':_0x3f2fa6(0x11d),'queueIntegration':_0x20899a}),_0x114c52[_0x3f2fa6(0x11f)](0xc8)[_0x3f2fa6(0x117)](_0x20899a);};function a27_0x39c2(_0x1ade61,_0x515ed3){const _0x466ece=a27_0x466e();return a27_0x39c2=function(_0x39c2dd,_0x4a7630){_0x39c2dd=_0x39c2dd-0xff;let _0xec7c93=_0x466ece[_0x39c2dd];return _0xec7c93;},a27_0x39c2(_0x1ade61,_0x515ed3);}exports[a27_0x3db8ab(0x119)]=store;const show=async(_0x680b62,_0x1c9787)=>{const _0x5e8ed9=a27_0x3db8ab,{integrationId:_0x2ea278}=_0x680b62[_0x5e8ed9(0x109)],{companyId:_0x29b8e8}=_0x680b62[_0x5e8ed9(0x10b)],_0x3f4f71=await(0x0,ShowQueueIntegrationService_1[_0x5e8ed9(0x106)])(_0x2ea278,_0x29b8e8);return _0x1c9787[_0x5e8ed9(0x11f)](0xc8)['json'](_0x3f4f71);};exports[a27_0x3db8ab(0x107)]=show;const update=async(_0x499d7a,_0x204c08)=>{const _0x3ddaf1=a27_0x3db8ab,{integrationId:_0x809dda}=_0x499d7a['params'],_0x5d7c90=_0x499d7a['body'],{companyId:_0x511f75}=_0x499d7a[_0x3ddaf1(0x10b)],_0x41b4f3=await(0x0,UpdateQueueIntegrationService_1[_0x3ddaf1(0x106)])({'integrationData':_0x5d7c90,'integrationId':_0x809dda,'companyId':_0x511f75}),_0x36d66f=(0x0,socket_1[_0x3ddaf1(0x101)])();return _0x36d66f[_0x3ddaf1(0x120)]('company-'+_0x511f75+_0x3ddaf1(0x11c),{'action':_0x3ddaf1(0x111),'queueIntegration':_0x41b4f3}),_0x204c08['status'](0xc9)[_0x3ddaf1(0x117)](_0x41b4f3);};exports[a27_0x3db8ab(0x111)]=update;const remove=async(_0x6f9191,_0x3744f4)=>{const _0x467fed=a27_0x3db8ab,{integrationId:_0x4a1a54}=_0x6f9191[_0x467fed(0x109)],{companyId:_0xf801bf}=_0x6f9191['user'];await(0x0,DeleteQueueIntegrationService_1['default'])(_0x4a1a54);const _0x36eb59=(0x0,socket_1[_0x467fed(0x101)])();return _0x36eb59[_0x467fed(0x120)](_0x467fed(0x100)+_0xf801bf+_0x467fed(0x11c),{'action':_0x467fed(0x103),'integrationId':+_0x4a1a54}),_0x3744f4[_0x467fed(0x11f)](0xc8)[_0x467fed(0x10f)]();};exports[a27_0x3db8ab(0x114)]=remove;const testSession=async(_0x14e38f,_0x43e749)=>{const _0xe838d=a27_0x3db8ab,{projectName:_0x1e4ed8,jsonContent:_0x34356d,language:_0x3c740b}=_0x14e38f[_0xe838d(0x115)],{companyId:_0x1285e9}=_0x14e38f[_0xe838d(0x10b)],_0x729c7c=await(0x0,TestSessionDialogflowService_1[_0xe838d(0x106)])({'projectName':_0x1e4ed8,'jsonContent':_0x34356d,'language':_0x3c740b}),_0xae67d=(0x0,socket_1[_0xe838d(0x101)])();return _0xae67d['emit'](_0xe838d(0x100)+_0x1285e9+_0xe838d(0x11c),{'action':_0xe838d(0x121),'response':_0x729c7c}),_0x43e749[_0xe838d(0x11f)](0xc8)[_0xe838d(0x117)](_0x729c7c);};exports[a27_0x3db8ab(0x121)]=testSession;