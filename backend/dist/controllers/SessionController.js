'use strict';const a29_0x3e80df=a29_0x5216;(function(_0x3527bf,_0x459ebc){const _0x37c2c5=a29_0x5216,_0xfad00c=_0x3527bf();while(!![]){try{const _0x2af40e=-parseInt(_0x37c2c5(0x181))/0x1*(parseInt(_0x37c2c5(0x190))/0x2)+-parseInt(_0x37c2c5(0x17d))/0x3+parseInt(_0x37c2c5(0x186))/0x4+parseInt(_0x37c2c5(0x193))/0x5+-parseInt(_0x37c2c5(0x196))/0x6+parseInt(_0x37c2c5(0x188))/0x7*(parseInt(_0x37c2c5(0x192))/0x8)+parseInt(_0x37c2c5(0x183))/0x9;if(_0x2af40e===_0x459ebc)break;else _0xfad00c['push'](_0xfad00c['shift']());}catch(_0x3a0ef9){_0xfad00c['push'](_0xfad00c['shift']());}}}(a29_0x24c1,0xb619a));var __importDefault=this&&this[a29_0x3e80df(0x187)]||function(_0x5ea02a){const _0x42c396=a29_0x3e80df;return _0x5ea02a&&_0x5ea02a[_0x42c396(0x18e)]?_0x5ea02a:{'default':_0x5ea02a};};Object[a29_0x3e80df(0x191)](exports,'__esModule',{'value':!![]}),exports['remove']=exports['me']=exports['update']=exports[a29_0x3e80df(0x182)]=void 0x0;const AppError_1=__importDefault(require('../errors/AppError')),socket_1=require(a29_0x3e80df(0x179)),AuthUserService_1=__importDefault(require(a29_0x3e80df(0x18b))),SendRefreshToken_1=require(a29_0x3e80df(0x18d)),RefreshTokenService_1=require('../services/AuthServices/RefreshTokenService'),FindUserFromToken_1=__importDefault(require(a29_0x3e80df(0x197))),User_1=__importDefault(require(a29_0x3e80df(0x198))),store=async(_0x45963f,_0x3dbc4e)=>{const _0x41f009=a29_0x3e80df,{email:_0x5f0a43,password:_0x26debe}=_0x45963f[_0x41f009(0x17f)],{token:_0x37e255,serializedUser:_0x483c7b,refreshToken:_0x1e4bc6}=await(0x0,AuthUserService_1[_0x41f009(0x17e)])({'email':_0x5f0a43,'password':_0x26debe});(0x0,SendRefreshToken_1['SendRefreshToken'])(_0x3dbc4e,_0x1e4bc6);const _0x2aafcc=(0x0,socket_1['getIO'])();return _0x2aafcc['emit'](_0x41f009(0x19a)+_0x483c7b[_0x41f009(0x19b)]+_0x41f009(0x18c),{'action':_0x41f009(0x17a),'user':{'id':_0x483c7b['id'],'email':_0x483c7b[_0x41f009(0x194)],'companyId':_0x483c7b['companyId']}}),_0x3dbc4e[_0x41f009(0x17c)](0xc8)[_0x41f009(0x199)]({'token':_0x37e255,'user':_0x483c7b});};exports['store']=store;function a29_0x5216(_0xe010cf,_0x2ded82){const _0x24c1a9=a29_0x24c1();return a29_0x5216=function(_0x5216a1,_0x1935ae){_0x5216a1=_0x5216a1-0x179;let _0x4bdbde=_0x24c1a9[_0x5216a1];return _0x4bdbde;},a29_0x5216(_0xe010cf,_0x2ded82);}function a29_0x24c1(){const _0x518af9=['defineProperty','28608ZDgqMb','4331640sLLyFM','email','cookies','7789632ZPPUAc','../services/AuthServices/FindUserFromToken','../models/User','json','company-','companyId','../libs/socket','update','user','status','2809392GIfvyn','default','body','findByPk','4981SookVC','store','19902708cjVIWg','SendRefreshToken','jrt','284880hqZqzc','__importDefault','665wDjccv','RefreshTokenService','ERR_SESSION_EXPIRED','../services/UserServices/AuthUserService','-auth','../helpers/SendRefreshToken','__esModule','clearCookie','204hYnThF'];a29_0x24c1=function(){return _0x518af9;};return a29_0x24c1();}const update=async(_0x53c7d,_0x36763d)=>{const _0x1d0751=a29_0x3e80df,_0x7261e4=_0x53c7d[_0x1d0751(0x195)][_0x1d0751(0x185)];if(!_0x7261e4)throw new AppError_1[(_0x1d0751(0x17e))](_0x1d0751(0x18a),0x191);const {user:_0x76116c,newToken:_0x540b88,refreshToken:_0x2da490}=await(0x0,RefreshTokenService_1[_0x1d0751(0x189)])(_0x36763d,_0x7261e4);return(0x0,SendRefreshToken_1[_0x1d0751(0x184)])(_0x36763d,_0x2da490),_0x36763d[_0x1d0751(0x199)]({'token':_0x540b88,'user':_0x76116c});};exports[a29_0x3e80df(0x17a)]=update;const me=async(_0x1c9109,_0x3a6265)=>{const _0x9061b1=a29_0x3e80df,_0x22cf24=_0x1c9109[_0x9061b1(0x195)][_0x9061b1(0x185)],_0x1f7e8f=await(0x0,FindUserFromToken_1[_0x9061b1(0x17e)])(_0x22cf24),{id:_0x2bd727,profile:_0x141db6,super:_0x43c442}=_0x1f7e8f;if(!_0x22cf24)throw new AppError_1[(_0x9061b1(0x17e))](_0x9061b1(0x18a),0x191);return _0x3a6265[_0x9061b1(0x199)]({'id':_0x2bd727,'profile':_0x141db6,'super':_0x43c442});};exports['me']=me;const remove=async(_0x2e29bc,_0x594d47)=>{const _0x3a0bbe=a29_0x3e80df,{id:_0x52183f}=_0x2e29bc[_0x3a0bbe(0x17b)],_0x559038=await User_1[_0x3a0bbe(0x17e)][_0x3a0bbe(0x180)](_0x52183f);return await _0x559038[_0x3a0bbe(0x17a)]({'online':![]}),_0x594d47[_0x3a0bbe(0x18f)](_0x3a0bbe(0x185)),_0x594d47['send']();};exports['remove']=remove;