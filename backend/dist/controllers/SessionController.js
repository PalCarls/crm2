'use strict';function a31_0x4b2d(_0x27696c,_0x1a25e3){const _0xd03949=a31_0xd039();return a31_0x4b2d=function(_0x4b2dbd,_0xa851cb){_0x4b2dbd=_0x4b2dbd-0x1b5;let _0x57b837=_0xd03949[_0x4b2dbd];return _0x57b837;},a31_0x4b2d(_0x27696c,_0x1a25e3);}const a31_0x1a8916=a31_0x4b2d;(function(_0x3b43af,_0x8870dc){const _0x1f200d=a31_0x4b2d,_0x496f8d=_0x3b43af();while(!![]){try{const _0x5aa4f6=-parseInt(_0x1f200d(0x1bd))/0x1+parseInt(_0x1f200d(0x1c0))/0x2*(parseInt(_0x1f200d(0x1d1))/0x3)+-parseInt(_0x1f200d(0x1c6))/0x4+parseInt(_0x1f200d(0x1bf))/0x5*(parseInt(_0x1f200d(0x1be))/0x6)+parseInt(_0x1f200d(0x1c4))/0x7+-parseInt(_0x1f200d(0x1d0))/0x8+parseInt(_0x1f200d(0x1cd))/0x9*(-parseInt(_0x1f200d(0x1b8))/0xa);if(_0x5aa4f6===_0x8870dc)break;else _0x496f8d['push'](_0x496f8d['shift']());}catch(_0x424d0b){_0x496f8d['push'](_0x496f8d['shift']());}}}(a31_0xd039,0xec0b1));var __importDefault=this&&this[a31_0x1a8916(0x1d4)]||function(_0x7446c8){const _0x5abed7=a31_0x1a8916;return _0x7446c8&&_0x7446c8[_0x5abed7(0x1c2)]?_0x7446c8:{'default':_0x7446c8};};Object[a31_0x1a8916(0x1c8)](exports,a31_0x1a8916(0x1c2),{'value':!![]}),exports['remove']=exports['me']=exports[a31_0x1a8916(0x1ba)]=exports[a31_0x1a8916(0x1d7)]=void 0x0;const AppError_1=__importDefault(require(a31_0x1a8916(0x1c9))),socket_1=require(a31_0x1a8916(0x1bc)),AuthUserService_1=__importDefault(require('../services/UserServices/AuthUserService')),SendRefreshToken_1=require(a31_0x1a8916(0x1b6)),RefreshTokenService_1=require('../services/AuthServices/RefreshTokenService'),FindUserFromToken_1=__importDefault(require(a31_0x1a8916(0x1c3))),User_1=__importDefault(require(a31_0x1a8916(0x1b7))),store=async(_0x3a0bd0,_0x360210)=>{const _0x1e14cc=a31_0x1a8916,{email:_0x479649,password:_0x13fff9}=_0x3a0bd0[_0x1e14cc(0x1b9)],{token:_0x18fc6b,serializedUser:_0x69ede,refreshToken:_0x2008fa}=await(0x0,AuthUserService_1[_0x1e14cc(0x1d3)])({'email':_0x479649,'password':_0x13fff9});(0x0,SendRefreshToken_1['SendRefreshToken'])(_0x360210,_0x2008fa);const _0x26670e=(0x0,socket_1[_0x1e14cc(0x1cc)])();return _0x26670e[_0x1e14cc(0x1d9)](_0x1e14cc(0x1ca)+_0x69ede[_0x1e14cc(0x1c5)]+_0x1e14cc(0x1cb),{'action':'update','user':{'id':_0x69ede['id'],'email':_0x69ede[_0x1e14cc(0x1d8)],'companyId':_0x69ede[_0x1e14cc(0x1c5)]}}),_0x360210['status'](0xc8)[_0x1e14cc(0x1d2)]({'token':_0x18fc6b,'user':_0x69ede});};exports[a31_0x1a8916(0x1d7)]=store;const update=async(_0x1bcc7f,_0x3a56d6)=>{const _0x290200=a31_0x1a8916,_0x2b0462=_0x1bcc7f['cookies'][_0x290200(0x1cf)];if(!_0x2b0462)throw new AppError_1['default'](_0x290200(0x1bb),0x191);const {user:_0x513b6c,newToken:_0x1ef80e,refreshToken:_0x277bef}=await(0x0,RefreshTokenService_1[_0x290200(0x1d6)])(_0x3a56d6,_0x2b0462);return(0x0,SendRefreshToken_1[_0x290200(0x1b5)])(_0x3a56d6,_0x277bef),_0x3a56d6[_0x290200(0x1d2)]({'token':_0x1ef80e,'user':_0x513b6c});};exports[a31_0x1a8916(0x1ba)]=update;const me=async(_0x1f1e5b,_0x3bcfb2)=>{const _0x4c82da=a31_0x1a8916,_0x56a769=_0x1f1e5b[_0x4c82da(0x1d5)][_0x4c82da(0x1cf)],_0x4b320f=await(0x0,FindUserFromToken_1[_0x4c82da(0x1d3)])(_0x56a769),{id:_0x52e9a4,profile:_0x58f0de,super:_0x386c5f}=_0x4b320f;if(!_0x56a769)throw new AppError_1['default'](_0x4c82da(0x1bb),0x191);return _0x3bcfb2[_0x4c82da(0x1d2)]({'id':_0x52e9a4,'profile':_0x58f0de,'super':_0x386c5f});};exports['me']=me;const remove=async(_0x53e0e0,_0x11f2ae)=>{const _0x3b25c9=a31_0x1a8916,{id:_0x527de7}=_0x53e0e0[_0x3b25c9(0x1ce)],_0x5add54=await User_1[_0x3b25c9(0x1d3)][_0x3b25c9(0x1c7)](_0x527de7);return await _0x5add54[_0x3b25c9(0x1ba)]({'online':![]}),_0x11f2ae['clearCookie']('jrt'),_0x11f2ae[_0x3b25c9(0x1c1)]();};function a31_0xd039(){const _0x21677f=['9cjZuWM','user','jrt','5278192IiNhAA','60YqaMqx','json','default','__importDefault','cookies','RefreshTokenService','store','email','emit','SendRefreshToken','../helpers/SendRefreshToken','../models/User','24925150FZwFKi','body','update','ERR_SESSION_EXPIRED','../libs/socket','338040gfgMWP','18WjVLFh','3029905spPswE','128108OnIHZk','send','__esModule','../services/AuthServices/FindUserFromToken','12041841GHvkJN','companyId','1448496OxoyGS','findByPk','defineProperty','../errors/AppError','company-','-auth','getIO'];a31_0xd039=function(){return _0x21677f;};return a31_0xd039();}exports['remove']=remove;