'use strict';const a35_0xd81f29=a35_0x2e46;(function(_0x4c63ab,_0x4ec75e){const _0x4520c1=a35_0x2e46,_0x24da50=_0x4c63ab();while(!![]){try{const _0x24c77f=parseInt(_0x4520c1(0x9a))/0x1+parseInt(_0x4520c1(0x97))/0x2+-parseInt(_0x4520c1(0xb0))/0x3*(-parseInt(_0x4520c1(0x9f))/0x4)+parseInt(_0x4520c1(0x9b))/0x5*(parseInt(_0x4520c1(0xb6))/0x6)+-parseInt(_0x4520c1(0x93))/0x7*(-parseInt(_0x4520c1(0xba))/0x8)+parseInt(_0x4520c1(0xb7))/0x9*(parseInt(_0x4520c1(0x9c))/0xa)+-parseInt(_0x4520c1(0xb5))/0xb;if(_0x24c77f===_0x4ec75e)break;else _0x24da50['push'](_0x24da50['shift']());}catch(_0x249fb1){_0x24da50['push'](_0x24da50['shift']());}}}(a35_0x660f,0x83ef9));var __importDefault=this&&this['__importDefault']||function(_0x5ca706){const _0x522bcf=a35_0x2e46;return _0x5ca706&&_0x5ca706[_0x522bcf(0xb4)]?_0x5ca706:{'default':_0x5ca706};};Object[a35_0xd81f29(0xbd)](exports,'__esModule',{'value':!![]}),exports['syncTags']=exports[a35_0xd81f29(0xbb)]=exports[a35_0xd81f29(0xa6)]=exports[a35_0xd81f29(0x98)]=exports['update']=exports[a35_0xd81f29(0x92)]=exports[a35_0xd81f29(0xb1)]=exports['index']=void 0x0;const socket_1=require(a35_0xd81f29(0xab)),AppError_1=__importDefault(require(a35_0xd81f29(0xad))),CreateService_1=__importDefault(require(a35_0xd81f29(0xb2))),ListService_1=__importDefault(require('../services/TagServices/ListService')),UpdateService_1=__importDefault(require(a35_0xd81f29(0xb9))),ShowService_1=__importDefault(require(a35_0xd81f29(0x95))),DeleteService_1=__importDefault(require('../services/TagServices/DeleteService')),SimpleListService_1=__importDefault(require(a35_0xd81f29(0xbc))),SyncTagsService_1=__importDefault(require(a35_0xd81f29(0xa1))),KanbanListService_1=__importDefault(require('../services/TagServices/KanbanListService')),index=async(_0x2f13b1,_0x1ce8d3)=>{const _0x5466f6=a35_0xd81f29,{pageNumber:_0x1e49cb,searchParam:_0x57bc5b,kanban:_0x209110}=_0x2f13b1[_0x5466f6(0x96)],{companyId:_0x1b4a95}=_0x2f13b1['user'],{tags:_0x24f784,count:_0x4d31ab,hasMore:_0x3b4c4a}=await(0x0,ListService_1[_0x5466f6(0x9e)])({'searchParam':_0x57bc5b,'pageNumber':_0x1e49cb,'companyId':_0x1b4a95,'kanban':_0x209110});return _0x1ce8d3[_0x5466f6(0xa7)]({'tags':_0x24f784,'count':_0x4d31ab,'hasMore':_0x3b4c4a});};function a35_0x660f(){const _0x174e05=['../errors/AppError','update','params','393IuAwXT','store','../services/TagServices/CreateService','log','__esModule','21849454JVxxrv','6POItgu','9vaCGPF','-tag','../services/TagServices/UpdateService','8qLqEhM','kanban','../services/TagServices/SimpleListService','defineProperty','getIO','show','4237331QVlJrc','admin','../services/TagServices/ShowService','query','861568MJisLE','remove','company','637213lvKnxb','3053495hHogwi','1092050KboIjw','emit','default','4076hkVECy','user','../services/TagServices/SyncTagsService','ERR_NO_PERMISSION','profile','Tag\x20deleted','status','list','json','index','syncTags','create','../libs/socket','body'];a35_0x660f=function(){return _0x174e05;};return a35_0x660f();}exports[a35_0xd81f29(0xa8)]=index;function a35_0x2e46(_0x5359fb,_0x482598){const _0x660f09=a35_0x660f();return a35_0x2e46=function(_0x2e46c3,_0xa4b383){_0x2e46c3=_0x2e46c3-0x92;let _0xfae4b1=_0x660f09[_0x2e46c3];return _0xfae4b1;},a35_0x2e46(_0x5359fb,_0x482598);}const store=async(_0x37d15d,_0x24224c)=>{const _0x44369f=a35_0xd81f29,{name:_0x5d9433,color:_0x3b6390,kanban:_0x1da11e}=_0x37d15d[_0x44369f(0xac)],{companyId:_0x2db3d1}=_0x37d15d[_0x44369f(0xa0)],_0x4f07d8=await(0x0,CreateService_1[_0x44369f(0x9e)])({'name':_0x5d9433,'color':_0x3b6390,'kanban':_0x1da11e,'companyId':_0x2db3d1}),_0xace3ce=(0x0,socket_1[_0x44369f(0xbe)])();return _0xace3ce['emit'](_0x44369f(0x99)+_0x2db3d1+'-tag',{'action':_0x44369f(0xaa),'tag':_0x4f07d8}),_0x24224c[_0x44369f(0xa5)](0xc8)[_0x44369f(0xa7)](_0x4f07d8);};exports['store']=store;const show=async(_0xd25702,_0x4a2345)=>{const _0x2174ed=a35_0xd81f29,{tagId:_0x49a99e}=_0xd25702[_0x2174ed(0xaf)],_0x4c7afb=await(0x0,ShowService_1[_0x2174ed(0x9e)])(_0x49a99e);return _0x4a2345[_0x2174ed(0xa5)](0xc8)[_0x2174ed(0xa7)](_0x4c7afb);};exports[a35_0xd81f29(0x92)]=show;const update=async(_0x100739,_0x23e9b4)=>{const _0x5e3c6c=a35_0xd81f29,{kanban:_0x1d76bf}=_0x100739['body'];console[_0x5e3c6c(0xb3)](_0x1d76bf);if(_0x100739[_0x5e3c6c(0xa0)][_0x5e3c6c(0xa3)]!==_0x5e3c6c(0x94)&&_0x1d76bf===0x1)throw new AppError_1[(_0x5e3c6c(0x9e))](_0x5e3c6c(0xa2),0x193);const {tagId:_0x49237b}=_0x100739['params'],_0x484b33=_0x100739[_0x5e3c6c(0xac)],{companyId:_0x322014}=_0x100739['user'],_0x1b691f=await(0x0,UpdateService_1[_0x5e3c6c(0x9e)])({'tagData':_0x484b33,'id':_0x49237b}),_0x5454fd=(0x0,socket_1['getIO'])();return _0x5454fd[_0x5e3c6c(0x9d)]('company'+_0x322014+_0x5e3c6c(0xb8),{'action':_0x5e3c6c(0xae),'tag':_0x1b691f}),_0x23e9b4[_0x5e3c6c(0xa5)](0xc8)[_0x5e3c6c(0xa7)](_0x1b691f);};exports[a35_0xd81f29(0xae)]=update;const remove=async(_0xde4519,_0x24eee5)=>{const _0xef6210=a35_0xd81f29,{tagId:_0x476ef4}=_0xde4519['params'],{companyId:_0x3bc695}=_0xde4519[_0xef6210(0xa0)];await(0x0,DeleteService_1[_0xef6210(0x9e)])(_0x476ef4);const _0x7f3b63=(0x0,socket_1[_0xef6210(0xbe)])();return _0x7f3b63[_0xef6210(0x9d)]('company'+_0x3bc695+'-tag',{'action':'delete','tagId':_0x476ef4}),_0x24eee5[_0xef6210(0xa5)](0xc8)['json']({'message':_0xef6210(0xa4)});};exports[a35_0xd81f29(0x98)]=remove;const list=async(_0x43e12b,_0x1f8b26)=>{const _0x110f84=a35_0xd81f29,{searchParam:_0x466c8f,kanban:_0x147e01}=_0x43e12b['query'],{companyId:_0x1b0485}=_0x43e12b[_0x110f84(0xa0)],_0x7cd051=await(0x0,SimpleListService_1[_0x110f84(0x9e)])({'searchParam':_0x466c8f,'kanban':_0x147e01,'companyId':_0x1b0485});return _0x1f8b26[_0x110f84(0xa7)](_0x7cd051);};exports[a35_0xd81f29(0xa6)]=list;const kanban=async(_0x2a9785,_0x2b8081)=>{const _0x1a0cc5=a35_0xd81f29,{companyId:_0x4da974}=_0x2a9785[_0x1a0cc5(0xa0)],_0x5bb5f8=await(0x0,KanbanListService_1[_0x1a0cc5(0x9e)])({'companyId':_0x4da974});return _0x2b8081[_0x1a0cc5(0xa7)]({'lista':_0x5bb5f8});};exports[a35_0xd81f29(0xbb)]=kanban;const syncTags=async(_0x2f479b,_0x41a0b7)=>{const _0x2b47d1=a35_0xd81f29,_0x249d96=_0x2f479b['body'],{companyId:_0x42c3ba}=_0x2f479b[_0x2b47d1(0xa0)],_0x4016c7=await(0x0,SyncTagsService_1[_0x2b47d1(0x9e)])({..._0x249d96,'companyId':_0x42c3ba});return _0x41a0b7[_0x2b47d1(0xa7)](_0x4016c7);};exports[a35_0xd81f29(0xa9)]=syncTags;