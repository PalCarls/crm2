'use strict';const a35_0x465d8d=a35_0x151d;(function(_0x40354a,_0x8dcefd){const _0x108a74=a35_0x151d,_0x5d31ab=_0x40354a();while(!![]){try{const _0x103f0a=parseInt(_0x108a74(0xa4))/0x1+parseInt(_0x108a74(0xb0))/0x2+parseInt(_0x108a74(0xa8))/0x3+-parseInt(_0x108a74(0xc5))/0x4+parseInt(_0x108a74(0xaf))/0x5*(-parseInt(_0x108a74(0xc4))/0x6)+parseInt(_0x108a74(0xc6))/0x7*(-parseInt(_0x108a74(0xb6))/0x8)+parseInt(_0x108a74(0xbb))/0x9;if(_0x103f0a===_0x8dcefd)break;else _0x5d31ab['push'](_0x5d31ab['shift']());}catch(_0x5422c3){_0x5d31ab['push'](_0x5d31ab['shift']());}}}(a35_0x4923,0xce849));var __importDefault=this&&this['__importDefault']||function(_0x22b227){return _0x22b227&&_0x22b227['__esModule']?_0x22b227:{'default':_0x22b227};};Object[a35_0x465d8d(0xb4)](exports,'__esModule',{'value':!![]}),exports[a35_0x465d8d(0xb8)]=exports['kanban']=exports[a35_0x465d8d(0xc1)]=exports[a35_0x465d8d(0xa7)]=exports[a35_0x465d8d(0xbc)]=exports[a35_0x465d8d(0xb2)]=exports['store']=exports[a35_0x465d8d(0xb3)]=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require(a35_0x465d8d(0xac))),CreateService_1=__importDefault(require(a35_0x465d8d(0xab))),ListService_1=__importDefault(require(a35_0x465d8d(0xc2))),UpdateService_1=__importDefault(require('../services/TagServices/UpdateService')),ShowService_1=__importDefault(require(a35_0x465d8d(0xaa))),DeleteService_1=__importDefault(require(a35_0x465d8d(0xa6))),SimpleListService_1=__importDefault(require('../services/TagServices/SimpleListService')),SyncTagsService_1=__importDefault(require('../services/TagServices/SyncTagsService')),KanbanListService_1=__importDefault(require(a35_0x465d8d(0xc0))),index=async(_0x3b680f,_0x13a6c8)=>{const _0x125084=a35_0x465d8d,{pageNumber:_0x3c9851,searchParam:_0x140d0d,kanban:_0x4cd3e9}=_0x3b680f[_0x125084(0xae)],{companyId:_0x34aaa6}=_0x3b680f[_0x125084(0xad)],{tags:_0x4e9a46,count:_0x4933b2,hasMore:_0xfa119d}=await(0x0,ListService_1[_0x125084(0xc7)])({'searchParam':_0x140d0d,'pageNumber':_0x3c9851,'companyId':_0x34aaa6,'kanban':_0x4cd3e9});return _0x13a6c8['json']({'tags':_0x4e9a46,'count':_0x4933b2,'hasMore':_0xfa119d});};exports[a35_0x465d8d(0xb3)]=index;const store=async(_0x1f8005,_0x3dc4b2)=>{const _0x266a10=a35_0x465d8d,{name:_0x358d83,color:_0x309987,kanban:_0x485457}=_0x1f8005[_0x266a10(0xb9)],{companyId:_0x14845b}=_0x1f8005[_0x266a10(0xad)],_0x469ca1=await(0x0,CreateService_1['default'])({'name':_0x358d83,'color':_0x309987,'kanban':_0x485457,'companyId':_0x14845b}),_0x34b7c7=(0x0,socket_1[_0x266a10(0xba)])();return _0x34b7c7[_0x266a10(0xbf)](_0x266a10(0xc8)+_0x14845b+_0x266a10(0xbd),{'action':'create','tag':_0x469ca1}),_0x3dc4b2['status'](0xc8)[_0x266a10(0xb7)](_0x469ca1);};exports[a35_0x465d8d(0xa9)]=store;const show=async(_0x2c8088,_0x12280d)=>{const _0x576c7c=a35_0x465d8d,{tagId:_0x1d190b}=_0x2c8088['params'],_0x3f7a14=await(0x0,ShowService_1[_0x576c7c(0xc7)])(_0x1d190b);return _0x12280d[_0x576c7c(0xa5)](0xc8)[_0x576c7c(0xb7)](_0x3f7a14);};function a35_0x4923(){const _0x21c385=['json','syncTags','body','getIO','7167600zLySkV','update','-tag','ERR_NO_PERMISSION','emit','../services/TagServices/KanbanListService','list','../services/TagServices/ListService','Tag\x20deleted','6LmaFEU','4089364CtoRWs','968611QKzTty','default','company','1673194pOoAQK','status','../services/TagServices/DeleteService','remove','4745502qhPjtS','store','../services/TagServices/ShowService','../services/TagServices/CreateService','../errors/AppError','user','query','7126635QIsfVS','1528480lKjnqs','admin','show','index','defineProperty','params','88gdBCDL'];a35_0x4923=function(){return _0x21c385;};return a35_0x4923();}exports[a35_0x465d8d(0xb2)]=show;const update=async(_0x55d585,_0x17c716)=>{const _0x4272e0=a35_0x465d8d,{kanban:_0x4b87f9}=_0x55d585[_0x4272e0(0xb9)];if(_0x55d585[_0x4272e0(0xad)]['profile']!==_0x4272e0(0xb1)&&_0x4b87f9===0x1)throw new AppError_1[(_0x4272e0(0xc7))](_0x4272e0(0xbe),0x193);const {tagId:_0x52ebf7}=_0x55d585['params'],_0x390f28=_0x55d585[_0x4272e0(0xb9)],{companyId:_0x4a2db7}=_0x55d585[_0x4272e0(0xad)],_0x4f8450=await(0x0,UpdateService_1['default'])({'tagData':_0x390f28,'id':_0x52ebf7}),_0x45bf6e=(0x0,socket_1['getIO'])();return _0x45bf6e[_0x4272e0(0xbf)](_0x4272e0(0xc8)+_0x4a2db7+_0x4272e0(0xbd),{'action':_0x4272e0(0xbc),'tag':_0x4f8450}),_0x17c716[_0x4272e0(0xa5)](0xc8)['json'](_0x4f8450);};exports['update']=update;const remove=async(_0x4a0631,_0x203257)=>{const _0x131c28=a35_0x465d8d,{tagId:_0x4b8975}=_0x4a0631[_0x131c28(0xb5)],{companyId:_0x378552}=_0x4a0631['user'];await(0x0,DeleteService_1[_0x131c28(0xc7)])(_0x4b8975);const _0x33d792=(0x0,socket_1[_0x131c28(0xba)])();return _0x33d792[_0x131c28(0xbf)]('company'+_0x378552+_0x131c28(0xbd),{'action':'delete','tagId':_0x4b8975}),_0x203257[_0x131c28(0xa5)](0xc8)[_0x131c28(0xb7)]({'message':_0x131c28(0xc3)});};exports[a35_0x465d8d(0xa7)]=remove;function a35_0x151d(_0x5690aa,_0x17bb9f){const _0x49233b=a35_0x4923();return a35_0x151d=function(_0x151d84,_0x58859b){_0x151d84=_0x151d84-0xa4;let _0x31c5fc=_0x49233b[_0x151d84];return _0x31c5fc;},a35_0x151d(_0x5690aa,_0x17bb9f);}const list=async(_0x182ae3,_0x358ead)=>{const _0x4746c9=a35_0x465d8d,{searchParam:_0x19584d,kanban:_0x15216f}=_0x182ae3[_0x4746c9(0xae)],{companyId:_0x3dedf9}=_0x182ae3['user'],_0x5867fb=await(0x0,SimpleListService_1[_0x4746c9(0xc7)])({'searchParam':_0x19584d,'kanban':_0x15216f,'companyId':_0x3dedf9});return _0x358ead[_0x4746c9(0xb7)](_0x5867fb);};exports[a35_0x465d8d(0xc1)]=list;const kanban=async(_0x3efbf0,_0x5780bf)=>{const _0x2aeae5=a35_0x465d8d,{companyId:_0x1a4c96}=_0x3efbf0[_0x2aeae5(0xad)],_0x462ed6=await(0x0,KanbanListService_1[_0x2aeae5(0xc7)])({'companyId':_0x1a4c96});return _0x5780bf['json']({'lista':_0x462ed6});};exports['kanban']=kanban;const syncTags=async(_0x251a4a,_0x5350ea)=>{const _0x1a3893=a35_0x465d8d,_0x106405=_0x251a4a[_0x1a3893(0xb9)],{companyId:_0x22be7e}=_0x251a4a['user'],_0x7d735c=await(0x0,SyncTagsService_1[_0x1a3893(0xc7)])({..._0x106405,'companyId':_0x22be7e});return _0x5350ea[_0x1a3893(0xb7)](_0x7d735c);};exports[a35_0x465d8d(0xb8)]=syncTags;