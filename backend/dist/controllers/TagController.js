'use strict';const a35_0x31c85b=a35_0x475d;(function(_0x3db64c,_0x3a7020){const _0x4b3053=a35_0x475d,_0x166e25=_0x3db64c();while(!![]){try{const _0x15350d=parseInt(_0x4b3053(0x147))/0x1*(parseInt(_0x4b3053(0x14a))/0x2)+-parseInt(_0x4b3053(0x14b))/0x3*(-parseInt(_0x4b3053(0x12a))/0x4)+parseInt(_0x4b3053(0x122))/0x5*(parseInt(_0x4b3053(0x127))/0x6)+-parseInt(_0x4b3053(0x135))/0x7*(parseInt(_0x4b3053(0x12e))/0x8)+parseInt(_0x4b3053(0x132))/0x9*(parseInt(_0x4b3053(0x146))/0xa)+parseInt(_0x4b3053(0x143))/0xb+-parseInt(_0x4b3053(0x133))/0xc*(parseInt(_0x4b3053(0x129))/0xd);if(_0x15350d===_0x3a7020)break;else _0x166e25['push'](_0x166e25['shift']());}catch(_0x412090){_0x166e25['push'](_0x166e25['shift']());}}}(a35_0x25de,0x48d89));var __importDefault=this&&this[a35_0x31c85b(0x12b)]||function(_0xce6ba9){const _0x54e4b0=a35_0x31c85b;return _0xce6ba9&&_0xce6ba9[_0x54e4b0(0x11f)]?_0xce6ba9:{'default':_0xce6ba9};};Object[a35_0x31c85b(0x149)](exports,a35_0x31c85b(0x11f),{'value':!![]}),exports[a35_0x31c85b(0x13b)]=exports[a35_0x31c85b(0x123)]=exports[a35_0x31c85b(0x12c)]=exports[a35_0x31c85b(0x144)]=exports[a35_0x31c85b(0x140)]=exports[a35_0x31c85b(0x125)]=exports['store']=exports[a35_0x31c85b(0x12d)]=void 0x0;const socket_1=require(a35_0x31c85b(0x13d)),AppError_1=__importDefault(require('../errors/AppError')),CreateService_1=__importDefault(require(a35_0x31c85b(0x13f))),ListService_1=__importDefault(require(a35_0x31c85b(0x131))),UpdateService_1=__importDefault(require(a35_0x31c85b(0x128))),ShowService_1=__importDefault(require('../services/TagServices/ShowService')),DeleteService_1=__importDefault(require('../services/TagServices/DeleteService')),SimpleListService_1=__importDefault(require(a35_0x31c85b(0x148))),SyncTagsService_1=__importDefault(require(a35_0x31c85b(0x139))),KanbanListService_1=__importDefault(require(a35_0x31c85b(0x134))),index=async(_0x121eb6,_0x3734ec)=>{const _0x57a7ef=a35_0x31c85b,{pageNumber:_0x4cf4f8,searchParam:_0x25f047,kanban:_0x395eb1}=_0x121eb6[_0x57a7ef(0x126)],{companyId:_0xf3addf}=_0x121eb6[_0x57a7ef(0x121)],{tags:_0x1e6144,count:_0x24cfd6,hasMore:_0x486214}=await(0x0,ListService_1[_0x57a7ef(0x142)])({'searchParam':_0x25f047,'pageNumber':_0x4cf4f8,'companyId':_0xf3addf,'kanban':_0x395eb1});return _0x3734ec[_0x57a7ef(0x138)]({'tags':_0x1e6144,'count':_0x24cfd6,'hasMore':_0x486214});};exports['index']=index;const store=async(_0x1c0f24,_0x49e4bc)=>{const _0x1e6e74=a35_0x31c85b,{name:_0x4d80ab,color:_0x50dd03,kanban:_0x5aff70}=_0x1c0f24['body'],{companyId:_0x24a7b3}=_0x1c0f24['user'],_0xbfcf4c=await(0x0,CreateService_1[_0x1e6e74(0x142)])({'name':_0x4d80ab,'color':_0x50dd03,'kanban':_0x5aff70,'companyId':_0x24a7b3}),_0x3810af=(0x0,socket_1[_0x1e6e74(0x136)])();return _0x3810af[_0x1e6e74(0x12f)](_0x1e6e74(0x124)+_0x24a7b3+_0x1e6e74(0x13c),{'action':_0x1e6e74(0x130),'tag':_0xbfcf4c}),_0x49e4bc['status'](0xc8)[_0x1e6e74(0x138)](_0xbfcf4c);};exports[a35_0x31c85b(0x11e)]=store;const show=async(_0x8d19a0,_0x1cf84a)=>{const _0x43c191=a35_0x31c85b,{tagId:_0x1d88df}=_0x8d19a0[_0x43c191(0x13e)],_0x396b13=await(0x0,ShowService_1['default'])(_0x1d88df);return _0x1cf84a['status'](0xc8)['json'](_0x396b13);};exports[a35_0x31c85b(0x125)]=show;const update=async(_0x21cad0,_0x5c73c5)=>{const _0x172c9e=a35_0x31c85b,{kanban:_0x4854fd}=_0x21cad0[_0x172c9e(0x120)];console[_0x172c9e(0x11d)](_0x4854fd);if(_0x21cad0['user'][_0x172c9e(0x141)]!==_0x172c9e(0x13a)&&_0x4854fd===0x1)throw new AppError_1[(_0x172c9e(0x142))](_0x172c9e(0x137),0x193);const {tagId:_0x588a72}=_0x21cad0[_0x172c9e(0x13e)],_0x3543a0=_0x21cad0[_0x172c9e(0x120)],{companyId:_0x430113}=_0x21cad0[_0x172c9e(0x121)],_0xbd986e=await(0x0,UpdateService_1[_0x172c9e(0x142)])({'tagData':_0x3543a0,'id':_0x588a72}),_0x3c42db=(0x0,socket_1[_0x172c9e(0x136)])();return _0x3c42db[_0x172c9e(0x12f)](_0x172c9e(0x124)+_0x430113+_0x172c9e(0x13c),{'action':'update','tag':_0xbd986e}),_0x5c73c5[_0x172c9e(0x145)](0xc8)[_0x172c9e(0x138)](_0xbd986e);};exports[a35_0x31c85b(0x140)]=update;const remove=async(_0x53044f,_0x536a6b)=>{const _0x24e525=a35_0x31c85b,{tagId:_0x23a1c3}=_0x53044f[_0x24e525(0x13e)],{companyId:_0x1ef1ab}=_0x53044f[_0x24e525(0x121)];await(0x0,DeleteService_1['default'])(_0x23a1c3);const _0x2f4790=(0x0,socket_1[_0x24e525(0x136)])();return _0x2f4790[_0x24e525(0x12f)](_0x24e525(0x124)+_0x1ef1ab+_0x24e525(0x13c),{'action':'delete','tagId':_0x23a1c3}),_0x536a6b[_0x24e525(0x145)](0xc8)[_0x24e525(0x138)]({'message':'Tag\x20deleted'});};exports[a35_0x31c85b(0x144)]=remove;const list=async(_0x243439,_0x5d6981)=>{const _0x39b569=a35_0x31c85b,{searchParam:_0x269a21,kanban:_0x3ed432}=_0x243439[_0x39b569(0x126)],{companyId:_0x1079b7}=_0x243439['user'],_0x46121a=await(0x0,SimpleListService_1[_0x39b569(0x142)])({'searchParam':_0x269a21,'kanban':_0x3ed432,'companyId':_0x1079b7});return _0x5d6981[_0x39b569(0x138)](_0x46121a);};exports[a35_0x31c85b(0x12c)]=list;const kanban=async(_0x348c47,_0x58c2f4)=>{const _0x5880d1=a35_0x31c85b,{companyId:_0x3c0391}=_0x348c47[_0x5880d1(0x121)],_0x5ca795=await(0x0,KanbanListService_1[_0x5880d1(0x142)])({'companyId':_0x3c0391});return _0x58c2f4[_0x5880d1(0x138)]({'lista':_0x5ca795});};function a35_0x25de(){const _0x2086f5=['15IAwCxa','log','store','__esModule','body','user','2333930IBBarw','kanban','company','show','query','6WAHOeo','../services/TagServices/UpdateService','1001YVlYkb','43732JLkzbX','__importDefault','list','index','472zvcJHN','emit','create','../services/TagServices/ListService','1287JfMvGd','66372LZieGd','../services/TagServices/KanbanListService','3703ERbRyP','getIO','ERR_NO_PERMISSION','json','../services/TagServices/SyncTagsService','admin','syncTags','-tag','../libs/socket','params','../services/TagServices/CreateService','update','profile','default','321508fbSPPO','remove','status','3330ApsGFm','1EpppCA','../services/TagServices/SimpleListService','defineProperty','314354QHnHHe'];a35_0x25de=function(){return _0x2086f5;};return a35_0x25de();}exports[a35_0x31c85b(0x123)]=kanban;const syncTags=async(_0x9ef08a,_0x502de2)=>{const _0x128274=a35_0x31c85b,_0x7d30ab=_0x9ef08a['body'],{companyId:_0x29a919}=_0x9ef08a[_0x128274(0x121)],_0x3bce5e=await(0x0,SyncTagsService_1[_0x128274(0x142)])({..._0x7d30ab,'companyId':_0x29a919});return _0x502de2[_0x128274(0x138)](_0x3bce5e);};function a35_0x475d(_0x3162e6,_0x59924c){const _0x25deb1=a35_0x25de();return a35_0x475d=function(_0x475d7d,_0x833eb2){_0x475d7d=_0x475d7d-0x11d;let _0x580da4=_0x25deb1[_0x475d7d];return _0x580da4;},a35_0x475d(_0x3162e6,_0x59924c);}exports[a35_0x31c85b(0x13b)]=syncTags;