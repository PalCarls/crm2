'use strict';const a33_0x33a24e=a33_0xd306;(function(_0x5c9087,_0x372c01){const _0x3bf7c2=a33_0xd306,_0x54c8e2=_0x5c9087();while(!![]){try{const _0x4a6776=parseInt(_0x3bf7c2(0x7f))/0x1+-parseInt(_0x3bf7c2(0x75))/0x2+-parseInt(_0x3bf7c2(0x6b))/0x3+-parseInt(_0x3bf7c2(0x6e))/0x4+-parseInt(_0x3bf7c2(0x6f))/0x5+-parseInt(_0x3bf7c2(0x8c))/0x6*(parseInt(_0x3bf7c2(0x86))/0x7)+parseInt(_0x3bf7c2(0x7b))/0x8;if(_0x4a6776===_0x372c01)break;else _0x54c8e2['push'](_0x54c8e2['shift']());}catch(_0x49ae3e){_0x54c8e2['push'](_0x54c8e2['shift']());}}}(a33_0x57aa,0x3f871));function a33_0xd306(_0x11fa94,_0x3a92fe){const _0x57aadb=a33_0x57aa();return a33_0xd306=function(_0xd30652,_0x4757e4){_0xd30652=_0xd30652-0x6a;let _0x1010be=_0x57aadb[_0xd30652];return _0x1010be;},a33_0xd306(_0x11fa94,_0x3a92fe);}var __importDefault=this&&this['__importDefault']||function(_0x53ce2b){const _0x375918=a33_0xd306;return _0x53ce2b&&_0x53ce2b[_0x375918(0x72)]?_0x53ce2b:{'default':_0x53ce2b};};function a33_0x57aa(){const _0x281dd4=['delete','json','10311xvmtZp','log','../services/TagServices/CreateService','70248LcbdHX','1718040AtUkym','../services/TagServices/UpdateService','kanban','__esModule','../services/TagServices/SimpleListService','list','137910ugEOAW','profile','body','index','company','user','5986408dsmoSZ','../services/TagServices/ListService','../services/TagServices/ShowService','store','243181tPllYB','../services/TagServices/DeleteService','emit','status','create','../services/TagServices/SyncTagsService','syncTags','231553bqjTbn','../libs/socket','remove','defineProperty','Tag\x20deleted','params','54OzoMmJ','update','default','-tag','getIO'];a33_0x57aa=function(){return _0x281dd4;};return a33_0x57aa();}Object[a33_0x33a24e(0x89)](exports,a33_0x33a24e(0x72),{'value':!![]}),exports[a33_0x33a24e(0x85)]=exports[a33_0x33a24e(0x71)]=exports[a33_0x33a24e(0x74)]=exports[a33_0x33a24e(0x88)]=exports[a33_0x33a24e(0x8d)]=exports['show']=exports[a33_0x33a24e(0x7e)]=exports[a33_0x33a24e(0x78)]=void 0x0;const socket_1=require(a33_0x33a24e(0x87)),AppError_1=__importDefault(require('../errors/AppError')),CreateService_1=__importDefault(require(a33_0x33a24e(0x6d))),ListService_1=__importDefault(require(a33_0x33a24e(0x7c))),UpdateService_1=__importDefault(require(a33_0x33a24e(0x70))),ShowService_1=__importDefault(require(a33_0x33a24e(0x7d))),DeleteService_1=__importDefault(require(a33_0x33a24e(0x80))),SimpleListService_1=__importDefault(require(a33_0x33a24e(0x73))),SyncTagsService_1=__importDefault(require(a33_0x33a24e(0x84))),KanbanListService_1=__importDefault(require('../services/TagServices/KanbanListService')),index=async(_0x55c655,_0xf235d)=>{const _0xd3dda1=a33_0x33a24e,{pageNumber:_0x44ec03,searchParam:_0x3e5991,kanban:_0x3e4cc2}=_0x55c655['query'],{companyId:_0x2cb714}=_0x55c655[_0xd3dda1(0x7a)],{tags:_0x6b34ea,count:_0x1b8c0d,hasMore:_0xb2e183}=await(0x0,ListService_1['default'])({'searchParam':_0x3e5991,'pageNumber':_0x44ec03,'companyId':_0x2cb714,'kanban':_0x3e4cc2});return _0xf235d[_0xd3dda1(0x6a)]({'tags':_0x6b34ea,'count':_0x1b8c0d,'hasMore':_0xb2e183});};exports[a33_0x33a24e(0x78)]=index;const store=async(_0x54bc3e,_0x5c101c)=>{const _0x4cfb0f=a33_0x33a24e,{name:_0x479572,color:_0x1efd04,kanban:_0x43b354}=_0x54bc3e[_0x4cfb0f(0x77)],{companyId:_0x34e280}=_0x54bc3e[_0x4cfb0f(0x7a)],_0x2ad81c=await(0x0,CreateService_1['default'])({'name':_0x479572,'color':_0x1efd04,'kanban':_0x43b354,'companyId':_0x34e280}),_0x3def86=(0x0,socket_1[_0x4cfb0f(0x90)])();return _0x3def86[_0x4cfb0f(0x81)](_0x4cfb0f(0x79)+_0x34e280+_0x4cfb0f(0x8f),{'action':_0x4cfb0f(0x83),'tag':_0x2ad81c}),_0x5c101c[_0x4cfb0f(0x82)](0xc8)[_0x4cfb0f(0x6a)](_0x2ad81c);};exports[a33_0x33a24e(0x7e)]=store;const show=async(_0x382b70,_0x418454)=>{const _0x26da2d=a33_0x33a24e,{tagId:_0x593b2a}=_0x382b70[_0x26da2d(0x8b)],_0x170fd2=await(0x0,ShowService_1[_0x26da2d(0x8e)])(_0x593b2a);return _0x418454[_0x26da2d(0x82)](0xc8)[_0x26da2d(0x6a)](_0x170fd2);};exports['show']=show;const update=async(_0x4d301a,_0xc9050b)=>{const _0x2479b2=a33_0x33a24e;if(_0x4d301a[_0x2479b2(0x7a)][_0x2479b2(0x76)]!=='admin')throw new AppError_1[(_0x2479b2(0x8e))]('ERR_NO_PERMISSION',0x193);const {tagId:_0x5dd68d}=_0x4d301a[_0x2479b2(0x8b)],_0x5788d3=_0x4d301a['body'],{companyId:_0x33222d}=_0x4d301a[_0x2479b2(0x7a)],_0x29f5b2=await(0x0,UpdateService_1[_0x2479b2(0x8e)])({'tagData':_0x5788d3,'id':_0x5dd68d}),_0x43715b=(0x0,socket_1['getIO'])();return _0x43715b[_0x2479b2(0x81)](_0x2479b2(0x79)+_0x33222d+'-tag',{'action':_0x2479b2(0x8d),'tag':_0x29f5b2}),_0xc9050b[_0x2479b2(0x82)](0xc8)[_0x2479b2(0x6a)](_0x29f5b2);};exports[a33_0x33a24e(0x8d)]=update;const remove=async(_0x3f8380,_0x367da8)=>{const _0x53e9db=a33_0x33a24e,{tagId:_0x295eec}=_0x3f8380[_0x53e9db(0x8b)],{companyId:_0x2116b2}=_0x3f8380['user'];await(0x0,DeleteService_1[_0x53e9db(0x8e)])(_0x295eec);const _0xaaa289=(0x0,socket_1[_0x53e9db(0x90)])();return _0xaaa289[_0x53e9db(0x81)](_0x53e9db(0x79)+_0x2116b2+_0x53e9db(0x8f),{'action':_0x53e9db(0x91),'tagId':_0x295eec}),_0x367da8[_0x53e9db(0x82)](0xc8)[_0x53e9db(0x6a)]({'message':_0x53e9db(0x8a)});};exports['remove']=remove;const list=async(_0x28066c,_0x484400)=>{const _0x3982f1=a33_0x33a24e,{searchParam:_0x230cb8,kanban:_0x46e951}=_0x28066c['query'],{companyId:_0x294c13}=_0x28066c[_0x3982f1(0x7a)],_0x3f997c=await(0x0,SimpleListService_1[_0x3982f1(0x8e)])({'searchParam':_0x230cb8,'kanban':_0x46e951,'companyId':_0x294c13});return _0x484400[_0x3982f1(0x6a)](_0x3f997c);};exports[a33_0x33a24e(0x74)]=list;const kanban=async(_0x367f2a,_0x213bfc)=>{const _0x2ac5b2=a33_0x33a24e,{companyId:_0x5bba1b}=_0x367f2a[_0x2ac5b2(0x7a)],_0x418940=await(0x0,KanbanListService_1[_0x2ac5b2(0x8e)])({'companyId':_0x5bba1b});return console[_0x2ac5b2(0x6c)](_0x418940),_0x213bfc['json']({'lista':_0x418940});};exports[a33_0x33a24e(0x71)]=kanban;const syncTags=async(_0x15b0a9,_0x799ece)=>{const _0xb7593d=a33_0x33a24e,_0x4e8840=_0x15b0a9[_0xb7593d(0x77)],{companyId:_0x132a32}=_0x15b0a9[_0xb7593d(0x7a)],_0xbd8093=await(0x0,SyncTagsService_1['default'])({..._0x4e8840,'companyId':_0x132a32});return _0x799ece[_0xb7593d(0x6a)](_0xbd8093);};exports[a33_0x33a24e(0x85)]=syncTags;