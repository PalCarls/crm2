'use strict';const a34_0x5b32e7=a34_0x1657;(function(_0x328d7d,_0x181210){const _0x47c90d=a34_0x1657,_0x5d16cd=_0x328d7d();while(!![]){try{const _0x3d48a7=-parseInt(_0x47c90d(0x12f))/0x1+-parseInt(_0x47c90d(0x152))/0x2*(parseInt(_0x47c90d(0x141))/0x3)+-parseInt(_0x47c90d(0x12b))/0x4+-parseInt(_0x47c90d(0x126))/0x5*(-parseInt(_0x47c90d(0x14d))/0x6)+parseInt(_0x47c90d(0x14c))/0x7*(-parseInt(_0x47c90d(0x133))/0x8)+-parseInt(_0x47c90d(0x148))/0x9*(-parseInt(_0x47c90d(0x122))/0xa)+parseInt(_0x47c90d(0x125))/0xb;if(_0x3d48a7===_0x181210)break;else _0x5d16cd['push'](_0x5d16cd['shift']());}catch(_0x14da82){_0x5d16cd['push'](_0x5d16cd['shift']());}}}(a34_0x48ec,0xd0f0a));var __createBinding=this&&this[a34_0x5b32e7(0x156)]||(Object['create']?function(_0x40b364,_0x255f0f,_0x5e9763,_0x5de066){const _0x12c28d=a34_0x5b32e7;if(_0x5de066===undefined)_0x5de066=_0x5e9763;var _0x348a8e=Object[_0x12c28d(0x147)](_0x255f0f,_0x5e9763);(!_0x348a8e||('get'in _0x348a8e?!_0x255f0f[_0x12c28d(0x13c)]:_0x348a8e[_0x12c28d(0x131)]||_0x348a8e[_0x12c28d(0x138)]))&&(_0x348a8e={'enumerable':!![],'get':function(){return _0x255f0f[_0x5e9763];}}),Object[_0x12c28d(0x136)](_0x40b364,_0x5de066,_0x348a8e);}:function(_0x5abc0b,_0x47e2a9,_0x157e45,_0x3b97cd){if(_0x3b97cd===undefined)_0x3b97cd=_0x157e45;_0x5abc0b[_0x3b97cd]=_0x47e2a9[_0x157e45];}),__setModuleDefault=this&&this[a34_0x5b32e7(0x139)]||(Object[a34_0x5b32e7(0x13a)]?function(_0xdc0e8b,_0x3d657c){const _0x32f019=a34_0x5b32e7;Object[_0x32f019(0x136)](_0xdc0e8b,'default',{'enumerable':!![],'value':_0x3d657c});}:function(_0x125dae,_0x3a1a8a){const _0x19144e=a34_0x5b32e7;_0x125dae[_0x19144e(0x137)]=_0x3a1a8a;}),__importStar=this&&this['__importStar']||function(_0x331374){const _0x161cd4=a34_0x5b32e7;if(_0x331374&&_0x331374['__esModule'])return _0x331374;var _0x3f84b9={};if(_0x331374!=null){for(var _0x154a68 in _0x331374)if(_0x154a68!==_0x161cd4(0x137)&&Object[_0x161cd4(0x13f)][_0x161cd4(0x14a)][_0x161cd4(0x144)](_0x331374,_0x154a68))__createBinding(_0x3f84b9,_0x331374,_0x154a68);}return __setModuleDefault(_0x3f84b9,_0x331374),_0x3f84b9;},__importDefault=this&&this[a34_0x5b32e7(0x142)]||function(_0x4ad0bf){return _0x4ad0bf&&_0x4ad0bf['__esModule']?_0x4ad0bf:{'default':_0x4ad0bf};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a34_0x5b32e7(0x14f)]=exports[a34_0x5b32e7(0x13e)]=exports['update']=exports[a34_0x5b32e7(0x155)]=exports[a34_0x5b32e7(0x121)]=exports[a34_0x5b32e7(0x129)]=exports[a34_0x5b32e7(0x146)]=void 0x0;const Yup=__importStar(require(a34_0x5b32e7(0x150))),AppError_1=__importDefault(require(a34_0x5b32e7(0x130))),ListTicketNotesService_1=__importDefault(require(a34_0x5b32e7(0x123))),CreateTicketNoteService_1=__importDefault(require(a34_0x5b32e7(0x140))),UpdateTicketNoteService_1=__importDefault(require(a34_0x5b32e7(0x14b))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a34_0x5b32e7(0x13b))),DeleteTicketNoteService_1=__importDefault(require(a34_0x5b32e7(0x132))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a34_0x5b32e7(0x12c))),index=async(_0x136211,_0x48cd74)=>{const _0x323c21=a34_0x5b32e7,{searchParam:_0x2e6c51,pageNumber:_0x4243c9}=_0x136211[_0x323c21(0x149)],{ticketNotes:_0x45a7f9,count:_0x1a0082,hasMore:_0xa3bca8}=await(0x0,ListTicketNotesService_1[_0x323c21(0x137)])({'searchParam':_0x2e6c51,'pageNumber':_0x4243c9});return _0x48cd74[_0x323c21(0x134)]({'ticketNotes':_0x45a7f9,'count':_0x1a0082,'hasMore':_0xa3bca8});};exports[a34_0x5b32e7(0x146)]=index;const list=async(_0x4b3a3c,_0x33cb49)=>{const _0x4e024b=a34_0x5b32e7,_0x43ebdc=await(0x0,FindAllTicketNotesService_1[_0x4e024b(0x137)])();return _0x33cb49['status'](0xc8)[_0x4e024b(0x134)](_0x43ebdc);};exports['list']=list;const store=async(_0xafb212,_0x43078c)=>{const _0xf3982=a34_0x5b32e7,_0x47b05e=_0xafb212['body'],{id:_0xc1718f}=_0xafb212[_0xf3982(0x127)],_0x5c2e73=Yup[_0xf3982(0x12e)]()[_0xf3982(0x12a)]({'note':Yup['string']()[_0xf3982(0x128)]()});try{await _0x5c2e73[_0xf3982(0x135)](_0x47b05e);}catch(_0x25a843){throw new AppError_1[(_0xf3982(0x137))](_0x25a843[_0xf3982(0x143)]);}const _0x18cdd9=await(0x0,CreateTicketNoteService_1[_0xf3982(0x137)])({..._0x47b05e,'userId':_0xc1718f});return _0x43078c[_0xf3982(0x151)](0xc8)['json'](_0x18cdd9);};exports[a34_0x5b32e7(0x121)]=store;function a34_0x1657(_0x4a80a5,_0xaa7ac7){const _0x48ec43=a34_0x48ec();return a34_0x1657=function(_0x1657c2,_0x32e622){_0x1657c2=_0x1657c2-0x121;let _0x469986=_0x48ec43[_0x1657c2];return _0x469986;},a34_0x1657(_0x4a80a5,_0xaa7ac7);}const show=async(_0x4f2035,_0x198861)=>{const _0xb1a4a=a34_0x5b32e7,{id:_0x50762b}=_0x4f2035[_0xb1a4a(0x14e)],_0x231fbb=await(0x0,ShowTicketNoteService_1['default'])(_0x50762b);return _0x198861['status'](0xc8)[_0xb1a4a(0x134)](_0x231fbb);};function a34_0x48ec(){const _0x46db71=['10708ilLuDi','ERR_NO_PERMISSION','Observação\x20removida','show','__createBinding','store','130dmyQsi','../services/TicketNoteService/ListTicketNotesService','admin','22878922GFZjBm','32605puflRd','user','required','list','shape','5609456XAkqqe','../services/TicketNoteService/FindNotesByContactIdAndTicketId','profile','object','855148pDWulJ','../errors/AppError','writable','../services/TicketNoteService/DeleteTicketNoteService','330320SJenSM','json','validate','defineProperty','default','configurable','__setModuleDefault','create','../services/TicketNoteService/FindAllTicketNotesService','__esModule','update','remove','prototype','../services/TicketNoteService/CreateTicketNoteService','189XQTnGq','__importDefault','message','call','string','index','getOwnPropertyDescriptor','417609uDnwgm','query','hasOwnProperty','../services/TicketNoteService/UpdateTicketNoteService','154SEMepW','1542yyNzFV','params','findFilteredList','yup','status'];a34_0x48ec=function(){return _0x46db71;};return a34_0x48ec();}exports[a34_0x5b32e7(0x155)]=show;const update=async(_0x38d242,_0x42fa40)=>{const _0x251aab=a34_0x5b32e7,_0x354c3d=_0x38d242['body'],_0x1f6167=Yup[_0x251aab(0x12e)]()[_0x251aab(0x12a)]({'note':Yup[_0x251aab(0x145)]()});try{await _0x1f6167['validate'](_0x354c3d);}catch(_0x12126d){throw new AppError_1[(_0x251aab(0x137))](_0x12126d[_0x251aab(0x143)]);}const _0x105435=await(0x0,UpdateTicketNoteService_1['default'])(_0x354c3d);return _0x42fa40[_0x251aab(0x151)](0xc8)['json'](_0x105435);};exports[a34_0x5b32e7(0x13d)]=update;const remove=async(_0x313d8e,_0x1e2883)=>{const _0x572e07=a34_0x5b32e7,{id:_0x19ae49}=_0x313d8e[_0x572e07(0x14e)];if(_0x313d8e[_0x572e07(0x127)][_0x572e07(0x12d)]!==_0x572e07(0x124))throw new AppError_1[(_0x572e07(0x137))](_0x572e07(0x153),0x193);return await(0x0,DeleteTicketNoteService_1[_0x572e07(0x137)])(_0x19ae49),_0x1e2883[_0x572e07(0x151)](0xc8)['json']({'message':_0x572e07(0x154)});};exports['remove']=remove;const findFilteredList=async(_0x13b50e,_0x4b99b4)=>{const _0x56d3ef=a34_0x5b32e7;try{const {contactId:_0x4ebe6e,ticketId:_0x4a934f}=_0x13b50e['query'],_0x1e80e5=await(0x0,FindNotesByContactIdAndTicketId_1[_0x56d3ef(0x137)])({'contactId':_0x4ebe6e,'ticketId':_0x4a934f});return _0x4b99b4['status'](0xc8)[_0x56d3ef(0x134)](_0x1e80e5);}catch(_0x58d00c){return _0x4b99b4[_0x56d3ef(0x151)](0x1f4)['json']({'message':_0x58d00c});}};exports[a34_0x5b32e7(0x14f)]=findFilteredList;