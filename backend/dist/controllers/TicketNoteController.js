'use strict';const a37_0x52625c=a37_0x3fbf;(function(_0x156911,_0x510fe4){const _0x86bd12=a37_0x3fbf,_0x2c636c=_0x156911();while(!![]){try{const _0x3d2cb2=-parseInt(_0x86bd12(0x16a))/0x1+parseInt(_0x86bd12(0x17a))/0x2*(-parseInt(_0x86bd12(0x187))/0x3)+parseInt(_0x86bd12(0x185))/0x4*(-parseInt(_0x86bd12(0x171))/0x5)+-parseInt(_0x86bd12(0x176))/0x6*(parseInt(_0x86bd12(0x17b))/0x7)+-parseInt(_0x86bd12(0x17c))/0x8*(parseInt(_0x86bd12(0x16b))/0x9)+parseInt(_0x86bd12(0x16c))/0xa+parseInt(_0x86bd12(0x166))/0xb;if(_0x3d2cb2===_0x510fe4)break;else _0x2c636c['push'](_0x2c636c['shift']());}catch(_0x315aeb){_0x2c636c['push'](_0x2c636c['shift']());}}}(a37_0xec6e,0x5db51));var __createBinding=this&&this[a37_0x52625c(0x189)]||(Object[a37_0x52625c(0x183)]?function(_0x330c31,_0x5c2e56,_0x7c80b7,_0x57cb69){const _0x3df6b=a37_0x52625c;if(_0x57cb69===undefined)_0x57cb69=_0x7c80b7;var _0x8e7eb2=Object[_0x3df6b(0x17d)](_0x5c2e56,_0x7c80b7);(!_0x8e7eb2||(_0x3df6b(0x18b)in _0x8e7eb2?!_0x5c2e56[_0x3df6b(0x17e)]:_0x8e7eb2['writable']||_0x8e7eb2[_0x3df6b(0x182)]))&&(_0x8e7eb2={'enumerable':!![],'get':function(){return _0x5c2e56[_0x7c80b7];}}),Object['defineProperty'](_0x330c31,_0x57cb69,_0x8e7eb2);}:function(_0x334555,_0x3a7497,_0x1ef2e0,_0x3a31da){if(_0x3a31da===undefined)_0x3a31da=_0x1ef2e0;_0x334555[_0x3a31da]=_0x3a7497[_0x1ef2e0];}),__setModuleDefault=this&&this[a37_0x52625c(0x18d)]||(Object['create']?function(_0x3487f6,_0x3c59bf){const _0x4fb2b7=a37_0x52625c;Object[_0x4fb2b7(0x170)](_0x3487f6,_0x4fb2b7(0x18e),{'enumerable':!![],'value':_0x3c59bf});}:function(_0x6910a3,_0x73ef97){const _0xefc4fb=a37_0x52625c;_0x6910a3[_0xefc4fb(0x18e)]=_0x73ef97;}),__importStar=this&&this[a37_0x52625c(0x16f)]||function(_0x52b679){const _0x492ae9=a37_0x52625c;if(_0x52b679&&_0x52b679['__esModule'])return _0x52b679;var _0x35c109={};if(_0x52b679!=null){for(var _0x2b55af in _0x52b679)if(_0x2b55af!=='default'&&Object['prototype']['hasOwnProperty'][_0x492ae9(0x16d)](_0x52b679,_0x2b55af))__createBinding(_0x35c109,_0x52b679,_0x2b55af);}return __setModuleDefault(_0x35c109,_0x52b679),_0x35c109;},__importDefault=this&&this[a37_0x52625c(0x16e)]||function(_0x45d1ea){const _0xc86821=a37_0x52625c;return _0x45d1ea&&_0x45d1ea[_0xc86821(0x17e)]?_0x45d1ea:{'default':_0x45d1ea};};Object[a37_0x52625c(0x170)](exports,'__esModule',{'value':!![]}),exports[a37_0x52625c(0x18a)]=exports['remove']=exports['update']=exports[a37_0x52625c(0x194)]=exports[a37_0x52625c(0x169)]=exports[a37_0x52625c(0x179)]=exports[a37_0x52625c(0x190)]=void 0x0;const Yup=__importStar(require(a37_0x52625c(0x188))),AppError_1=__importDefault(require('../errors/AppError')),ListTicketNotesService_1=__importDefault(require('../services/TicketNoteService/ListTicketNotesService')),CreateTicketNoteService_1=__importDefault(require(a37_0x52625c(0x178))),UpdateTicketNoteService_1=__importDefault(require(a37_0x52625c(0x184))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a37_0x52625c(0x172))),DeleteTicketNoteService_1=__importDefault(require('../services/TicketNoteService/DeleteTicketNoteService')),FindNotesByContactIdAndTicketId_1=__importDefault(require(a37_0x52625c(0x192))),index=async(_0xb0d302,_0x187fd5)=>{const _0x7bfa58=a37_0x52625c,{searchParam:_0x16a45f,pageNumber:_0x3b74c3}=_0xb0d302['query'],{ticketNotes:_0x181b37,count:_0x153d96,hasMore:_0x334512}=await(0x0,ListTicketNotesService_1[_0x7bfa58(0x18e)])({'searchParam':_0x16a45f,'pageNumber':_0x3b74c3});return _0x187fd5[_0x7bfa58(0x175)]({'ticketNotes':_0x181b37,'count':_0x153d96,'hasMore':_0x334512});};exports[a37_0x52625c(0x190)]=index;const list=async(_0x4d207d,_0xbcfb30)=>{const _0x482848=a37_0x52625c,_0x31cf34=await(0x0,FindAllTicketNotesService_1[_0x482848(0x18e)])();return _0xbcfb30[_0x482848(0x186)](0xc8)['json'](_0x31cf34);};exports[a37_0x52625c(0x179)]=list;const store=async(_0x203814,_0x1dac20)=>{const _0x39d435=a37_0x52625c,_0x338032=_0x203814[_0x39d435(0x168)],{id:_0x301d53}=_0x203814[_0x39d435(0x173)],_0x367857=Yup[_0x39d435(0x191)]()[_0x39d435(0x180)]({'note':Yup['string']()[_0x39d435(0x177)]()});try{await _0x367857[_0x39d435(0x196)](_0x338032);}catch(_0x5106e9){throw new AppError_1[(_0x39d435(0x18e))](_0x5106e9[_0x39d435(0x195)]);}const _0x4cb9ba=await(0x0,CreateTicketNoteService_1[_0x39d435(0x18e)])({..._0x338032,'userId':_0x301d53});return _0x1dac20['status'](0xc8)[_0x39d435(0x175)](_0x4cb9ba);};exports[a37_0x52625c(0x169)]=store;const show=async(_0x4fea2b,_0x3706fc)=>{const _0x1cb09c=a37_0x52625c,{id:_0x44a8a9}=_0x4fea2b[_0x1cb09c(0x174)],_0x4a6e3d=await(0x0,ShowTicketNoteService_1[_0x1cb09c(0x18e)])(_0x44a8a9);return _0x3706fc[_0x1cb09c(0x186)](0xc8)[_0x1cb09c(0x175)](_0x4a6e3d);};exports[a37_0x52625c(0x194)]=show;const update=async(_0x2452c4,_0x734e26)=>{const _0x56b6a7=a37_0x52625c,_0x44eb9b=_0x2452c4['body'],_0x5e4dc4=Yup[_0x56b6a7(0x191)]()[_0x56b6a7(0x180)]({'note':Yup[_0x56b6a7(0x18f)]()});try{await _0x5e4dc4[_0x56b6a7(0x196)](_0x44eb9b);}catch(_0x6f10fe){throw new AppError_1['default'](_0x6f10fe['message']);}const _0x4bad2b=await(0x0,UpdateTicketNoteService_1[_0x56b6a7(0x18e)])(_0x44eb9b);return _0x734e26[_0x56b6a7(0x186)](0xc8)['json'](_0x4bad2b);};exports[a37_0x52625c(0x18c)]=update;function a37_0xec6e(){const _0x29fcc0=['configurable','create','../services/TicketNoteService/UpdateTicketNoteService','28VPQndr','status','143901dGunFW','yup','__createBinding','findFilteredList','get','update','__setModuleDefault','default','string','index','object','../services/TicketNoteService/FindNotesByContactIdAndTicketId','query','show','message','validate','21709215PiVwAf','Observação\x20removida','body','store','690401hvdSDj','94833RVkJop','1616940rgmJir','call','__importDefault','__importStar','defineProperty','32205ZEHWGB','../services/TicketNoteService/FindAllTicketNotesService','user','params','json','688188qTaKto','required','../services/TicketNoteService/CreateTicketNoteService','list','10uIzuMN','21EUwJYL','328eWoKAp','getOwnPropertyDescriptor','__esModule','admin','shape','remove'];a37_0xec6e=function(){return _0x29fcc0;};return a37_0xec6e();}const remove=async(_0x59641f,_0xb67a6a)=>{const _0x115f24=a37_0x52625c,{id:_0x4c3880}=_0x59641f[_0x115f24(0x174)];if(_0x59641f[_0x115f24(0x173)]['profile']!==_0x115f24(0x17f))throw new AppError_1['default']('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1[_0x115f24(0x18e)])(_0x4c3880),_0xb67a6a[_0x115f24(0x186)](0xc8)[_0x115f24(0x175)]({'message':_0x115f24(0x167)});};exports[a37_0x52625c(0x181)]=remove;function a37_0x3fbf(_0x1c19c0,_0x1a2424){const _0xec6eae=a37_0xec6e();return a37_0x3fbf=function(_0x3fbf2f,_0x1ce8cf){_0x3fbf2f=_0x3fbf2f-0x166;let _0x543cc5=_0xec6eae[_0x3fbf2f];return _0x543cc5;},a37_0x3fbf(_0x1c19c0,_0x1a2424);}const findFilteredList=async(_0x5a48a3,_0x797f92)=>{const _0x5a6e24=a37_0x52625c;try{const {contactId:_0x199c49,ticketId:_0x2b1657}=_0x5a48a3[_0x5a6e24(0x193)],_0x2c4786=await(0x0,FindNotesByContactIdAndTicketId_1[_0x5a6e24(0x18e)])({'contactId':_0x199c49,'ticketId':_0x2b1657});return _0x797f92[_0x5a6e24(0x186)](0xc8)[_0x5a6e24(0x175)](_0x2c4786);}catch(_0x2e7f13){return _0x797f92['status'](0x1f4)[_0x5a6e24(0x175)]({'message':_0x2e7f13});}};exports[a37_0x52625c(0x18a)]=findFilteredList;