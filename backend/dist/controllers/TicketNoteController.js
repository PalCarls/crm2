'use strict';const a37_0x772f31=a37_0x3adb;function a37_0x39d6(){const _0xd124f5=['__importDefault','2730597pKWgpw','string','profile','list','writable','12nVPJyB','configurable','hasOwnProperty','object','10512968EEQmGf','call','getOwnPropertyDescriptor','json','body','get','show','defineProperty','__importStar','../services/TicketNoteService/DeleteTicketNoteService','../services/TicketNoteService/FindAllTicketNotesService','user','../services/TicketNoteService/ListTicketNotesService','store','update','admin','status','Observação\x20removida','__createBinding','38947311cyEZvz','remove','create','__esModule','validate','3078545HNZTyD','ERR_NO_PERMISSION','yup','../services/TicketNoteService/UpdateTicketNoteService','7423052oXOdbS','__setModuleDefault','index','default','1055981fmxEbW','prototype','../errors/AppError','../services/TicketNoteService/CreateTicketNoteService','2315882tCWbQZ','message','required','query','8grGkTb','params'];a37_0x39d6=function(){return _0xd124f5;};return a37_0x39d6();}(function(_0x4f16e7,_0x48a474){const _0x28d93b=a37_0x3adb,_0x18070b=_0x4f16e7();while(!![]){try{const _0x142e4a=parseInt(_0x28d93b(0x13e))/0x1+-parseInt(_0x28d93b(0x142))/0x2+-parseInt(_0x28d93b(0x149))/0x3*(parseInt(_0x28d93b(0x146))/0x4)+parseInt(_0x28d93b(0x136))/0x5*(-parseInt(_0x28d93b(0x14e))/0x6)+parseInt(_0x28d93b(0x13a))/0x7+-parseInt(_0x28d93b(0x11e))/0x8+parseInt(_0x28d93b(0x131))/0x9;if(_0x142e4a===_0x48a474)break;else _0x18070b['push'](_0x18070b['shift']());}catch(_0x4c487f){_0x18070b['push'](_0x18070b['shift']());}}}(a37_0x39d6,0xe09d2));var __createBinding=this&&this[a37_0x772f31(0x130)]||(Object[a37_0x772f31(0x133)]?function(_0x590ee2,_0x54e605,_0x2f6397,_0x5596a4){const _0x720ac3=a37_0x772f31;if(_0x5596a4===undefined)_0x5596a4=_0x2f6397;var _0x1982c5=Object[_0x720ac3(0x120)](_0x54e605,_0x2f6397);(!_0x1982c5||(_0x720ac3(0x123)in _0x1982c5?!_0x54e605['__esModule']:_0x1982c5[_0x720ac3(0x14d)]||_0x1982c5[_0x720ac3(0x11b)]))&&(_0x1982c5={'enumerable':!![],'get':function(){return _0x54e605[_0x2f6397];}}),Object['defineProperty'](_0x590ee2,_0x5596a4,_0x1982c5);}:function(_0xf3dc7,_0x290220,_0x391208,_0x2f8ed0){if(_0x2f8ed0===undefined)_0x2f8ed0=_0x391208;_0xf3dc7[_0x2f8ed0]=_0x290220[_0x391208];}),__setModuleDefault=this&&this[a37_0x772f31(0x13b)]||(Object[a37_0x772f31(0x133)]?function(_0x49b282,_0x16a0b5){Object['defineProperty'](_0x49b282,'default',{'enumerable':!![],'value':_0x16a0b5});}:function(_0x21fc75,_0x30f5ab){_0x21fc75['default']=_0x30f5ab;}),__importStar=this&&this[a37_0x772f31(0x126)]||function(_0x3c0e2c){const _0x57dce0=a37_0x772f31;if(_0x3c0e2c&&_0x3c0e2c['__esModule'])return _0x3c0e2c;var _0xc6c2cf={};if(_0x3c0e2c!=null){for(var _0x1c1733 in _0x3c0e2c)if(_0x1c1733!=='default'&&Object[_0x57dce0(0x13f)][_0x57dce0(0x11c)][_0x57dce0(0x11f)](_0x3c0e2c,_0x1c1733))__createBinding(_0xc6c2cf,_0x3c0e2c,_0x1c1733);}return __setModuleDefault(_0xc6c2cf,_0x3c0e2c),_0xc6c2cf;},__importDefault=this&&this[a37_0x772f31(0x148)]||function(_0x14a73c){const _0x58e2ef=a37_0x772f31;return _0x14a73c&&_0x14a73c[_0x58e2ef(0x134)]?_0x14a73c:{'default':_0x14a73c};};Object[a37_0x772f31(0x125)](exports,a37_0x772f31(0x134),{'value':!![]}),exports['findFilteredList']=exports[a37_0x772f31(0x132)]=exports[a37_0x772f31(0x12c)]=exports[a37_0x772f31(0x124)]=exports[a37_0x772f31(0x12b)]=exports['list']=exports[a37_0x772f31(0x13c)]=void 0x0;const Yup=__importStar(require(a37_0x772f31(0x138))),AppError_1=__importDefault(require(a37_0x772f31(0x140))),ListTicketNotesService_1=__importDefault(require(a37_0x772f31(0x12a))),CreateTicketNoteService_1=__importDefault(require(a37_0x772f31(0x141))),UpdateTicketNoteService_1=__importDefault(require(a37_0x772f31(0x139))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a37_0x772f31(0x128))),DeleteTicketNoteService_1=__importDefault(require(a37_0x772f31(0x127))),FindNotesByContactIdAndTicketId_1=__importDefault(require('../services/TicketNoteService/FindNotesByContactIdAndTicketId')),index=async(_0x4b6ef6,_0x1fbf4b)=>{const _0xcda387=a37_0x772f31,{searchParam:_0x1f9635,pageNumber:_0x150725}=_0x4b6ef6[_0xcda387(0x145)],{ticketNotes:_0x340e3e,count:_0x2caba3,hasMore:_0x3883ae}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x1f9635,'pageNumber':_0x150725});return _0x1fbf4b[_0xcda387(0x121)]({'ticketNotes':_0x340e3e,'count':_0x2caba3,'hasMore':_0x3883ae});};exports[a37_0x772f31(0x13c)]=index;function a37_0x3adb(_0x36358d,_0x53e0ea){const _0x39d666=a37_0x39d6();return a37_0x3adb=function(_0x3adb07,_0x50d458){_0x3adb07=_0x3adb07-0x11b;let _0xe1df5=_0x39d666[_0x3adb07];return _0xe1df5;},a37_0x3adb(_0x36358d,_0x53e0ea);}const list=async(_0x2f555b,_0x964817)=>{const _0x4a00e8=a37_0x772f31,_0x3490b0=await(0x0,FindAllTicketNotesService_1[_0x4a00e8(0x13d)])();return _0x964817['status'](0xc8)['json'](_0x3490b0);};exports[a37_0x772f31(0x14c)]=list;const store=async(_0x3ce06d,_0x36f977)=>{const _0x342031=a37_0x772f31,_0x519202=_0x3ce06d[_0x342031(0x122)],{id:_0x475d5c}=_0x3ce06d[_0x342031(0x129)],_0x2aee82=Yup[_0x342031(0x11d)]()['shape']({'note':Yup[_0x342031(0x14a)]()[_0x342031(0x144)]()});try{await _0x2aee82[_0x342031(0x135)](_0x519202);}catch(_0x322a14){throw new AppError_1['default'](_0x322a14[_0x342031(0x143)]);}const _0xa3a9f5=await(0x0,CreateTicketNoteService_1[_0x342031(0x13d)])({..._0x519202,'userId':_0x475d5c});return _0x36f977[_0x342031(0x12e)](0xc8)[_0x342031(0x121)](_0xa3a9f5);};exports[a37_0x772f31(0x12b)]=store;const show=async(_0x12a986,_0x3f3952)=>{const _0x26a79c=a37_0x772f31,{id:_0x3f57f1}=_0x12a986[_0x26a79c(0x147)],_0xa2d388=await(0x0,ShowTicketNoteService_1['default'])(_0x3f57f1);return _0x3f3952[_0x26a79c(0x12e)](0xc8)['json'](_0xa2d388);};exports[a37_0x772f31(0x124)]=show;const update=async(_0x59c099,_0x374787)=>{const _0x36bc8c=a37_0x772f31,_0x5a4798=_0x59c099[_0x36bc8c(0x122)],_0x3832b4=Yup['object']()['shape']({'note':Yup[_0x36bc8c(0x14a)]()});try{await _0x3832b4['validate'](_0x5a4798);}catch(_0x11fae8){throw new AppError_1[(_0x36bc8c(0x13d))](_0x11fae8[_0x36bc8c(0x143)]);}const _0x2d8713=await(0x0,UpdateTicketNoteService_1[_0x36bc8c(0x13d)])(_0x5a4798);return _0x374787[_0x36bc8c(0x12e)](0xc8)[_0x36bc8c(0x121)](_0x2d8713);};exports[a37_0x772f31(0x12c)]=update;const remove=async(_0x3fc057,_0x1cf00)=>{const _0x10e3e9=a37_0x772f31,{id:_0x8595c9}=_0x3fc057['params'];if(_0x3fc057[_0x10e3e9(0x129)][_0x10e3e9(0x14b)]!==_0x10e3e9(0x12d))throw new AppError_1['default'](_0x10e3e9(0x137),0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x8595c9),_0x1cf00['status'](0xc8)[_0x10e3e9(0x121)]({'message':_0x10e3e9(0x12f)});};exports[a37_0x772f31(0x132)]=remove;const findFilteredList=async(_0x45f013,_0x4752a4)=>{const _0x54d810=a37_0x772f31;try{const {contactId:_0x4831ee,ticketId:_0x5b9ae3}=_0x45f013[_0x54d810(0x145)],_0x979c8c=await(0x0,FindNotesByContactIdAndTicketId_1[_0x54d810(0x13d)])({'contactId':_0x4831ee,'ticketId':_0x5b9ae3});return _0x4752a4[_0x54d810(0x12e)](0xc8)[_0x54d810(0x121)](_0x979c8c);}catch(_0xbcdb32){return _0x4752a4[_0x54d810(0x12e)](0x1f4)[_0x54d810(0x121)]({'message':_0xbcdb32});}};exports['findFilteredList']=findFilteredList;