'use strict';const a37_0x42d9b4=a37_0x3da4;(function(_0x3b3f50,_0x3658fa){const _0x2d3f0b=a37_0x3da4,_0x42c5ef=_0x3b3f50();while(!![]){try{const _0x27bb3b=-parseInt(_0x2d3f0b(0x11b))/0x1+-parseInt(_0x2d3f0b(0x11d))/0x2*(parseInt(_0x2d3f0b(0x103))/0x3)+-parseInt(_0x2d3f0b(0x11c))/0x4*(parseInt(_0x2d3f0b(0x11a))/0x5)+parseInt(_0x2d3f0b(0x127))/0x6+-parseInt(_0x2d3f0b(0x12b))/0x7+-parseInt(_0x2d3f0b(0x117))/0x8*(parseInt(_0x2d3f0b(0x124))/0x9)+parseInt(_0x2d3f0b(0x113))/0xa*(parseInt(_0x2d3f0b(0x108))/0xb);if(_0x27bb3b===_0x3658fa)break;else _0x42c5ef['push'](_0x42c5ef['shift']());}catch(_0x285912){_0x42c5ef['push'](_0x42c5ef['shift']());}}}(a37_0x15e4,0x8caae));var __createBinding=this&&this[a37_0x42d9b4(0x119)]||(Object[a37_0x42d9b4(0x130)]?function(_0x6eecca,_0x4525aa,_0x56231f,_0x1b9b3a){const _0x321333=a37_0x42d9b4;if(_0x1b9b3a===undefined)_0x1b9b3a=_0x56231f;var _0x3f8ac1=Object['getOwnPropertyDescriptor'](_0x4525aa,_0x56231f);(!_0x3f8ac1||(_0x321333(0x133)in _0x3f8ac1?!_0x4525aa[_0x321333(0x111)]:_0x3f8ac1[_0x321333(0x106)]||_0x3f8ac1[_0x321333(0x12a)]))&&(_0x3f8ac1={'enumerable':!![],'get':function(){return _0x4525aa[_0x56231f];}}),Object[_0x321333(0x115)](_0x6eecca,_0x1b9b3a,_0x3f8ac1);}:function(_0x4eaccd,_0x30cafc,_0x65df9e,_0x18a390){if(_0x18a390===undefined)_0x18a390=_0x65df9e;_0x4eaccd[_0x18a390]=_0x30cafc[_0x65df9e];}),__setModuleDefault=this&&this[a37_0x42d9b4(0x109)]||(Object[a37_0x42d9b4(0x130)]?function(_0x5cf731,_0x5a8ce3){const _0x2ab4fe=a37_0x42d9b4;Object[_0x2ab4fe(0x115)](_0x5cf731,_0x2ab4fe(0x105),{'enumerable':!![],'value':_0x5a8ce3});}:function(_0x4ee1d6,_0x3a9401){const _0x52041f=a37_0x42d9b4;_0x4ee1d6[_0x52041f(0x105)]=_0x3a9401;}),__importStar=this&&this[a37_0x42d9b4(0x10f)]||function(_0x187461){const _0x32368e=a37_0x42d9b4;if(_0x187461&&_0x187461[_0x32368e(0x111)])return _0x187461;var _0x22246b={};if(_0x187461!=null){for(var _0x226bf5 in _0x187461)if(_0x226bf5!==_0x32368e(0x105)&&Object[_0x32368e(0x104)][_0x32368e(0x10d)][_0x32368e(0x10e)](_0x187461,_0x226bf5))__createBinding(_0x22246b,_0x187461,_0x226bf5);}return __setModuleDefault(_0x22246b,_0x187461),_0x22246b;},__importDefault=this&&this['__importDefault']||function(_0x554069){const _0x39db5a=a37_0x42d9b4;return _0x554069&&_0x554069[_0x39db5a(0x111)]?_0x554069:{'default':_0x554069};};Object['defineProperty'](exports,a37_0x42d9b4(0x111),{'value':!![]}),exports[a37_0x42d9b4(0x12c)]=exports[a37_0x42d9b4(0x122)]=exports[a37_0x42d9b4(0x131)]=exports['show']=exports[a37_0x42d9b4(0x128)]=exports['list']=exports[a37_0x42d9b4(0x12d)]=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../errors/AppError')),ListTicketNotesService_1=__importDefault(require(a37_0x42d9b4(0x121))),CreateTicketNoteService_1=__importDefault(require(a37_0x42d9b4(0x118))),UpdateTicketNoteService_1=__importDefault(require(a37_0x42d9b4(0x112))),ShowTicketNoteService_1=__importDefault(require(a37_0x42d9b4(0x12e))),FindAllTicketNotesService_1=__importDefault(require(a37_0x42d9b4(0x11e))),DeleteTicketNoteService_1=__importDefault(require(a37_0x42d9b4(0x120))),FindNotesByContactIdAndTicketId_1=__importDefault(require('../services/TicketNoteService/FindNotesByContactIdAndTicketId')),index=async(_0x58738d,_0x4ecfae)=>{const _0x465e9c=a37_0x42d9b4,{searchParam:_0x41bd5a,pageNumber:_0x2eb434}=_0x58738d[_0x465e9c(0x110)],{ticketNotes:_0x4e823e,count:_0x412acf,hasMore:_0x5b3df0}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x41bd5a,'pageNumber':_0x2eb434});return _0x4ecfae[_0x465e9c(0x126)]({'ticketNotes':_0x4e823e,'count':_0x412acf,'hasMore':_0x5b3df0});};exports[a37_0x42d9b4(0x12d)]=index;const list=async(_0x9d9f69,_0x50b4a9)=>{const _0x2f786e=a37_0x42d9b4,_0x59e5bd=await(0x0,FindAllTicketNotesService_1['default'])();return _0x50b4a9[_0x2f786e(0x10b)](0xc8)[_0x2f786e(0x126)](_0x59e5bd);};exports[a37_0x42d9b4(0x134)]=list;function a37_0x15e4(){const _0x5c3556=['configurable','4531128oepybh','findFilteredList','index','../services/TicketNoteService/ShowTicketNoteService','body','create','update','params','get','list','3sGNKgJ','prototype','default','writable','shape','11GKKlKA','__setModuleDefault','message','status','required','hasOwnProperty','call','__importStar','query','__esModule','../services/TicketNoteService/UpdateTicketNoteService','34835630FECFWI','admin','defineProperty','ERR_NO_PERMISSION','48SJlbKg','../services/TicketNoteService/CreateTicketNoteService','__createBinding','14060pMulMa','429095noonpw','1040HweOAT','358026WcrOQT','../services/TicketNoteService/FindAllTicketNotesService','string','../services/TicketNoteService/DeleteTicketNoteService','../services/TicketNoteService/ListTicketNotesService','remove','Observação\x20removida','1390482sXlUEM','show','json','36786RRhgBi','store','validate'];a37_0x15e4=function(){return _0x5c3556;};return a37_0x15e4();}const store=async(_0x182925,_0x28cc1c)=>{const _0x39c137=a37_0x42d9b4,_0x2f2e5c=_0x182925['body'],{id:_0x19eaf2}=_0x182925['user'],_0x103ceb=Yup['object']()['shape']({'note':Yup[_0x39c137(0x11f)]()[_0x39c137(0x10c)]()});try{await _0x103ceb[_0x39c137(0x129)](_0x2f2e5c);}catch(_0x2634c2){throw new AppError_1[(_0x39c137(0x105))](_0x2634c2[_0x39c137(0x10a)]);}const _0x59e356=await(0x0,CreateTicketNoteService_1[_0x39c137(0x105)])({..._0x2f2e5c,'userId':_0x19eaf2});return _0x28cc1c[_0x39c137(0x10b)](0xc8)['json'](_0x59e356);};exports[a37_0x42d9b4(0x128)]=store;const show=async(_0x4c45fd,_0x5462dc)=>{const _0x559df1=a37_0x42d9b4,{id:_0x4c5aaa}=_0x4c45fd['params'],_0xaff8d0=await(0x0,ShowTicketNoteService_1[_0x559df1(0x105)])(_0x4c5aaa);return _0x5462dc[_0x559df1(0x10b)](0xc8)['json'](_0xaff8d0);};exports[a37_0x42d9b4(0x125)]=show;const update=async(_0x11a3a4,_0x4d5328)=>{const _0x4e8c2e=a37_0x42d9b4,_0x505756=_0x11a3a4[_0x4e8c2e(0x12f)],_0x5490c0=Yup['object']()[_0x4e8c2e(0x107)]({'note':Yup['string']()});try{await _0x5490c0[_0x4e8c2e(0x129)](_0x505756);}catch(_0x4a58e4){throw new AppError_1[(_0x4e8c2e(0x105))](_0x4a58e4[_0x4e8c2e(0x10a)]);}const _0x3427bf=await(0x0,UpdateTicketNoteService_1[_0x4e8c2e(0x105)])(_0x505756);return _0x4d5328[_0x4e8c2e(0x10b)](0xc8)[_0x4e8c2e(0x126)](_0x3427bf);};function a37_0x3da4(_0xfd6ba9,_0x3bddca){const _0x15e468=a37_0x15e4();return a37_0x3da4=function(_0x3da44a,_0x590744){_0x3da44a=_0x3da44a-0x103;let _0x415aea=_0x15e468[_0x3da44a];return _0x415aea;},a37_0x3da4(_0xfd6ba9,_0x3bddca);}exports[a37_0x42d9b4(0x131)]=update;const remove=async(_0x30068d,_0x3114ad)=>{const _0x2d04c6=a37_0x42d9b4,{id:_0x20f583}=_0x30068d[_0x2d04c6(0x132)];if(_0x30068d['user']['profile']!==_0x2d04c6(0x114))throw new AppError_1['default'](_0x2d04c6(0x116),0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x20f583),_0x3114ad[_0x2d04c6(0x10b)](0xc8)[_0x2d04c6(0x126)]({'message':_0x2d04c6(0x123)});};exports[a37_0x42d9b4(0x122)]=remove;const findFilteredList=async(_0x5e785c,_0x4af968)=>{const _0x27391e=a37_0x42d9b4;try{const {contactId:_0x4c374e,ticketId:_0xc57d91}=_0x5e785c[_0x27391e(0x110)],_0x401ffd=await(0x0,FindNotesByContactIdAndTicketId_1['default'])({'contactId':_0x4c374e,'ticketId':_0xc57d91});return _0x4af968[_0x27391e(0x10b)](0xc8)['json'](_0x401ffd);}catch(_0x134e78){return _0x4af968[_0x27391e(0x10b)](0x1f4)[_0x27391e(0x126)]({'message':_0x134e78});}};exports[a37_0x42d9b4(0x12c)]=findFilteredList;