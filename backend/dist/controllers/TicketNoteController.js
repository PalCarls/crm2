'use strict';function a34_0x49b1(_0x3fec4b,_0x46296a){const _0x3ba28c=a34_0x3ba2();return a34_0x49b1=function(_0x49b165,_0x273f36){_0x49b165=_0x49b165-0x159;let _0x47b79c=_0x3ba28c[_0x49b165];return _0x47b79c;},a34_0x49b1(_0x3fec4b,_0x46296a);}const a34_0x3e6aa4=a34_0x49b1;(function(_0x20ab19,_0x2a8311){const _0xe21ee9=a34_0x49b1,_0x243570=_0x20ab19();while(!![]){try{const _0x5a1675=-parseInt(_0xe21ee9(0x17a))/0x1*(parseInt(_0xe21ee9(0x167))/0x2)+parseInt(_0xe21ee9(0x176))/0x3*(-parseInt(_0xe21ee9(0x15f))/0x4)+parseInt(_0xe21ee9(0x17d))/0x5*(-parseInt(_0xe21ee9(0x15a))/0x6)+-parseInt(_0xe21ee9(0x15b))/0x7+-parseInt(_0xe21ee9(0x178))/0x8*(parseInt(_0xe21ee9(0x183))/0x9)+-parseInt(_0xe21ee9(0x171))/0xa*(-parseInt(_0xe21ee9(0x172))/0xb)+parseInt(_0xe21ee9(0x17f))/0xc*(parseInt(_0xe21ee9(0x175))/0xd);if(_0x5a1675===_0x2a8311)break;else _0x243570['push'](_0x243570['shift']());}catch(_0x2d460a){_0x243570['push'](_0x243570['shift']());}}}(a34_0x3ba2,0xd0706));var __createBinding=this&&this[a34_0x3e6aa4(0x15d)]||(Object['create']?function(_0x35bd39,_0x3877c1,_0x1ae10f,_0x539dde){const _0x38725a=a34_0x3e6aa4;if(_0x539dde===undefined)_0x539dde=_0x1ae10f;var _0x10cc85=Object[_0x38725a(0x161)](_0x3877c1,_0x1ae10f);(!_0x10cc85||(_0x38725a(0x188)in _0x10cc85?!_0x3877c1[_0x38725a(0x15c)]:_0x10cc85[_0x38725a(0x177)]||_0x10cc85[_0x38725a(0x163)]))&&(_0x10cc85={'enumerable':!![],'get':function(){return _0x3877c1[_0x1ae10f];}}),Object[_0x38725a(0x168)](_0x35bd39,_0x539dde,_0x10cc85);}:function(_0x41ff84,_0x587d56,_0xc89a56,_0x341727){if(_0x341727===undefined)_0x341727=_0xc89a56;_0x41ff84[_0x341727]=_0x587d56[_0xc89a56];}),__setModuleDefault=this&&this[a34_0x3e6aa4(0x18a)]||(Object['create']?function(_0x2c1dbd,_0x22e936){const _0xb14c97=a34_0x3e6aa4;Object[_0xb14c97(0x168)](_0x2c1dbd,_0xb14c97(0x16d),{'enumerable':!![],'value':_0x22e936});}:function(_0x2caa76,_0x325ed4){const _0x2b24fa=a34_0x3e6aa4;_0x2caa76[_0x2b24fa(0x16d)]=_0x325ed4;}),__importStar=this&&this['__importStar']||function(_0x8abc4c){const _0x4f485b=a34_0x3e6aa4;if(_0x8abc4c&&_0x8abc4c[_0x4f485b(0x15c)])return _0x8abc4c;var _0x3017b4={};if(_0x8abc4c!=null){for(var _0x212192 in _0x8abc4c)if(_0x212192!==_0x4f485b(0x16d)&&Object['prototype'][_0x4f485b(0x185)]['call'](_0x8abc4c,_0x212192))__createBinding(_0x3017b4,_0x8abc4c,_0x212192);}return __setModuleDefault(_0x3017b4,_0x8abc4c),_0x3017b4;},__importDefault=this&&this[a34_0x3e6aa4(0x15e)]||function(_0x413fa9){const _0x23d70c=a34_0x3e6aa4;return _0x413fa9&&_0x413fa9[_0x23d70c(0x15c)]?_0x413fa9:{'default':_0x413fa9};};Object[a34_0x3e6aa4(0x168)](exports,a34_0x3e6aa4(0x15c),{'value':!![]}),exports[a34_0x3e6aa4(0x16b)]=exports['remove']=exports[a34_0x3e6aa4(0x187)]=exports['show']=exports['store']=exports[a34_0x3e6aa4(0x17b)]=exports[a34_0x3e6aa4(0x165)]=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a34_0x3e6aa4(0x17e))),ListTicketNotesService_1=__importDefault(require(a34_0x3e6aa4(0x16a))),CreateTicketNoteService_1=__importDefault(require(a34_0x3e6aa4(0x184))),UpdateTicketNoteService_1=__importDefault(require(a34_0x3e6aa4(0x179))),ShowTicketNoteService_1=__importDefault(require(a34_0x3e6aa4(0x159))),FindAllTicketNotesService_1=__importDefault(require('../services/TicketNoteService/FindAllTicketNotesService')),DeleteTicketNoteService_1=__importDefault(require('../services/TicketNoteService/DeleteTicketNoteService')),FindNotesByContactIdAndTicketId_1=__importDefault(require(a34_0x3e6aa4(0x16c))),index=async(_0x10c0fb,_0x2bd6de)=>{const _0x41f7cb=a34_0x3e6aa4,{searchParam:_0x46f3a0,pageNumber:_0x230b4f}=_0x10c0fb[_0x41f7cb(0x173)],{ticketNotes:_0x5f2cff,count:_0x104f25,hasMore:_0x2146db}=await(0x0,ListTicketNotesService_1[_0x41f7cb(0x16d)])({'searchParam':_0x46f3a0,'pageNumber':_0x230b4f});return _0x2bd6de['json']({'ticketNotes':_0x5f2cff,'count':_0x104f25,'hasMore':_0x2146db});};exports[a34_0x3e6aa4(0x165)]=index;const list=async(_0x49bc91,_0x251928)=>{const _0x3ab537=a34_0x3e6aa4,_0x45c400=await(0x0,FindAllTicketNotesService_1[_0x3ab537(0x16d)])();return _0x251928[_0x3ab537(0x174)](0xc8)['json'](_0x45c400);};exports[a34_0x3e6aa4(0x17b)]=list;const store=async(_0x2119b8,_0x110f7d)=>{const _0x18ead7=a34_0x3e6aa4,_0x38512f=_0x2119b8['body'],{id:_0xa69826}=_0x2119b8[_0x18ead7(0x16e)],_0x41ce98=Yup[_0x18ead7(0x164)]()[_0x18ead7(0x186)]({'note':Yup[_0x18ead7(0x181)]()[_0x18ead7(0x169)]()});try{await _0x41ce98[_0x18ead7(0x16f)](_0x38512f);}catch(_0x1448f9){throw new AppError_1['default'](_0x1448f9[_0x18ead7(0x189)]);}const _0x51f601=await(0x0,CreateTicketNoteService_1[_0x18ead7(0x16d)])({..._0x38512f,'userId':_0xa69826});return _0x110f7d[_0x18ead7(0x174)](0xc8)['json'](_0x51f601);};exports[a34_0x3e6aa4(0x182)]=store;const show=async(_0x312003,_0x34ebc3)=>{const _0x4e9e1a=a34_0x3e6aa4,{id:_0x147244}=_0x312003[_0x4e9e1a(0x17c)],_0x3e1a97=await(0x0,ShowTicketNoteService_1[_0x4e9e1a(0x16d)])(_0x147244);return _0x34ebc3['status'](0xc8)[_0x4e9e1a(0x162)](_0x3e1a97);};exports['show']=show;const update=async(_0x3111a9,_0x2115c1)=>{const _0x248202=a34_0x3e6aa4,_0xe1a2a1=_0x3111a9[_0x248202(0x160)],_0x120b24=Yup[_0x248202(0x164)]()['shape']({'note':Yup['string']()});try{await _0x120b24[_0x248202(0x16f)](_0xe1a2a1);}catch(_0x37eb76){throw new AppError_1['default'](_0x37eb76['message']);}const _0x114a7e=await(0x0,UpdateTicketNoteService_1[_0x248202(0x16d)])(_0xe1a2a1);return _0x2115c1[_0x248202(0x174)](0xc8)[_0x248202(0x162)](_0x114a7e);};exports[a34_0x3e6aa4(0x187)]=update;const remove=async(_0x45a1d7,_0x153334)=>{const _0x2a885d=a34_0x3e6aa4,{id:_0x36e917}=_0x45a1d7[_0x2a885d(0x17c)];if(_0x45a1d7[_0x2a885d(0x16e)]['profile']!=='admin')throw new AppError_1['default'](_0x2a885d(0x170),0x193);return await(0x0,DeleteTicketNoteService_1[_0x2a885d(0x16d)])(_0x36e917),_0x153334['status'](0xc8)[_0x2a885d(0x162)]({'message':_0x2a885d(0x166)});};exports[a34_0x3e6aa4(0x180)]=remove;const findFilteredList=async(_0x465236,_0x341776)=>{const _0x187b07=a34_0x3e6aa4;try{const {contactId:_0x137888,ticketId:_0x4448a9}=_0x465236[_0x187b07(0x173)],_0x5f01ec=await(0x0,FindNotesByContactIdAndTicketId_1[_0x187b07(0x16d)])({'contactId':_0x137888,'ticketId':_0x4448a9});return _0x341776[_0x187b07(0x174)](0xc8)[_0x187b07(0x162)](_0x5f01ec);}catch(_0x25749d){return _0x341776['status'](0x1f4)['json']({'message':_0x25749d});}};function a34_0x3ba2(){const _0x319d34=['configurable','object','index','Observação\x20removida','5456aeGmzY','defineProperty','required','../services/TicketNoteService/ListTicketNotesService','findFilteredList','../services/TicketNoteService/FindNotesByContactIdAndTicketId','default','user','validate','ERR_NO_PERMISSION','30MRYLNO','2597452RVwYWC','query','status','15526732EnsehQ','163221BeMgTY','writable','47864hLSfjz','../services/TicketNoteService/UpdateTicketNoteService','32GmaxRl','list','params','5DuFwDi','../errors/AppError','24kZcVfL','remove','string','store','1197pCwuIm','../services/TicketNoteService/CreateTicketNoteService','hasOwnProperty','shape','update','get','message','__setModuleDefault','../services/TicketNoteService/ShowTicketNoteService','1889478fOoVed','6937021XvPghG','__esModule','__createBinding','__importDefault','4tlvxkA','body','getOwnPropertyDescriptor','json'];a34_0x3ba2=function(){return _0x319d34;};return a34_0x3ba2();}exports[a34_0x3e6aa4(0x16b)]=findFilteredList;