'use strict';const a34_0x26064b=a34_0x35dc;(function(_0x3b0288,_0x261bd8){const _0x5c036e=a34_0x35dc,_0x24e966=_0x3b0288();while(!![]){try{const _0x41a2ad=-parseInt(_0x5c036e(0x18b))/0x1+parseInt(_0x5c036e(0x1a4))/0x2*(-parseInt(_0x5c036e(0x198))/0x3)+-parseInt(_0x5c036e(0x1a0))/0x4+-parseInt(_0x5c036e(0x18c))/0x5+parseInt(_0x5c036e(0x186))/0x6+parseInt(_0x5c036e(0x17e))/0x7*(parseInt(_0x5c036e(0x17c))/0x8)+parseInt(_0x5c036e(0x17f))/0x9*(parseInt(_0x5c036e(0x183))/0xa);if(_0x41a2ad===_0x261bd8)break;else _0x24e966['push'](_0x24e966['shift']());}catch(_0x3f4fd4){_0x24e966['push'](_0x24e966['shift']());}}}(a34_0x39d0,0x44497));var __createBinding=this&&this[a34_0x26064b(0x192)]||(Object['create']?function(_0x58b463,_0x49ea7f,_0x6b109e,_0x3ee36e){const _0x56f796=a34_0x26064b;if(_0x3ee36e===undefined)_0x3ee36e=_0x6b109e;var _0x1c73a6=Object['getOwnPropertyDescriptor'](_0x49ea7f,_0x6b109e);(!_0x1c73a6||('get'in _0x1c73a6?!_0x49ea7f['__esModule']:_0x1c73a6['writable']||_0x1c73a6['configurable']))&&(_0x1c73a6={'enumerable':!![],'get':function(){return _0x49ea7f[_0x6b109e];}}),Object[_0x56f796(0x19d)](_0x58b463,_0x3ee36e,_0x1c73a6);}:function(_0x30ad53,_0x1a9b81,_0x1e958f,_0x4bc328){if(_0x4bc328===undefined)_0x4bc328=_0x1e958f;_0x30ad53[_0x4bc328]=_0x1a9b81[_0x1e958f];}),__setModuleDefault=this&&this[a34_0x26064b(0x181)]||(Object['create']?function(_0x320608,_0x3c8499){const _0x251573=a34_0x26064b;Object[_0x251573(0x19d)](_0x320608,'default',{'enumerable':!![],'value':_0x3c8499});}:function(_0x4708a5,_0x50c7a8){const _0x329b67=a34_0x26064b;_0x4708a5[_0x329b67(0x1a1)]=_0x50c7a8;}),__importStar=this&&this['__importStar']||function(_0x2a68ae){const _0x1a6ed8=a34_0x26064b;if(_0x2a68ae&&_0x2a68ae['__esModule'])return _0x2a68ae;var _0x83ca68={};if(_0x2a68ae!=null){for(var _0x5eb357 in _0x2a68ae)if(_0x5eb357!==_0x1a6ed8(0x1a1)&&Object[_0x1a6ed8(0x1a5)][_0x1a6ed8(0x180)][_0x1a6ed8(0x19a)](_0x2a68ae,_0x5eb357))__createBinding(_0x83ca68,_0x2a68ae,_0x5eb357);}return __setModuleDefault(_0x83ca68,_0x2a68ae),_0x83ca68;},__importDefault=this&&this[a34_0x26064b(0x17d)]||function(_0x3b5b6d){const _0x2c8b54=a34_0x26064b;return _0x3b5b6d&&_0x3b5b6d[_0x2c8b54(0x1a3)]?_0x3b5b6d:{'default':_0x3b5b6d};};function a34_0x35dc(_0x4da893,_0xc8aa24){const _0x39d02b=a34_0x39d0();return a34_0x35dc=function(_0x35dce3,_0xe35058){_0x35dce3=_0x35dce3-0x17c;let _0x2b6ee1=_0x39d02b[_0x35dce3];return _0x2b6ee1;},a34_0x35dc(_0x4da893,_0xc8aa24);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a34_0x26064b(0x199)]=exports[a34_0x26064b(0x190)]=exports[a34_0x26064b(0x18a)]=exports['show']=exports[a34_0x26064b(0x19c)]=exports['list']=exports[a34_0x26064b(0x19b)]=void 0x0;const Yup=__importStar(require(a34_0x26064b(0x195))),AppError_1=__importDefault(require(a34_0x26064b(0x187))),ListTicketNotesService_1=__importDefault(require('../services/TicketNoteService/ListTicketNotesService')),CreateTicketNoteService_1=__importDefault(require(a34_0x26064b(0x184))),UpdateTicketNoteService_1=__importDefault(require(a34_0x26064b(0x1a2))),ShowTicketNoteService_1=__importDefault(require(a34_0x26064b(0x1aa))),FindAllTicketNotesService_1=__importDefault(require(a34_0x26064b(0x194))),DeleteTicketNoteService_1=__importDefault(require(a34_0x26064b(0x18d))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a34_0x26064b(0x19f))),index=async(_0x5c6964,_0x35f86d)=>{const _0x40f65b=a34_0x26064b,{searchParam:_0x4a5929,pageNumber:_0x31391a}=_0x5c6964[_0x40f65b(0x188)],{ticketNotes:_0xcd99c4,count:_0x484951,hasMore:_0xcb6de9}=await(0x0,ListTicketNotesService_1[_0x40f65b(0x1a1)])({'searchParam':_0x4a5929,'pageNumber':_0x31391a});return _0x35f86d['json']({'ticketNotes':_0xcd99c4,'count':_0x484951,'hasMore':_0xcb6de9});};exports[a34_0x26064b(0x19b)]=index;const list=async(_0x4be6ae,_0x2e6a8f)=>{const _0x5f48a6=await(0x0,FindAllTicketNotesService_1['default'])();return _0x2e6a8f['status'](0xc8)['json'](_0x5f48a6);};exports['list']=list;const store=async(_0x5e013f,_0x6f79cf)=>{const _0x389688=a34_0x26064b,_0x2181b7=_0x5e013f['body'],{id:_0x2534f5}=_0x5e013f['user'],_0x1157ba=Yup[_0x389688(0x1a8)]()[_0x389688(0x18e)]({'note':Yup['string']()[_0x389688(0x189)]()});try{await _0x1157ba[_0x389688(0x1a6)](_0x2181b7);}catch(_0x3e95f4){throw new AppError_1[(_0x389688(0x1a1))](_0x3e95f4[_0x389688(0x182)]);}const _0x463c46=await(0x0,CreateTicketNoteService_1['default'])({..._0x2181b7,'userId':_0x2534f5});return _0x6f79cf[_0x389688(0x193)](0xc8)[_0x389688(0x197)](_0x463c46);};exports['store']=store;const show=async(_0x5ab284,_0x3e3441)=>{const _0x351fa2=a34_0x26064b,{id:_0x1803c0}=_0x5ab284[_0x351fa2(0x1a9)],_0x173880=await(0x0,ShowTicketNoteService_1[_0x351fa2(0x1a1)])(_0x1803c0);return _0x3e3441[_0x351fa2(0x193)](0xc8)[_0x351fa2(0x197)](_0x173880);};exports[a34_0x26064b(0x19e)]=show;const update=async(_0x5366f5,_0x35aa4c)=>{const _0x1849c=a34_0x26064b,_0x511a63=_0x5366f5[_0x1849c(0x185)],_0x4b5a2f=Yup['object']()['shape']({'note':Yup[_0x1849c(0x191)]()});try{await _0x4b5a2f['validate'](_0x511a63);}catch(_0x22652b){throw new AppError_1[(_0x1849c(0x1a1))](_0x22652b[_0x1849c(0x182)]);}const _0x10d7d0=await(0x0,UpdateTicketNoteService_1[_0x1849c(0x1a1)])(_0x511a63);return _0x35aa4c[_0x1849c(0x193)](0xc8)['json'](_0x10d7d0);};exports[a34_0x26064b(0x18a)]=update;function a34_0x39d0(){const _0x15b0da=['Observação\x20removida','json','283935zOjBZj','findFilteredList','call','index','store','defineProperty','show','../services/TicketNoteService/FindNotesByContactIdAndTicketId','1839836ZRjLug','default','../services/TicketNoteService/UpdateTicketNoteService','__esModule','2SgwnTb','prototype','validate','admin','object','params','../services/TicketNoteService/ShowTicketNoteService','712qbLLlO','__importDefault','42301ewVDoa','9yaRmZW','hasOwnProperty','__setModuleDefault','message','3686950jrqqun','../services/TicketNoteService/CreateTicketNoteService','body','2979714sBnGtq','../errors/AppError','query','required','update','404287QQYybs','822735nRJbYM','../services/TicketNoteService/DeleteTicketNoteService','shape','ERR_NO_PERMISSION','remove','string','__createBinding','status','../services/TicketNoteService/FindAllTicketNotesService','yup'];a34_0x39d0=function(){return _0x15b0da;};return a34_0x39d0();}const remove=async(_0x5939c2,_0x43deda)=>{const _0x182435=a34_0x26064b,{id:_0x2b22fc}=_0x5939c2[_0x182435(0x1a9)];if(_0x5939c2['user']['profile']!==_0x182435(0x1a7))throw new AppError_1['default'](_0x182435(0x18f),0x193);return await(0x0,DeleteTicketNoteService_1[_0x182435(0x1a1)])(_0x2b22fc),_0x43deda[_0x182435(0x193)](0xc8)[_0x182435(0x197)]({'message':_0x182435(0x196)});};exports[a34_0x26064b(0x190)]=remove;const findFilteredList=async(_0x32f4b7,_0x120d70)=>{const _0x2bbb52=a34_0x26064b;try{const {contactId:_0x18a43f,ticketId:_0x43c909}=_0x32f4b7['query'],_0x1fd840=await(0x0,FindNotesByContactIdAndTicketId_1[_0x2bbb52(0x1a1)])({'contactId':_0x18a43f,'ticketId':_0x43c909});return _0x120d70['status'](0xc8)[_0x2bbb52(0x197)](_0x1fd840);}catch(_0x126f05){return _0x120d70[_0x2bbb52(0x193)](0x1f4)[_0x2bbb52(0x197)]({'message':_0x126f05});}};exports[a34_0x26064b(0x199)]=findFilteredList;