'use strict';const a35_0x367ed5=a35_0x5edf;(function(_0x53906e,_0x107308){const _0x44811d=a35_0x5edf,_0x4e47e4=_0x53906e();while(!![]){try{const _0x5c2a5e=parseInt(_0x44811d(0xd3))/0x1+parseInt(_0x44811d(0xe6))/0x2*(parseInt(_0x44811d(0xd6))/0x3)+parseInt(_0x44811d(0xeb))/0x4*(parseInt(_0x44811d(0xdb))/0x5)+parseInt(_0x44811d(0xe9))/0x6*(parseInt(_0x44811d(0xe7))/0x7)+parseInt(_0x44811d(0xf2))/0x8*(-parseInt(_0x44811d(0xce))/0x9)+parseInt(_0x44811d(0xca))/0xa+-parseInt(_0x44811d(0xf0))/0xb*(parseInt(_0x44811d(0xdd))/0xc);if(_0x5c2a5e===_0x107308)break;else _0x4e47e4['push'](_0x4e47e4['shift']());}catch(_0x4264c5){_0x4e47e4['push'](_0x4e47e4['shift']());}}}(a35_0x343c,0x620d6));var __createBinding=this&&this[a35_0x367ed5(0xf5)]||(Object['create']?function(_0x117e1d,_0x5c8ef4,_0x4196b9,_0x2367c4){const _0x31f7e9=a35_0x367ed5;if(_0x2367c4===undefined)_0x2367c4=_0x4196b9;var _0x59e4eb=Object['getOwnPropertyDescriptor'](_0x5c8ef4,_0x4196b9);(!_0x59e4eb||(_0x31f7e9(0xd9)in _0x59e4eb?!_0x5c8ef4[_0x31f7e9(0xd4)]:_0x59e4eb[_0x31f7e9(0xc9)]||_0x59e4eb[_0x31f7e9(0xe4)]))&&(_0x59e4eb={'enumerable':!![],'get':function(){return _0x5c8ef4[_0x4196b9];}}),Object[_0x31f7e9(0xd5)](_0x117e1d,_0x2367c4,_0x59e4eb);}:function(_0x4adf15,_0x56ac6f,_0x5b8adc,_0x433c31){if(_0x433c31===undefined)_0x433c31=_0x5b8adc;_0x4adf15[_0x433c31]=_0x56ac6f[_0x5b8adc];}),__setModuleDefault=this&&this[a35_0x367ed5(0xf8)]||(Object[a35_0x367ed5(0xcf)]?function(_0x21e678,_0x2e4312){const _0x27463b=a35_0x367ed5;Object[_0x27463b(0xd5)](_0x21e678,_0x27463b(0xcc),{'enumerable':!![],'value':_0x2e4312});}:function(_0x54b4e1,_0x48fc68){const _0x5d2fb4=a35_0x367ed5;_0x54b4e1[_0x5d2fb4(0xcc)]=_0x48fc68;}),__importStar=this&&this[a35_0x367ed5(0xcd)]||function(_0x2b144f){const _0x5324b6=a35_0x367ed5;if(_0x2b144f&&_0x2b144f[_0x5324b6(0xd4)])return _0x2b144f;var _0x14dc1c={};if(_0x2b144f!=null){for(var _0x2643d3 in _0x2b144f)if(_0x2643d3!==_0x5324b6(0xcc)&&Object[_0x5324b6(0xf7)][_0x5324b6(0xde)][_0x5324b6(0xe5)](_0x2b144f,_0x2643d3))__createBinding(_0x14dc1c,_0x2b144f,_0x2643d3);}return __setModuleDefault(_0x14dc1c,_0x2b144f),_0x14dc1c;},__importDefault=this&&this['__importDefault']||function(_0xa1a79e){const _0x46b432=a35_0x367ed5;return _0xa1a79e&&_0xa1a79e[_0x46b432(0xd4)]?_0xa1a79e:{'default':_0xa1a79e};};Object[a35_0x367ed5(0xd5)](exports,'__esModule',{'value':!![]}),exports['findFilteredList']=exports[a35_0x367ed5(0xd1)]=exports[a35_0x367ed5(0xc6)]=exports[a35_0x367ed5(0xc8)]=exports['store']=exports[a35_0x367ed5(0xec)]=exports[a35_0x367ed5(0xf3)]=void 0x0;const Yup=__importStar(require(a35_0x367ed5(0xef))),AppError_1=__importDefault(require(a35_0x367ed5(0xda))),ListTicketNotesService_1=__importDefault(require('../services/TicketNoteService/ListTicketNotesService')),CreateTicketNoteService_1=__importDefault(require(a35_0x367ed5(0xc5))),UpdateTicketNoteService_1=__importDefault(require('../services/TicketNoteService/UpdateTicketNoteService')),ShowTicketNoteService_1=__importDefault(require(a35_0x367ed5(0xe3))),FindAllTicketNotesService_1=__importDefault(require(a35_0x367ed5(0xea))),DeleteTicketNoteService_1=__importDefault(require(a35_0x367ed5(0xd7))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a35_0x367ed5(0xdc))),index=async(_0x339789,_0x657d27)=>{const _0x38a9d3=a35_0x367ed5,{searchParam:_0x5dc1d2,pageNumber:_0x31ffdd}=_0x339789[_0x38a9d3(0xe2)],{ticketNotes:_0x1b9609,count:_0x1700a5,hasMore:_0x5b291e}=await(0x0,ListTicketNotesService_1[_0x38a9d3(0xcc)])({'searchParam':_0x5dc1d2,'pageNumber':_0x31ffdd});return _0x657d27[_0x38a9d3(0xcb)]({'ticketNotes':_0x1b9609,'count':_0x1700a5,'hasMore':_0x5b291e});};exports['index']=index;const list=async(_0x389c20,_0x4af10e)=>{const _0x4b88b8=a35_0x367ed5,_0x187b07=await(0x0,FindAllTicketNotesService_1[_0x4b88b8(0xcc)])();return _0x4af10e[_0x4b88b8(0xd8)](0xc8)['json'](_0x187b07);};exports[a35_0x367ed5(0xec)]=list;const store=async(_0x592baa,_0x1db085)=>{const _0x41aab4=a35_0x367ed5,_0x1d2d4d=_0x592baa[_0x41aab4(0xc7)],{id:_0x113924}=_0x592baa[_0x41aab4(0xe8)],_0x2efc17=Yup[_0x41aab4(0xee)]()[_0x41aab4(0xd0)]({'note':Yup[_0x41aab4(0xf1)]()[_0x41aab4(0xed)]()});try{await _0x2efc17['validate'](_0x1d2d4d);}catch(_0x32aa9d){throw new AppError_1[(_0x41aab4(0xcc))](_0x32aa9d[_0x41aab4(0xe0)]);}const _0x553d32=await(0x0,CreateTicketNoteService_1[_0x41aab4(0xcc)])({..._0x1d2d4d,'userId':_0x113924});return _0x1db085[_0x41aab4(0xd8)](0xc8)['json'](_0x553d32);};exports[a35_0x367ed5(0xf6)]=store;const show=async(_0x13ad77,_0x416890)=>{const _0x421a85=a35_0x367ed5,{id:_0x1d2453}=_0x13ad77[_0x421a85(0xd2)],_0x66b7e7=await(0x0,ShowTicketNoteService_1[_0x421a85(0xcc)])(_0x1d2453);return _0x416890[_0x421a85(0xd8)](0xc8)[_0x421a85(0xcb)](_0x66b7e7);};exports[a35_0x367ed5(0xc8)]=show;const update=async(_0x1ec32b,_0x13ff7a)=>{const _0x4bc0cc=a35_0x367ed5,_0x3e8cab=_0x1ec32b['body'],_0x271497=Yup[_0x4bc0cc(0xee)]()['shape']({'note':Yup[_0x4bc0cc(0xf1)]()});try{await _0x271497[_0x4bc0cc(0xe1)](_0x3e8cab);}catch(_0x11c9eb){throw new AppError_1['default'](_0x11c9eb['message']);}const _0x366da4=await(0x0,UpdateTicketNoteService_1[_0x4bc0cc(0xcc)])(_0x3e8cab);return _0x13ff7a['status'](0xc8)['json'](_0x366da4);};function a35_0x343c(){const _0x5627b9=['configurable','call','406ELJLIQ','514563qGjvuM','user','12kiHAwz','../services/TicketNoteService/FindAllTicketNotesService','28YDjTHu','list','required','object','yup','66hAVPVW','string','5336056xmVQUX','index','Observação\x20removida','__createBinding','store','prototype','__setModuleDefault','../services/TicketNoteService/CreateTicketNoteService','update','body','show','writable','2723280oSqoVs','json','default','__importStar','9eUKKKy','create','shape','remove','params','717727ddAtSn','__esModule','defineProperty','9987mLnzxX','../services/TicketNoteService/DeleteTicketNoteService','status','get','../errors/AppError','312855YiZaWb','../services/TicketNoteService/FindNotesByContactIdAndTicketId','2364456UySkUF','hasOwnProperty','findFilteredList','message','validate','query','../services/TicketNoteService/ShowTicketNoteService'];a35_0x343c=function(){return _0x5627b9;};return a35_0x343c();}exports[a35_0x367ed5(0xc6)]=update;const remove=async(_0x1fc605,_0x536268)=>{const _0x1ba95c=a35_0x367ed5,{id:_0x1dafe6}=_0x1fc605['params'];if(_0x1fc605[_0x1ba95c(0xe8)]['profile']!=='admin')throw new AppError_1[(_0x1ba95c(0xcc))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1[_0x1ba95c(0xcc)])(_0x1dafe6),_0x536268[_0x1ba95c(0xd8)](0xc8)[_0x1ba95c(0xcb)]({'message':_0x1ba95c(0xf4)});};exports[a35_0x367ed5(0xd1)]=remove;const findFilteredList=async(_0x4effb1,_0x5cfffe)=>{const _0x4c92f0=a35_0x367ed5;try{const {contactId:_0x4a3b6b,ticketId:_0x125227}=_0x4effb1[_0x4c92f0(0xe2)],_0x54812a=await(0x0,FindNotesByContactIdAndTicketId_1[_0x4c92f0(0xcc)])({'contactId':_0x4a3b6b,'ticketId':_0x125227});return _0x5cfffe['status'](0xc8)[_0x4c92f0(0xcb)](_0x54812a);}catch(_0x226c73){return _0x5cfffe[_0x4c92f0(0xd8)](0x1f4)[_0x4c92f0(0xcb)]({'message':_0x226c73});}};function a35_0x5edf(_0x438040,_0x50a8d1){const _0x343c57=a35_0x343c();return a35_0x5edf=function(_0x5edf2b,_0x201e17){_0x5edf2b=_0x5edf2b-0xc5;let _0x5b50b3=_0x343c57[_0x5edf2b];return _0x5b50b3;},a35_0x5edf(_0x438040,_0x50a8d1);}exports[a35_0x367ed5(0xdf)]=findFilteredList;