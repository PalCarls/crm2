'use strict';const a35_0x1a5ee1=a35_0x1b47;(function(_0x16a2a8,_0x3f4d82){const _0x596c9c=a35_0x1b47,_0x392797=_0x16a2a8();while(!![]){try{const _0x3ad374=-parseInt(_0x596c9c(0xc9))/0x1+parseInt(_0x596c9c(0xca))/0x2+parseInt(_0x596c9c(0xa1))/0x3+parseInt(_0x596c9c(0xcc))/0x4+parseInt(_0x596c9c(0xb9))/0x5*(-parseInt(_0x596c9c(0xc0))/0x6)+parseInt(_0x596c9c(0xba))/0x7+parseInt(_0x596c9c(0x9f))/0x8*(-parseInt(_0x596c9c(0xb2))/0x9);if(_0x3ad374===_0x3f4d82)break;else _0x392797['push'](_0x392797['shift']());}catch(_0xd83088){_0x392797['push'](_0x392797['shift']());}}}(a35_0x4522,0xe4612));function a35_0x1b47(_0x522703,_0x22632b){const _0x45223b=a35_0x4522();return a35_0x1b47=function(_0x1b476e,_0x10dc6c){_0x1b476e=_0x1b476e-0x9d;let _0x224c05=_0x45223b[_0x1b476e];return _0x224c05;},a35_0x1b47(_0x522703,_0x22632b);}var __createBinding=this&&this[a35_0x1a5ee1(0xaa)]||(Object[a35_0x1a5ee1(0xbf)]?function(_0x157f8d,_0x2f4dbb,_0x45dce4,_0x2261d4){const _0x16fa02=a35_0x1a5ee1;if(_0x2261d4===undefined)_0x2261d4=_0x45dce4;var _0x58819b=Object[_0x16fa02(0xb8)](_0x2f4dbb,_0x45dce4);(!_0x58819b||(_0x16fa02(0xa5)in _0x58819b?!_0x2f4dbb['__esModule']:_0x58819b[_0x16fa02(0xcb)]||_0x58819b[_0x16fa02(0xb0)]))&&(_0x58819b={'enumerable':!![],'get':function(){return _0x2f4dbb[_0x45dce4];}}),Object[_0x16fa02(0xb3)](_0x157f8d,_0x2261d4,_0x58819b);}:function(_0x16f439,_0x14b752,_0x449da4,_0x230f26){if(_0x230f26===undefined)_0x230f26=_0x449da4;_0x16f439[_0x230f26]=_0x14b752[_0x449da4];}),__setModuleDefault=this&&this[a35_0x1a5ee1(0xc3)]||(Object[a35_0x1a5ee1(0xbf)]?function(_0x4815c8,_0x3ce90b){const _0x41a1a8=a35_0x1a5ee1;Object[_0x41a1a8(0xb3)](_0x4815c8,'default',{'enumerable':!![],'value':_0x3ce90b});}:function(_0x323906,_0x415c80){const _0x1cea05=a35_0x1a5ee1;_0x323906[_0x1cea05(0x9e)]=_0x415c80;}),__importStar=this&&this[a35_0x1a5ee1(0xa0)]||function(_0x1790ee){const _0x305cf2=a35_0x1a5ee1;if(_0x1790ee&&_0x1790ee['__esModule'])return _0x1790ee;var _0x5b83a4={};if(_0x1790ee!=null){for(var _0x58205d in _0x1790ee)if(_0x58205d!==_0x305cf2(0x9e)&&Object[_0x305cf2(0xc4)][_0x305cf2(0xa4)][_0x305cf2(0xa7)](_0x1790ee,_0x58205d))__createBinding(_0x5b83a4,_0x1790ee,_0x58205d);}return __setModuleDefault(_0x5b83a4,_0x1790ee),_0x5b83a4;},__importDefault=this&&this[a35_0x1a5ee1(0xa2)]||function(_0x153791){return _0x153791&&_0x153791['__esModule']?_0x153791:{'default':_0x153791};};Object[a35_0x1a5ee1(0xb3)](exports,a35_0x1a5ee1(0xab),{'value':!![]}),exports[a35_0x1a5ee1(0xbc)]=exports[a35_0x1a5ee1(0xbb)]=exports[a35_0x1a5ee1(0xb7)]=exports[a35_0x1a5ee1(0xc2)]=exports[a35_0x1a5ee1(0xac)]=exports[a35_0x1a5ee1(0xc1)]=exports[a35_0x1a5ee1(0xc8)]=void 0x0;const Yup=__importStar(require(a35_0x1a5ee1(0xb5))),AppError_1=__importDefault(require(a35_0x1a5ee1(0xa3))),ListTicketNotesService_1=__importDefault(require(a35_0x1a5ee1(0xb4))),CreateTicketNoteService_1=__importDefault(require('../services/TicketNoteService/CreateTicketNoteService')),UpdateTicketNoteService_1=__importDefault(require(a35_0x1a5ee1(0xa9))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a35_0x1a5ee1(0xad))),DeleteTicketNoteService_1=__importDefault(require(a35_0x1a5ee1(0xcd))),FindNotesByContactIdAndTicketId_1=__importDefault(require('../services/TicketNoteService/FindNotesByContactIdAndTicketId')),index=async(_0x39b454,_0x3051be)=>{const _0x43f0fb=a35_0x1a5ee1,{searchParam:_0x2730cc,pageNumber:_0x85cd3f}=_0x39b454[_0x43f0fb(0xa6)],{ticketNotes:_0x26f1ee,count:_0x4926c9,hasMore:_0x455771}=await(0x0,ListTicketNotesService_1[_0x43f0fb(0x9e)])({'searchParam':_0x2730cc,'pageNumber':_0x85cd3f});return _0x3051be[_0x43f0fb(0xa8)]({'ticketNotes':_0x26f1ee,'count':_0x4926c9,'hasMore':_0x455771});};exports[a35_0x1a5ee1(0xc8)]=index;const list=async(_0x4a8bc0,_0x31b408)=>{const _0x3e1dbf=a35_0x1a5ee1,_0x57dd78=await(0x0,FindAllTicketNotesService_1[_0x3e1dbf(0x9e)])();return _0x31b408[_0x3e1dbf(0xaf)](0xc8)[_0x3e1dbf(0xa8)](_0x57dd78);};exports[a35_0x1a5ee1(0xc1)]=list;const store=async(_0x4f7f8b,_0x48bba6)=>{const _0x213683=a35_0x1a5ee1,_0x2b0384=_0x4f7f8b[_0x213683(0xb1)],{id:_0x359a23}=_0x4f7f8b['user'],_0x80e876=Yup[_0x213683(0xae)]()[_0x213683(0x9d)]({'note':Yup[_0x213683(0xbd)]()['required']()});try{await _0x80e876[_0x213683(0xc7)](_0x2b0384);}catch(_0x5195ba){throw new AppError_1[(_0x213683(0x9e))](_0x5195ba[_0x213683(0xc6)]);}const _0x1f5fd2=await(0x0,CreateTicketNoteService_1[_0x213683(0x9e)])({..._0x2b0384,'userId':_0x359a23});return _0x48bba6[_0x213683(0xaf)](0xc8)[_0x213683(0xa8)](_0x1f5fd2);};exports[a35_0x1a5ee1(0xac)]=store;const show=async(_0x2c0e9c,_0x26d474)=>{const _0x39e3ca=a35_0x1a5ee1,{id:_0x1ce697}=_0x2c0e9c[_0x39e3ca(0xc5)],_0x742203=await(0x0,ShowTicketNoteService_1[_0x39e3ca(0x9e)])(_0x1ce697);return _0x26d474['status'](0xc8)[_0x39e3ca(0xa8)](_0x742203);};function a35_0x4522(){const _0xc4d7bd=['../services/TicketNoteService/UpdateTicketNoteService','__createBinding','__esModule','store','../services/TicketNoteService/FindAllTicketNotesService','object','status','configurable','body','19343223yYOWto','defineProperty','../services/TicketNoteService/ListTicketNotesService','yup','ERR_NO_PERMISSION','update','getOwnPropertyDescriptor','25tphzgN','11194904VLUkQW','remove','findFilteredList','string','profile','create','1851222AaUbqL','list','show','__setModuleDefault','prototype','params','message','validate','index','290263pUCeiV','2835410UMbNsW','writable','7255584gEqrJL','../services/TicketNoteService/DeleteTicketNoteService','shape','default','8DjQyOa','__importStar','260292xmBTyg','__importDefault','../errors/AppError','hasOwnProperty','get','query','call','json'];a35_0x4522=function(){return _0xc4d7bd;};return a35_0x4522();}exports[a35_0x1a5ee1(0xc2)]=show;const update=async(_0x4440ba,_0x57b4e5)=>{const _0x288f0b=a35_0x1a5ee1,_0x57744d=_0x4440ba[_0x288f0b(0xb1)],_0x6d230c=Yup[_0x288f0b(0xae)]()['shape']({'note':Yup['string']()});try{await _0x6d230c[_0x288f0b(0xc7)](_0x57744d);}catch(_0x43c784){throw new AppError_1[(_0x288f0b(0x9e))](_0x43c784['message']);}const _0x340670=await(0x0,UpdateTicketNoteService_1[_0x288f0b(0x9e)])(_0x57744d);return _0x57b4e5[_0x288f0b(0xaf)](0xc8)[_0x288f0b(0xa8)](_0x340670);};exports[a35_0x1a5ee1(0xb7)]=update;const remove=async(_0x5d5d1f,_0xccdeea)=>{const _0x15cbd6=a35_0x1a5ee1,{id:_0x58f380}=_0x5d5d1f[_0x15cbd6(0xc5)];if(_0x5d5d1f['user'][_0x15cbd6(0xbe)]!=='admin')throw new AppError_1[(_0x15cbd6(0x9e))](_0x15cbd6(0xb6),0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x58f380),_0xccdeea[_0x15cbd6(0xaf)](0xc8)[_0x15cbd6(0xa8)]({'message':'Observação\x20removida'});};exports['remove']=remove;const findFilteredList=async(_0x162429,_0x5187b3)=>{const _0x143e33=a35_0x1a5ee1;try{const {contactId:_0x4f4ba4,ticketId:_0x38587c}=_0x162429[_0x143e33(0xa6)],_0x27fc4a=await(0x0,FindNotesByContactIdAndTicketId_1[_0x143e33(0x9e)])({'contactId':_0x4f4ba4,'ticketId':_0x38587c});return _0x5187b3[_0x143e33(0xaf)](0xc8)[_0x143e33(0xa8)](_0x27fc4a);}catch(_0x558831){return _0x5187b3['status'](0x1f4)[_0x143e33(0xa8)]({'message':_0x558831});}};exports[a35_0x1a5ee1(0xbc)]=findFilteredList;