'use strict';const a13_0x2ed1e1=a13_0x5e48;(function(_0x543ff3,_0x167a0e){const _0x1f0638=a13_0x5e48,_0x3ad3b8=_0x543ff3();while(!![]){try{const _0x42b023=parseInt(_0x1f0638(0x76))/0x1*(-parseInt(_0x1f0638(0x95))/0x2)+parseInt(_0x1f0638(0x94))/0x3+parseInt(_0x1f0638(0x87))/0x4*(parseInt(_0x1f0638(0x85))/0x5)+parseInt(_0x1f0638(0xa9))/0x6+-parseInt(_0x1f0638(0x8e))/0x7*(-parseInt(_0x1f0638(0x82))/0x8)+-parseInt(_0x1f0638(0x7f))/0x9*(-parseInt(_0x1f0638(0x9f))/0xa)+-parseInt(_0x1f0638(0x7c))/0xb*(parseInt(_0x1f0638(0xa7))/0xc);if(_0x42b023===_0x167a0e)break;else _0x3ad3b8['push'](_0x3ad3b8['shift']());}catch(_0x35742c){_0x3ad3b8['push'](_0x3ad3b8['shift']());}}}(a13_0x558e,0x87994));var __createBinding=this&&this[a13_0x2ed1e1(0xa6)]||(Object[a13_0x2ed1e1(0x78)]?function(_0x315934,_0xfb98b6,_0x560ea0,_0x58f4af){const _0x224fe3=a13_0x2ed1e1;if(_0x58f4af===undefined)_0x58f4af=_0x560ea0;var _0x8eccd7=Object[_0x224fe3(0xa5)](_0xfb98b6,_0x560ea0);(!_0x8eccd7||(_0x224fe3(0x89)in _0x8eccd7?!_0xfb98b6['__esModule']:_0x8eccd7[_0x224fe3(0x81)]||_0x8eccd7[_0x224fe3(0x8d)]))&&(_0x8eccd7={'enumerable':!![],'get':function(){return _0xfb98b6[_0x560ea0];}}),Object['defineProperty'](_0x315934,_0x58f4af,_0x8eccd7);}:function(_0x595e48,_0xeaa8f6,_0x1795f7,_0x22367f){if(_0x22367f===undefined)_0x22367f=_0x1795f7;_0x595e48[_0x22367f]=_0xeaa8f6[_0x1795f7];}),__setModuleDefault=this&&this[a13_0x2ed1e1(0x9c)]||(Object[a13_0x2ed1e1(0x78)]?function(_0x3082d6,_0x34cf30){const _0x584200=a13_0x2ed1e1;Object[_0x584200(0x93)](_0x3082d6,_0x584200(0x7d),{'enumerable':!![],'value':_0x34cf30});}:function(_0xf9548c,_0x4bc7c8){const _0x4b505e=a13_0x2ed1e1;_0xf9548c[_0x4b505e(0x7d)]=_0x4bc7c8;}),__importStar=this&&this[a13_0x2ed1e1(0x72)]||function(_0x1e65a4){const _0x5278a5=a13_0x2ed1e1;if(_0x1e65a4&&_0x1e65a4[_0x5278a5(0x96)])return _0x1e65a4;var _0x3dffae={};if(_0x1e65a4!=null){for(var _0x54e49e in _0x1e65a4)if(_0x54e49e!=='default'&&Object[_0x5278a5(0x70)][_0x5278a5(0xa3)][_0x5278a5(0xab)](_0x1e65a4,_0x54e49e))__createBinding(_0x3dffae,_0x1e65a4,_0x54e49e);}return __setModuleDefault(_0x3dffae,_0x1e65a4),_0x3dffae;},__importDefault=this&&this[a13_0x2ed1e1(0x84)]||function(_0x45f25a){return _0x45f25a&&_0x45f25a['__esModule']?_0x45f25a:{'default':_0x45f25a};};function a13_0x558e(){const _0x826118=['../config/auth','update','4389ibsJAO','default','../services/CompanyService/DeleteCompanyService','26667GLZPto','../services/CompanyService/UpdateSchedulesService','writable','8WTQowD','list','__importDefault','3010ZaycHi','show','1796Zttbdu','query','get','push','../models/Company','listPlan','configurable','4059657KfKqbM','../services/CompanyService/CreateCompanyService','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','authorization','toString','defineProperty','35643XJvaNv','52798OeGdgZ','__esModule','string','yup','min','remove','status','__setModuleDefault','object','headers','3350YiZQWh','name','body','message','hasOwnProperty','store','getOwnPropertyDescriptor','__createBinding','39396eDvsyq','indexPlan','5607354Wmjjiz','super','call','index','../services/CompanyService/FindAllCompaniesService','required','validate','../errors/AppError','updateSchedules','secret','prototype','split','__importStar','findByPk','json','verify','35gbNMGi','length','create','params'];a13_0x558e=function(){return _0x826118;};return a13_0x558e();}Object[a13_0x2ed1e1(0x93)](exports,a13_0x2ed1e1(0x96),{'value':!![]}),exports[a13_0x2ed1e1(0xa8)]=exports[a13_0x2ed1e1(0x8c)]=exports['remove']=exports[a13_0x2ed1e1(0x6e)]=exports[a13_0x2ed1e1(0x7b)]=exports[a13_0x2ed1e1(0x83)]=exports['show']=exports['store']=exports[a13_0x2ed1e1(0xac)]=void 0x0;const jsonwebtoken_1=require('jsonwebtoken'),auth_1=__importDefault(require(a13_0x2ed1e1(0x7a))),Yup=__importStar(require(a13_0x2ed1e1(0x98))),AppError_1=__importDefault(require(a13_0x2ed1e1(0x6d))),Company_1=__importDefault(require(a13_0x2ed1e1(0x8b))),ListCompaniesService_1=__importDefault(require('../services/CompanyService/ListCompaniesService')),CreateCompanyService_1=__importDefault(require(a13_0x2ed1e1(0x8f))),UpdateCompanyService_1=__importDefault(require('../services/CompanyService/UpdateCompanyService')),ShowCompanyService_1=__importDefault(require('../services/CompanyService/ShowCompanyService')),UpdateSchedulesService_1=__importDefault(require(a13_0x2ed1e1(0x80))),DeleteCompanyService_1=__importDefault(require(a13_0x2ed1e1(0x7e))),FindAllCompaniesService_1=__importDefault(require(a13_0x2ed1e1(0xad))),ShowPlanCompanyService_1=__importDefault(require('../services/CompanyService/ShowPlanCompanyService')),User_1=__importDefault(require('../models/User')),ListCompaniesPlanService_1=__importDefault(require('../services/CompanyService/ListCompaniesPlanService')),index=async(_0x3480e7,_0x180971)=>{const _0x5373f7=a13_0x2ed1e1,{searchParam:_0x2edf77,pageNumber:_0x3b59fb}=_0x3480e7[_0x5373f7(0x88)],_0x9c45a6=_0x3480e7[_0x5373f7(0x9e)][_0x5373f7(0x91)],[,_0x49de59]=_0x9c45a6[_0x5373f7(0x71)]('\x20'),_0x3cdfb3=(0x0,jsonwebtoken_1[_0x5373f7(0x75)])(_0x49de59,auth_1[_0x5373f7(0x7d)][_0x5373f7(0x6f)]),{id:_0x470202,profile:_0x3ac780,companyId:_0x53d51c}=_0x3cdfb3,_0x3fd649=await Company_1[_0x5373f7(0x7d)][_0x5373f7(0x73)](_0x53d51c),_0xcd483d=await User_1[_0x5373f7(0x7d)][_0x5373f7(0x73)](_0x470202);if(_0xcd483d[_0x5373f7(0xaa)]===!![]){const {companies:_0xbc8ec,count:_0x15fd11,hasMore:_0x8eaa60}=await(0x0,ListCompaniesService_1['default'])({'searchParam':_0x2edf77,'pageNumber':_0x3b59fb});return _0x180971['json']({'companies':_0xbc8ec,'count':_0x15fd11,'hasMore':_0x8eaa60});}else{const {companies:_0x1e8be0,count:_0x1f7d9e,hasMore:_0xe2f49b}=await(0x0,ListCompaniesService_1[_0x5373f7(0x7d)])({'searchParam':_0x3fd649[_0x5373f7(0xa0)],'pageNumber':_0x3b59fb});return _0x180971[_0x5373f7(0x74)]({'companies':_0x1e8be0,'count':_0x1f7d9e,'hasMore':_0xe2f49b});}};exports['index']=index;function a13_0x5e48(_0x463a8f,_0x43004e){const _0x558ef1=a13_0x558e();return a13_0x5e48=function(_0x5e480e,_0x14aae3){_0x5e480e=_0x5e480e-0x6c;let _0x1d43b5=_0x558ef1[_0x5e480e];return _0x1d43b5;},a13_0x5e48(_0x463a8f,_0x43004e);}const store=async(_0x50cb43,_0x2bc53b)=>{const _0xe6d789=a13_0x2ed1e1,_0x4706a9=_0x50cb43[_0xe6d789(0xa1)],_0x3b6f63=Yup[_0xe6d789(0x9d)]()['shape']({'name':Yup[_0xe6d789(0x97)]()[_0xe6d789(0xae)](),'password':Yup['string']()[_0xe6d789(0xae)]()[_0xe6d789(0x99)](0x5)});try{await _0x3b6f63[_0xe6d789(0x6c)](_0x4706a9);}catch(_0x1f8757){throw new AppError_1[(_0xe6d789(0x7d))](_0x1f8757[_0xe6d789(0xa2)]);}const _0x55cff8=await(0x0,CreateCompanyService_1['default'])(_0x4706a9);return _0x2bc53b[_0xe6d789(0x9b)](0xc8)[_0xe6d789(0x74)](_0x55cff8);};exports[a13_0x2ed1e1(0xa4)]=store;const show=async(_0x4fd293,_0x722c13)=>{const _0x3a8cb4=a13_0x2ed1e1,{id:_0x339952}=_0x4fd293['params'],_0x3d8616=_0x4fd293[_0x3a8cb4(0x9e)]['authorization'],[,_0x42b8f7]=_0x3d8616['split']('\x20'),_0x86d2c7=(0x0,jsonwebtoken_1[_0x3a8cb4(0x75)])(_0x42b8f7,auth_1[_0x3a8cb4(0x7d)][_0x3a8cb4(0x6f)]),{id:_0x8a868f,profile:_0x304725,companyId:_0x37f85e}=_0x86d2c7,_0xcc6c08=await User_1[_0x3a8cb4(0x7d)][_0x3a8cb4(0x73)](_0x8a868f);if(_0xcc6c08['super']===!![]){const _0x293c1f=await(0x0,ShowCompanyService_1['default'])(_0x339952);return _0x722c13[_0x3a8cb4(0x9b)](0xc8)['json'](_0x293c1f);}else{if(_0x339952!==_0x37f85e[_0x3a8cb4(0x92)]())return _0x722c13[_0x3a8cb4(0x9b)](0x190)[_0x3a8cb4(0x74)]({'error':_0x3a8cb4(0x90)});else{if(_0x339952===_0x37f85e[_0x3a8cb4(0x92)]()){const _0x271686=await(0x0,ShowCompanyService_1['default'])(_0x339952);return _0x722c13[_0x3a8cb4(0x9b)](0xc8)[_0x3a8cb4(0x74)](_0x271686);}}}};exports[a13_0x2ed1e1(0x86)]=show;const list=async(_0x4ebc04,_0x283069)=>{const _0xe33a57=a13_0x2ed1e1,_0x1f2c8c=_0x4ebc04[_0xe33a57(0x9e)]['authorization'],[,_0x34bbef]=_0x1f2c8c[_0xe33a57(0x71)]('\x20'),_0x5358b8=(0x0,jsonwebtoken_1[_0xe33a57(0x75)])(_0x34bbef,auth_1[_0xe33a57(0x7d)][_0xe33a57(0x6f)]),{id:_0x2a08e3,profile:_0x3a9e1c,companyId:_0x39aed3}=_0x5358b8,_0xe99456=await User_1['default'][_0xe33a57(0x73)](_0x2a08e3);if(_0xe99456[_0xe33a57(0xaa)]===!![]){const _0x4af1f0=await(0x0,FindAllCompaniesService_1['default'])();return _0x283069['status'](0xc8)[_0xe33a57(0x74)](_0x4af1f0);}else{const _0x154ec7=await(0x0,FindAllCompaniesService_1[_0xe33a57(0x7d)])();let _0x51fd83=[];for(let _0x4f374d=0x0;_0x4f374d<_0x154ec7[_0xe33a57(0x77)];_0x4f374d++){const _0x551b4b=_0x154ec7[_0x4f374d]['id'];if(_0x551b4b===_0x39aed3)return _0x51fd83[_0xe33a57(0x8a)](_0x154ec7[_0x4f374d]),_0x283069['status'](0xc8)[_0xe33a57(0x74)](_0x51fd83);}}};exports[a13_0x2ed1e1(0x83)]=list;const update=async(_0x32403b,_0xdfe4b8)=>{const _0x5725a2=a13_0x2ed1e1,_0x4fb732=_0x32403b[_0x5725a2(0xa1)],_0x4e9311=Yup[_0x5725a2(0x9d)]()['shape']({'name':Yup[_0x5725a2(0x97)]()});try{await _0x4e9311[_0x5725a2(0x6c)](_0x4fb732);}catch(_0x5691be){throw new AppError_1['default'](_0x5691be[_0x5725a2(0xa2)]);}const {id:_0x5c2cd3}=_0x32403b[_0x5725a2(0x79)],_0xc5befd=_0x32403b[_0x5725a2(0x9e)][_0x5725a2(0x91)],[,_0x549328]=_0xc5befd['split']('\x20'),_0x13f69b=(0x0,jsonwebtoken_1[_0x5725a2(0x75)])(_0x549328,auth_1[_0x5725a2(0x7d)][_0x5725a2(0x6f)]),{id:_0x4b9da5,profile:_0x5dbe8a,companyId:_0x45a471}=_0x13f69b,_0x555c4b=await User_1[_0x5725a2(0x7d)][_0x5725a2(0x73)](_0x4b9da5);if(_0x555c4b[_0x5725a2(0xaa)]===!![]){const _0x427944=await(0x0,UpdateCompanyService_1[_0x5725a2(0x7d)])({'id':_0x5c2cd3,..._0x4fb732});return _0xdfe4b8[_0x5725a2(0x9b)](0xc8)[_0x5725a2(0x74)](_0x427944);}else{if(_0x4fb732?.['id']['toString']()!==_0x5c2cd3||_0x45a471[_0x5725a2(0x92)]()!==_0x5c2cd3)return _0xdfe4b8[_0x5725a2(0x9b)](0x190)['json']({'error':_0x5725a2(0x90)});else{const _0x135538=await(0x0,UpdateCompanyService_1[_0x5725a2(0x7d)])({'id':_0x5c2cd3,..._0x4fb732});return _0xdfe4b8[_0x5725a2(0x9b)](0xc8)[_0x5725a2(0x74)](_0x135538);}}};exports[a13_0x2ed1e1(0x7b)]=update;const updateSchedules=async(_0x30551c,_0xf55be1)=>{const _0x553b85=a13_0x2ed1e1,{schedules:_0x470584}=_0x30551c['body'],{id:_0x407c6f}=_0x30551c['params'],_0x2790c4=_0x30551c[_0x553b85(0x9e)]['authorization'],[,_0xcde20]=_0x2790c4['split']('\x20'),_0x4d0c7e=(0x0,jsonwebtoken_1['verify'])(_0xcde20,auth_1['default'][_0x553b85(0x6f)]),{id:_0x1f4cd6,profile:_0x5be00d,companyId:_0x345232}=_0x4d0c7e,_0x321b39=await User_1['default'][_0x553b85(0x73)](_0x1f4cd6);if(_0x321b39[_0x553b85(0xaa)]===!![]){const _0x419939=await(0x0,UpdateSchedulesService_1[_0x553b85(0x7d)])({'id':_0x407c6f,'schedules':_0x470584});return _0xf55be1['status'](0xc8)[_0x553b85(0x74)](_0x419939);}else{if(_0x345232[_0x553b85(0x92)]()!==_0x407c6f)return _0xf55be1['status'](0x190)['json']({'error':_0x553b85(0x90)});else{const _0x25e85d=await(0x0,UpdateSchedulesService_1[_0x553b85(0x7d)])({'id':_0x407c6f,'schedules':_0x470584});return _0xf55be1[_0x553b85(0x9b)](0xc8)[_0x553b85(0x74)](_0x25e85d);}}};exports['updateSchedules']=updateSchedules;const remove=async(_0x201d6a,_0x149e67)=>{const _0x391ec1=a13_0x2ed1e1,{id:_0x499dcd}=_0x201d6a[_0x391ec1(0x79)],_0x59ed25=_0x201d6a[_0x391ec1(0x9e)]['authorization'],[,_0x37fa3a]=_0x59ed25['split']('\x20'),_0xfed47d=(0x0,jsonwebtoken_1[_0x391ec1(0x75)])(_0x37fa3a,auth_1[_0x391ec1(0x7d)][_0x391ec1(0x6f)]),{id:_0xef2428,profile:_0x26687b,companyId:_0x1138d2}=_0xfed47d,_0x5edaf7=await User_1[_0x391ec1(0x7d)][_0x391ec1(0x73)](_0xef2428);if(_0x5edaf7['super']===!![]){const _0x248756=await(0x0,DeleteCompanyService_1[_0x391ec1(0x7d)])(_0x499dcd);return _0x149e67[_0x391ec1(0x9b)](0xc8)['json'](_0x248756);}else return _0x149e67[_0x391ec1(0x9b)](0x190)['json']({'error':_0x391ec1(0x90)});};exports[a13_0x2ed1e1(0x9a)]=remove;const listPlan=async(_0x646626,_0x16cda8)=>{const _0x4fdd9e=a13_0x2ed1e1,{id:_0x3c3c6d}=_0x646626[_0x4fdd9e(0x79)],_0x1f0a79=_0x646626['headers'][_0x4fdd9e(0x91)],[,_0x5b5d9c]=_0x1f0a79[_0x4fdd9e(0x71)]('\x20'),_0x1909b4=(0x0,jsonwebtoken_1[_0x4fdd9e(0x75)])(_0x5b5d9c,auth_1[_0x4fdd9e(0x7d)][_0x4fdd9e(0x6f)]),{id:_0x19bdaa,profile:_0x1bd44b,companyId:_0xbc23e5}=_0x1909b4,_0x18e6fc=await User_1[_0x4fdd9e(0x7d)]['findByPk'](_0x19bdaa);if(_0x18e6fc['super']===!![]){const _0x512cbe=await(0x0,ShowPlanCompanyService_1[_0x4fdd9e(0x7d)])(_0x3c3c6d);return _0x16cda8[_0x4fdd9e(0x9b)](0xc8)[_0x4fdd9e(0x74)](_0x512cbe);}else{if(_0xbc23e5[_0x4fdd9e(0x92)]()!==_0x3c3c6d)return _0x16cda8[_0x4fdd9e(0x9b)](0x190)[_0x4fdd9e(0x74)]({'error':_0x4fdd9e(0x90)});else{const _0x310f59=await(0x0,ShowPlanCompanyService_1[_0x4fdd9e(0x7d)])(_0x3c3c6d);return _0x16cda8[_0x4fdd9e(0x9b)](0xc8)[_0x4fdd9e(0x74)](_0x310f59);}}};exports['listPlan']=listPlan;const indexPlan=async(_0x334f48,_0x3a74d0)=>{const _0x50fe3b=a13_0x2ed1e1,{searchParam:_0x98107c,pageNumber:_0x41c7fd}=_0x334f48['query'],_0x55216f=_0x334f48[_0x50fe3b(0x9e)][_0x50fe3b(0x91)],[,_0x2b640f]=_0x55216f[_0x50fe3b(0x71)]('\x20'),_0x2162a4=(0x0,jsonwebtoken_1[_0x50fe3b(0x75)])(_0x2b640f,auth_1['default'][_0x50fe3b(0x6f)]),{id:_0x2602ea,profile:_0x26c23f,companyId:_0x134087}=_0x2162a4,_0x78f266=await User_1['default'][_0x50fe3b(0x73)](_0x2602ea);if(_0x78f266[_0x50fe3b(0xaa)]===!![]){const _0x5b4ead=await(0x0,ListCompaniesPlanService_1[_0x50fe3b(0x7d)])();return _0x3a74d0[_0x50fe3b(0x74)]({'companies':_0x5b4ead});}else return _0x3a74d0[_0x50fe3b(0x9b)](0x190)['json']({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});};exports['indexPlan']=indexPlan;