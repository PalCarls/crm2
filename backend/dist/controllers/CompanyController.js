'use strict';const a13_0x11ab54=a13_0x265d;(function(_0xc557a0,_0x3dae72){const _0xadb45b=a13_0x265d,_0x28582b=_0xc557a0();while(!![]){try{const _0x2ee5d3=parseInt(_0xadb45b(0x114))/0x1*(-parseInt(_0xadb45b(0x11e))/0x2)+-parseInt(_0xadb45b(0x12c))/0x3*(parseInt(_0xadb45b(0xf8))/0x4)+parseInt(_0xadb45b(0xff))/0x5+parseInt(_0xadb45b(0x11b))/0x6*(-parseInt(_0xadb45b(0x10f))/0x7)+-parseInt(_0xadb45b(0x127))/0x8+parseInt(_0xadb45b(0x110))/0x9*(-parseInt(_0xadb45b(0xfe))/0xa)+parseInt(_0xadb45b(0x12b))/0xb;if(_0x2ee5d3===_0x3dae72)break;else _0x28582b['push'](_0x28582b['shift']());}catch(_0x18ca2b){_0x28582b['push'](_0x28582b['shift']());}}}(a13_0x1634,0xf2860));var __createBinding=this&&this[a13_0x11ab54(0x10a)]||(Object['create']?function(_0x39d011,_0x240564,_0x1add2d,_0x417ba6){const _0x4d318a=a13_0x11ab54;if(_0x417ba6===undefined)_0x417ba6=_0x1add2d;var _0x958491=Object[_0x4d318a(0x130)](_0x240564,_0x1add2d);(!_0x958491||('get'in _0x958491?!_0x240564[_0x4d318a(0x118)]:_0x958491[_0x4d318a(0x104)]||_0x958491[_0x4d318a(0x111)]))&&(_0x958491={'enumerable':!![],'get':function(){return _0x240564[_0x1add2d];}}),Object[_0x4d318a(0x131)](_0x39d011,_0x417ba6,_0x958491);}:function(_0x3dc754,_0x406f98,_0x2a575f,_0x169cd6){if(_0x169cd6===undefined)_0x169cd6=_0x2a575f;_0x3dc754[_0x169cd6]=_0x406f98[_0x2a575f];}),__setModuleDefault=this&&this[a13_0x11ab54(0xfc)]||(Object[a13_0x11ab54(0x135)]?function(_0xd53f19,_0x122938){const _0x315223=a13_0x11ab54;Object[_0x315223(0x131)](_0xd53f19,_0x315223(0x113),{'enumerable':!![],'value':_0x122938});}:function(_0x29122d,_0x4ac7b0){const _0x34a5eb=a13_0x11ab54;_0x29122d[_0x34a5eb(0x113)]=_0x4ac7b0;}),__importStar=this&&this[a13_0x11ab54(0x11f)]||function(_0xd67d0a){const _0x2ff368=a13_0x11ab54;if(_0xd67d0a&&_0xd67d0a[_0x2ff368(0x118)])return _0xd67d0a;var _0x4c8c0a={};if(_0xd67d0a!=null){for(var _0x2a4845 in _0xd67d0a)if(_0x2a4845!==_0x2ff368(0x113)&&Object['prototype'][_0x2ff368(0x122)][_0x2ff368(0x11a)](_0xd67d0a,_0x2a4845))__createBinding(_0x4c8c0a,_0xd67d0a,_0x2a4845);}return __setModuleDefault(_0x4c8c0a,_0xd67d0a),_0x4c8c0a;},__importDefault=this&&this['__importDefault']||function(_0x255df4){const _0x40f860=a13_0x11ab54;return _0x255df4&&_0x255df4[_0x40f860(0x118)]?_0x255df4:{'default':_0x255df4};};Object[a13_0x11ab54(0x131)](exports,a13_0x11ab54(0x118),{'value':!![]}),exports[a13_0x11ab54(0x129)]=exports[a13_0x11ab54(0x102)]=exports['remove']=exports[a13_0x11ab54(0x121)]=exports[a13_0x11ab54(0x10d)]=exports['list']=exports[a13_0x11ab54(0x116)]=exports[a13_0x11ab54(0x10c)]=exports['index']=void 0x0;const jsonwebtoken_1=require('jsonwebtoken'),auth_1=__importDefault(require('../config/auth')),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a13_0x11ab54(0x109))),Company_1=__importDefault(require(a13_0x11ab54(0x12f))),ListCompaniesService_1=__importDefault(require(a13_0x11ab54(0x10e))),CreateCompanyService_1=__importDefault(require(a13_0x11ab54(0xfa))),UpdateCompanyService_1=__importDefault(require(a13_0x11ab54(0xf9))),ShowCompanyService_1=__importDefault(require('../services/CompanyService/ShowCompanyService')),UpdateSchedulesService_1=__importDefault(require('../services/CompanyService/UpdateSchedulesService')),DeleteCompanyService_1=__importDefault(require('../services/CompanyService/DeleteCompanyService')),FindAllCompaniesService_1=__importDefault(require(a13_0x11ab54(0xfd))),ShowPlanCompanyService_1=__importDefault(require('../services/CompanyService/ShowPlanCompanyService')),User_1=__importDefault(require(a13_0x11ab54(0x123))),ListCompaniesPlanService_1=__importDefault(require(a13_0x11ab54(0x119))),index=async(_0x2fb075,_0x129ab8)=>{const _0x28f21e=a13_0x11ab54,{searchParam:_0x462862,pageNumber:_0x3c4504}=_0x2fb075[_0x28f21e(0x112)],_0xc77dda=_0x2fb075['headers'][_0x28f21e(0x101)],[,_0x485b63]=_0xc77dda[_0x28f21e(0x12e)]('\x20'),_0x14b967=(0x0,jsonwebtoken_1[_0x28f21e(0x134)])(_0x485b63,auth_1[_0x28f21e(0x113)][_0x28f21e(0x124)]),{id:_0x2a24b4,profile:_0x34e45c,companyId:_0x4a8d36}=_0x14b967,_0x524fe6=await Company_1[_0x28f21e(0x113)]['findByPk'](_0x4a8d36),_0xd0f1ed=await User_1[_0x28f21e(0x113)]['findByPk'](_0x2a24b4);if(_0xd0f1ed[_0x28f21e(0x10b)]===!![]){const {companies:_0xda15f2,count:_0x2100cf,hasMore:_0x551811}=await(0x0,ListCompaniesService_1[_0x28f21e(0x113)])({'searchParam':_0x462862,'pageNumber':_0x3c4504});return _0x129ab8[_0x28f21e(0x105)]({'companies':_0xda15f2,'count':_0x2100cf,'hasMore':_0x551811});}else{const {companies:_0x2732a9,count:_0x3184ee,hasMore:_0x56ccb8}=await(0x0,ListCompaniesService_1['default'])({'searchParam':_0x524fe6[_0x28f21e(0x11d)],'pageNumber':_0x3c4504});return _0x129ab8[_0x28f21e(0x105)]({'companies':_0x2732a9,'count':_0x3184ee,'hasMore':_0x56ccb8});}};exports[a13_0x11ab54(0x117)]=index;const store=async(_0x3661d5,_0x29671c)=>{const _0x4a6a1e=a13_0x11ab54,_0x22cc9b=_0x3661d5[_0x4a6a1e(0x107)],_0xe7453e=Yup['object']()[_0x4a6a1e(0x12a)]({'name':Yup[_0x4a6a1e(0x126)]()[_0x4a6a1e(0x100)](),'password':Yup['string']()[_0x4a6a1e(0x100)]()[_0x4a6a1e(0x132)](0x5)});try{await _0xe7453e['validate'](_0x22cc9b);}catch(_0x5332b4){throw new AppError_1[(_0x4a6a1e(0x113))](_0x5332b4[_0x4a6a1e(0x115)]);}const _0x110ae8=await(0x0,CreateCompanyService_1[_0x4a6a1e(0x113)])(_0x22cc9b);return _0x29671c[_0x4a6a1e(0x106)](0xc8)[_0x4a6a1e(0x105)](_0x110ae8);};exports[a13_0x11ab54(0x10c)]=store;const show=async(_0x3b9591,_0x21e64d)=>{const _0x1e908c=a13_0x11ab54,{id:_0x2d991e}=_0x3b9591['params'],_0x98f4de=_0x3b9591['headers'][_0x1e908c(0x101)],[,_0x3a0b0c]=_0x98f4de['split']('\x20'),_0x32ad3f=(0x0,jsonwebtoken_1[_0x1e908c(0x134)])(_0x3a0b0c,auth_1[_0x1e908c(0x113)]['secret']),{id:_0x17da6f,profile:_0x4407f3,companyId:_0x406261}=_0x32ad3f,_0x4603e5=await User_1[_0x1e908c(0x113)][_0x1e908c(0xfb)](_0x17da6f);if(_0x4603e5[_0x1e908c(0x10b)]===!![]){const _0x8f6204=await(0x0,ShowCompanyService_1['default'])(_0x2d991e);return _0x21e64d[_0x1e908c(0x106)](0xc8)[_0x1e908c(0x105)](_0x8f6204);}else{if(_0x2d991e!==_0x406261['toString']())return _0x21e64d[_0x1e908c(0x106)](0x190)[_0x1e908c(0x105)]({'error':_0x1e908c(0x125)});else{if(_0x2d991e===_0x406261['toString']()){const _0x56a458=await(0x0,ShowCompanyService_1['default'])(_0x2d991e);return _0x21e64d['status'](0xc8)[_0x1e908c(0x105)](_0x56a458);}}}};function a13_0x1634(){const _0xa1a6a5=['status','body','headers','../errors/AppError','__createBinding','super','store','update','../services/CompanyService/ListCompaniesService','357609hxMuOn','9kamEYR','configurable','query','default','639231aKKDVe','message','show','index','__esModule','../services/CompanyService/ListCompaniesPlanService','call','66JaEUtK','params','name','2kfykOP','__importStar','object','updateSchedules','hasOwnProperty','../models/User','secret','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','string','7422688NXWwWR','toString','indexPlan','shape','39529666lkBPsj','998808Scxdsl','validate','split','../models/Company','getOwnPropertyDescriptor','defineProperty','min','remove','verify','create','4OyKNBo','../services/CompanyService/UpdateCompanyService','../services/CompanyService/CreateCompanyService','findByPk','__setModuleDefault','../services/CompanyService/FindAllCompaniesService','3997660kkTBYr','1307480WrUIaR','required','authorization','listPlan','push','writable','json'];a13_0x1634=function(){return _0xa1a6a5;};return a13_0x1634();}exports[a13_0x11ab54(0x116)]=show;const list=async(_0x3b885c,_0x2a410d)=>{const _0x5db223=a13_0x11ab54,_0x1f8537=_0x3b885c['headers']['authorization'],[,_0x32572b]=_0x1f8537[_0x5db223(0x12e)]('\x20'),_0x5ac8aa=(0x0,jsonwebtoken_1[_0x5db223(0x134)])(_0x32572b,auth_1['default'][_0x5db223(0x124)]),{id:_0x144005,profile:_0x150e98,companyId:_0x3fe5c0}=_0x5ac8aa,_0x60273a=await User_1[_0x5db223(0x113)][_0x5db223(0xfb)](_0x144005);if(_0x60273a[_0x5db223(0x10b)]===!![]){const _0x439d0f=await(0x0,FindAllCompaniesService_1['default'])();return _0x2a410d[_0x5db223(0x106)](0xc8)[_0x5db223(0x105)](_0x439d0f);}else{const _0x14fbc6=await(0x0,FindAllCompaniesService_1['default'])();let _0x9276c7=[];for(let _0x432617=0x0;_0x432617<_0x14fbc6['length'];_0x432617++){const _0x55ccec=_0x14fbc6[_0x432617]['id'];if(_0x55ccec===_0x3fe5c0)return _0x9276c7[_0x5db223(0x103)](_0x14fbc6[_0x432617]),_0x2a410d['status'](0xc8)['json'](_0x9276c7);}}};exports['list']=list;const update=async(_0x427d80,_0x3bdb6a)=>{const _0x5d3d1a=a13_0x11ab54,_0x50f98a=_0x427d80[_0x5d3d1a(0x107)],_0xdae68=Yup[_0x5d3d1a(0x120)]()[_0x5d3d1a(0x12a)]({'name':Yup[_0x5d3d1a(0x126)]()});try{await _0xdae68[_0x5d3d1a(0x12d)](_0x50f98a);}catch(_0x545887){throw new AppError_1[(_0x5d3d1a(0x113))](_0x545887['message']);}const {id:_0x14e922}=_0x427d80[_0x5d3d1a(0x11c)],_0x5165c2=_0x427d80[_0x5d3d1a(0x108)][_0x5d3d1a(0x101)],[,_0x371bb8]=_0x5165c2[_0x5d3d1a(0x12e)]('\x20'),_0x142bf2=(0x0,jsonwebtoken_1['verify'])(_0x371bb8,auth_1[_0x5d3d1a(0x113)][_0x5d3d1a(0x124)]),{id:_0x18173a,profile:_0x53e002,companyId:_0x453963}=_0x142bf2,_0x1cf048=await User_1[_0x5d3d1a(0x113)][_0x5d3d1a(0xfb)](_0x18173a);if(_0x1cf048['super']===!![]){const _0x6dc39d=await(0x0,UpdateCompanyService_1[_0x5d3d1a(0x113)])({'id':_0x14e922,..._0x50f98a});return _0x3bdb6a[_0x5d3d1a(0x106)](0xc8)[_0x5d3d1a(0x105)](_0x6dc39d);}else{if(_0x50f98a?.['id'][_0x5d3d1a(0x128)]()!==_0x14e922||_0x453963[_0x5d3d1a(0x128)]()!==_0x14e922)return _0x3bdb6a[_0x5d3d1a(0x106)](0x190)[_0x5d3d1a(0x105)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});else{const _0x43aaa8=await(0x0,UpdateCompanyService_1[_0x5d3d1a(0x113)])({'id':_0x14e922,..._0x50f98a});return _0x3bdb6a[_0x5d3d1a(0x106)](0xc8)[_0x5d3d1a(0x105)](_0x43aaa8);}}};exports['update']=update;const updateSchedules=async(_0x55604f,_0x51d93e)=>{const _0x50f1d6=a13_0x11ab54,{schedules:_0x3eeb26}=_0x55604f['body'],{id:_0x28c7b4}=_0x55604f[_0x50f1d6(0x11c)],_0x29c9aa=_0x55604f[_0x50f1d6(0x108)]['authorization'],[,_0x223b27]=_0x29c9aa[_0x50f1d6(0x12e)]('\x20'),_0x2612ca=(0x0,jsonwebtoken_1[_0x50f1d6(0x134)])(_0x223b27,auth_1['default']['secret']),{id:_0x64b498,profile:_0x18a36b,companyId:_0x411694}=_0x2612ca,_0x41b211=await User_1[_0x50f1d6(0x113)][_0x50f1d6(0xfb)](_0x64b498);if(_0x41b211['super']===!![]){const _0x417d8e=await(0x0,UpdateSchedulesService_1['default'])({'id':_0x28c7b4,'schedules':_0x3eeb26});return _0x51d93e['status'](0xc8)['json'](_0x417d8e);}else{if(_0x411694[_0x50f1d6(0x128)]()!==_0x28c7b4)return _0x51d93e[_0x50f1d6(0x106)](0x190)[_0x50f1d6(0x105)]({'error':_0x50f1d6(0x125)});else{const _0xa45d12=await(0x0,UpdateSchedulesService_1['default'])({'id':_0x28c7b4,'schedules':_0x3eeb26});return _0x51d93e[_0x50f1d6(0x106)](0xc8)['json'](_0xa45d12);}}};exports[a13_0x11ab54(0x121)]=updateSchedules;function a13_0x265d(_0x5484d3,_0x1a745a){const _0x163436=a13_0x1634();return a13_0x265d=function(_0x265d19,_0x520741){_0x265d19=_0x265d19-0xf8;let _0xf43d50=_0x163436[_0x265d19];return _0xf43d50;},a13_0x265d(_0x5484d3,_0x1a745a);}const remove=async(_0x33384f,_0x442da9)=>{const _0x47e3ea=a13_0x11ab54,{id:_0x382347}=_0x33384f[_0x47e3ea(0x11c)],_0x54a83f=_0x33384f[_0x47e3ea(0x108)][_0x47e3ea(0x101)],[,_0x295ec6]=_0x54a83f[_0x47e3ea(0x12e)]('\x20'),_0x3e410d=(0x0,jsonwebtoken_1[_0x47e3ea(0x134)])(_0x295ec6,auth_1['default'][_0x47e3ea(0x124)]),{id:_0x6c7c9d,profile:_0x3f85a1,companyId:_0x3dbca9}=_0x3e410d,_0x5f252d=await User_1[_0x47e3ea(0x113)]['findByPk'](_0x6c7c9d);if(_0x5f252d[_0x47e3ea(0x10b)]===!![]){const _0x23916e=await(0x0,DeleteCompanyService_1[_0x47e3ea(0x113)])(_0x382347);return _0x442da9[_0x47e3ea(0x106)](0xc8)[_0x47e3ea(0x105)](_0x23916e);}else return _0x442da9[_0x47e3ea(0x106)](0x190)[_0x47e3ea(0x105)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});};exports[a13_0x11ab54(0x133)]=remove;const listPlan=async(_0x1bc55d,_0x3aa835)=>{const _0x99b1a9=a13_0x11ab54,{id:_0x5aa065}=_0x1bc55d[_0x99b1a9(0x11c)],_0x43c49d=_0x1bc55d['headers'][_0x99b1a9(0x101)],[,_0x4f9c35]=_0x43c49d[_0x99b1a9(0x12e)]('\x20'),_0x529c68=(0x0,jsonwebtoken_1[_0x99b1a9(0x134)])(_0x4f9c35,auth_1['default'][_0x99b1a9(0x124)]),{id:_0x177e5f,profile:_0x5f0639,companyId:_0x513aae}=_0x529c68,_0x542163=await User_1[_0x99b1a9(0x113)][_0x99b1a9(0xfb)](_0x177e5f);if(_0x542163['super']===!![]){const _0x499857=await(0x0,ShowPlanCompanyService_1[_0x99b1a9(0x113)])(_0x5aa065);return _0x3aa835['status'](0xc8)['json'](_0x499857);}else{if(_0x513aae[_0x99b1a9(0x128)]()!==_0x5aa065)return _0x3aa835[_0x99b1a9(0x106)](0x190)[_0x99b1a9(0x105)]({'error':_0x99b1a9(0x125)});else{const _0x350dd2=await(0x0,ShowPlanCompanyService_1[_0x99b1a9(0x113)])(_0x5aa065);return _0x3aa835[_0x99b1a9(0x106)](0xc8)[_0x99b1a9(0x105)](_0x350dd2);}}};exports['listPlan']=listPlan;const indexPlan=async(_0x31e397,_0x128367)=>{const _0x1b17ab=a13_0x11ab54,{searchParam:_0x21731a,pageNumber:_0x5e627c}=_0x31e397['query'],_0x3a955f=_0x31e397[_0x1b17ab(0x108)][_0x1b17ab(0x101)],[,_0x3bd210]=_0x3a955f['split']('\x20'),_0x3e25cc=(0x0,jsonwebtoken_1[_0x1b17ab(0x134)])(_0x3bd210,auth_1['default'][_0x1b17ab(0x124)]),{id:_0x3c58d1,profile:_0x1d4bdc,companyId:_0x5e15d9}=_0x3e25cc,_0x3c1b2c=await User_1[_0x1b17ab(0x113)]['findByPk'](_0x3c58d1);if(_0x3c1b2c[_0x1b17ab(0x10b)]===!![]){const _0x37320a=await(0x0,ListCompaniesPlanService_1[_0x1b17ab(0x113)])();return _0x128367[_0x1b17ab(0x105)]({'companies':_0x37320a});}else return _0x128367[_0x1b17ab(0x106)](0x190)[_0x1b17ab(0x105)]({'error':_0x1b17ab(0x125)});};exports['indexPlan']=indexPlan;