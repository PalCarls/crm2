'use strict';const a13_0x4a89a5=a13_0x4d6a;(function(_0x52adc8,_0x55e196){const _0x23921b=a13_0x4d6a,_0x369747=_0x52adc8();while(!![]){try{const _0x485063=-parseInt(_0x23921b(0x1e4))/0x1+-parseInt(_0x23921b(0x21a))/0x2*(parseInt(_0x23921b(0x1f4))/0x3)+parseInt(_0x23921b(0x209))/0x4*(parseInt(_0x23921b(0x1e2))/0x5)+parseInt(_0x23921b(0x1fb))/0x6*(parseInt(_0x23921b(0x1e5))/0x7)+-parseInt(_0x23921b(0x208))/0x8+parseInt(_0x23921b(0x1f5))/0x9*(-parseInt(_0x23921b(0x1fe))/0xa)+parseInt(_0x23921b(0x20e))/0xb;if(_0x485063===_0x55e196)break;else _0x369747['push'](_0x369747['shift']());}catch(_0x4d02f4){_0x369747['push'](_0x369747['shift']());}}}(a13_0x5205,0x57abd));function a13_0x5205(){const _0x58ede4=['2690538FcoHdM','message','../models/User','187300zNJxQC','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','list','hasOwnProperty','body','../models/Company','__importStar','getOwnPropertyDescriptor','push','../services/CompanyService/CreateCompanyService','2197880knSpuD','963884IBnZHi','headers','toString','default','../services/CompanyService/ShowCompanyService','13153712sITfDD','../services/CompanyService/ListCompaniesService','params','json','jsonwebtoken','show','status','updateSchedules','name','query','index','split','116978KyVvyC','__createBinding','string','store','get','indexPlan','prototype','writable','../services/CompanyService/FindAllCompaniesService','update','5qfDeMQ','__esModule','490655kgUvWa','7RzGTgM','verify','../services/CompanyService/UpdateCompanyService','authorization','defineProperty','__importDefault','required','create','listPlan','validate','yup','secret','__setModuleDefault','call','object','15HSahLc','225DdLLDh','configurable','findByPk','remove','super','../services/CompanyService/DeleteCompanyService'];a13_0x5205=function(){return _0x58ede4;};return a13_0x5205();}var __createBinding=this&&this[a13_0x4a89a5(0x21b)]||(Object[a13_0x4a89a5(0x1ec)]?function(_0x2bf879,_0x4c2ea6,_0x14006b,_0x59c034){const _0x49be6e=a13_0x4a89a5;if(_0x59c034===undefined)_0x59c034=_0x14006b;var _0x1faac=Object[_0x49be6e(0x205)](_0x4c2ea6,_0x14006b);(!_0x1faac||(_0x49be6e(0x21e)in _0x1faac?!_0x4c2ea6['__esModule']:_0x1faac[_0x49be6e(0x221)]||_0x1faac[_0x49be6e(0x1f6)]))&&(_0x1faac={'enumerable':!![],'get':function(){return _0x4c2ea6[_0x14006b];}}),Object[_0x49be6e(0x1e9)](_0x2bf879,_0x59c034,_0x1faac);}:function(_0x57fbc9,_0x550a63,_0x2be1a2,_0xd1181c){if(_0xd1181c===undefined)_0xd1181c=_0x2be1a2;_0x57fbc9[_0xd1181c]=_0x550a63[_0x2be1a2];}),__setModuleDefault=this&&this[a13_0x4a89a5(0x1f1)]||(Object[a13_0x4a89a5(0x1ec)]?function(_0x5f0d19,_0x502800){const _0x205e32=a13_0x4a89a5;Object[_0x205e32(0x1e9)](_0x5f0d19,_0x205e32(0x20c),{'enumerable':!![],'value':_0x502800});}:function(_0x1e7ca2,_0x2a554f){const _0x37bfb7=a13_0x4a89a5;_0x1e7ca2[_0x37bfb7(0x20c)]=_0x2a554f;}),__importStar=this&&this[a13_0x4a89a5(0x204)]||function(_0x1bd93c){const _0xe3c42f=a13_0x4a89a5;if(_0x1bd93c&&_0x1bd93c[_0xe3c42f(0x1e3)])return _0x1bd93c;var _0x49926c={};if(_0x1bd93c!=null){for(var _0x2ac6c5 in _0x1bd93c)if(_0x2ac6c5!==_0xe3c42f(0x20c)&&Object[_0xe3c42f(0x220)][_0xe3c42f(0x201)][_0xe3c42f(0x1f2)](_0x1bd93c,_0x2ac6c5))__createBinding(_0x49926c,_0x1bd93c,_0x2ac6c5);}return __setModuleDefault(_0x49926c,_0x1bd93c),_0x49926c;},__importDefault=this&&this[a13_0x4a89a5(0x1ea)]||function(_0x49370b){const _0x380958=a13_0x4a89a5;return _0x49370b&&_0x49370b[_0x380958(0x1e3)]?_0x49370b:{'default':_0x49370b};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a13_0x4a89a5(0x21f)]=exports[a13_0x4a89a5(0x1ed)]=exports[a13_0x4a89a5(0x1f8)]=exports['updateSchedules']=exports['update']=exports[a13_0x4a89a5(0x200)]=exports[a13_0x4a89a5(0x213)]=exports[a13_0x4a89a5(0x21d)]=exports[a13_0x4a89a5(0x218)]=void 0x0;const jsonwebtoken_1=require(a13_0x4a89a5(0x212)),auth_1=__importDefault(require('../config/auth')),Yup=__importStar(require(a13_0x4a89a5(0x1ef))),AppError_1=__importDefault(require('../errors/AppError')),Company_1=__importDefault(require(a13_0x4a89a5(0x203))),ListCompaniesService_1=__importDefault(require(a13_0x4a89a5(0x20f))),CreateCompanyService_1=__importDefault(require(a13_0x4a89a5(0x207))),UpdateCompanyService_1=__importDefault(require(a13_0x4a89a5(0x1e7))),ShowCompanyService_1=__importDefault(require(a13_0x4a89a5(0x20d))),UpdateSchedulesService_1=__importDefault(require('../services/CompanyService/UpdateSchedulesService')),DeleteCompanyService_1=__importDefault(require(a13_0x4a89a5(0x1fa))),FindAllCompaniesService_1=__importDefault(require(a13_0x4a89a5(0x222))),ShowPlanCompanyService_1=__importDefault(require('../services/CompanyService/ShowPlanCompanyService')),User_1=__importDefault(require(a13_0x4a89a5(0x1fd))),ListCompaniesPlanService_1=__importDefault(require('../services/CompanyService/ListCompaniesPlanService')),index=async(_0x199c1e,_0x36ad83)=>{const _0x35393b=a13_0x4a89a5,{searchParam:_0x23ca37,pageNumber:_0xce2836}=_0x199c1e[_0x35393b(0x217)],_0x1bf83e=_0x199c1e['headers'][_0x35393b(0x1e8)],[,_0x33749b]=_0x1bf83e['split']('\x20'),_0x131544=(0x0,jsonwebtoken_1[_0x35393b(0x1e6)])(_0x33749b,auth_1[_0x35393b(0x20c)]['secret']),{id:_0x5c76d7,profile:_0x564572,companyId:_0x4de645}=_0x131544,_0x1f19bc=await Company_1['default'][_0x35393b(0x1f7)](_0x4de645),_0x5821ff=await User_1['default']['findByPk'](_0x5c76d7);if(_0x5821ff[_0x35393b(0x1f9)]===!![]){const {companies:_0x2f7600,count:_0x3bac8a,hasMore:_0x400ee2}=await(0x0,ListCompaniesService_1[_0x35393b(0x20c)])({'searchParam':_0x23ca37,'pageNumber':_0xce2836});return _0x36ad83[_0x35393b(0x211)]({'companies':_0x2f7600,'count':_0x3bac8a,'hasMore':_0x400ee2});}else{const {companies:_0x3ef1a8,count:_0x322f7e,hasMore:_0x2c7ae0}=await(0x0,ListCompaniesService_1[_0x35393b(0x20c)])({'searchParam':_0x1f19bc[_0x35393b(0x216)],'pageNumber':_0xce2836});return _0x36ad83['json']({'companies':_0x3ef1a8,'count':_0x322f7e,'hasMore':_0x2c7ae0});}};exports['index']=index;const store=async(_0x4f499b,_0x49a1f5)=>{const _0x170107=a13_0x4a89a5,_0x5dcb85=_0x4f499b[_0x170107(0x202)],_0x53415b=Yup[_0x170107(0x1f3)]()['shape']({'name':Yup['string']()[_0x170107(0x1eb)](),'password':Yup[_0x170107(0x21c)]()[_0x170107(0x1eb)]()['min'](0x5)});try{await _0x53415b[_0x170107(0x1ee)](_0x5dcb85);}catch(_0x21f734){throw new AppError_1[(_0x170107(0x20c))](_0x21f734[_0x170107(0x1fc)]);}const _0x17b3d4=await(0x0,CreateCompanyService_1[_0x170107(0x20c)])(_0x5dcb85);return _0x49a1f5[_0x170107(0x214)](0xc8)['json'](_0x17b3d4);};exports[a13_0x4a89a5(0x21d)]=store;const show=async(_0x35b5ae,_0x207e31)=>{const _0x3b2046=a13_0x4a89a5,{id:_0x13f2d7}=_0x35b5ae[_0x3b2046(0x210)],_0x3d4fbf=_0x35b5ae[_0x3b2046(0x20a)]['authorization'],[,_0x2acadd]=_0x3d4fbf[_0x3b2046(0x219)]('\x20'),_0x3083f3=(0x0,jsonwebtoken_1[_0x3b2046(0x1e6)])(_0x2acadd,auth_1[_0x3b2046(0x20c)]['secret']),{id:_0x2397c8,profile:_0x292db3,companyId:_0x4e816b}=_0x3083f3,_0x523f06=await User_1['default'][_0x3b2046(0x1f7)](_0x2397c8);if(_0x523f06['super']===!![]){const _0x1ebdaf=await(0x0,ShowCompanyService_1['default'])(_0x13f2d7);return _0x207e31[_0x3b2046(0x214)](0xc8)['json'](_0x1ebdaf);}else{if(_0x13f2d7!==_0x4e816b[_0x3b2046(0x20b)]())return _0x207e31[_0x3b2046(0x214)](0x190)[_0x3b2046(0x211)]({'error':_0x3b2046(0x1ff)});else{if(_0x13f2d7===_0x4e816b[_0x3b2046(0x20b)]()){const _0x2a6e2d=await(0x0,ShowCompanyService_1[_0x3b2046(0x20c)])(_0x13f2d7);return _0x207e31[_0x3b2046(0x214)](0xc8)[_0x3b2046(0x211)](_0x2a6e2d);}}}};exports[a13_0x4a89a5(0x213)]=show;const list=async(_0x699b3d,_0x5a132f)=>{const _0x516466=a13_0x4a89a5,_0x485dbc=_0x699b3d[_0x516466(0x20a)][_0x516466(0x1e8)],[,_0x7bb699]=_0x485dbc[_0x516466(0x219)]('\x20'),_0x3d65bb=(0x0,jsonwebtoken_1['verify'])(_0x7bb699,auth_1[_0x516466(0x20c)]['secret']),{id:_0x25888d,profile:_0x32c4f2,companyId:_0x2a4bb8}=_0x3d65bb,_0x28d1a8=await User_1[_0x516466(0x20c)][_0x516466(0x1f7)](_0x25888d);if(_0x28d1a8['super']===!![]){const _0x3df2ad=await(0x0,FindAllCompaniesService_1['default'])();return _0x5a132f[_0x516466(0x214)](0xc8)['json'](_0x3df2ad);}else{const _0x23f2ee=await(0x0,FindAllCompaniesService_1[_0x516466(0x20c)])();let _0x3d3cd5=[];for(let _0x5ea3de=0x0;_0x5ea3de<_0x23f2ee['length'];_0x5ea3de++){const _0x44532d=_0x23f2ee[_0x5ea3de]['id'];if(_0x44532d===_0x2a4bb8)return _0x3d3cd5[_0x516466(0x206)](_0x23f2ee[_0x5ea3de]),_0x5a132f['status'](0xc8)[_0x516466(0x211)](_0x3d3cd5);}}};exports['list']=list;const update=async(_0x2bfdfa,_0x4b301e)=>{const _0x2b2465=a13_0x4a89a5,_0x510375=_0x2bfdfa['body'],_0x3e2a04=Yup['object']()['shape']({'name':Yup[_0x2b2465(0x21c)]()});try{await _0x3e2a04[_0x2b2465(0x1ee)](_0x510375);}catch(_0x484958){throw new AppError_1[(_0x2b2465(0x20c))](_0x484958[_0x2b2465(0x1fc)]);}const {id:_0xd10b09}=_0x2bfdfa[_0x2b2465(0x210)],_0x307c1e=_0x2bfdfa[_0x2b2465(0x20a)][_0x2b2465(0x1e8)],[,_0x35cc89]=_0x307c1e['split']('\x20'),_0x4f9a20=(0x0,jsonwebtoken_1['verify'])(_0x35cc89,auth_1[_0x2b2465(0x20c)][_0x2b2465(0x1f0)]),{id:_0x463f26,profile:_0x2c6c3f,companyId:_0x2a5428}=_0x4f9a20,_0x462e87=await User_1[_0x2b2465(0x20c)][_0x2b2465(0x1f7)](_0x463f26);if(_0x462e87['super']===!![]){const _0x3949df=await(0x0,UpdateCompanyService_1[_0x2b2465(0x20c)])({'id':_0xd10b09,..._0x510375});return _0x4b301e[_0x2b2465(0x214)](0xc8)[_0x2b2465(0x211)](_0x3949df);}else{if(_0x510375?.['id'][_0x2b2465(0x20b)]()!==_0xd10b09||_0x2a5428[_0x2b2465(0x20b)]()!==_0xd10b09)return _0x4b301e[_0x2b2465(0x214)](0x190)[_0x2b2465(0x211)]({'error':_0x2b2465(0x1ff)});else{const _0x309f3f=await(0x0,UpdateCompanyService_1[_0x2b2465(0x20c)])({'id':_0xd10b09,..._0x510375});return _0x4b301e[_0x2b2465(0x214)](0xc8)[_0x2b2465(0x211)](_0x309f3f);}}};exports[a13_0x4a89a5(0x223)]=update;const updateSchedules=async(_0x16acac,_0x4247cd)=>{const _0x2865f7=a13_0x4a89a5,{schedules:_0x325d6b}=_0x16acac[_0x2865f7(0x202)],{id:_0x5c6911}=_0x16acac[_0x2865f7(0x210)],_0x4c2d88=_0x16acac['headers'][_0x2865f7(0x1e8)],[,_0x589237]=_0x4c2d88[_0x2865f7(0x219)]('\x20'),_0x8ea137=(0x0,jsonwebtoken_1[_0x2865f7(0x1e6)])(_0x589237,auth_1[_0x2865f7(0x20c)][_0x2865f7(0x1f0)]),{id:_0x3ffd5e,profile:_0x49dcdc,companyId:_0x496aba}=_0x8ea137,_0x1d06b6=await User_1[_0x2865f7(0x20c)][_0x2865f7(0x1f7)](_0x3ffd5e);if(_0x1d06b6[_0x2865f7(0x1f9)]===!![]){const _0x279379=await(0x0,UpdateSchedulesService_1[_0x2865f7(0x20c)])({'id':_0x5c6911,'schedules':_0x325d6b});return _0x4247cd[_0x2865f7(0x214)](0xc8)[_0x2865f7(0x211)](_0x279379);}else{if(_0x496aba['toString']()!==_0x5c6911)return _0x4247cd['status'](0x190)[_0x2865f7(0x211)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});else{const _0x44fb5c=await(0x0,UpdateSchedulesService_1[_0x2865f7(0x20c)])({'id':_0x5c6911,'schedules':_0x325d6b});return _0x4247cd['status'](0xc8)[_0x2865f7(0x211)](_0x44fb5c);}}};exports[a13_0x4a89a5(0x215)]=updateSchedules;function a13_0x4d6a(_0x35cdd2,_0x160169){const _0x520529=a13_0x5205();return a13_0x4d6a=function(_0x4d6ae1,_0x3e5521){_0x4d6ae1=_0x4d6ae1-0x1e2;let _0x1355f1=_0x520529[_0x4d6ae1];return _0x1355f1;},a13_0x4d6a(_0x35cdd2,_0x160169);}const remove=async(_0x33241c,_0x32dc74)=>{const _0x430d91=a13_0x4a89a5,{id:_0x5edd05}=_0x33241c['params'],_0x168b98=_0x33241c[_0x430d91(0x20a)][_0x430d91(0x1e8)],[,_0x177763]=_0x168b98[_0x430d91(0x219)]('\x20'),_0x151bb9=(0x0,jsonwebtoken_1[_0x430d91(0x1e6)])(_0x177763,auth_1['default']['secret']),{id:_0x5adaea,profile:_0x27c478,companyId:_0x2e0ac4}=_0x151bb9,_0xf3099c=await User_1[_0x430d91(0x20c)]['findByPk'](_0x5adaea);if(_0xf3099c[_0x430d91(0x1f9)]===!![]){const _0x3e47fb=await(0x0,DeleteCompanyService_1[_0x430d91(0x20c)])(_0x5edd05);return _0x32dc74[_0x430d91(0x214)](0xc8)[_0x430d91(0x211)](_0x3e47fb);}else return _0x32dc74['status'](0x190)['json']({'error':_0x430d91(0x1ff)});};exports[a13_0x4a89a5(0x1f8)]=remove;const listPlan=async(_0x59a123,_0x383935)=>{const _0x56f6cf=a13_0x4a89a5,{id:_0x1aad0e}=_0x59a123[_0x56f6cf(0x210)],_0x1cb270=_0x59a123[_0x56f6cf(0x20a)][_0x56f6cf(0x1e8)],[,_0x2bbb35]=_0x1cb270[_0x56f6cf(0x219)]('\x20'),_0x17e629=(0x0,jsonwebtoken_1['verify'])(_0x2bbb35,auth_1[_0x56f6cf(0x20c)]['secret']),{id:_0x4c9319,profile:_0x4249b8,companyId:_0x309eec}=_0x17e629,_0x31ccbd=await User_1[_0x56f6cf(0x20c)]['findByPk'](_0x4c9319);if(_0x31ccbd[_0x56f6cf(0x1f9)]===!![]){const _0x1e11ae=await(0x0,ShowPlanCompanyService_1[_0x56f6cf(0x20c)])(_0x1aad0e);return _0x383935['status'](0xc8)[_0x56f6cf(0x211)](_0x1e11ae);}else{if(_0x309eec[_0x56f6cf(0x20b)]()!==_0x1aad0e)return _0x383935['status'](0x190)[_0x56f6cf(0x211)]({'error':_0x56f6cf(0x1ff)});else{const _0x4cea83=await(0x0,ShowPlanCompanyService_1[_0x56f6cf(0x20c)])(_0x1aad0e);return _0x383935[_0x56f6cf(0x214)](0xc8)[_0x56f6cf(0x211)](_0x4cea83);}}};exports[a13_0x4a89a5(0x1ed)]=listPlan;const indexPlan=async(_0x2e5ba8,_0x49b9e5)=>{const _0xb9351d=a13_0x4a89a5,{searchParam:_0x4cd482,pageNumber:_0x2a799e}=_0x2e5ba8[_0xb9351d(0x217)],_0x383f72=_0x2e5ba8[_0xb9351d(0x20a)][_0xb9351d(0x1e8)],[,_0x3b4693]=_0x383f72[_0xb9351d(0x219)]('\x20'),_0x4ecf09=(0x0,jsonwebtoken_1[_0xb9351d(0x1e6)])(_0x3b4693,auth_1['default'][_0xb9351d(0x1f0)]),{id:_0x1c5aaa,profile:_0x59681c,companyId:_0x49b99a}=_0x4ecf09,_0x1477f9=await User_1[_0xb9351d(0x20c)][_0xb9351d(0x1f7)](_0x1c5aaa);if(_0x1477f9[_0xb9351d(0x1f9)]===!![]){const _0x566e47=await(0x0,ListCompaniesPlanService_1[_0xb9351d(0x20c)])();return _0x49b9e5['json']({'companies':_0x566e47});}else return _0x49b9e5['status'](0x190)['json']({'error':_0xb9351d(0x1ff)});};exports[a13_0x4a89a5(0x21f)]=indexPlan;