'use strict';const a13_0x39c4c4=a13_0x18f0;(function(_0x5f1845,_0x5be244){const _0x3841eb=a13_0x18f0,_0x7e8584=_0x5f1845();while(!![]){try{const _0x3ed336=-parseInt(_0x3841eb(0x1cb))/0x1+parseInt(_0x3841eb(0x1cf))/0x2*(-parseInt(_0x3841eb(0x1b5))/0x3)+parseInt(_0x3841eb(0x1a8))/0x4*(-parseInt(_0x3841eb(0x1db))/0x5)+-parseInt(_0x3841eb(0x1b0))/0x6*(parseInt(_0x3841eb(0x1c5))/0x7)+parseInt(_0x3841eb(0x1ca))/0x8*(parseInt(_0x3841eb(0x1ae))/0x9)+-parseInt(_0x3841eb(0x1ab))/0xa*(-parseInt(_0x3841eb(0x1be))/0xb)+-parseInt(_0x3841eb(0x1d3))/0xc*(-parseInt(_0x3841eb(0x1d5))/0xd);if(_0x3ed336===_0x5be244)break;else _0x7e8584['push'](_0x7e8584['shift']());}catch(_0x18a394){_0x7e8584['push'](_0x7e8584['shift']());}}}(a13_0x4b41,0x80ae0));var __createBinding=this&&this[a13_0x39c4c4(0x1a4)]||(Object[a13_0x39c4c4(0x1c8)]?function(_0xb48fa5,_0x3ac853,_0x535d93,_0x40e266){const _0x3f5b96=a13_0x39c4c4;if(_0x40e266===undefined)_0x40e266=_0x535d93;var _0x8a877c=Object[_0x3f5b96(0x1c7)](_0x3ac853,_0x535d93);(!_0x8a877c||(_0x3f5b96(0x1a2)in _0x8a877c?!_0x3ac853[_0x3f5b96(0x1c2)]:_0x8a877c['writable']||_0x8a877c[_0x3f5b96(0x19c)]))&&(_0x8a877c={'enumerable':!![],'get':function(){return _0x3ac853[_0x535d93];}}),Object[_0x3f5b96(0x1c3)](_0xb48fa5,_0x40e266,_0x8a877c);}:function(_0x1582bc,_0xe66628,_0x5ce084,_0x3c3f6b){if(_0x3c3f6b===undefined)_0x3c3f6b=_0x5ce084;_0x1582bc[_0x3c3f6b]=_0xe66628[_0x5ce084];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a13_0x39c4c4(0x1c8)]?function(_0x3c7b25,_0x3f4040){const _0x19087c=a13_0x39c4c4;Object[_0x19087c(0x1c3)](_0x3c7b25,_0x19087c(0x1bf),{'enumerable':!![],'value':_0x3f4040});}:function(_0xa01fee,_0x132e1b){const _0x28f980=a13_0x39c4c4;_0xa01fee[_0x28f980(0x1bf)]=_0x132e1b;}),__importStar=this&&this[a13_0x39c4c4(0x1c4)]||function(_0x5b966f){const _0x374677=a13_0x39c4c4;if(_0x5b966f&&_0x5b966f[_0x374677(0x1c2)])return _0x5b966f;var _0x158ee7={};if(_0x5b966f!=null){for(var _0x5e9616 in _0x5b966f)if(_0x5e9616!==_0x374677(0x1bf)&&Object[_0x374677(0x1b8)][_0x374677(0x1c6)]['call'](_0x5b966f,_0x5e9616))__createBinding(_0x158ee7,_0x5b966f,_0x5e9616);}return __setModuleDefault(_0x158ee7,_0x5b966f),_0x158ee7;},__importDefault=this&&this['__importDefault']||function(_0x2c8241){const _0x1a7713=a13_0x39c4c4;return _0x2c8241&&_0x2c8241[_0x1a7713(0x1c2)]?_0x2c8241:{'default':_0x2c8241};};Object[a13_0x39c4c4(0x1c3)](exports,'__esModule',{'value':!![]}),exports['indexPlan']=exports[a13_0x39c4c4(0x1c1)]=exports['remove']=exports['updateSchedules']=exports[a13_0x39c4c4(0x1d1)]=exports[a13_0x39c4c4(0x1d4)]=exports[a13_0x39c4c4(0x1a9)]=exports[a13_0x39c4c4(0x1aa)]=exports[a13_0x39c4c4(0x1bc)]=void 0x0;function a13_0x4b41(){const _0xf828af=['default','body','listPlan','__esModule','defineProperty','__importStar','7rSsTZx','hasOwnProperty','getOwnPropertyDescriptor','create','push','235192XMValp','949184hudWhe','query','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','remove','1572446vOQUIp','headers','update','required','6760788VGEQVx','list','78BIeLpo','../services/CompanyService/DeleteCompanyService','../config/auth','../models/Company','../models/User','../errors/AppError','3751585jerNCz','status','indexPlan','validate','secret','min','configurable','../services/CompanyService/UpdateCompanyService','../services/CompanyService/CreateCompanyService','split','string','yup','get','jsonwebtoken','__createBinding','length','../services/CompanyService/ShowPlanCompanyService','toString','4yQMxiS','show','store','10PWmLqG','name','authorization','99vnaJmq','super','5202966gEXBBA','message','findByPk','../services/CompanyService/FindAllCompaniesService','verify','3SEKtqK','json','../services/CompanyService/ListCompaniesPlanService','prototype','object','params','updateSchedules','index','shape','1937914bMrufg'];a13_0x4b41=function(){return _0xf828af;};return a13_0x4b41();}const jsonwebtoken_1=require(a13_0x39c4c4(0x1a3)),auth_1=__importDefault(require(a13_0x39c4c4(0x1d7))),Yup=__importStar(require(a13_0x39c4c4(0x1a1))),AppError_1=__importDefault(require(a13_0x39c4c4(0x1da))),Company_1=__importDefault(require(a13_0x39c4c4(0x1d8))),ListCompaniesService_1=__importDefault(require('../services/CompanyService/ListCompaniesService')),CreateCompanyService_1=__importDefault(require(a13_0x39c4c4(0x19e))),UpdateCompanyService_1=__importDefault(require(a13_0x39c4c4(0x19d))),ShowCompanyService_1=__importDefault(require('../services/CompanyService/ShowCompanyService')),UpdateSchedulesService_1=__importDefault(require('../services/CompanyService/UpdateSchedulesService')),DeleteCompanyService_1=__importDefault(require(a13_0x39c4c4(0x1d6))),FindAllCompaniesService_1=__importDefault(require(a13_0x39c4c4(0x1b3))),ShowPlanCompanyService_1=__importDefault(require(a13_0x39c4c4(0x1a6))),User_1=__importDefault(require(a13_0x39c4c4(0x1d9))),ListCompaniesPlanService_1=__importDefault(require(a13_0x39c4c4(0x1b7))),index=async(_0xdf6f84,_0x14efc0)=>{const _0x35cadc=a13_0x39c4c4,{searchParam:_0x808e19,pageNumber:_0x569df0}=_0xdf6f84[_0x35cadc(0x1cc)],_0x2d9fb0=_0xdf6f84[_0x35cadc(0x1d0)][_0x35cadc(0x1ad)],[,_0x102ac0]=_0x2d9fb0[_0x35cadc(0x19f)]('\x20'),_0xf75480=(0x0,jsonwebtoken_1['verify'])(_0x102ac0,auth_1['default'][_0x35cadc(0x19a)]),{id:_0x57ca35,profile:_0x938a1e,companyId:_0x29be61}=_0xf75480,_0x5d8edc=await Company_1[_0x35cadc(0x1bf)][_0x35cadc(0x1b2)](_0x29be61),_0x445347=await User_1[_0x35cadc(0x1bf)][_0x35cadc(0x1b2)](_0x57ca35);if(_0x445347['super']===!![]){const {companies:_0x902fa9,count:_0x1a820b,hasMore:_0x313e09}=await(0x0,ListCompaniesService_1[_0x35cadc(0x1bf)])({'searchParam':_0x808e19,'pageNumber':_0x569df0});return _0x14efc0[_0x35cadc(0x1b6)]({'companies':_0x902fa9,'count':_0x1a820b,'hasMore':_0x313e09});}else{const {companies:_0x4801e4,count:_0x208d4c,hasMore:_0x43a59b}=await(0x0,ListCompaniesService_1['default'])({'searchParam':_0x5d8edc[_0x35cadc(0x1ac)],'pageNumber':_0x569df0});return _0x14efc0['json']({'companies':_0x4801e4,'count':_0x208d4c,'hasMore':_0x43a59b});}};exports[a13_0x39c4c4(0x1bc)]=index;const store=async(_0x27cdad,_0x458606)=>{const _0x5c511a=a13_0x39c4c4,_0xe5995f=_0x27cdad[_0x5c511a(0x1c0)],_0xaad146=Yup[_0x5c511a(0x1b9)]()['shape']({'name':Yup[_0x5c511a(0x1a0)]()[_0x5c511a(0x1d2)](),'password':Yup['string']()['required']()[_0x5c511a(0x19b)](0x5)});try{await _0xaad146[_0x5c511a(0x199)](_0xe5995f);}catch(_0x3eb2d5){throw new AppError_1[(_0x5c511a(0x1bf))](_0x3eb2d5[_0x5c511a(0x1b1)]);}const _0x3a3364=await(0x0,CreateCompanyService_1[_0x5c511a(0x1bf)])(_0xe5995f);return _0x458606[_0x5c511a(0x1dc)](0xc8)[_0x5c511a(0x1b6)](_0x3a3364);};exports['store']=store;const show=async(_0x1223e8,_0x3d2a1b)=>{const _0x4cfd79=a13_0x39c4c4,{id:_0x1654f2}=_0x1223e8[_0x4cfd79(0x1ba)],_0x2302ea=_0x1223e8[_0x4cfd79(0x1d0)]['authorization'],[,_0x3cad70]=_0x2302ea[_0x4cfd79(0x19f)]('\x20'),_0x21ed45=(0x0,jsonwebtoken_1['verify'])(_0x3cad70,auth_1[_0x4cfd79(0x1bf)][_0x4cfd79(0x19a)]),{id:_0x487e61,profile:_0x287041,companyId:_0x428f68}=_0x21ed45,_0x1147bf=await User_1['default']['findByPk'](_0x487e61);if(_0x1147bf[_0x4cfd79(0x1af)]===!![]){const _0x2a0939=await(0x0,ShowCompanyService_1[_0x4cfd79(0x1bf)])(_0x1654f2);return _0x3d2a1b['status'](0xc8)[_0x4cfd79(0x1b6)](_0x2a0939);}else{if(_0x1654f2!==_0x428f68[_0x4cfd79(0x1a7)]())return _0x3d2a1b[_0x4cfd79(0x1dc)](0x190)[_0x4cfd79(0x1b6)]({'error':_0x4cfd79(0x1cd)});else{if(_0x1654f2===_0x428f68['toString']()){const _0x2641c3=await(0x0,ShowCompanyService_1['default'])(_0x1654f2);return _0x3d2a1b[_0x4cfd79(0x1dc)](0xc8)[_0x4cfd79(0x1b6)](_0x2641c3);}}}};exports['show']=show;const list=async(_0xdf5523,_0x21de18)=>{const _0x35b0ee=a13_0x39c4c4,_0x430163=_0xdf5523[_0x35b0ee(0x1d0)]['authorization'],[,_0xd92cb2]=_0x430163[_0x35b0ee(0x19f)]('\x20'),_0x539d5b=(0x0,jsonwebtoken_1[_0x35b0ee(0x1b4)])(_0xd92cb2,auth_1['default'][_0x35b0ee(0x19a)]),{id:_0x85b46e,profile:_0x27709b,companyId:_0x332fb0}=_0x539d5b,_0x1d2daf=await User_1['default'][_0x35b0ee(0x1b2)](_0x85b46e);if(_0x1d2daf[_0x35b0ee(0x1af)]===!![]){const _0x103697=await(0x0,FindAllCompaniesService_1[_0x35b0ee(0x1bf)])();return _0x21de18['status'](0xc8)[_0x35b0ee(0x1b6)](_0x103697);}else{const _0x4934e0=await(0x0,FindAllCompaniesService_1[_0x35b0ee(0x1bf)])();let _0x71b592=[];for(let _0x43ea73=0x0;_0x43ea73<_0x4934e0[_0x35b0ee(0x1a5)];_0x43ea73++){const _0x2903e8=_0x4934e0[_0x43ea73]['id'];if(_0x2903e8===_0x332fb0)return _0x71b592[_0x35b0ee(0x1c9)](_0x4934e0[_0x43ea73]),_0x21de18[_0x35b0ee(0x1dc)](0xc8)[_0x35b0ee(0x1b6)](_0x71b592);}}};exports['list']=list;const update=async(_0x482955,_0x5db983)=>{const _0x384bfd=a13_0x39c4c4,_0x144f23=_0x482955[_0x384bfd(0x1c0)],_0xafa884=Yup[_0x384bfd(0x1b9)]()[_0x384bfd(0x1bd)]({'name':Yup[_0x384bfd(0x1a0)]()});try{await _0xafa884[_0x384bfd(0x199)](_0x144f23);}catch(_0x1d9fad){throw new AppError_1[(_0x384bfd(0x1bf))](_0x1d9fad[_0x384bfd(0x1b1)]);}const {id:_0x12bbc7}=_0x482955[_0x384bfd(0x1ba)],_0x567969=_0x482955[_0x384bfd(0x1d0)][_0x384bfd(0x1ad)],[,_0x40aec2]=_0x567969[_0x384bfd(0x19f)]('\x20'),_0x434e2f=(0x0,jsonwebtoken_1['verify'])(_0x40aec2,auth_1[_0x384bfd(0x1bf)][_0x384bfd(0x19a)]),{id:_0x4c0c23,profile:_0x254b6b,companyId:_0x30a239}=_0x434e2f,_0x542078=await User_1[_0x384bfd(0x1bf)][_0x384bfd(0x1b2)](_0x4c0c23);if(_0x542078[_0x384bfd(0x1af)]===!![]){const _0x61a293=await(0x0,UpdateCompanyService_1[_0x384bfd(0x1bf)])({'id':_0x12bbc7,..._0x144f23});return _0x5db983[_0x384bfd(0x1dc)](0xc8)['json'](_0x61a293);}else{if(_0x144f23?.['id'][_0x384bfd(0x1a7)]()!==_0x12bbc7||_0x30a239[_0x384bfd(0x1a7)]()!==_0x12bbc7)return _0x5db983['status'](0x190)[_0x384bfd(0x1b6)]({'error':_0x384bfd(0x1cd)});else{const _0x5264c1=await(0x0,UpdateCompanyService_1[_0x384bfd(0x1bf)])({'id':_0x12bbc7,..._0x144f23});return _0x5db983[_0x384bfd(0x1dc)](0xc8)[_0x384bfd(0x1b6)](_0x5264c1);}}};function a13_0x18f0(_0x5a4f5a,_0x2d89e0){const _0x4b4125=a13_0x4b41();return a13_0x18f0=function(_0x18f0a6,_0x2b8eff){_0x18f0a6=_0x18f0a6-0x198;let _0x1f3e3d=_0x4b4125[_0x18f0a6];return _0x1f3e3d;},a13_0x18f0(_0x5a4f5a,_0x2d89e0);}exports[a13_0x39c4c4(0x1d1)]=update;const updateSchedules=async(_0x22af5f,_0x28e34e)=>{const _0x1c93fd=a13_0x39c4c4,{schedules:_0x19deb8}=_0x22af5f[_0x1c93fd(0x1c0)],{id:_0x3a4458}=_0x22af5f[_0x1c93fd(0x1ba)],_0x40a6c0=_0x22af5f[_0x1c93fd(0x1d0)]['authorization'],[,_0x4a0c8d]=_0x40a6c0[_0x1c93fd(0x19f)]('\x20'),_0x365991=(0x0,jsonwebtoken_1['verify'])(_0x4a0c8d,auth_1[_0x1c93fd(0x1bf)][_0x1c93fd(0x19a)]),{id:_0x14fe5c,profile:_0x15600f,companyId:_0x3ed298}=_0x365991,_0x547559=await User_1[_0x1c93fd(0x1bf)]['findByPk'](_0x14fe5c);if(_0x547559[_0x1c93fd(0x1af)]===!![]){const _0x1d5cd2=await(0x0,UpdateSchedulesService_1[_0x1c93fd(0x1bf)])({'id':_0x3a4458,'schedules':_0x19deb8});return _0x28e34e[_0x1c93fd(0x1dc)](0xc8)[_0x1c93fd(0x1b6)](_0x1d5cd2);}else{if(_0x3ed298['toString']()!==_0x3a4458)return _0x28e34e[_0x1c93fd(0x1dc)](0x190)[_0x1c93fd(0x1b6)]({'error':_0x1c93fd(0x1cd)});else{const _0x2457c4=await(0x0,UpdateSchedulesService_1[_0x1c93fd(0x1bf)])({'id':_0x3a4458,'schedules':_0x19deb8});return _0x28e34e[_0x1c93fd(0x1dc)](0xc8)[_0x1c93fd(0x1b6)](_0x2457c4);}}};exports[a13_0x39c4c4(0x1bb)]=updateSchedules;const remove=async(_0x665c2c,_0x512d9c)=>{const _0xafef5d=a13_0x39c4c4,{id:_0x22df9f}=_0x665c2c[_0xafef5d(0x1ba)],_0x4da546=_0x665c2c[_0xafef5d(0x1d0)][_0xafef5d(0x1ad)],[,_0x4d16a5]=_0x4da546[_0xafef5d(0x19f)]('\x20'),_0x228527=(0x0,jsonwebtoken_1[_0xafef5d(0x1b4)])(_0x4d16a5,auth_1[_0xafef5d(0x1bf)][_0xafef5d(0x19a)]),{id:_0x4edf14,profile:_0x41a0c0,companyId:_0x5d7fcb}=_0x228527,_0x181190=await User_1[_0xafef5d(0x1bf)]['findByPk'](_0x4edf14);if(_0x181190[_0xafef5d(0x1af)]===!![]){const _0x1ef969=await(0x0,DeleteCompanyService_1[_0xafef5d(0x1bf)])(_0x22df9f);return _0x512d9c[_0xafef5d(0x1dc)](0xc8)[_0xafef5d(0x1b6)](_0x1ef969);}else return _0x512d9c[_0xafef5d(0x1dc)](0x190)[_0xafef5d(0x1b6)]({'error':_0xafef5d(0x1cd)});};exports[a13_0x39c4c4(0x1ce)]=remove;const listPlan=async(_0x41df38,_0x250ad8)=>{const _0x5613ee=a13_0x39c4c4,{id:_0x455c8b}=_0x41df38[_0x5613ee(0x1ba)],_0x3ce5e6=_0x41df38[_0x5613ee(0x1d0)][_0x5613ee(0x1ad)],[,_0x15b15c]=_0x3ce5e6[_0x5613ee(0x19f)]('\x20'),_0x24a568=(0x0,jsonwebtoken_1[_0x5613ee(0x1b4)])(_0x15b15c,auth_1['default'][_0x5613ee(0x19a)]),{id:_0x5af124,profile:_0x23911e,companyId:_0x2ec6ca}=_0x24a568,_0x119337=await User_1['default'][_0x5613ee(0x1b2)](_0x5af124);if(_0x119337[_0x5613ee(0x1af)]===!![]){const _0x283d13=await(0x0,ShowPlanCompanyService_1['default'])(_0x455c8b);return _0x250ad8[_0x5613ee(0x1dc)](0xc8)[_0x5613ee(0x1b6)](_0x283d13);}else{if(_0x2ec6ca['toString']()!==_0x455c8b)return _0x250ad8[_0x5613ee(0x1dc)](0x190)[_0x5613ee(0x1b6)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});else{const _0x36ed1d=await(0x0,ShowPlanCompanyService_1['default'])(_0x455c8b);return _0x250ad8[_0x5613ee(0x1dc)](0xc8)['json'](_0x36ed1d);}}};exports['listPlan']=listPlan;const indexPlan=async(_0x23f25d,_0x1129e2)=>{const _0x59140e=a13_0x39c4c4,{searchParam:_0x235cb6,pageNumber:_0x493f3b}=_0x23f25d[_0x59140e(0x1cc)],_0x1815f8=_0x23f25d[_0x59140e(0x1d0)][_0x59140e(0x1ad)],[,_0xb140bb]=_0x1815f8['split']('\x20'),_0x50e35e=(0x0,jsonwebtoken_1[_0x59140e(0x1b4)])(_0xb140bb,auth_1[_0x59140e(0x1bf)][_0x59140e(0x19a)]),{id:_0x4f008b,profile:_0x2675ad,companyId:_0x3af864}=_0x50e35e,_0x36d380=await User_1[_0x59140e(0x1bf)][_0x59140e(0x1b2)](_0x4f008b);if(_0x36d380[_0x59140e(0x1af)]===!![]){const _0x2d8d5=await(0x0,ListCompaniesPlanService_1[_0x59140e(0x1bf)])();return _0x1129e2[_0x59140e(0x1b6)]({'companies':_0x2d8d5});}else return _0x1129e2[_0x59140e(0x1dc)](0x190)['json']({'error':_0x59140e(0x1cd)});};exports[a13_0x39c4c4(0x198)]=indexPlan;