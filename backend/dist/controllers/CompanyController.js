<<<<<<< HEAD
'use strict';const a13_0x2e7333=a13_0x5a3d;(function(_0x4e3afa,_0x4e6e7c){const _0x2f20a8=a13_0x5a3d,_0xd24524=_0x4e3afa();while(!![]){try{const _0x425eff=parseInt(_0x2f20a8(0x1c0))/0x1*(parseInt(_0x2f20a8(0x1aa))/0x2)+parseInt(_0x2f20a8(0x1b4))/0x3*(parseInt(_0x2f20a8(0x1ba))/0x4)+-parseInt(_0x2f20a8(0x197))/0x5+parseInt(_0x2f20a8(0x194))/0x6*(-parseInt(_0x2f20a8(0x191))/0x7)+parseInt(_0x2f20a8(0x18f))/0x8+-parseInt(_0x2f20a8(0x1a1))/0x9*(parseInt(_0x2f20a8(0x1b0))/0xa)+parseInt(_0x2f20a8(0x1a6))/0xb;if(_0x425eff===_0x4e6e7c)break;else _0xd24524['push'](_0xd24524['shift']());}catch(_0x3a5f04){_0xd24524['push'](_0xd24524['shift']());}}}(a13_0x2e4c,0xb2671));var __createBinding=this&&this[a13_0x2e7333(0x198)]||(Object[a13_0x2e7333(0x1ad)]?function(_0x475e1c,_0x5d3c80,_0x2509d9,_0x2e4afd){const _0x238c41=a13_0x2e7333;if(_0x2e4afd===undefined)_0x2e4afd=_0x2509d9;var _0x1f3303=Object[_0x238c41(0x1c5)](_0x5d3c80,_0x2509d9);(!_0x1f3303||(_0x238c41(0x1ac)in _0x1f3303?!_0x5d3c80['__esModule']:_0x1f3303['writable']||_0x1f3303[_0x238c41(0x199)]))&&(_0x1f3303={'enumerable':!![],'get':function(){return _0x5d3c80[_0x2509d9];}}),Object[_0x238c41(0x1b8)](_0x475e1c,_0x2e4afd,_0x1f3303);}:function(_0x4adffc,_0x254c1d,_0x212ae1,_0x5f3647){if(_0x5f3647===undefined)_0x5f3647=_0x212ae1;_0x4adffc[_0x5f3647]=_0x254c1d[_0x212ae1];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a13_0x2e7333(0x1ad)]?function(_0x40d8ec,_0x2ebc12){const _0x29bca2=a13_0x2e7333;Object['defineProperty'](_0x40d8ec,_0x29bca2(0x1b9),{'enumerable':!![],'value':_0x2ebc12});}:function(_0x463f37,_0x112fd5){const _0x452c0e=a13_0x2e7333;_0x463f37[_0x452c0e(0x1b9)]=_0x112fd5;}),__importStar=this&&this[a13_0x2e7333(0x1a3)]||function(_0x4e49bf){const _0x2c06ed=a13_0x2e7333;if(_0x4e49bf&&_0x4e49bf['__esModule'])return _0x4e49bf;var _0xed0b4c={};if(_0x4e49bf!=null){for(var _0x4ce209 in _0x4e49bf)if(_0x4ce209!==_0x2c06ed(0x1b9)&&Object[_0x2c06ed(0x1a2)][_0x2c06ed(0x1c3)]['call'](_0x4e49bf,_0x4ce209))__createBinding(_0xed0b4c,_0x4e49bf,_0x4ce209);}return __setModuleDefault(_0xed0b4c,_0x4e49bf),_0xed0b4c;},__importDefault=this&&this['__importDefault']||function(_0x4eecb8){const _0x3d3aa8=a13_0x2e7333;return _0x4eecb8&&_0x4eecb8[_0x3d3aa8(0x19b)]?_0x4eecb8:{'default':_0x4eecb8};};Object[a13_0x2e7333(0x1b8)](exports,a13_0x2e7333(0x19b),{'value':!![]}),exports[a13_0x2e7333(0x1b3)]=exports[a13_0x2e7333(0x1b1)]=exports[a13_0x2e7333(0x189)]=exports['updateSchedules']=exports[a13_0x2e7333(0x1a4)]=exports['list']=exports[a13_0x2e7333(0x195)]=exports[a13_0x2e7333(0x1a9)]=exports[a13_0x2e7333(0x19d)]=void 0x0;const jsonwebtoken_1=require(a13_0x2e7333(0x1c1)),auth_1=__importDefault(require('../config/auth')),Yup=__importStar(require(a13_0x2e7333(0x193))),AppError_1=__importDefault(require(a13_0x2e7333(0x1a5))),Company_1=__importDefault(require(a13_0x2e7333(0x18c))),ListCompaniesService_1=__importDefault(require(a13_0x2e7333(0x185))),CreateCompanyService_1=__importDefault(require(a13_0x2e7333(0x188))),UpdateCompanyService_1=__importDefault(require(a13_0x2e7333(0x187))),ShowCompanyService_1=__importDefault(require(a13_0x2e7333(0x196))),UpdateSchedulesService_1=__importDefault(require(a13_0x2e7333(0x192))),DeleteCompanyService_1=__importDefault(require(a13_0x2e7333(0x19c))),FindAllCompaniesService_1=__importDefault(require(a13_0x2e7333(0x18d))),ShowPlanCompanyService_1=__importDefault(require('../services/CompanyService/ShowPlanCompanyService')),User_1=__importDefault(require(a13_0x2e7333(0x1b2))),ListCompaniesPlanService_1=__importDefault(require(a13_0x2e7333(0x190))),index=async(_0x39b701,_0x5d991e)=>{const _0x456688=a13_0x2e7333,{searchParam:_0x24b8bd,pageNumber:_0x943cf3}=_0x39b701[_0x456688(0x18a)],_0x809edc=_0x39b701['headers'][_0x456688(0x1ab)],[,_0x134af8]=_0x809edc[_0x456688(0x186)]('\x20'),_0x5b4833=(0x0,jsonwebtoken_1['verify'])(_0x134af8,auth_1[_0x456688(0x1b9)][_0x456688(0x1b7)]),{id:_0x54ff8b,profile:_0xcc25f6,companyId:_0x28b37b}=_0x5b4833,_0x1cc56b=await Company_1[_0x456688(0x1b9)]['findByPk'](_0x28b37b),_0x3aaa07=await User_1['default'][_0x456688(0x19f)](_0x54ff8b);if(_0x3aaa07[_0x456688(0x1b5)]===!![]){const {companies:_0x29ad6d,count:_0x2e4f25,hasMore:_0x3ba86f}=await(0x0,ListCompaniesService_1[_0x456688(0x1b9)])({'searchParam':_0x24b8bd,'pageNumber':_0x943cf3});return _0x5d991e[_0x456688(0x1be)]({'companies':_0x29ad6d,'count':_0x2e4f25,'hasMore':_0x3ba86f});}else{const {companies:_0x1e8235,count:_0x30f290,hasMore:_0x3d393d}=await(0x0,ListCompaniesService_1[_0x456688(0x1b9)])({'searchParam':_0x1cc56b[_0x456688(0x1a8)],'pageNumber':_0x943cf3});return _0x5d991e['json']({'companies':_0x1e8235,'count':_0x30f290,'hasMore':_0x3d393d});}};exports[a13_0x2e7333(0x19d)]=index;const store=async(_0x5a7e48,_0x13e0c0)=>{const _0x5dd136=a13_0x2e7333,_0x5ef939=_0x5a7e48[_0x5dd136(0x1bd)],_0x41582c=Yup[_0x5dd136(0x1bc)]()[_0x5dd136(0x1c4)]({'name':Yup[_0x5dd136(0x1c2)]()[_0x5dd136(0x1a7)](),'password':Yup[_0x5dd136(0x1c2)]()[_0x5dd136(0x1a7)]()[_0x5dd136(0x1bf)](0x5)});try{await _0x41582c[_0x5dd136(0x1ae)](_0x5ef939);}catch(_0x276d43){throw new AppError_1['default'](_0x276d43['message']);}const _0x4d2bbd=await(0x0,CreateCompanyService_1['default'])(_0x5ef939);return _0x13e0c0[_0x5dd136(0x19a)](0xc8)[_0x5dd136(0x1be)](_0x4d2bbd);};exports[a13_0x2e7333(0x1a9)]=store;const show=async(_0x14ba4d,_0x30f359)=>{const _0xe03a04=a13_0x2e7333,{id:_0x1f49c5}=_0x14ba4d[_0xe03a04(0x1c6)],_0x4a96e9=_0x14ba4d[_0xe03a04(0x1b6)][_0xe03a04(0x1ab)],[,_0x5d7fde]=_0x4a96e9[_0xe03a04(0x186)]('\x20'),_0x26b63c=(0x0,jsonwebtoken_1['verify'])(_0x5d7fde,auth_1[_0xe03a04(0x1b9)][_0xe03a04(0x1b7)]),{id:_0x822a55,profile:_0x4421ae,companyId:_0x1db716}=_0x26b63c,_0x2e62a0=await User_1[_0xe03a04(0x1b9)][_0xe03a04(0x19f)](_0x822a55);if(_0x2e62a0['super']===!![]){const _0x20a25a=await(0x0,ShowCompanyService_1['default'])(_0x1f49c5);return _0x30f359[_0xe03a04(0x19a)](0xc8)['json'](_0x20a25a);}else{if(_0x1f49c5!==_0x1db716[_0xe03a04(0x1a0)]())return _0x30f359['status'](0x190)[_0xe03a04(0x1be)]({'error':_0xe03a04(0x1af)});else{if(_0x1f49c5===_0x1db716[_0xe03a04(0x1a0)]()){const _0x145482=await(0x0,ShowCompanyService_1['default'])(_0x1f49c5);return _0x30f359['status'](0xc8)[_0xe03a04(0x1be)](_0x145482);}}}};exports['show']=show;function a13_0x2e4c(){const _0x17c664=['yup','320028VOHYyZ','show','../services/CompanyService/ShowCompanyService','2185570hCIoci','__createBinding','configurable','status','__esModule','../services/CompanyService/DeleteCompanyService','index','list','findByPk','toString','2861820gBMXtf','prototype','__importStar','update','../errors/AppError','793650LZnfTQ','required','name','store','34fvnKXI','authorization','get','create','validate','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','10fsNCgK','listPlan','../models/User','indexPlan','1162839MWEyOK','super','headers','secret','defineProperty','default','4rwdZRm','message','object','body','json','min','49565IkSaLM','jsonwebtoken','string','hasOwnProperty','shape','getOwnPropertyDescriptor','params','../services/CompanyService/ListCompaniesService','split','../services/CompanyService/UpdateCompanyService','../services/CompanyService/CreateCompanyService','remove','query','push','../models/Company','../services/CompanyService/FindAllCompaniesService','verify','11281896wigJVr','../services/CompanyService/ListCompaniesPlanService','161znKpsD','../services/CompanyService/UpdateSchedulesService'];a13_0x2e4c=function(){return _0x17c664;};return a13_0x2e4c();}const list=async(_0x40d743,_0x3680d8)=>{const _0x1b0380=a13_0x2e7333,_0x8b7725=_0x40d743['headers'][_0x1b0380(0x1ab)],[,_0x1f7af9]=_0x8b7725[_0x1b0380(0x186)]('\x20'),_0x501d21=(0x0,jsonwebtoken_1[_0x1b0380(0x18e)])(_0x1f7af9,auth_1[_0x1b0380(0x1b9)][_0x1b0380(0x1b7)]),{id:_0x2c2626,profile:_0x28f019,companyId:_0x3ea0db}=_0x501d21,_0xf2a013=await User_1[_0x1b0380(0x1b9)][_0x1b0380(0x19f)](_0x2c2626);if(_0xf2a013[_0x1b0380(0x1b5)]===!![]){const _0x4802fb=await(0x0,FindAllCompaniesService_1[_0x1b0380(0x1b9)])();return _0x3680d8[_0x1b0380(0x19a)](0xc8)['json'](_0x4802fb);}else{const _0x8089b8=await(0x0,FindAllCompaniesService_1['default'])();let _0xb1cba8=[];for(let _0x43146e=0x0;_0x43146e<_0x8089b8['length'];_0x43146e++){const _0x12cd53=_0x8089b8[_0x43146e]['id'];if(_0x12cd53===_0x3ea0db)return _0xb1cba8[_0x1b0380(0x18b)](_0x8089b8[_0x43146e]),_0x3680d8[_0x1b0380(0x19a)](0xc8)[_0x1b0380(0x1be)](_0xb1cba8);}}};exports[a13_0x2e7333(0x19e)]=list;const update=async(_0x104f8f,_0x2fc667)=>{const _0x5aaa7f=a13_0x2e7333,_0x246347=_0x104f8f['body'],_0x498e9c=Yup[_0x5aaa7f(0x1bc)]()[_0x5aaa7f(0x1c4)]({'name':Yup[_0x5aaa7f(0x1c2)]()});try{await _0x498e9c[_0x5aaa7f(0x1ae)](_0x246347);}catch(_0x906b76){throw new AppError_1[(_0x5aaa7f(0x1b9))](_0x906b76[_0x5aaa7f(0x1bb)]);}const {id:_0xa4406d}=_0x104f8f[_0x5aaa7f(0x1c6)],_0x16e7a8=_0x104f8f[_0x5aaa7f(0x1b6)]['authorization'],[,_0x2bb9a2]=_0x16e7a8[_0x5aaa7f(0x186)]('\x20'),_0x1327ae=(0x0,jsonwebtoken_1[_0x5aaa7f(0x18e)])(_0x2bb9a2,auth_1[_0x5aaa7f(0x1b9)]['secret']),{id:_0x5dd492,profile:_0x209452,companyId:_0x17fb61}=_0x1327ae,_0x242ee2=await User_1['default'][_0x5aaa7f(0x19f)](_0x5dd492);if(_0x242ee2[_0x5aaa7f(0x1b5)]===!![]){const _0x37d0d6=await(0x0,UpdateCompanyService_1['default'])({'id':_0xa4406d,..._0x246347});return _0x2fc667['status'](0xc8)[_0x5aaa7f(0x1be)](_0x37d0d6);}else{if(_0x246347?.['id'][_0x5aaa7f(0x1a0)]()!==_0xa4406d||_0x17fb61[_0x5aaa7f(0x1a0)]()!==_0xa4406d)return _0x2fc667[_0x5aaa7f(0x19a)](0x190)[_0x5aaa7f(0x1be)]({'error':_0x5aaa7f(0x1af)});else{const _0x2d91ca=await(0x0,UpdateCompanyService_1['default'])({'id':_0xa4406d,..._0x246347});return _0x2fc667[_0x5aaa7f(0x19a)](0xc8)[_0x5aaa7f(0x1be)](_0x2d91ca);}}};exports[a13_0x2e7333(0x1a4)]=update;const updateSchedules=async(_0x51ddbe,_0x2d5689)=>{const _0x4dfb21=a13_0x2e7333,{schedules:_0x26e10d}=_0x51ddbe['body'],{id:_0x1b81fc}=_0x51ddbe[_0x4dfb21(0x1c6)],_0x18a61b=_0x51ddbe[_0x4dfb21(0x1b6)][_0x4dfb21(0x1ab)],[,_0x5923e1]=_0x18a61b[_0x4dfb21(0x186)]('\x20'),_0x197ba1=(0x0,jsonwebtoken_1[_0x4dfb21(0x18e)])(_0x5923e1,auth_1[_0x4dfb21(0x1b9)][_0x4dfb21(0x1b7)]),{id:_0x148df6,profile:_0x4fd099,companyId:_0xe6d9b2}=_0x197ba1,_0x3ed5fd=await User_1[_0x4dfb21(0x1b9)][_0x4dfb21(0x19f)](_0x148df6);if(_0x3ed5fd[_0x4dfb21(0x1b5)]===!![]){const _0xbaf259=await(0x0,UpdateSchedulesService_1[_0x4dfb21(0x1b9)])({'id':_0x1b81fc,'schedules':_0x26e10d});return _0x2d5689['status'](0xc8)['json'](_0xbaf259);}else{if(_0xe6d9b2[_0x4dfb21(0x1a0)]()!==_0x1b81fc)return _0x2d5689[_0x4dfb21(0x19a)](0x190)[_0x4dfb21(0x1be)]({'error':_0x4dfb21(0x1af)});else{const _0x541f23=await(0x0,UpdateSchedulesService_1[_0x4dfb21(0x1b9)])({'id':_0x1b81fc,'schedules':_0x26e10d});return _0x2d5689[_0x4dfb21(0x19a)](0xc8)[_0x4dfb21(0x1be)](_0x541f23);}}};exports['updateSchedules']=updateSchedules;const remove=async(_0x4b50cf,_0x1ba837)=>{const _0x5b2484=a13_0x2e7333,{id:_0x450297}=_0x4b50cf[_0x5b2484(0x1c6)],_0x51cfee=_0x4b50cf[_0x5b2484(0x1b6)][_0x5b2484(0x1ab)],[,_0x284c9a]=_0x51cfee[_0x5b2484(0x186)]('\x20'),_0x4f8cf3=(0x0,jsonwebtoken_1['verify'])(_0x284c9a,auth_1[_0x5b2484(0x1b9)]['secret']),{id:_0x37832d,profile:_0x44c8af,companyId:_0x3c7afe}=_0x4f8cf3,_0x587dc8=await User_1[_0x5b2484(0x1b9)]['findByPk'](_0x37832d);if(_0x587dc8['super']===!![]){const _0xe5fd0a=await(0x0,DeleteCompanyService_1['default'])(_0x450297);return _0x1ba837[_0x5b2484(0x19a)](0xc8)['json'](_0xe5fd0a);}else return _0x1ba837[_0x5b2484(0x19a)](0x190)[_0x5b2484(0x1be)]({'error':_0x5b2484(0x1af)});};exports['remove']=remove;const listPlan=async(_0x1b5909,_0x25105f)=>{const _0x530e19=a13_0x2e7333,{id:_0x4b43bc}=_0x1b5909[_0x530e19(0x1c6)],_0x1353ae=_0x1b5909['headers'][_0x530e19(0x1ab)],[,_0x152f34]=_0x1353ae['split']('\x20'),_0x5cb4af=(0x0,jsonwebtoken_1[_0x530e19(0x18e)])(_0x152f34,auth_1[_0x530e19(0x1b9)][_0x530e19(0x1b7)]),{id:_0x57b620,profile:_0x5ac964,companyId:_0x5a361c}=_0x5cb4af,_0x1304be=await User_1['default'][_0x530e19(0x19f)](_0x57b620);if(_0x1304be['super']===!![]){const _0x3f3ef7=await(0x0,ShowPlanCompanyService_1[_0x530e19(0x1b9)])(_0x4b43bc);return _0x25105f[_0x530e19(0x19a)](0xc8)[_0x530e19(0x1be)](_0x3f3ef7);}else{if(_0x5a361c[_0x530e19(0x1a0)]()!==_0x4b43bc)return _0x25105f[_0x530e19(0x19a)](0x190)[_0x530e19(0x1be)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});else{const _0x44ecb7=await(0x0,ShowPlanCompanyService_1[_0x530e19(0x1b9)])(_0x4b43bc);return _0x25105f[_0x530e19(0x19a)](0xc8)[_0x530e19(0x1be)](_0x44ecb7);}}};exports[a13_0x2e7333(0x1b1)]=listPlan;function a13_0x5a3d(_0x472c8c,_0x3948eb){const _0x2e4c16=a13_0x2e4c();return a13_0x5a3d=function(_0x5a3d9a,_0x1af7bc){_0x5a3d9a=_0x5a3d9a-0x185;let _0x31fb20=_0x2e4c16[_0x5a3d9a];return _0x31fb20;},a13_0x5a3d(_0x472c8c,_0x3948eb);}const indexPlan=async(_0x1588ed,_0x34d94f)=>{const _0x1e09e3=a13_0x2e7333,{searchParam:_0x45da17,pageNumber:_0x469818}=_0x1588ed[_0x1e09e3(0x18a)],_0x4f97ff=_0x1588ed[_0x1e09e3(0x1b6)][_0x1e09e3(0x1ab)],[,_0x46f6c5]=_0x4f97ff[_0x1e09e3(0x186)]('\x20'),_0x5cf69c=(0x0,jsonwebtoken_1[_0x1e09e3(0x18e)])(_0x46f6c5,auth_1[_0x1e09e3(0x1b9)]['secret']),{id:_0x2f8fb0,profile:_0x5e42d8,companyId:_0x1c7e89}=_0x5cf69c,_0x395238=await User_1['default']['findByPk'](_0x2f8fb0);if(_0x395238[_0x1e09e3(0x1b5)]===!![]){const _0x4e2239=await(0x0,ListCompaniesPlanService_1['default'])();return _0x34d94f[_0x1e09e3(0x1be)]({'companies':_0x4e2239});}else return _0x34d94f[_0x1e09e3(0x19a)](0x190)[_0x1e09e3(0x1be)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});};exports['indexPlan']=indexPlan;
=======
'use strict';const a13_0x4eaf47=a13_0x1e2e;(function(_0x47e462,_0x53fdb4){const _0x43b0cc=a13_0x1e2e,_0x5a7c7a=_0x47e462();while(!![]){try{const _0x453b99=parseInt(_0x43b0cc(0x157))/0x1+parseInt(_0x43b0cc(0x15c))/0x2+-parseInt(_0x43b0cc(0x16e))/0x3*(parseInt(_0x43b0cc(0x15a))/0x4)+-parseInt(_0x43b0cc(0x14e))/0x5+parseInt(_0x43b0cc(0x149))/0x6+-parseInt(_0x43b0cc(0x183))/0x7*(parseInt(_0x43b0cc(0x178))/0x8)+-parseInt(_0x43b0cc(0x170))/0x9;if(_0x453b99===_0x53fdb4)break;else _0x5a7c7a['push'](_0x5a7c7a['shift']());}catch(_0xc53e6c){_0x5a7c7a['push'](_0x5a7c7a['shift']());}}}(a13_0x1b57,0x9934e));var __createBinding=this&&this[a13_0x4eaf47(0x14c)]||(Object[a13_0x4eaf47(0x159)]?function(_0x2c129f,_0xec4189,_0x5f49f6,_0x2c3a4f){const _0x2bc271=a13_0x4eaf47;if(_0x2c3a4f===undefined)_0x2c3a4f=_0x5f49f6;var _0x4814a1=Object[_0x2bc271(0x174)](_0xec4189,_0x5f49f6);(!_0x4814a1||(_0x2bc271(0x175)in _0x4814a1?!_0xec4189['__esModule']:_0x4814a1[_0x2bc271(0x145)]||_0x4814a1['configurable']))&&(_0x4814a1={'enumerable':!![],'get':function(){return _0xec4189[_0x5f49f6];}}),Object[_0x2bc271(0x156)](_0x2c129f,_0x2c3a4f,_0x4814a1);}:function(_0xb307a4,_0x585abb,_0x512562,_0x4aaddd){if(_0x4aaddd===undefined)_0x4aaddd=_0x512562;_0xb307a4[_0x4aaddd]=_0x585abb[_0x512562];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x4f446b,_0x5efab8){const _0x127696=a13_0x4eaf47;Object[_0x127696(0x156)](_0x4f446b,_0x127696(0x15e),{'enumerable':!![],'value':_0x5efab8});}:function(_0x1e5857,_0x33ea1c){const _0x5b9333=a13_0x4eaf47;_0x1e5857[_0x5b9333(0x15e)]=_0x33ea1c;}),__importStar=this&&this[a13_0x4eaf47(0x184)]||function(_0x23d5db){const _0x525f33=a13_0x4eaf47;if(_0x23d5db&&_0x23d5db['__esModule'])return _0x23d5db;var _0x3dee38={};if(_0x23d5db!=null){for(var _0x4a395c in _0x23d5db)if(_0x4a395c!=='default'&&Object[_0x525f33(0x164)][_0x525f33(0x169)][_0x525f33(0x180)](_0x23d5db,_0x4a395c))__createBinding(_0x3dee38,_0x23d5db,_0x4a395c);}return __setModuleDefault(_0x3dee38,_0x23d5db),_0x3dee38;},__importDefault=this&&this[a13_0x4eaf47(0x179)]||function(_0x162321){const _0x4dd965=a13_0x4eaf47;return _0x162321&&_0x162321[_0x4dd965(0x167)]?_0x162321:{'default':_0x162321};};Object[a13_0x4eaf47(0x156)](exports,'__esModule',{'value':!![]}),exports[a13_0x4eaf47(0x16c)]=exports[a13_0x4eaf47(0x153)]=exports['remove']=exports['updateSchedules']=exports[a13_0x4eaf47(0x161)]=exports[a13_0x4eaf47(0x16f)]=exports[a13_0x4eaf47(0x173)]=exports[a13_0x4eaf47(0x146)]=exports[a13_0x4eaf47(0x17e)]=void 0x0;const jsonwebtoken_1=require(a13_0x4eaf47(0x177)),auth_1=__importDefault(require(a13_0x4eaf47(0x14a))),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a13_0x4eaf47(0x17a))),Company_1=__importDefault(require(a13_0x4eaf47(0x163))),ListCompaniesService_1=__importDefault(require(a13_0x4eaf47(0x17c))),CreateCompanyService_1=__importDefault(require('../services/CompanyService/CreateCompanyService')),UpdateCompanyService_1=__importDefault(require(a13_0x4eaf47(0x172))),ShowCompanyService_1=__importDefault(require(a13_0x4eaf47(0x16a))),UpdateSchedulesService_1=__importDefault(require(a13_0x4eaf47(0x155))),DeleteCompanyService_1=__importDefault(require('../services/CompanyService/DeleteCompanyService')),FindAllCompaniesService_1=__importDefault(require(a13_0x4eaf47(0x152))),ShowPlanCompanyService_1=__importDefault(require('../services/CompanyService/ShowPlanCompanyService')),User_1=__importDefault(require('../models/User')),ListCompaniesPlanService_1=__importDefault(require(a13_0x4eaf47(0x17b))),index=async(_0x20056a,_0x2741cd)=>{const _0x1013c4=a13_0x4eaf47,{searchParam:_0x53b4ae,pageNumber:_0x2c5f9e}=_0x20056a[_0x1013c4(0x158)],_0x24b2fa=_0x20056a['headers'][_0x1013c4(0x150)],[,_0x368d10]=_0x24b2fa[_0x1013c4(0x14f)]('\x20'),_0x1914fa=(0x0,jsonwebtoken_1['verify'])(_0x368d10,auth_1['default'][_0x1013c4(0x148)]),{id:_0x236409,profile:_0x5c20e4,companyId:_0x5e5eed}=_0x1914fa,_0x5a2ac7=await Company_1[_0x1013c4(0x15e)][_0x1013c4(0x166)](_0x5e5eed),_0xa55fb3=await User_1['default'][_0x1013c4(0x166)](_0x236409);if(_0xa55fb3[_0x1013c4(0x15f)]===!![]){const {companies:_0x18173f,count:_0x23485b,hasMore:_0x17a2d5}=await(0x0,ListCompaniesService_1[_0x1013c4(0x15e)])({'searchParam':_0x53b4ae,'pageNumber':_0x2c5f9e});return _0x2741cd['json']({'companies':_0x18173f,'count':_0x23485b,'hasMore':_0x17a2d5});}else{const {companies:_0xbc8eaf,count:_0x30e299,hasMore:_0x16af79}=await(0x0,ListCompaniesService_1['default'])({'searchParam':_0x5a2ac7[_0x1013c4(0x14d)],'pageNumber':_0x2c5f9e});return _0x2741cd[_0x1013c4(0x16d)]({'companies':_0xbc8eaf,'count':_0x30e299,'hasMore':_0x16af79});}};exports['index']=index;function a13_0x1e2e(_0x14dc78,_0x3cc07f){const _0x1b57c0=a13_0x1b57();return a13_0x1e2e=function(_0x1e2e97,_0x1d50e4){_0x1e2e97=_0x1e2e97-0x145;let _0x1282e8=_0x1b57c0[_0x1e2e97];return _0x1282e8;},a13_0x1e2e(_0x14dc78,_0x3cc07f);}const store=async(_0x43b628,_0x167338)=>{const _0x4b3b59=a13_0x4eaf47,_0x50cae6=_0x43b628[_0x4b3b59(0x16b)],_0xa03ec6=Yup[_0x4b3b59(0x15d)]()[_0x4b3b59(0x171)]({'name':Yup['string']()[_0x4b3b59(0x176)](),'password':Yup[_0x4b3b59(0x168)]()[_0x4b3b59(0x176)]()[_0x4b3b59(0x165)](0x5)});try{await _0xa03ec6[_0x4b3b59(0x182)](_0x50cae6);}catch(_0x27f11d){throw new AppError_1[(_0x4b3b59(0x15e))](_0x27f11d[_0x4b3b59(0x17f)]);}const _0x3a2400=await(0x0,CreateCompanyService_1['default'])(_0x50cae6);return _0x167338['status'](0xc8)[_0x4b3b59(0x16d)](_0x3a2400);};exports[a13_0x4eaf47(0x146)]=store;const show=async(_0x3ef99b,_0xe181d2)=>{const _0x354a42=a13_0x4eaf47,{id:_0x24e081}=_0x3ef99b['params'],_0x3db5af=_0x3ef99b[_0x354a42(0x154)][_0x354a42(0x150)],[,_0x7bfd90]=_0x3db5af['split']('\x20'),_0x4eb96c=(0x0,jsonwebtoken_1[_0x354a42(0x181)])(_0x7bfd90,auth_1[_0x354a42(0x15e)][_0x354a42(0x148)]),{id:_0x5268c3,profile:_0x20e45c,companyId:_0x113286}=_0x4eb96c,_0xc2d556=await User_1['default'][_0x354a42(0x166)](_0x5268c3);if(_0xc2d556['super']===!![]){const _0x4aa2d0=await(0x0,ShowCompanyService_1[_0x354a42(0x15e)])(_0x24e081);return _0xe181d2[_0x354a42(0x15b)](0xc8)[_0x354a42(0x16d)](_0x4aa2d0);}else{if(_0x24e081!==_0x113286[_0x354a42(0x151)]())return _0xe181d2[_0x354a42(0x15b)](0x190)[_0x354a42(0x16d)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});else{if(_0x24e081===_0x113286[_0x354a42(0x151)]()){const _0x39ea10=await(0x0,ShowCompanyService_1[_0x354a42(0x15e)])(_0x24e081);return _0xe181d2['status'](0xc8)[_0x354a42(0x16d)](_0x39ea10);}}}};exports[a13_0x4eaf47(0x173)]=show;const list=async(_0x3616ba,_0x52f93f)=>{const _0x42c3af=a13_0x4eaf47,_0x25a665=_0x3616ba[_0x42c3af(0x154)][_0x42c3af(0x150)],[,_0x184159]=_0x25a665[_0x42c3af(0x14f)]('\x20'),_0x4e6ddf=(0x0,jsonwebtoken_1[_0x42c3af(0x181)])(_0x184159,auth_1[_0x42c3af(0x15e)][_0x42c3af(0x148)]),{id:_0x5ce9cc,profile:_0x14799d,companyId:_0x3ba265}=_0x4e6ddf,_0x157c5a=await User_1[_0x42c3af(0x15e)][_0x42c3af(0x166)](_0x5ce9cc);if(_0x157c5a[_0x42c3af(0x15f)]===!![]){const _0x1fdd92=await(0x0,FindAllCompaniesService_1[_0x42c3af(0x15e)])();return _0x52f93f[_0x42c3af(0x15b)](0xc8)[_0x42c3af(0x16d)](_0x1fdd92);}else{const _0x584f52=await(0x0,FindAllCompaniesService_1['default'])();let _0x1bd017=[];for(let _0x854a9b=0x0;_0x854a9b<_0x584f52[_0x42c3af(0x17d)];_0x854a9b++){const _0x42c430=_0x584f52[_0x854a9b]['id'];if(_0x42c430===_0x3ba265)return _0x1bd017['push'](_0x584f52[_0x854a9b]),_0x52f93f[_0x42c3af(0x15b)](0xc8)['json'](_0x1bd017);}}};exports[a13_0x4eaf47(0x16f)]=list;const update=async(_0x1b627f,_0x8c5b13)=>{const _0x5915b6=a13_0x4eaf47,_0x4bc26d=_0x1b627f[_0x5915b6(0x16b)],_0x394896=Yup[_0x5915b6(0x15d)]()[_0x5915b6(0x171)]({'name':Yup[_0x5915b6(0x168)]()});try{await _0x394896['validate'](_0x4bc26d);}catch(_0x202856){throw new AppError_1[(_0x5915b6(0x15e))](_0x202856[_0x5915b6(0x17f)]);}const {id:_0x40b12a}=_0x1b627f['params'],_0x167e3d=_0x1b627f[_0x5915b6(0x154)][_0x5915b6(0x150)],[,_0x122118]=_0x167e3d[_0x5915b6(0x14f)]('\x20'),_0x1489ad=(0x0,jsonwebtoken_1['verify'])(_0x122118,auth_1[_0x5915b6(0x15e)][_0x5915b6(0x148)]),{id:_0xf4c875,profile:_0x3fcbe4,companyId:_0x4dd77c}=_0x1489ad,_0x416ced=await User_1[_0x5915b6(0x15e)]['findByPk'](_0xf4c875);if(_0x416ced['super']===!![]){const _0x4e1275=await(0x0,UpdateCompanyService_1[_0x5915b6(0x15e)])({'id':_0x40b12a,..._0x4bc26d});return _0x8c5b13[_0x5915b6(0x15b)](0xc8)['json'](_0x4e1275);}else{if(_0x4bc26d?.['id'][_0x5915b6(0x151)]()!==_0x40b12a||_0x4dd77c[_0x5915b6(0x151)]()!==_0x40b12a)return _0x8c5b13['status'](0x190)['json']({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});else{const _0x5ec2c1=await(0x0,UpdateCompanyService_1[_0x5915b6(0x15e)])({'id':_0x40b12a,..._0x4bc26d});return _0x8c5b13[_0x5915b6(0x15b)](0xc8)[_0x5915b6(0x16d)](_0x5ec2c1);}}};exports[a13_0x4eaf47(0x161)]=update;const updateSchedules=async(_0x2faee9,_0x5bbf92)=>{const _0x50b8ce=a13_0x4eaf47,{schedules:_0x72e350}=_0x2faee9['body'],{id:_0x19e634}=_0x2faee9[_0x50b8ce(0x162)],_0x1d4cd7=_0x2faee9[_0x50b8ce(0x154)][_0x50b8ce(0x150)],[,_0x176ad9]=_0x1d4cd7['split']('\x20'),_0x54969f=(0x0,jsonwebtoken_1[_0x50b8ce(0x181)])(_0x176ad9,auth_1['default'][_0x50b8ce(0x148)]),{id:_0xe946fb,profile:_0x3e944a,companyId:_0x4eff0b}=_0x54969f,_0x4e2a13=await User_1['default'][_0x50b8ce(0x166)](_0xe946fb);if(_0x4e2a13[_0x50b8ce(0x15f)]===!![]){const _0x264728=await(0x0,UpdateSchedulesService_1[_0x50b8ce(0x15e)])({'id':_0x19e634,'schedules':_0x72e350});return _0x5bbf92[_0x50b8ce(0x15b)](0xc8)[_0x50b8ce(0x16d)](_0x264728);}else{if(_0x4eff0b['toString']()!==_0x19e634)return _0x5bbf92[_0x50b8ce(0x15b)](0x190)['json']({'error':_0x50b8ce(0x147)});else{const _0x407b2e=await(0x0,UpdateSchedulesService_1['default'])({'id':_0x19e634,'schedules':_0x72e350});return _0x5bbf92[_0x50b8ce(0x15b)](0xc8)[_0x50b8ce(0x16d)](_0x407b2e);}}};exports[a13_0x4eaf47(0x160)]=updateSchedules;const remove=async(_0x599946,_0x100004)=>{const _0x2c9e4e=a13_0x4eaf47,{id:_0x38bf0f}=_0x599946['params'],_0x30cf96=_0x599946[_0x2c9e4e(0x154)][_0x2c9e4e(0x150)],[,_0x5757af]=_0x30cf96['split']('\x20'),_0x15b114=(0x0,jsonwebtoken_1[_0x2c9e4e(0x181)])(_0x5757af,auth_1[_0x2c9e4e(0x15e)]['secret']),{id:_0x3ae694,profile:_0xc96e51,companyId:_0x152182}=_0x15b114,_0x58d74a=await User_1[_0x2c9e4e(0x15e)][_0x2c9e4e(0x166)](_0x3ae694);if(_0x58d74a[_0x2c9e4e(0x15f)]===!![]){const _0x410bf5=await(0x0,DeleteCompanyService_1[_0x2c9e4e(0x15e)])(_0x38bf0f);return _0x100004[_0x2c9e4e(0x15b)](0xc8)[_0x2c9e4e(0x16d)](_0x410bf5);}else return _0x100004[_0x2c9e4e(0x15b)](0x190)[_0x2c9e4e(0x16d)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});};exports[a13_0x4eaf47(0x14b)]=remove;const listPlan=async(_0x120b25,_0x3bb65f)=>{const _0x1aae33=a13_0x4eaf47,{id:_0x381096}=_0x120b25[_0x1aae33(0x162)],_0x38f903=_0x120b25[_0x1aae33(0x154)][_0x1aae33(0x150)],[,_0x5e12d3]=_0x38f903[_0x1aae33(0x14f)]('\x20'),_0xdd92c7=(0x0,jsonwebtoken_1[_0x1aae33(0x181)])(_0x5e12d3,auth_1[_0x1aae33(0x15e)]['secret']),{id:_0x5999dd,profile:_0x5a0de5,companyId:_0x53e161}=_0xdd92c7,_0x55022e=await User_1['default'][_0x1aae33(0x166)](_0x5999dd);if(_0x55022e[_0x1aae33(0x15f)]===!![]){const _0x929235=await(0x0,ShowPlanCompanyService_1[_0x1aae33(0x15e)])(_0x381096);return _0x3bb65f[_0x1aae33(0x15b)](0xc8)[_0x1aae33(0x16d)](_0x929235);}else{if(_0x53e161['toString']()!==_0x381096)return _0x3bb65f[_0x1aae33(0x15b)](0x190)[_0x1aae33(0x16d)]({'error':_0x1aae33(0x147)});else{const _0x1ad955=await(0x0,ShowPlanCompanyService_1[_0x1aae33(0x15e)])(_0x381096);return _0x3bb65f[_0x1aae33(0x15b)](0xc8)[_0x1aae33(0x16d)](_0x1ad955);}}};exports[a13_0x4eaf47(0x153)]=listPlan;function a13_0x1b57(){const _0x830040=['indexPlan','json','756RoOIQI','list','3755448tCOLoa','shape','../services/CompanyService/UpdateCompanyService','show','getOwnPropertyDescriptor','get','required','jsonwebtoken','8sIsXML','__importDefault','../errors/AppError','../services/CompanyService/ListCompaniesPlanService','../services/CompanyService/ListCompaniesService','length','index','message','call','verify','validate','1799763SJvbbZ','__importStar','writable','store','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','secret','2825070eSJtEz','../config/auth','remove','__createBinding','name','3042405sHuHJO','split','authorization','toString','../services/CompanyService/FindAllCompaniesService','listPlan','headers','../services/CompanyService/UpdateSchedulesService','defineProperty','732963LiiIRs','query','create','4364DGiybw','status','1963040UXdgmr','object','default','super','updateSchedules','update','params','../models/Company','prototype','min','findByPk','__esModule','string','hasOwnProperty','../services/CompanyService/ShowCompanyService','body'];a13_0x1b57=function(){return _0x830040;};return a13_0x1b57();}const indexPlan=async(_0x445303,_0x3d54f8)=>{const _0x8bd96a=a13_0x4eaf47,{searchParam:_0x5eaca3,pageNumber:_0x4a39c2}=_0x445303[_0x8bd96a(0x158)],_0x46487c=_0x445303[_0x8bd96a(0x154)][_0x8bd96a(0x150)],[,_0x3208d5]=_0x46487c[_0x8bd96a(0x14f)]('\x20'),_0x58433e=(0x0,jsonwebtoken_1[_0x8bd96a(0x181)])(_0x3208d5,auth_1[_0x8bd96a(0x15e)][_0x8bd96a(0x148)]),{id:_0x49313b,profile:_0x338449,companyId:_0x21d996}=_0x58433e,_0x47aec0=await User_1[_0x8bd96a(0x15e)][_0x8bd96a(0x166)](_0x49313b);if(_0x47aec0[_0x8bd96a(0x15f)]===!![]){const _0x57d837=await(0x0,ListCompaniesPlanService_1['default'])();return _0x3d54f8[_0x8bd96a(0x16d)]({'companies':_0x57d837});}else return _0x3d54f8['status'](0x190)['json']({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});};exports[a13_0x4eaf47(0x16c)]=indexPlan;
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
