'use strict';const a13_0x2e4326=a13_0xf574;(function(_0x53cab5,_0x1e8bef){const _0x2b98fa=a13_0xf574,_0x28e022=_0x53cab5();while(!![]){try{const _0x24662f=-parseInt(_0x2b98fa(0x194))/0x1*(parseInt(_0x2b98fa(0x19b))/0x2)+-parseInt(_0x2b98fa(0x16c))/0x3+-parseInt(_0x2b98fa(0x18c))/0x4+-parseInt(_0x2b98fa(0x15f))/0x5*(parseInt(_0x2b98fa(0x18b))/0x6)+parseInt(_0x2b98fa(0x160))/0x7+parseInt(_0x2b98fa(0x162))/0x8+-parseInt(_0x2b98fa(0x18f))/0x9*(-parseInt(_0x2b98fa(0x16f))/0xa);if(_0x24662f===_0x1e8bef)break;else _0x28e022['push'](_0x28e022['shift']());}catch(_0x2cb8c3){_0x28e022['push'](_0x28e022['shift']());}}}(a13_0x5296,0xb7cd4));var __createBinding=this&&this[a13_0x2e4326(0x197)]||(Object['create']?function(_0x37eced,_0x17a33f,_0x58006a,_0x153b9c){const _0x33aa98=a13_0x2e4326;if(_0x153b9c===undefined)_0x153b9c=_0x58006a;var _0x388742=Object['getOwnPropertyDescriptor'](_0x17a33f,_0x58006a);(!_0x388742||(_0x33aa98(0x172)in _0x388742?!_0x17a33f[_0x33aa98(0x164)]:_0x388742[_0x33aa98(0x168)]||_0x388742[_0x33aa98(0x17c)]))&&(_0x388742={'enumerable':!![],'get':function(){return _0x17a33f[_0x58006a];}}),Object[_0x33aa98(0x174)](_0x37eced,_0x153b9c,_0x388742);}:function(_0x18a9ec,_0x1ed810,_0x328c73,_0x200139){if(_0x200139===undefined)_0x200139=_0x328c73;_0x18a9ec[_0x200139]=_0x1ed810[_0x328c73];}),__setModuleDefault=this&&this[a13_0x2e4326(0x161)]||(Object[a13_0x2e4326(0x16d)]?function(_0x1c1590,_0xc6ca96){const _0x860ba3=a13_0x2e4326;Object[_0x860ba3(0x174)](_0x1c1590,_0x860ba3(0x193),{'enumerable':!![],'value':_0xc6ca96});}:function(_0x54d4f1,_0x5c06f4){const _0x2db408=a13_0x2e4326;_0x54d4f1[_0x2db408(0x193)]=_0x5c06f4;}),__importStar=this&&this[a13_0x2e4326(0x190)]||function(_0x22dc12){const _0x198814=a13_0x2e4326;if(_0x22dc12&&_0x22dc12[_0x198814(0x164)])return _0x22dc12;var _0x438290={};if(_0x22dc12!=null){for(var _0x27ccaa in _0x22dc12)if(_0x27ccaa!=='default'&&Object[_0x198814(0x17a)][_0x198814(0x16b)][_0x198814(0x180)](_0x22dc12,_0x27ccaa))__createBinding(_0x438290,_0x22dc12,_0x27ccaa);}return __setModuleDefault(_0x438290,_0x22dc12),_0x438290;},__importDefault=this&&this['__importDefault']||function(_0x547103){const _0x3e725d=a13_0x2e4326;return _0x547103&&_0x547103[_0x3e725d(0x164)]?_0x547103:{'default':_0x547103};};Object[a13_0x2e4326(0x174)](exports,a13_0x2e4326(0x164),{'value':!![]}),exports[a13_0x2e4326(0x16e)]=exports[a13_0x2e4326(0x191)]=exports[a13_0x2e4326(0x184)]=exports[a13_0x2e4326(0x196)]=exports['update']=exports[a13_0x2e4326(0x188)]=exports[a13_0x2e4326(0x167)]=exports['store']=exports[a13_0x2e4326(0x18a)]=void 0x0;function a13_0x5296(){const _0x19da28=['12QWXbzs','shape','updateSchedules','__createBinding','json','../models/User','name','15504IUeTNK','findByPk','headers','../errors/AppError','1625IrnYXD','9330349arIfqf','__setModuleDefault','8122840RufPSh','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','__esModule','status','authorization','show','writable','object','message','hasOwnProperty','4283481XwCgWB','create','indexPlan','7666930BFNSIn','../services/CompanyService/ShowPlanCompanyService','../services/CompanyService/ListCompaniesPlanService','get','../services/CompanyService/UpdateCompanyService','defineProperty','push','query','../services/CompanyService/UpdateSchedulesService','verify','secret','prototype','split','configurable','required','../config/auth','toString','call','../models/Company','../services/CompanyService/ListCompaniesService','super','remove','body','length','../services/CompanyService/CreateCompanyService','list','string','index','4182JRLMMD','2458908XQZaDs','min','params','9fqLDVB','__importStar','listPlan','../services/CompanyService/ShowCompanyService','default'];a13_0x5296=function(){return _0x19da28;};return a13_0x5296();}const jsonwebtoken_1=require('jsonwebtoken'),auth_1=__importDefault(require(a13_0x2e4326(0x17e))),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a13_0x2e4326(0x15e))),Company_1=__importDefault(require(a13_0x2e4326(0x181))),ListCompaniesService_1=__importDefault(require(a13_0x2e4326(0x182))),CreateCompanyService_1=__importDefault(require(a13_0x2e4326(0x187))),UpdateCompanyService_1=__importDefault(require(a13_0x2e4326(0x173))),ShowCompanyService_1=__importDefault(require(a13_0x2e4326(0x192))),UpdateSchedulesService_1=__importDefault(require(a13_0x2e4326(0x177))),DeleteCompanyService_1=__importDefault(require('../services/CompanyService/DeleteCompanyService')),FindAllCompaniesService_1=__importDefault(require('../services/CompanyService/FindAllCompaniesService')),ShowPlanCompanyService_1=__importDefault(require(a13_0x2e4326(0x170))),User_1=__importDefault(require(a13_0x2e4326(0x199))),ListCompaniesPlanService_1=__importDefault(require(a13_0x2e4326(0x171))),index=async(_0x5eb9ec,_0x21eac8)=>{const _0xb1d331=a13_0x2e4326,{searchParam:_0x44d49c,pageNumber:_0x13f6b0}=_0x5eb9ec[_0xb1d331(0x176)],_0x21bcf9=_0x5eb9ec[_0xb1d331(0x15d)]['authorization'],[,_0x4dc9ef]=_0x21bcf9[_0xb1d331(0x17b)]('\x20'),_0x213a1d=(0x0,jsonwebtoken_1[_0xb1d331(0x178)])(_0x4dc9ef,auth_1[_0xb1d331(0x193)][_0xb1d331(0x179)]),{id:_0x42abaa,profile:_0xe7bd76,companyId:_0x60138a}=_0x213a1d,_0x2f1d1f=await Company_1['default'][_0xb1d331(0x19c)](_0x60138a),_0x4403a5=await User_1['default'][_0xb1d331(0x19c)](_0x42abaa);if(_0x4403a5[_0xb1d331(0x183)]===!![]){const {companies:_0x13b753,count:_0x5d539a,hasMore:_0x14acca}=await(0x0,ListCompaniesService_1[_0xb1d331(0x193)])({'searchParam':_0x44d49c,'pageNumber':_0x13f6b0});return _0x21eac8[_0xb1d331(0x198)]({'companies':_0x13b753,'count':_0x5d539a,'hasMore':_0x14acca});}else{const {companies:_0x54672c,count:_0x330617,hasMore:_0x2a1137}=await(0x0,ListCompaniesService_1['default'])({'searchParam':_0x2f1d1f[_0xb1d331(0x19a)],'pageNumber':_0x13f6b0});return _0x21eac8[_0xb1d331(0x198)]({'companies':_0x54672c,'count':_0x330617,'hasMore':_0x2a1137});}};exports[a13_0x2e4326(0x18a)]=index;const store=async(_0x2ed6f6,_0xd463c7)=>{const _0x139241=a13_0x2e4326,_0x356bb3=_0x2ed6f6['body'],_0x51dd20=Yup[_0x139241(0x169)]()[_0x139241(0x195)]({'name':Yup[_0x139241(0x189)]()[_0x139241(0x17d)](),'password':Yup[_0x139241(0x189)]()[_0x139241(0x17d)]()[_0x139241(0x18d)](0x5)});try{await _0x51dd20['validate'](_0x356bb3);}catch(_0x54839d){throw new AppError_1[(_0x139241(0x193))](_0x54839d[_0x139241(0x16a)]);}const _0x29202c=await(0x0,CreateCompanyService_1[_0x139241(0x193)])(_0x356bb3);return _0xd463c7['status'](0xc8)[_0x139241(0x198)](_0x29202c);};exports['store']=store;const show=async(_0x15cba6,_0x42a664)=>{const _0x27f3a5=a13_0x2e4326,{id:_0x47d4a1}=_0x15cba6[_0x27f3a5(0x18e)],_0x5b5227=_0x15cba6[_0x27f3a5(0x15d)][_0x27f3a5(0x166)],[,_0x37c6f2]=_0x5b5227[_0x27f3a5(0x17b)]('\x20'),_0x67d07c=(0x0,jsonwebtoken_1['verify'])(_0x37c6f2,auth_1['default'][_0x27f3a5(0x179)]),{id:_0xfd8401,profile:_0x573b95,companyId:_0x47b295}=_0x67d07c,_0xadf863=await User_1[_0x27f3a5(0x193)][_0x27f3a5(0x19c)](_0xfd8401);if(_0xadf863[_0x27f3a5(0x183)]===!![]){const _0x3768c1=await(0x0,ShowCompanyService_1[_0x27f3a5(0x193)])(_0x47d4a1);return _0x42a664[_0x27f3a5(0x165)](0xc8)[_0x27f3a5(0x198)](_0x3768c1);}else{if(_0x47d4a1!==_0x47b295[_0x27f3a5(0x17f)]())return _0x42a664[_0x27f3a5(0x165)](0x190)['json']({'error':_0x27f3a5(0x163)});else{if(_0x47d4a1===_0x47b295[_0x27f3a5(0x17f)]()){const _0x333da1=await(0x0,ShowCompanyService_1[_0x27f3a5(0x193)])(_0x47d4a1);return _0x42a664[_0x27f3a5(0x165)](0xc8)[_0x27f3a5(0x198)](_0x333da1);}}}};exports[a13_0x2e4326(0x167)]=show;const list=async(_0x274f18,_0xe7338)=>{const _0x563a8f=a13_0x2e4326,_0x5a7ad2=_0x274f18[_0x563a8f(0x15d)][_0x563a8f(0x166)],[,_0x3f097d]=_0x5a7ad2[_0x563a8f(0x17b)]('\x20'),_0x276205=(0x0,jsonwebtoken_1[_0x563a8f(0x178)])(_0x3f097d,auth_1[_0x563a8f(0x193)][_0x563a8f(0x179)]),{id:_0x371c10,profile:_0x5cd7c6,companyId:_0x53c6ac}=_0x276205,_0x51bb8a=await User_1[_0x563a8f(0x193)][_0x563a8f(0x19c)](_0x371c10);if(_0x51bb8a['super']===!![]){const _0x24ba21=await(0x0,FindAllCompaniesService_1[_0x563a8f(0x193)])();return _0xe7338['status'](0xc8)['json'](_0x24ba21);}else{const _0x1d7386=await(0x0,FindAllCompaniesService_1[_0x563a8f(0x193)])();let _0xcfe8f1=[];for(let _0x35906b=0x0;_0x35906b<_0x1d7386[_0x563a8f(0x186)];_0x35906b++){const _0x7da13a=_0x1d7386[_0x35906b]['id'];if(_0x7da13a===_0x53c6ac)return _0xcfe8f1[_0x563a8f(0x175)](_0x1d7386[_0x35906b]),_0xe7338[_0x563a8f(0x165)](0xc8)[_0x563a8f(0x198)](_0xcfe8f1);}}};function a13_0xf574(_0x132418,_0x1abe46){const _0x5296b3=a13_0x5296();return a13_0xf574=function(_0xf57405,_0x9b870b){_0xf57405=_0xf57405-0x15d;let _0x21aa96=_0x5296b3[_0xf57405];return _0x21aa96;},a13_0xf574(_0x132418,_0x1abe46);}exports['list']=list;const update=async(_0x464b4f,_0x43b52e)=>{const _0x50a424=a13_0x2e4326,_0x251506=_0x464b4f['body'],_0x2f65fd=Yup[_0x50a424(0x169)]()[_0x50a424(0x195)]({'name':Yup[_0x50a424(0x189)]()});try{await _0x2f65fd['validate'](_0x251506);}catch(_0x3bbce3){throw new AppError_1[(_0x50a424(0x193))](_0x3bbce3[_0x50a424(0x16a)]);}const {id:_0x1ce810}=_0x464b4f[_0x50a424(0x18e)],_0x25a987=_0x464b4f[_0x50a424(0x15d)]['authorization'],[,_0x3a8743]=_0x25a987[_0x50a424(0x17b)]('\x20'),_0x40764f=(0x0,jsonwebtoken_1[_0x50a424(0x178)])(_0x3a8743,auth_1[_0x50a424(0x193)][_0x50a424(0x179)]),{id:_0x2e0c6e,profile:_0xbc58c9,companyId:_0x220c7a}=_0x40764f,_0x2fe306=await User_1['default'][_0x50a424(0x19c)](_0x2e0c6e);if(_0x2fe306[_0x50a424(0x183)]===!![]){const _0x53344c=await(0x0,UpdateCompanyService_1[_0x50a424(0x193)])({'id':_0x1ce810,..._0x251506});return _0x43b52e[_0x50a424(0x165)](0xc8)['json'](_0x53344c);}else{if(_0x251506?.['id']['toString']()!==_0x1ce810||_0x220c7a[_0x50a424(0x17f)]()!==_0x1ce810)return _0x43b52e['status'](0x190)['json']({'error':_0x50a424(0x163)});else{const _0x4a0b91=await(0x0,UpdateCompanyService_1[_0x50a424(0x193)])({'id':_0x1ce810,..._0x251506});return _0x43b52e['status'](0xc8)['json'](_0x4a0b91);}}};exports['update']=update;const updateSchedules=async(_0x5828f6,_0x215a48)=>{const _0x248b19=a13_0x2e4326,{schedules:_0x32e787}=_0x5828f6[_0x248b19(0x185)],{id:_0x25a9c4}=_0x5828f6[_0x248b19(0x18e)],_0x103eac=_0x5828f6[_0x248b19(0x15d)][_0x248b19(0x166)],[,_0x5a8fc1]=_0x103eac['split']('\x20'),_0x4f20ba=(0x0,jsonwebtoken_1['verify'])(_0x5a8fc1,auth_1[_0x248b19(0x193)][_0x248b19(0x179)]),{id:_0x38b345,profile:_0x279d3a,companyId:_0xd9c6d4}=_0x4f20ba,_0x58da9e=await User_1[_0x248b19(0x193)]['findByPk'](_0x38b345);if(_0x58da9e[_0x248b19(0x183)]===!![]){const _0x522722=await(0x0,UpdateSchedulesService_1[_0x248b19(0x193)])({'id':_0x25a9c4,'schedules':_0x32e787});return _0x215a48['status'](0xc8)[_0x248b19(0x198)](_0x522722);}else{if(_0xd9c6d4['toString']()!==_0x25a9c4)return _0x215a48[_0x248b19(0x165)](0x190)['json']({'error':_0x248b19(0x163)});else{const _0x2d1f2b=await(0x0,UpdateSchedulesService_1[_0x248b19(0x193)])({'id':_0x25a9c4,'schedules':_0x32e787});return _0x215a48[_0x248b19(0x165)](0xc8)[_0x248b19(0x198)](_0x2d1f2b);}}};exports[a13_0x2e4326(0x196)]=updateSchedules;const remove=async(_0x2941b1,_0x1b221e)=>{const _0x39bedc=a13_0x2e4326,{id:_0xbde2a0}=_0x2941b1[_0x39bedc(0x18e)],_0x524560=_0x2941b1[_0x39bedc(0x15d)][_0x39bedc(0x166)],[,_0x1f7340]=_0x524560['split']('\x20'),_0x103c3b=(0x0,jsonwebtoken_1['verify'])(_0x1f7340,auth_1[_0x39bedc(0x193)]['secret']),{id:_0x548aa1,profile:_0x5e1c99,companyId:_0x18d2c8}=_0x103c3b,_0x479aa7=await User_1['default']['findByPk'](_0x548aa1);if(_0x479aa7[_0x39bedc(0x183)]===!![]){const _0x2b0abf=await(0x0,DeleteCompanyService_1[_0x39bedc(0x193)])(_0xbde2a0);return _0x1b221e[_0x39bedc(0x165)](0xc8)[_0x39bedc(0x198)](_0x2b0abf);}else return _0x1b221e['status'](0x190)[_0x39bedc(0x198)]({'error':_0x39bedc(0x163)});};exports[a13_0x2e4326(0x184)]=remove;const listPlan=async(_0x4089a4,_0x1b6b88)=>{const _0x3eae63=a13_0x2e4326,{id:_0x1c320e}=_0x4089a4[_0x3eae63(0x18e)],_0x452514=_0x4089a4[_0x3eae63(0x15d)][_0x3eae63(0x166)],[,_0x42374b]=_0x452514[_0x3eae63(0x17b)]('\x20'),_0x5b0fb3=(0x0,jsonwebtoken_1[_0x3eae63(0x178)])(_0x42374b,auth_1[_0x3eae63(0x193)][_0x3eae63(0x179)]),{id:_0x3cd736,profile:_0x4f0aa0,companyId:_0x311616}=_0x5b0fb3,_0x445bbe=await User_1[_0x3eae63(0x193)][_0x3eae63(0x19c)](_0x3cd736);if(_0x445bbe[_0x3eae63(0x183)]===!![]){const _0xeaaf8=await(0x0,ShowPlanCompanyService_1[_0x3eae63(0x193)])(_0x1c320e);return _0x1b6b88[_0x3eae63(0x165)](0xc8)[_0x3eae63(0x198)](_0xeaaf8);}else{if(_0x311616[_0x3eae63(0x17f)]()!==_0x1c320e)return _0x1b6b88[_0x3eae63(0x165)](0x190)[_0x3eae63(0x198)]({'error':_0x3eae63(0x163)});else{const _0x570df3=await(0x0,ShowPlanCompanyService_1['default'])(_0x1c320e);return _0x1b6b88[_0x3eae63(0x165)](0xc8)[_0x3eae63(0x198)](_0x570df3);}}};exports['listPlan']=listPlan;const indexPlan=async(_0x5506ad,_0x192590)=>{const _0x479afd=a13_0x2e4326,{searchParam:_0x3687c8,pageNumber:_0x14fdb6}=_0x5506ad[_0x479afd(0x176)],_0x1a2922=_0x5506ad[_0x479afd(0x15d)][_0x479afd(0x166)],[,_0x3e69ee]=_0x1a2922[_0x479afd(0x17b)]('\x20'),_0x4dee94=(0x0,jsonwebtoken_1[_0x479afd(0x178)])(_0x3e69ee,auth_1[_0x479afd(0x193)][_0x479afd(0x179)]),{id:_0x4fdb88,profile:_0x2606f4,companyId:_0x765c49}=_0x4dee94,_0x4df0d1=await User_1[_0x479afd(0x193)]['findByPk'](_0x4fdb88);if(_0x4df0d1[_0x479afd(0x183)]===!![]){const _0x544db1=await(0x0,ListCompaniesPlanService_1['default'])();return _0x192590[_0x479afd(0x198)]({'companies':_0x544db1});}else return _0x192590['status'](0x190)['json']({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});};exports[a13_0x2e4326(0x16e)]=indexPlan;