'use strict';const a13_0x1cc7de=a13_0x1dd8;(function(_0x4bfc69,_0x4faf1f){const _0x39e20d=a13_0x1dd8,_0x3e3ed9=_0x4bfc69();while(!![]){try{const _0x469cce=-parseInt(_0x39e20d(0x1a3))/0x1*(-parseInt(_0x39e20d(0x1b6))/0x2)+-parseInt(_0x39e20d(0x1b9))/0x3*(-parseInt(_0x39e20d(0x184))/0x4)+parseInt(_0x39e20d(0x17d))/0x5*(parseInt(_0x39e20d(0x1aa))/0x6)+parseInt(_0x39e20d(0x182))/0x7*(-parseInt(_0x39e20d(0x192))/0x8)+parseInt(_0x39e20d(0x181))/0x9+parseInt(_0x39e20d(0x18f))/0xa+-parseInt(_0x39e20d(0x1b5))/0xb;if(_0x469cce===_0x4faf1f)break;else _0x3e3ed9['push'](_0x3e3ed9['shift']());}catch(_0x39d622){_0x3e3ed9['push'](_0x3e3ed9['shift']());}}}(a13_0x2bc0,0x280fa));var __createBinding=this&&this['__createBinding']||(Object[a13_0x1cc7de(0x1b0)]?function(_0x221fa6,_0x102e29,_0x31269c,_0x5e545c){const _0x11a88e=a13_0x1cc7de;if(_0x5e545c===undefined)_0x5e545c=_0x31269c;var _0x426bac=Object[_0x11a88e(0x19d)](_0x102e29,_0x31269c);(!_0x426bac||(_0x11a88e(0x1ba)in _0x426bac?!_0x102e29[_0x11a88e(0x189)]:_0x426bac[_0x11a88e(0x19f)]||_0x426bac[_0x11a88e(0x180)]))&&(_0x426bac={'enumerable':!![],'get':function(){return _0x102e29[_0x31269c];}}),Object[_0x11a88e(0x198)](_0x221fa6,_0x5e545c,_0x426bac);}:function(_0x1fe51b,_0x957475,_0x5ace34,_0x22f4bf){if(_0x22f4bf===undefined)_0x22f4bf=_0x5ace34;_0x1fe51b[_0x22f4bf]=_0x957475[_0x5ace34];}),__setModuleDefault=this&&this[a13_0x1cc7de(0x1a1)]||(Object['create']?function(_0x28d11a,_0xf7a998){Object['defineProperty'](_0x28d11a,'default',{'enumerable':!![],'value':_0xf7a998});}:function(_0x253166,_0x1a24e6){const _0x33f351=a13_0x1cc7de;_0x253166[_0x33f351(0x1a9)]=_0x1a24e6;}),__importStar=this&&this[a13_0x1cc7de(0x18c)]||function(_0x4d94a5){const _0x4edd16=a13_0x1cc7de;if(_0x4d94a5&&_0x4d94a5['__esModule'])return _0x4d94a5;var _0x2d7412={};if(_0x4d94a5!=null){for(var _0x95c64e in _0x4d94a5)if(_0x95c64e!==_0x4edd16(0x1a9)&&Object[_0x4edd16(0x1bb)]['hasOwnProperty'][_0x4edd16(0x194)](_0x4d94a5,_0x95c64e))__createBinding(_0x2d7412,_0x4d94a5,_0x95c64e);}return __setModuleDefault(_0x2d7412,_0x4d94a5),_0x2d7412;},__importDefault=this&&this[a13_0x1cc7de(0x1a7)]||function(_0x1ffc89){const _0x131276=a13_0x1cc7de;return _0x1ffc89&&_0x1ffc89[_0x131276(0x189)]?_0x1ffc89:{'default':_0x1ffc89};};Object[a13_0x1cc7de(0x198)](exports,a13_0x1cc7de(0x189),{'value':!![]}),exports[a13_0x1cc7de(0x1a4)]=exports[a13_0x1cc7de(0x1b1)]=exports[a13_0x1cc7de(0x1b8)]=exports['updateSchedules']=exports[a13_0x1cc7de(0x197)]=exports[a13_0x1cc7de(0x19e)]=exports[a13_0x1cc7de(0x193)]=exports['store']=exports[a13_0x1cc7de(0x1b7)]=void 0x0;function a13_0x2bc0(){const _0x335d59=['1BHoTGb','indexPlan','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','super','__importDefault','length','default','603492aUviQo','../services/CompanyService/ShowPlanCompanyService','object','headers','findByPk','body','create','listPlan','../services/CompanyService/ListCompaniesPlanService','toString','updateSchedules','4751362LCSquA','188234iAGKyW','index','remove','21jPQbhO','get','prototype','validate','string','message','5VyyVGN','required','shape','configurable','1960443tTPKPi','327061gwWsKB','../services/CompanyService/ShowCompanyService','108668VqaXqR','params','split','../services/CompanyService/DeleteCompanyService','min','__esModule','authorization','../services/CompanyService/UpdateSchedulesService','__importStar','../errors/AppError','../services/CompanyService/UpdateCompanyService','1335060rsKaAn','../config/auth','../models/User','24tsbUaI','show','call','json','../services/CompanyService/ListCompaniesService','update','defineProperty','jsonwebtoken','secret','store','verify','getOwnPropertyDescriptor','list','writable','status','__setModuleDefault','name'];a13_0x2bc0=function(){return _0x335d59;};return a13_0x2bc0();}const jsonwebtoken_1=require(a13_0x1cc7de(0x199)),auth_1=__importDefault(require(a13_0x1cc7de(0x190))),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a13_0x1cc7de(0x18d))),Company_1=__importDefault(require('../models/Company')),ListCompaniesService_1=__importDefault(require(a13_0x1cc7de(0x196))),CreateCompanyService_1=__importDefault(require('../services/CompanyService/CreateCompanyService')),UpdateCompanyService_1=__importDefault(require(a13_0x1cc7de(0x18e))),ShowCompanyService_1=__importDefault(require(a13_0x1cc7de(0x183))),UpdateSchedulesService_1=__importDefault(require(a13_0x1cc7de(0x18b))),DeleteCompanyService_1=__importDefault(require(a13_0x1cc7de(0x187))),FindAllCompaniesService_1=__importDefault(require('../services/CompanyService/FindAllCompaniesService')),ShowPlanCompanyService_1=__importDefault(require(a13_0x1cc7de(0x1ab))),User_1=__importDefault(require(a13_0x1cc7de(0x191))),ListCompaniesPlanService_1=__importDefault(require(a13_0x1cc7de(0x1b2))),index=async(_0x2532b1,_0x4982c0)=>{const _0x29e4ab=a13_0x1cc7de,{searchParam:_0x48570b,pageNumber:_0xeabaec}=_0x2532b1['query'],_0x4712ef=_0x2532b1['headers'][_0x29e4ab(0x18a)],[,_0x433f6b]=_0x4712ef[_0x29e4ab(0x186)]('\x20'),_0x1bc726=(0x0,jsonwebtoken_1[_0x29e4ab(0x19c)])(_0x433f6b,auth_1['default']['secret']),{id:_0x56deda,profile:_0x3a9c3b,companyId:_0x16b802}=_0x1bc726,_0x122790=await Company_1[_0x29e4ab(0x1a9)][_0x29e4ab(0x1ae)](_0x16b802),_0x56ce68=await User_1[_0x29e4ab(0x1a9)]['findByPk'](_0x56deda);if(_0x56ce68['super']===!![]){const {companies:_0x248c7e,count:_0x32f5e6,hasMore:_0x56a6ae}=await(0x0,ListCompaniesService_1[_0x29e4ab(0x1a9)])({'searchParam':_0x48570b,'pageNumber':_0xeabaec});return _0x4982c0[_0x29e4ab(0x195)]({'companies':_0x248c7e,'count':_0x32f5e6,'hasMore':_0x56a6ae});}else{const {companies:_0x3b2317,count:_0xfcb0e2,hasMore:_0x2de2b4}=await(0x0,ListCompaniesService_1[_0x29e4ab(0x1a9)])({'searchParam':_0x122790[_0x29e4ab(0x1a2)],'pageNumber':_0xeabaec});return _0x4982c0['json']({'companies':_0x3b2317,'count':_0xfcb0e2,'hasMore':_0x2de2b4});}};exports[a13_0x1cc7de(0x1b7)]=index;const store=async(_0x584c4d,_0x55c299)=>{const _0x282252=a13_0x1cc7de,_0x1d20e5=_0x584c4d[_0x282252(0x1af)],_0x1ae3a5=Yup[_0x282252(0x1ac)]()['shape']({'name':Yup[_0x282252(0x17b)]()['required'](),'password':Yup[_0x282252(0x17b)]()[_0x282252(0x17e)]()[_0x282252(0x188)](0x5)});try{await _0x1ae3a5['validate'](_0x1d20e5);}catch(_0x527fab){throw new AppError_1['default'](_0x527fab[_0x282252(0x17c)]);}const _0x50ea9b=await(0x0,CreateCompanyService_1[_0x282252(0x1a9)])(_0x1d20e5);return _0x55c299[_0x282252(0x1a0)](0xc8)[_0x282252(0x195)](_0x50ea9b);};exports[a13_0x1cc7de(0x19b)]=store;const show=async(_0x13fea7,_0xe505a8)=>{const _0x3e7ff9=a13_0x1cc7de,{id:_0x4d2a51}=_0x13fea7['params'],_0x5e1945=_0x13fea7[_0x3e7ff9(0x1ad)]['authorization'],[,_0x4960c3]=_0x5e1945['split']('\x20'),_0x370e32=(0x0,jsonwebtoken_1[_0x3e7ff9(0x19c)])(_0x4960c3,auth_1[_0x3e7ff9(0x1a9)][_0x3e7ff9(0x19a)]),{id:_0x26775c,profile:_0x3f578d,companyId:_0x1ba44d}=_0x370e32,_0x262143=await User_1[_0x3e7ff9(0x1a9)][_0x3e7ff9(0x1ae)](_0x26775c);if(_0x262143[_0x3e7ff9(0x1a6)]===!![]){const _0x2e0f4b=await(0x0,ShowCompanyService_1[_0x3e7ff9(0x1a9)])(_0x4d2a51);return _0xe505a8[_0x3e7ff9(0x1a0)](0xc8)['json'](_0x2e0f4b);}else{if(_0x4d2a51!==_0x1ba44d[_0x3e7ff9(0x1b3)]())return _0xe505a8[_0x3e7ff9(0x1a0)](0x190)['json']({'error':_0x3e7ff9(0x1a5)});else{if(_0x4d2a51===_0x1ba44d[_0x3e7ff9(0x1b3)]()){const _0x4e8e10=await(0x0,ShowCompanyService_1['default'])(_0x4d2a51);return _0xe505a8[_0x3e7ff9(0x1a0)](0xc8)[_0x3e7ff9(0x195)](_0x4e8e10);}}}};exports[a13_0x1cc7de(0x193)]=show;const list=async(_0x4a736e,_0x30c56a)=>{const _0x37dd32=a13_0x1cc7de,_0x54df54=_0x4a736e[_0x37dd32(0x1ad)][_0x37dd32(0x18a)],[,_0x18df37]=_0x54df54[_0x37dd32(0x186)]('\x20'),_0x28df78=(0x0,jsonwebtoken_1['verify'])(_0x18df37,auth_1[_0x37dd32(0x1a9)][_0x37dd32(0x19a)]),{id:_0x360d79,profile:_0xfb37,companyId:_0x56cffa}=_0x28df78,_0x1ac113=await User_1[_0x37dd32(0x1a9)][_0x37dd32(0x1ae)](_0x360d79);if(_0x1ac113[_0x37dd32(0x1a6)]===!![]){const _0x36a4f2=await(0x0,FindAllCompaniesService_1[_0x37dd32(0x1a9)])();return _0x30c56a[_0x37dd32(0x1a0)](0xc8)[_0x37dd32(0x195)](_0x36a4f2);}else{const _0x3a907a=await(0x0,FindAllCompaniesService_1[_0x37dd32(0x1a9)])();let _0x33b468=[];for(let _0x2654b6=0x0;_0x2654b6<_0x3a907a[_0x37dd32(0x1a8)];_0x2654b6++){const _0x4108c8=_0x3a907a[_0x2654b6]['id'];if(_0x4108c8===_0x56cffa)return _0x33b468['push'](_0x3a907a[_0x2654b6]),_0x30c56a['status'](0xc8)[_0x37dd32(0x195)](_0x33b468);}}};function a13_0x1dd8(_0x7c93fd,_0xdca33c){const _0x2bc0b4=a13_0x2bc0();return a13_0x1dd8=function(_0x1dd84b,_0x4a96a5){_0x1dd84b=_0x1dd84b-0x17a;let _0x4feaf4=_0x2bc0b4[_0x1dd84b];return _0x4feaf4;},a13_0x1dd8(_0x7c93fd,_0xdca33c);}exports['list']=list;const update=async(_0x3bf78f,_0x2cf8af)=>{const _0x40efd8=a13_0x1cc7de,_0x3e1522=_0x3bf78f[_0x40efd8(0x1af)],_0x29b559=Yup[_0x40efd8(0x1ac)]()[_0x40efd8(0x17f)]({'name':Yup[_0x40efd8(0x17b)]()});try{await _0x29b559[_0x40efd8(0x17a)](_0x3e1522);}catch(_0x52c7cc){throw new AppError_1['default'](_0x52c7cc[_0x40efd8(0x17c)]);}const {id:_0x26ee7a}=_0x3bf78f[_0x40efd8(0x185)],_0x5214f5=_0x3bf78f[_0x40efd8(0x1ad)][_0x40efd8(0x18a)],[,_0x5e33b3]=_0x5214f5['split']('\x20'),_0x7abbeb=(0x0,jsonwebtoken_1['verify'])(_0x5e33b3,auth_1[_0x40efd8(0x1a9)][_0x40efd8(0x19a)]),{id:_0x49af4e,profile:_0xcff7d5,companyId:_0x463138}=_0x7abbeb,_0x14fa1c=await User_1[_0x40efd8(0x1a9)][_0x40efd8(0x1ae)](_0x49af4e);if(_0x14fa1c[_0x40efd8(0x1a6)]===!![]){const _0x1e6091=await(0x0,UpdateCompanyService_1[_0x40efd8(0x1a9)])({'id':_0x26ee7a,..._0x3e1522});return _0x2cf8af[_0x40efd8(0x1a0)](0xc8)[_0x40efd8(0x195)](_0x1e6091);}else{if(_0x3e1522?.['id'][_0x40efd8(0x1b3)]()!==_0x26ee7a||_0x463138[_0x40efd8(0x1b3)]()!==_0x26ee7a)return _0x2cf8af[_0x40efd8(0x1a0)](0x190)[_0x40efd8(0x195)]({'error':_0x40efd8(0x1a5)});else{const _0x2ddaa3=await(0x0,UpdateCompanyService_1[_0x40efd8(0x1a9)])({'id':_0x26ee7a,..._0x3e1522});return _0x2cf8af[_0x40efd8(0x1a0)](0xc8)[_0x40efd8(0x195)](_0x2ddaa3);}}};exports['update']=update;const updateSchedules=async(_0x16373a,_0x1b3e8f)=>{const _0xcce804=a13_0x1cc7de,{schedules:_0x32ff06}=_0x16373a[_0xcce804(0x1af)],{id:_0x1adb38}=_0x16373a['params'],_0x1ae5b6=_0x16373a[_0xcce804(0x1ad)]['authorization'],[,_0x4502dc]=_0x1ae5b6['split']('\x20'),_0x326886=(0x0,jsonwebtoken_1[_0xcce804(0x19c)])(_0x4502dc,auth_1[_0xcce804(0x1a9)][_0xcce804(0x19a)]),{id:_0x391d6f,profile:_0x5a494c,companyId:_0x12710a}=_0x326886,_0x557ba7=await User_1[_0xcce804(0x1a9)][_0xcce804(0x1ae)](_0x391d6f);if(_0x557ba7[_0xcce804(0x1a6)]===!![]){const _0x484be7=await(0x0,UpdateSchedulesService_1[_0xcce804(0x1a9)])({'id':_0x1adb38,'schedules':_0x32ff06});return _0x1b3e8f[_0xcce804(0x1a0)](0xc8)[_0xcce804(0x195)](_0x484be7);}else{if(_0x12710a[_0xcce804(0x1b3)]()!==_0x1adb38)return _0x1b3e8f[_0xcce804(0x1a0)](0x190)[_0xcce804(0x195)]({'error':_0xcce804(0x1a5)});else{const _0x1e00f5=await(0x0,UpdateSchedulesService_1[_0xcce804(0x1a9)])({'id':_0x1adb38,'schedules':_0x32ff06});return _0x1b3e8f[_0xcce804(0x1a0)](0xc8)[_0xcce804(0x195)](_0x1e00f5);}}};exports[a13_0x1cc7de(0x1b4)]=updateSchedules;const remove=async(_0x3b647c,_0x3c5921)=>{const _0x556e4a=a13_0x1cc7de,{id:_0x2db590}=_0x3b647c[_0x556e4a(0x185)],_0x215b36=_0x3b647c[_0x556e4a(0x1ad)][_0x556e4a(0x18a)],[,_0x12de06]=_0x215b36[_0x556e4a(0x186)]('\x20'),_0x1ba984=(0x0,jsonwebtoken_1[_0x556e4a(0x19c)])(_0x12de06,auth_1[_0x556e4a(0x1a9)][_0x556e4a(0x19a)]),{id:_0x46476c,profile:_0x3ff9db,companyId:_0x65d8a0}=_0x1ba984,_0x1033c3=await User_1[_0x556e4a(0x1a9)][_0x556e4a(0x1ae)](_0x46476c);if(_0x1033c3[_0x556e4a(0x1a6)]===!![]){const _0x431ae5=await(0x0,DeleteCompanyService_1[_0x556e4a(0x1a9)])(_0x2db590);return _0x3c5921[_0x556e4a(0x1a0)](0xc8)[_0x556e4a(0x195)](_0x431ae5);}else return _0x3c5921['status'](0x190)[_0x556e4a(0x195)]({'error':_0x556e4a(0x1a5)});};exports[a13_0x1cc7de(0x1b8)]=remove;const listPlan=async(_0x4e967c,_0x4cd45f)=>{const _0x2aee52=a13_0x1cc7de,{id:_0x3ad414}=_0x4e967c[_0x2aee52(0x185)],_0x43eef0=_0x4e967c[_0x2aee52(0x1ad)][_0x2aee52(0x18a)],[,_0x246260]=_0x43eef0[_0x2aee52(0x186)]('\x20'),_0x21e1b0=(0x0,jsonwebtoken_1['verify'])(_0x246260,auth_1['default'][_0x2aee52(0x19a)]),{id:_0xf57d46,profile:_0x16ed5f,companyId:_0x1d9599}=_0x21e1b0,_0x3ae275=await User_1[_0x2aee52(0x1a9)][_0x2aee52(0x1ae)](_0xf57d46);if(_0x3ae275[_0x2aee52(0x1a6)]===!![]){const _0x5bd5aa=await(0x0,ShowPlanCompanyService_1[_0x2aee52(0x1a9)])(_0x3ad414);return _0x4cd45f[_0x2aee52(0x1a0)](0xc8)[_0x2aee52(0x195)](_0x5bd5aa);}else{if(_0x1d9599[_0x2aee52(0x1b3)]()!==_0x3ad414)return _0x4cd45f[_0x2aee52(0x1a0)](0x190)[_0x2aee52(0x195)]({'error':_0x2aee52(0x1a5)});else{const _0x4887b4=await(0x0,ShowPlanCompanyService_1[_0x2aee52(0x1a9)])(_0x3ad414);return _0x4cd45f[_0x2aee52(0x1a0)](0xc8)[_0x2aee52(0x195)](_0x4887b4);}}};exports[a13_0x1cc7de(0x1b1)]=listPlan;const indexPlan=async(_0x337de8,_0x166a1f)=>{const _0x5eabfe=a13_0x1cc7de,{searchParam:_0x509de5,pageNumber:_0x5a0280}=_0x337de8['query'],_0x2a8628=_0x337de8['headers'][_0x5eabfe(0x18a)],[,_0x397238]=_0x2a8628[_0x5eabfe(0x186)]('\x20'),_0x2fe83c=(0x0,jsonwebtoken_1['verify'])(_0x397238,auth_1['default'][_0x5eabfe(0x19a)]),{id:_0x58ef5c,profile:_0xa5cd03,companyId:_0x1dbe1a}=_0x2fe83c,_0x15cd31=await User_1[_0x5eabfe(0x1a9)][_0x5eabfe(0x1ae)](_0x58ef5c);if(_0x15cd31[_0x5eabfe(0x1a6)]===!![]){const _0xd4db36=await(0x0,ListCompaniesPlanService_1[_0x5eabfe(0x1a9)])();return _0x166a1f[_0x5eabfe(0x195)]({'companies':_0xd4db36});}else return _0x166a1f[_0x5eabfe(0x1a0)](0x190)['json']({'error':_0x5eabfe(0x1a5)});};exports[a13_0x1cc7de(0x1a4)]=indexPlan;