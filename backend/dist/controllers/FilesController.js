<<<<<<< HEAD
'use strict';const a19_0x560aee=a19_0x59f4;(function(_0x58312c,_0x59686c){const _0x371e11=a19_0x59f4,_0x138b45=_0x58312c();while(!![]){try{const _0x3f2471=parseInt(_0x371e11(0x15b))/0x1*(-parseInt(_0x371e11(0x147))/0x2)+parseInt(_0x371e11(0x148))/0x3*(-parseInt(_0x371e11(0x136))/0x4)+parseInt(_0x371e11(0x149))/0x5*(-parseInt(_0x371e11(0x14e))/0x6)+parseInt(_0x371e11(0x134))/0x7*(-parseInt(_0x371e11(0x12e))/0x8)+-parseInt(_0x371e11(0x12d))/0x9*(parseInt(_0x371e11(0x12c))/0xa)+-parseInt(_0x371e11(0x127))/0xb+-parseInt(_0x371e11(0x128))/0xc*(-parseInt(_0x371e11(0x150))/0xd);if(_0x3f2471===_0x59686c)break;else _0x138b45['push'](_0x138b45['shift']());}catch(_0x1b4fb8){_0x138b45['push'](_0x138b45['shift']());}}}(a19_0x2edf,0x6da0a));var __importDefault=this&&this[a19_0x560aee(0x142)]||function(_0x27dd78){return _0x27dd78&&_0x27dd78['__esModule']?_0x27dd78:{'default':_0x27dd78};};Object[a19_0x560aee(0x154)](exports,a19_0x560aee(0x14b),{'value':!![]}),exports[a19_0x560aee(0x15d)]=exports[a19_0x560aee(0x14c)]=exports[a19_0x560aee(0x146)]=exports[a19_0x560aee(0x151)]=exports[a19_0x560aee(0x13a)]=exports[a19_0x560aee(0x12a)]=exports['store']=exports[a19_0x560aee(0x159)]=void 0x0;function a19_0x2edf(){const _0x50f123=['status','company','../services/FileServices/DeleteAllService','index','params','17782sJAqQG','send','list','../services/FileServices/ShowService','1486375OtUElR','12QFHOOR','File\x20List\x20deleted','show','../errors/AppError','20HlfQcY','3553947rJGSfr','1944WzdYni','../services/FileServices/UpdateService','json','replace','admin','-file','1470LRinJZ','delete','35508hgILQl','store','default','user','uploadMedias','../services/FileServices/ListService','getIO','../libs/socket','../services/FileServices/DeleteService','head','message','create','__importDefault','lodash','emit','../services/FileServices/SimpleListService','remove','98GTivnP','114PAxbgS','15jftKhJ','body','__esModule','removeAll','profile','754200xVoPtC','ERR_NO_PERMISSION','39139087kfIbIy','update','files','query','defineProperty','../models/FilesOptions'];a19_0x2edf=function(){return _0x50f123;};return a19_0x2edf();}const socket_1=require(a19_0x560aee(0x13d)),AppError_1=__importDefault(require(a19_0x560aee(0x12b))),lodash_1=require(a19_0x560aee(0x143)),CreateService_1=__importDefault(require('../services/FileServices/CreateService')),ListService_1=__importDefault(require(a19_0x560aee(0x13b))),UpdateService_1=__importDefault(require(a19_0x560aee(0x12f))),ShowService_1=__importDefault(require(a19_0x560aee(0x15e))),DeleteService_1=__importDefault(require(a19_0x560aee(0x13e))),SimpleListService_1=__importDefault(require(a19_0x560aee(0x145))),DeleteAllService_1=__importDefault(require(a19_0x560aee(0x158))),FilesOptions_1=__importDefault(require(a19_0x560aee(0x155))),index=async(_0xd481fe,_0x1cc3c2)=>{const _0x52bdb4=a19_0x560aee,{pageNumber:_0x941bba,searchParam:_0x345aa6}=_0xd481fe[_0x52bdb4(0x153)],{companyId:_0x1824a3}=_0xd481fe['user'],{files:_0xf67315,count:_0x31b97a,hasMore:_0x527e60}=await(0x0,ListService_1[_0x52bdb4(0x138)])({'searchParam':_0x345aa6,'pageNumber':_0x941bba,'companyId':_0x1824a3});return _0x1cc3c2[_0x52bdb4(0x130)]({'files':_0xf67315,'count':_0x31b97a,'hasMore':_0x527e60});};exports[a19_0x560aee(0x159)]=index;const store=async(_0x37209d,_0xe77d33)=>{const _0x49491f=a19_0x560aee,{name:_0x228265,message:_0x29ae02,options:_0x28ca50}=_0x37209d[_0x49491f(0x14a)],{companyId:_0x443690}=_0x37209d['user'],_0x2fb162=await(0x0,CreateService_1['default'])({'name':_0x228265,'message':_0x29ae02,'options':_0x28ca50,'companyId':_0x443690}),_0x5ad5cb=(0x0,socket_1[_0x49491f(0x13c)])();return _0x5ad5cb[_0x49491f(0x144)](_0x49491f(0x157)+_0x443690+'-file',{'action':_0x49491f(0x141),'fileList':_0x2fb162}),_0xe77d33[_0x49491f(0x156)](0xc8)[_0x49491f(0x130)](_0x2fb162);};exports[a19_0x560aee(0x137)]=store;const show=async(_0x602e07,_0x13b735)=>{const _0x2df42e=a19_0x560aee,{fileId:_0x35130b}=_0x602e07[_0x2df42e(0x15a)],{companyId:_0x9bacc7}=_0x602e07[_0x2df42e(0x139)],_0x48f5b0=await(0x0,ShowService_1[_0x2df42e(0x138)])(_0x35130b,_0x9bacc7);return _0x13b735['status'](0xc8)[_0x2df42e(0x130)](_0x48f5b0);};exports[a19_0x560aee(0x12a)]=show;const uploadMedias=async(_0x2c866e,_0x20a579)=>{const _0x58ad62=a19_0x560aee,{fileId:_0xaeba68,id:_0x368762,mediaType:_0x50b66e}=_0x2c866e[_0x58ad62(0x14a)],_0x2a1223=_0x2c866e[_0x58ad62(0x152)],_0x474be1=(0x0,lodash_1[_0x58ad62(0x13f)])(_0x2a1223);try{let _0x1d8e6f;if(_0x2a1223['length']>0x0)for(const [_0xce6d17,_0x4637b8]of _0x2a1223['entries']()){_0x1d8e6f=await FilesOptions_1[_0x58ad62(0x138)]['findOne']({'where':{'fileId':_0xaeba68,'id':Array['isArray'](_0x368762)?_0x368762[_0xce6d17]:_0x368762}}),_0x1d8e6f[_0x58ad62(0x151)]({'path':_0x4637b8['filename'][_0x58ad62(0x131)]('/','-'),'mediaType':Array['isArray'](_0x50b66e)?_0x50b66e[_0xce6d17]:_0x50b66e});}return _0x20a579[_0x58ad62(0x15c)]({'mensagem':'Arquivos\x20atualizados'});}catch(_0x414dc9){throw new AppError_1['default'](_0x414dc9[_0x58ad62(0x140)]);}};exports['uploadMedias']=uploadMedias;const update=async(_0x44ef45,_0x3267f6)=>{const _0x34e1e7=a19_0x560aee;if(_0x44ef45[_0x34e1e7(0x139)][_0x34e1e7(0x14d)]!==_0x34e1e7(0x132))throw new AppError_1['default'](_0x34e1e7(0x14f),0x193);const {fileId:_0x2e8761}=_0x44ef45['params'],_0x4e3252=_0x44ef45['body'],{companyId:_0x4d0eed}=_0x44ef45[_0x34e1e7(0x139)],_0x2283cc=await(0x0,UpdateService_1[_0x34e1e7(0x138)])({'fileData':_0x4e3252,'id':_0x2e8761,'companyId':_0x4d0eed}),_0x4f2124=(0x0,socket_1[_0x34e1e7(0x13c)])();return _0x4f2124['emit'](_0x34e1e7(0x157)+_0x4d0eed+_0x34e1e7(0x133),{'action':'update','fileList':_0x2283cc}),_0x3267f6[_0x34e1e7(0x156)](0xc8)['json'](_0x2283cc);};exports['update']=update;const remove=async(_0x1c9dfd,_0x737b7b)=>{const _0x18defc=a19_0x560aee,{fileId:_0x35c188}=_0x1c9dfd[_0x18defc(0x15a)],{companyId:_0x2ab7b8}=_0x1c9dfd[_0x18defc(0x139)];await(0x0,DeleteService_1['default'])(_0x35c188,_0x2ab7b8);const _0x2f1cb7=(0x0,socket_1['getIO'])();return _0x2f1cb7['emit'](_0x18defc(0x157)+_0x2ab7b8+_0x18defc(0x133),{'action':_0x18defc(0x135),'fileId':_0x35c188}),_0x737b7b[_0x18defc(0x156)](0xc8)[_0x18defc(0x130)]({'message':_0x18defc(0x129)});};exports[a19_0x560aee(0x146)]=remove;function a19_0x59f4(_0x1defa5,_0x189fe1){const _0x2edf6f=a19_0x2edf();return a19_0x59f4=function(_0x59f450,_0x566bfe){_0x59f450=_0x59f450-0x127;let _0x402ad0=_0x2edf6f[_0x59f450];return _0x402ad0;},a19_0x59f4(_0x1defa5,_0x189fe1);}const removeAll=async(_0x1dd146,_0xfdd5fa)=>{const _0x2a7b47=a19_0x560aee,{companyId:_0x15ce41}=_0x1dd146[_0x2a7b47(0x139)];return await(0x0,DeleteAllService_1[_0x2a7b47(0x138)])(_0x15ce41),_0xfdd5fa[_0x2a7b47(0x15c)]();};exports[a19_0x560aee(0x14c)]=removeAll;const list=async(_0x336457,_0x550124)=>{const _0x5867ec=a19_0x560aee,{searchParam:_0x242cfc}=_0x336457[_0x5867ec(0x153)],{companyId:_0x2ca2bf}=_0x336457['user'],_0x2039b2=await(0x0,SimpleListService_1[_0x5867ec(0x138)])({'searchParam':_0x242cfc,'companyId':_0x2ca2bf});return _0x550124[_0x5867ec(0x130)](_0x2039b2);};exports[a19_0x560aee(0x15d)]=list;
=======
'use strict';const a19_0x4a5fd2=a19_0x8ab5;(function(_0x531e6f,_0x2f7bd7){const _0x3ba458=a19_0x8ab5,_0x55fd4a=_0x531e6f();while(!![]){try{const _0x12775d=-parseInt(_0x3ba458(0xf7))/0x1+-parseInt(_0x3ba458(0x104))/0x2*(-parseInt(_0x3ba458(0xd6))/0x3)+parseInt(_0x3ba458(0xf1))/0x4*(parseInt(_0x3ba458(0xec))/0x5)+parseInt(_0x3ba458(0x103))/0x6*(parseInt(_0x3ba458(0xfe))/0x7)+-parseInt(_0x3ba458(0xe7))/0x8+-parseInt(_0x3ba458(0xfc))/0x9+-parseInt(_0x3ba458(0xcd))/0xa*(-parseInt(_0x3ba458(0xe3))/0xb);if(_0x12775d===_0x2f7bd7)break;else _0x55fd4a['push'](_0x55fd4a['shift']());}catch(_0x5eb5c5){_0x55fd4a['push'](_0x55fd4a['shift']());}}}(a19_0x547c,0x72820));var __importDefault=this&&this[a19_0x4a5fd2(0xd7)]||function(_0x438aa2){return _0x438aa2&&_0x438aa2['__esModule']?_0x438aa2:{'default':_0x438aa2};};Object[a19_0x4a5fd2(0xf5)](exports,a19_0x4a5fd2(0x105),{'value':!![]}),exports[a19_0x4a5fd2(0xfa)]=exports[a19_0x4a5fd2(0xf0)]=exports[a19_0x4a5fd2(0xe9)]=exports[a19_0x4a5fd2(0xd2)]=exports[a19_0x4a5fd2(0xce)]=exports[a19_0x4a5fd2(0xe2)]=exports[a19_0x4a5fd2(0xf3)]=exports[a19_0x4a5fd2(0xef)]=void 0x0;const socket_1=require(a19_0x4a5fd2(0xf4)),AppError_1=__importDefault(require(a19_0x4a5fd2(0xd9))),lodash_1=require(a19_0x4a5fd2(0xe6)),CreateService_1=__importDefault(require(a19_0x4a5fd2(0xe0))),ListService_1=__importDefault(require(a19_0x4a5fd2(0xcf))),UpdateService_1=__importDefault(require(a19_0x4a5fd2(0xe8))),ShowService_1=__importDefault(require(a19_0x4a5fd2(0xd1))),DeleteService_1=__importDefault(require(a19_0x4a5fd2(0x102))),SimpleListService_1=__importDefault(require(a19_0x4a5fd2(0x100))),DeleteAllService_1=__importDefault(require('../services/FileServices/DeleteAllService')),FilesOptions_1=__importDefault(require(a19_0x4a5fd2(0xcc))),index=async(_0x256234,_0xac0752)=>{const _0x2df878=a19_0x4a5fd2,{pageNumber:_0x10b8ac,searchParam:_0x4beda5}=_0x256234[_0x2df878(0xfd)],{companyId:_0x5715dd}=_0x256234[_0x2df878(0xdf)],{files:_0x215157,count:_0x1edadc,hasMore:_0x2aecb3}=await(0x0,ListService_1['default'])({'searchParam':_0x4beda5,'pageNumber':_0x10b8ac,'companyId':_0x5715dd});return _0xac0752[_0x2df878(0xff)]({'files':_0x215157,'count':_0x1edadc,'hasMore':_0x2aecb3});};function a19_0x8ab5(_0x4adc6e,_0x8ee24e){const _0x547c51=a19_0x547c();return a19_0x8ab5=function(_0x8ab5e1,_0x19ba4a){_0x8ab5e1=_0x8ab5e1-0xcc;let _0x54038e=_0x547c51[_0x8ab5e1];return _0x54038e;},a19_0x8ab5(_0x4adc6e,_0x8ee24e);}exports[a19_0x4a5fd2(0xef)]=index;const store=async(_0x18d113,_0x1ca12b)=>{const _0x14a2bb=a19_0x4a5fd2,{name:_0x20425c,message:_0x355547,options:_0x1d4246}=_0x18d113[_0x14a2bb(0xd5)],{companyId:_0x484e46}=_0x18d113[_0x14a2bb(0xdf)],_0x2c5054=await(0x0,CreateService_1['default'])({'name':_0x20425c,'message':_0x355547,'options':_0x1d4246,'companyId':_0x484e46}),_0x195bc5=(0x0,socket_1['getIO'])();return _0x195bc5[_0x14a2bb(0xee)](_0x14a2bb(0xf6)+_0x484e46+_0x14a2bb(0xdb),{'action':_0x14a2bb(0xe5),'fileList':_0x2c5054}),_0x1ca12b[_0x14a2bb(0xf9)](0xc8)[_0x14a2bb(0xff)](_0x2c5054);};exports['store']=store;const show=async(_0x3a242c,_0x3d67b6)=>{const _0x393fe2=a19_0x4a5fd2,{fileId:_0x2b7141}=_0x3a242c['params'],{companyId:_0x1d08aa}=_0x3a242c['user'],_0x4064f9=await(0x0,ShowService_1[_0x393fe2(0xd4)])(_0x2b7141,_0x1d08aa);return _0x3d67b6['status'](0xc8)[_0x393fe2(0xff)](_0x4064f9);};exports[a19_0x4a5fd2(0xe2)]=show;const uploadMedias=async(_0x276e95,_0x4c9ed2)=>{const _0x1cd99f=a19_0x4a5fd2,{fileId:_0x56509b,id:_0xde837b,mediaType:_0x18a8ec}=_0x276e95[_0x1cd99f(0xd5)],_0x33bdc0=_0x276e95[_0x1cd99f(0xdd)],_0x6cb49c=(0x0,lodash_1[_0x1cd99f(0xeb)])(_0x33bdc0);try{let _0x440427;if(_0x33bdc0['length']>0x0)for(const [_0x348611,_0x4ef28a]of _0x33bdc0[_0x1cd99f(0xf8)]()){_0x440427=await FilesOptions_1[_0x1cd99f(0xd4)][_0x1cd99f(0xd8)]({'where':{'fileId':_0x56509b,'id':Array[_0x1cd99f(0xed)](_0xde837b)?_0xde837b[_0x348611]:_0xde837b}}),_0x440427[_0x1cd99f(0xd2)]({'path':_0x4ef28a[_0x1cd99f(0xda)][_0x1cd99f(0xfb)]('/','-'),'mediaType':Array['isArray'](_0x18a8ec)?_0x18a8ec[_0x348611]:_0x18a8ec});}return _0x4c9ed2[_0x1cd99f(0xde)]({'mensagem':_0x1cd99f(0xea)});}catch(_0x3b4c83){throw new AppError_1['default'](_0x3b4c83[_0x1cd99f(0xdc)]);}};exports[a19_0x4a5fd2(0xce)]=uploadMedias;const update=async(_0x14e415,_0xce03c4)=>{const _0x5cf88a=a19_0x4a5fd2;if(_0x14e415['user'][_0x5cf88a(0xe4)]!==_0x5cf88a(0xe1))throw new AppError_1[(_0x5cf88a(0xd4))](_0x5cf88a(0x101),0x193);const {fileId:_0x326bfa}=_0x14e415[_0x5cf88a(0xd0)],_0x557ded=_0x14e415[_0x5cf88a(0xd5)],{companyId:_0x5cf665}=_0x14e415[_0x5cf88a(0xdf)],_0x5821b4=await(0x0,UpdateService_1[_0x5cf88a(0xd4)])({'fileData':_0x557ded,'id':_0x326bfa,'companyId':_0x5cf665}),_0x47d51f=(0x0,socket_1[_0x5cf88a(0xd3)])();return _0x47d51f[_0x5cf88a(0xee)]('company'+_0x5cf665+'-file',{'action':'update','fileList':_0x5821b4}),_0xce03c4[_0x5cf88a(0xf9)](0xc8)['json'](_0x5821b4);};exports[a19_0x4a5fd2(0xd2)]=update;const remove=async(_0x2674a2,_0x48d009)=>{const _0x378a7f=a19_0x4a5fd2,{fileId:_0x1a4649}=_0x2674a2[_0x378a7f(0xd0)],{companyId:_0x4c7b98}=_0x2674a2[_0x378a7f(0xdf)];await(0x0,DeleteService_1[_0x378a7f(0xd4)])(_0x1a4649,_0x4c7b98);const _0x212891=(0x0,socket_1[_0x378a7f(0xd3)])();return _0x212891[_0x378a7f(0xee)](_0x378a7f(0xf6)+_0x4c7b98+'-file',{'action':'delete','fileId':_0x1a4649}),_0x48d009['status'](0xc8)[_0x378a7f(0xff)]({'message':_0x378a7f(0xf2)});};exports[a19_0x4a5fd2(0xe9)]=remove;const removeAll=async(_0x2698b0,_0x56fe2f)=>{const _0x1fcbdf=a19_0x4a5fd2,{companyId:_0x547dc9}=_0x2698b0['user'];return await(0x0,DeleteAllService_1[_0x1fcbdf(0xd4)])(_0x547dc9),_0x56fe2f[_0x1fcbdf(0xde)]();};exports['removeAll']=removeAll;function a19_0x547c(){const _0x27859f=['__importDefault','findOne','../errors/AppError','filename','-file','message','files','send','user','../services/FileServices/CreateService','admin','show','264CNNbNX','profile','create','lodash','4847152TapCkn','../services/FileServices/UpdateService','remove','Arquivos\x20atualizados','head','293285JVBwsC','isArray','emit','index','removeAll','24BoEHEx','File\x20List\x20deleted','store','../libs/socket','defineProperty','company','352892bIvQon','entries','status','list','replace','8346114RHxqwt','query','259FwcyEx','json','../services/FileServices/SimpleListService','ERR_NO_PERMISSION','../services/FileServices/DeleteService','52710vzprip','1946Duyjgd','__esModule','../models/FilesOptions','541530TnXAsI','uploadMedias','../services/FileServices/ListService','params','../services/FileServices/ShowService','update','getIO','default','body','1167dJWLGE'];a19_0x547c=function(){return _0x27859f;};return a19_0x547c();}const list=async(_0xa61627,_0x1551a3)=>{const _0x1f50b4=a19_0x4a5fd2,{searchParam:_0x4f4dde}=_0xa61627[_0x1f50b4(0xfd)],{companyId:_0x2b0f61}=_0xa61627[_0x1f50b4(0xdf)],_0x3187de=await(0x0,SimpleListService_1[_0x1f50b4(0xd4)])({'searchParam':_0x4f4dde,'companyId':_0x2b0f61});return _0x1551a3[_0x1f50b4(0xff)](_0x3187de);};exports[a19_0x4a5fd2(0xfa)]=list;
>>>>>>> ab722bfbcf394d74dd0b99a984c0dcf6ffbcff7f
