'use strict';function a39_0xf99f(_0x479ef8,_0x3568eb){const _0x4e05b0=a39_0x4e05();return a39_0xf99f=function(_0xf99f37,_0xe758b4){_0xf99f37=_0xf99f37-0x85;let _0x56afee=_0x4e05b0[_0xf99f37];return _0x56afee;},a39_0xf99f(_0x479ef8,_0x3568eb);}const a39_0x9b39e5=a39_0xf99f;(function(_0x39c9fd,_0x147127){const _0x15f638=a39_0xf99f,_0x4b3cb5=_0x39c9fd();while(!![]){try{const _0x5b97a6=-parseInt(_0x15f638(0x99))/0x1*(-parseInt(_0x15f638(0x96))/0x2)+-parseInt(_0x15f638(0xa1))/0x3*(-parseInt(_0x15f638(0xa5))/0x4)+-parseInt(_0x15f638(0x8f))/0x5*(parseInt(_0x15f638(0x87))/0x6)+parseInt(_0x15f638(0xa3))/0x7*(parseInt(_0x15f638(0x8b))/0x8)+-parseInt(_0x15f638(0x94))/0x9+parseInt(_0x15f638(0x97))/0xa+parseInt(_0x15f638(0xaa))/0xb*(-parseInt(_0x15f638(0xab))/0xc);if(_0x5b97a6===_0x147127)break;else _0x4b3cb5['push'](_0x4b3cb5['shift']());}catch(_0x3630e7){_0x4b3cb5['push'](_0x4b3cb5['shift']());}}}(a39_0x4e05,0x28b4c));var __importDefault=this&&this[a39_0x9b39e5(0xa4)]||function(_0xbc8010){const _0x43f5d9=a39_0x9b39e5;return _0xbc8010&&_0xbc8010[_0x43f5d9(0x91)]?_0xbc8010:{'default':_0xbc8010};};Object[a39_0x9b39e5(0x88)](exports,a39_0x9b39e5(0x91),{'value':!![]}),exports[a39_0x9b39e5(0xad)]=exports[a39_0x9b39e5(0xa7)]=void 0x0;const Whatsapp_1=__importDefault(require(a39_0x9b39e5(0x9c))),facebookMessageListener_1=require(a39_0x9b39e5(0x9e)),index=async(_0x253c4e,_0x1b3d58)=>{const _0x583ec4=a39_0x9b39e5,_0x3785fc=process[_0x583ec4(0x89)][_0x583ec4(0x98)]||_0x583ec4(0x92),_0x3ab791=_0x253c4e[_0x583ec4(0x9a)][_0x583ec4(0x8e)],_0x244c04=_0x253c4e['query'][_0x583ec4(0xa0)],_0x23c83c=_0x253c4e['query'][_0x583ec4(0xa9)];if(_0x3ab791&&_0x244c04){if(_0x3ab791===_0x583ec4(0x8c)&&_0x244c04===_0x3785fc)return _0x1b3d58['status'](0xc8)[_0x583ec4(0xa6)](_0x23c83c);}return _0x1b3d58[_0x583ec4(0x9b)](0x193)[_0x583ec4(0x85)]({'message':'Forbidden'});};function a39_0x4e05(){const _0x592972=['env','facebook','537728NOkaYO','subscribe','page','hub.mode','35qmdBCC','object','__esModule','whaticket','default','2554272CIpjCZ','handleMessage','53234vUvqgx','2695780IXDnCb','VERIFY_TOKEN','9BOmEMp','query','status','../models/Whatsapp','EVENT_RECEIVED','../services/FacebookServices/facebookMessageListener','forEach','hub.verify_token','36513yZZqHq','entry','14wjwmBe','__importDefault','100GLpvel','send','index','companyId','hub.challenge','11eTtRUN','5510280CviwIP','findOne','webHook','json','messaging','32664TXrDcq','defineProperty'];a39_0x4e05=function(){return _0x592972;};return a39_0x4e05();}exports[a39_0x9b39e5(0xa7)]=index;const webHook=async(_0x28c4f0,_0x3188e5)=>{const _0x2c3291=a39_0x9b39e5;try{const {body:_0x80a553}=_0x28c4f0;if(_0x80a553[_0x2c3291(0x90)]===_0x2c3291(0x8d)||_0x80a553[_0x2c3291(0x90)]==='instagram'){let _0x5d0131;return _0x80a553[_0x2c3291(0x90)]===_0x2c3291(0x8d)?_0x5d0131=_0x2c3291(0x8a):_0x5d0131='instagram',_0x80a553[_0x2c3291(0xa2)]?.['forEach'](async _0x3b1e6f=>{const _0x24bebd=_0x2c3291,_0x2a61e3=await Whatsapp_1[_0x24bebd(0x93)][_0x24bebd(0xac)]({'where':{'facebookPageUserId':_0x3b1e6f['id'],'channel':_0x5d0131}});_0x2a61e3&&_0x3b1e6f[_0x24bebd(0x86)]?.[_0x24bebd(0x9f)](_0x4f4c48=>{const _0x1af304=_0x24bebd;(0x0,facebookMessageListener_1[_0x1af304(0x95)])(_0x2a61e3,_0x4f4c48,_0x5d0131,_0x2a61e3[_0x1af304(0xa8)]);});}),_0x3188e5[_0x2c3291(0x9b)](0xc8)[_0x2c3291(0x85)]({'message':_0x2c3291(0x9d)});}return _0x3188e5[_0x2c3291(0x9b)](0x194)['json']({'message':_0x80a553});}catch(_0x42d736){return _0x3188e5[_0x2c3291(0x9b)](0x1f4)[_0x2c3291(0x85)]({'message':_0x42d736});}};exports[a39_0x9b39e5(0xad)]=webHook;