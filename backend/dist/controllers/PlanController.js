'use strict';const a24_0xdb9eb2=a24_0x472a;(function(_0x55c925,_0x40fb21){const _0x267936=a24_0x472a,_0x595749=_0x55c925();while(!![]){try{const _0x2fb0c0=parseInt(_0x267936(0x7c))/0x1+parseInt(_0x267936(0x87))/0x2*(-parseInt(_0x267936(0x90))/0x3)+parseInt(_0x267936(0xa5))/0x4*(-parseInt(_0x267936(0x86))/0x5)+parseInt(_0x267936(0x80))/0x6+-parseInt(_0x267936(0x9e))/0x7+parseInt(_0x267936(0x8b))/0x8+parseInt(_0x267936(0xa6))/0x9;if(_0x2fb0c0===_0x40fb21)break;else _0x595749['push'](_0x595749['shift']());}catch(_0x2aa9ef){_0x595749['push'](_0x595749['shift']());}}}(a24_0x3da8,0x6d347));var __createBinding=this&&this[a24_0xdb9eb2(0x97)]||(Object[a24_0xdb9eb2(0x89)]?function(_0x2fc209,_0x3d432c,_0x2148d1,_0x13500e){const _0x2ef18d=a24_0xdb9eb2;if(_0x13500e===undefined)_0x13500e=_0x2148d1;var _0x511844=Object['getOwnPropertyDescriptor'](_0x3d432c,_0x2148d1);(!_0x511844||(_0x2ef18d(0xa8)in _0x511844?!_0x3d432c['__esModule']:_0x511844[_0x2ef18d(0x74)]||_0x511844[_0x2ef18d(0x77)]))&&(_0x511844={'enumerable':!![],'get':function(){return _0x3d432c[_0x2148d1];}}),Object[_0x2ef18d(0x91)](_0x2fc209,_0x13500e,_0x511844);}:function(_0x2d9b33,_0x79c36,_0x227014,_0x18c9a4){if(_0x18c9a4===undefined)_0x18c9a4=_0x227014;_0x2d9b33[_0x18c9a4]=_0x79c36[_0x227014];}),__setModuleDefault=this&&this[a24_0xdb9eb2(0x73)]||(Object[a24_0xdb9eb2(0x89)]?function(_0x41e3dd,_0x440490){const _0x1fe72e=a24_0xdb9eb2;Object[_0x1fe72e(0x91)](_0x41e3dd,_0x1fe72e(0x82),{'enumerable':!![],'value':_0x440490});}:function(_0xc2082c,_0xd2045e){const _0x590061=a24_0xdb9eb2;_0xc2082c[_0x590061(0x82)]=_0xd2045e;}),__importStar=this&&this[a24_0xdb9eb2(0xa9)]||function(_0x2fabe7){const _0x120668=a24_0xdb9eb2;if(_0x2fabe7&&_0x2fabe7[_0x120668(0x98)])return _0x2fabe7;var _0x417f09={};if(_0x2fabe7!=null){for(var _0x16bd40 in _0x2fabe7)if(_0x16bd40!==_0x120668(0x82)&&Object[_0x120668(0x76)][_0x120668(0x85)][_0x120668(0x78)](_0x2fabe7,_0x16bd40))__createBinding(_0x417f09,_0x2fabe7,_0x16bd40);}return __setModuleDefault(_0x417f09,_0x2fabe7),_0x417f09;},__importDefault=this&&this['__importDefault']||function(_0x5624d4){const _0x17c58a=a24_0xdb9eb2;return _0x5624d4&&_0x5624d4[_0x17c58a(0x98)]?_0x5624d4:{'default':_0x5624d4};};Object[a24_0xdb9eb2(0x91)](exports,a24_0xdb9eb2(0x98),{'value':!![]}),exports[a24_0xdb9eb2(0xa0)]=exports[a24_0xdb9eb2(0x7f)]=exports[a24_0xdb9eb2(0x8d)]=exports['store']=exports[a24_0xdb9eb2(0xae)]=exports[a24_0xdb9eb2(0xad)]=void 0x0;const jsonwebtoken_1=require('jsonwebtoken'),auth_1=__importDefault(require(a24_0xdb9eb2(0x8a))),Yup=__importStar(require(a24_0xdb9eb2(0x9d))),AppError_1=__importDefault(require('../errors/AppError')),Plan_1=__importDefault(require(a24_0xdb9eb2(0xa4))),ListPlansService_1=__importDefault(require('../services/PlanService/ListPlansService')),CreatePlanService_1=__importDefault(require(a24_0xdb9eb2(0xaa))),UpdatePlanService_1=__importDefault(require(a24_0xdb9eb2(0x79))),ShowPlanService_1=__importDefault(require(a24_0xdb9eb2(0x7e))),FindAllPlanService_1=__importDefault(require(a24_0xdb9eb2(0x7a))),DeletePlanService_1=__importDefault(require(a24_0xdb9eb2(0xa3))),User_1=__importDefault(require(a24_0xdb9eb2(0x9f))),Company_1=__importDefault(require('../models/Company')),index=async(_0x3baa7d,_0x5a560f)=>{const _0x27ef88=a24_0xdb9eb2,{searchParam:_0x20262d,pageNumber:_0x31ab94}=_0x3baa7d[_0x27ef88(0x9b)],_0x136b2c=_0x3baa7d[_0x27ef88(0x7d)]['authorization'],[,_0x3299b0]=_0x136b2c[_0x27ef88(0xac)]('\x20'),_0x57165e=(0x0,jsonwebtoken_1['verify'])(_0x3299b0,auth_1['default']['secret']),{id:_0x317edf,profile:_0x38d220,companyId:_0x3ca7ac}=_0x57165e,_0x17dfb9=await User_1[_0x27ef88(0x82)][_0x27ef88(0x95)](_0x317edf),_0x90af7f=await Company_1[_0x27ef88(0x82)][_0x27ef88(0x95)](_0x3ca7ac),_0x398da8=_0x90af7f[_0x27ef88(0x83)],_0x432dc6=await Plan_1['default'][_0x27ef88(0x95)](_0x398da8),_0x21e9f4=_0x432dc6[_0x27ef88(0x96)];if(_0x17dfb9['super']===!![]){const {plans:_0x46cbb4,count:_0x582623,hasMore:_0x4e4b93}=await(0x0,ListPlansService_1[_0x27ef88(0x82)])({'searchParam':_0x20262d,'pageNumber':_0x31ab94});return _0x5a560f['json']({'plans':_0x46cbb4,'count':_0x582623,'hasMore':_0x4e4b93});}else{const {plans:_0x38c02f,count:_0x1c8d8d,hasMore:_0x3f3984}=await(0x0,ListPlansService_1['default'])({'searchParam':_0x21e9f4,'pageNumber':_0x31ab94});return _0x5a560f['json']({'plans':_0x38c02f,'count':_0x1c8d8d,'hasMore':_0x3f3984});}};exports[a24_0xdb9eb2(0xad)]=index;const list=async(_0x359b5a,_0x39cdc8)=>{const _0x5eaa58=a24_0xdb9eb2,_0x3ab4c2=await(0x0,FindAllPlanService_1[_0x5eaa58(0x82)])();return _0x39cdc8[_0x5eaa58(0x75)](0xc8)['json'](_0x3ab4c2);};exports[a24_0xdb9eb2(0xae)]=list;const store=async(_0x34a2a6,_0x4a9c8f)=>{const _0x1ec741=a24_0xdb9eb2,_0x52e294=_0x34a2a6[_0x1ec741(0x88)],_0x11a10c=Yup[_0x1ec741(0xa7)]()[_0x1ec741(0x9a)]({'name':Yup[_0x1ec741(0xa2)]()[_0x1ec741(0x92)]()});try{await _0x11a10c[_0x1ec741(0x8e)](_0x52e294);}catch(_0x36d091){throw new AppError_1[(_0x1ec741(0x82))](_0x36d091[_0x1ec741(0x8f)]);}const _0x1c011b=await(0x0,CreatePlanService_1[_0x1ec741(0x82)])(_0x52e294);return _0x4a9c8f[_0x1ec741(0x75)](0xc8)['json'](_0x1c011b);};exports['store']=store;function a24_0x3da8(){const _0xdf882c=['69SUortC','defineProperty','required','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','super','findByPk','name','__createBinding','__esModule','verify','shape','query','log','yup','5216302kieYFw','../models/User','remove','plano\x20id>\x20','string','../services/PlanService/DeletePlanService','../models/Plan','4028wplgeT','7341300hISXow','object','get','__importStar','../services/PlanService/CreatePlanService','authorization','split','index','list','toString','__setModuleDefault','writable','status','prototype','configurable','call','../services/PlanService/UpdatePlanService','../services/PlanService/FindAllPlanService','json','487435RJjkIH','headers','../services/PlanService/ShowPlanService','update','4789206sybNlI','useOpenAi','default','planId','params','hasOwnProperty','2480PWvRyp','50486pFmwwb','body','create','../config/auth','1369712MpHNaN','secret','show','validate','message'];a24_0x3da8=function(){return _0xdf882c;};return a24_0x3da8();}const show=async(_0x373d6a,_0x1a8479)=>{const _0x342f56=a24_0xdb9eb2,{id:_0x4d7162}=_0x373d6a[_0x342f56(0x84)],_0x11e524=_0x373d6a[_0x342f56(0x7d)][_0x342f56(0xab)],[,_0x3af096]=_0x11e524[_0x342f56(0xac)]('\x20'),_0x3c0559=(0x0,jsonwebtoken_1[_0x342f56(0x99)])(_0x3af096,auth_1[_0x342f56(0x82)]['secret']),{id:_0x18a2e6,profile:_0x5222b4,companyId:_0xd4e9e2}=_0x3c0559,_0x195eed=await User_1[_0x342f56(0x82)][_0x342f56(0x95)](_0x18a2e6),_0x1f937e=await Company_1[_0x342f56(0x82)]['findByPk'](_0xd4e9e2),_0x2f79dd=_0x1f937e[_0x342f56(0x83)];if(_0x195eed[_0x342f56(0x94)]===!![]){const _0x5fdd64=await(0x0,ShowPlanService_1['default'])(_0x4d7162);return _0x1a8479[_0x342f56(0x75)](0xc8)['json'](_0x5fdd64);}else{if(_0x4d7162!==_0x2f79dd['toString']())return _0x1a8479['status'](0x190)['json']({'error':_0x342f56(0x93)});else{if(_0x4d7162===_0x2f79dd[_0x342f56(0x72)]()){const _0x871e82=await(0x0,ShowPlanService_1[_0x342f56(0x82)])(_0x4d7162);return _0x1a8479[_0x342f56(0x75)](0xc8)[_0x342f56(0x7b)](_0x871e82);}}}};exports['show']=show;const update=async(_0x7038ec,_0x5182d4)=>{const _0xb98ac7=a24_0xdb9eb2,_0x1c304f=_0x7038ec[_0xb98ac7(0x88)],_0x4543d5=Yup[_0xb98ac7(0xa7)]()[_0xb98ac7(0x9a)]({'name':Yup['string']()});try{await _0x4543d5['validate'](_0x1c304f);}catch(_0x5ab592){throw new AppError_1['default'](_0x5ab592[_0xb98ac7(0x8f)]);}const {id:_0x359ff2}=_0x1c304f;console[_0xb98ac7(0x9c)](_0xb98ac7(0xa1),_0x359ff2);const _0x32b7dd=_0x7038ec['headers'][_0xb98ac7(0xab)],[,_0x32b128]=_0x32b7dd[_0xb98ac7(0xac)]('\x20'),_0x22464b=(0x0,jsonwebtoken_1['verify'])(_0x32b128,auth_1['default'][_0xb98ac7(0x8c)]),{id:_0x54139a,profile:_0x2c9c1e,companyId:_0x5d54d4}=_0x22464b,_0x21b831=await User_1[_0xb98ac7(0x82)]['findByPk'](_0x54139a),_0x2656ad=await Company_1['default'][_0xb98ac7(0x95)](_0x5d54d4),_0x1c5c65=_0x2656ad['planId'];if(_0x21b831[_0xb98ac7(0x94)]===!![]){const _0x50ed25=await(0x0,UpdatePlanService_1[_0xb98ac7(0x82)])(_0x1c304f);return console[_0xb98ac7(0x9c)](_0x50ed25[_0xb98ac7(0x81)]),_0x5182d4[_0xb98ac7(0x75)](0xc8)[_0xb98ac7(0x7b)](_0x50ed25);}else{if(_0x1c5c65[_0xb98ac7(0x72)]()!==_0x359ff2)return _0x5182d4[_0xb98ac7(0x75)](0x190)['json']({'error':_0xb98ac7(0x93)});}};exports[a24_0xdb9eb2(0x7f)]=update;const remove=async(_0xce24dc,_0x4599e3)=>{const _0x3468c1=a24_0xdb9eb2,{id:_0x2eef56}=_0xce24dc[_0x3468c1(0x84)],_0x33c5af=_0xce24dc[_0x3468c1(0x7d)]['authorization'],[,_0x26a7c3]=_0x33c5af['split']('\x20'),_0x31e93b=(0x0,jsonwebtoken_1[_0x3468c1(0x99)])(_0x26a7c3,auth_1[_0x3468c1(0x82)][_0x3468c1(0x8c)]),{id:_0xea0552,profile:_0x5d20e5,companyId:_0x2e3ddb}=_0x31e93b,_0x4d488a=await User_1[_0x3468c1(0x82)]['findByPk'](_0xea0552);if(_0x4d488a[_0x3468c1(0x94)]===!![]){const _0x14d7dd=await(0x0,DeletePlanService_1[_0x3468c1(0x82)])(_0x2eef56);return _0x4599e3[_0x3468c1(0x75)](0xc8)[_0x3468c1(0x7b)](_0x14d7dd);}else{if(_0x2e3ddb[_0x3468c1(0x72)]()!==_0x2eef56)return _0x4599e3[_0x3468c1(0x75)](0x190)[_0x3468c1(0x7b)]({'error':_0x3468c1(0x93)});}};function a24_0x472a(_0x4e1c0e,_0x4ad1a4){const _0x3da80e=a24_0x3da8();return a24_0x472a=function(_0x472a7b,_0x4d051f){_0x472a7b=_0x472a7b-0x72;let _0x12ea02=_0x3da80e[_0x472a7b];return _0x12ea02;},a24_0x472a(_0x4e1c0e,_0x4ad1a4);}exports[a24_0xdb9eb2(0xa0)]=remove;