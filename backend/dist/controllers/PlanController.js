'use strict';const a24_0xf39354=a24_0x1a4e;(function(_0x20aacd,_0x5b39b5){const _0x2ea907=a24_0x1a4e,_0xad7bda=_0x20aacd();while(!![]){try{const _0x6312fa=-parseInt(_0x2ea907(0x17a))/0x1+parseInt(_0x2ea907(0x161))/0x2*(-parseInt(_0x2ea907(0x13d))/0x3)+-parseInt(_0x2ea907(0x169))/0x4*(-parseInt(_0x2ea907(0x14d))/0x5)+-parseInt(_0x2ea907(0x17d))/0x6*(parseInt(_0x2ea907(0x140))/0x7)+parseInt(_0x2ea907(0x178))/0x8*(parseInt(_0x2ea907(0x15d))/0x9)+parseInt(_0x2ea907(0x14a))/0xa*(parseInt(_0x2ea907(0x148))/0xb)+-parseInt(_0x2ea907(0x14e))/0xc*(-parseInt(_0x2ea907(0x165))/0xd);if(_0x6312fa===_0x5b39b5)break;else _0xad7bda['push'](_0xad7bda['shift']());}catch(_0x356957){_0xad7bda['push'](_0xad7bda['shift']());}}}(a24_0x2506,0x47724));var __createBinding=this&&this[a24_0xf39354(0x15a)]||(Object[a24_0xf39354(0x175)]?function(_0x2ffb86,_0x5f4fa9,_0x30719b,_0x2c1d60){const _0x3ba8b4=a24_0xf39354;if(_0x2c1d60===undefined)_0x2c1d60=_0x30719b;var _0x25ac90=Object[_0x3ba8b4(0x14c)](_0x5f4fa9,_0x30719b);(!_0x25ac90||('get'in _0x25ac90?!_0x5f4fa9[_0x3ba8b4(0x144)]:_0x25ac90[_0x3ba8b4(0x166)]||_0x25ac90['configurable']))&&(_0x25ac90={'enumerable':!![],'get':function(){return _0x5f4fa9[_0x30719b];}}),Object[_0x3ba8b4(0x141)](_0x2ffb86,_0x2c1d60,_0x25ac90);}:function(_0x5023d3,_0xcbf39f,_0xefc8a,_0x568350){if(_0x568350===undefined)_0x568350=_0xefc8a;_0x5023d3[_0x568350]=_0xcbf39f[_0xefc8a];}),__setModuleDefault=this&&this[a24_0xf39354(0x153)]||(Object[a24_0xf39354(0x175)]?function(_0x174fe2,_0x37f3c9){const _0xd7830e=a24_0xf39354;Object[_0xd7830e(0x141)](_0x174fe2,_0xd7830e(0x168),{'enumerable':!![],'value':_0x37f3c9});}:function(_0x477019,_0x9fb89f){_0x477019['default']=_0x9fb89f;}),__importStar=this&&this[a24_0xf39354(0x162)]||function(_0x6b50a){const _0x2095e2=a24_0xf39354;if(_0x6b50a&&_0x6b50a[_0x2095e2(0x144)])return _0x6b50a;var _0xfa24dd={};if(_0x6b50a!=null){for(var _0x121305 in _0x6b50a)if(_0x121305!==_0x2095e2(0x168)&&Object[_0x2095e2(0x147)][_0x2095e2(0x16e)][_0x2095e2(0x17c)](_0x6b50a,_0x121305))__createBinding(_0xfa24dd,_0x6b50a,_0x121305);}return __setModuleDefault(_0xfa24dd,_0x6b50a),_0xfa24dd;},__importDefault=this&&this[a24_0xf39354(0x14f)]||function(_0x1a8cd5){const _0x2c5bd4=a24_0xf39354;return _0x1a8cd5&&_0x1a8cd5[_0x2c5bd4(0x144)]?_0x1a8cd5:{'default':_0x1a8cd5};};Object['defineProperty'](exports,a24_0xf39354(0x144),{'value':!![]}),exports[a24_0xf39354(0x155)]=exports['update']=exports[a24_0xf39354(0x179)]=exports[a24_0xf39354(0x159)]=exports[a24_0xf39354(0x174)]=exports[a24_0xf39354(0x173)]=void 0x0;const jsonwebtoken_1=require('jsonwebtoken'),auth_1=__importDefault(require(a24_0xf39354(0x149))),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a24_0xf39354(0x13e))),Plan_1=__importDefault(require('../models/Plan')),ListPlansService_1=__importDefault(require(a24_0xf39354(0x16b))),CreatePlanService_1=__importDefault(require(a24_0xf39354(0x16a))),UpdatePlanService_1=__importDefault(require(a24_0xf39354(0x150))),ShowPlanService_1=__importDefault(require(a24_0xf39354(0x156))),FindAllPlanService_1=__importDefault(require('../services/PlanService/FindAllPlanService')),DeletePlanService_1=__importDefault(require(a24_0xf39354(0x164))),User_1=__importDefault(require(a24_0xf39354(0x17b))),Company_1=__importDefault(require(a24_0xf39354(0x176))),index=async(_0x4326d2,_0x43d6f1)=>{const _0x17ff95=a24_0xf39354,{searchParam:_0x5cc39c,pageNumber:_0x1678f3}=_0x4326d2[_0x17ff95(0x167)],_0x1bf263=_0x4326d2['headers'][_0x17ff95(0x158)],[,_0x5f239b]=_0x1bf263['split']('\x20'),_0x4a5b6c=(0x0,jsonwebtoken_1[_0x17ff95(0x14b)])(_0x5f239b,auth_1[_0x17ff95(0x168)][_0x17ff95(0x15b)]),{id:_0x300dc8,profile:_0xf1d5a3,companyId:_0x32a9f2}=_0x4a5b6c,_0x22442f=await User_1['default']['findByPk'](_0x300dc8),_0x53d7cd=await Company_1['default'][_0x17ff95(0x177)](_0x32a9f2),_0x2a4804=_0x53d7cd[_0x17ff95(0x145)],_0x3a637c=await Plan_1[_0x17ff95(0x168)][_0x17ff95(0x177)](_0x2a4804),_0x1b1575=_0x3a637c[_0x17ff95(0x160)];if(_0x22442f[_0x17ff95(0x15c)]===!![]){const {plans:_0x5c2fbc,count:_0x372171,hasMore:_0x16929f}=await(0x0,ListPlansService_1['default'])({'searchParam':_0x5cc39c,'pageNumber':_0x1678f3});return _0x43d6f1['json']({'plans':_0x5c2fbc,'count':_0x372171,'hasMore':_0x16929f});}else{const {plans:_0x2f6f64,count:_0x3729c6,hasMore:_0x335c2a}=await(0x0,ListPlansService_1[_0x17ff95(0x168)])({'searchParam':_0x1b1575,'pageNumber':_0x1678f3});return _0x43d6f1[_0x17ff95(0x154)]({'plans':_0x2f6f64,'count':_0x3729c6,'hasMore':_0x335c2a});}};exports['index']=index;const list=async(_0x120f7a,_0x399540)=>{const _0x1f0e62=a24_0xf39354,_0x25ee22=await(0x0,FindAllPlanService_1[_0x1f0e62(0x168)])();return _0x399540['status'](0xc8)[_0x1f0e62(0x154)](_0x25ee22);};function a24_0x2506(){const _0x16361f=['name','10weOqir','__importStar','log','../services/PlanService/DeletePlanService','2163382IBPawT','writable','query','default','13352SaybOt','../services/PlanService/CreatePlanService','../services/PlanService/ListPlansService','string','params','hasOwnProperty','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','headers','split','update','index','list','create','../models/Company','findByPk','293584aWtfxz','show','472546qIwPvf','../models/User','call','18qipomU','message','73749mSQcyu','../errors/AppError','status','186718HqkKdM','defineProperty','shape','object','__esModule','planId','validate','prototype','21131PNRCmh','../config/auth','150LDoNQg','verify','getOwnPropertyDescriptor','245etyhHA','48YVQPOt','__importDefault','../services/PlanService/UpdatePlanService','body','useOpenAi','__setModuleDefault','json','remove','../services/PlanService/ShowPlanService','required','authorization','store','__createBinding','secret','super','27QuEFDh','toString','plano\x20id>\x20'];a24_0x2506=function(){return _0x16361f;};return a24_0x2506();}exports[a24_0xf39354(0x174)]=list;const store=async(_0x40d3d3,_0x484e35)=>{const _0xb9ebc9=a24_0xf39354,_0x251520=_0x40d3d3['body'],_0x5c74a0=Yup[_0xb9ebc9(0x143)]()['shape']({'name':Yup[_0xb9ebc9(0x16c)]()[_0xb9ebc9(0x157)]()});try{await _0x5c74a0[_0xb9ebc9(0x146)](_0x251520);}catch(_0x5ec16f){throw new AppError_1[(_0xb9ebc9(0x168))](_0x5ec16f[_0xb9ebc9(0x13c)]);}const _0x5037a2=await(0x0,CreatePlanService_1['default'])(_0x251520);return _0x484e35[_0xb9ebc9(0x13f)](0xc8)[_0xb9ebc9(0x154)](_0x5037a2);};exports[a24_0xf39354(0x159)]=store;function a24_0x1a4e(_0x439d11,_0x121c04){const _0x2506c9=a24_0x2506();return a24_0x1a4e=function(_0x1a4ea1,_0x5f2eee){_0x1a4ea1=_0x1a4ea1-0x13c;let _0x44f7fe=_0x2506c9[_0x1a4ea1];return _0x44f7fe;},a24_0x1a4e(_0x439d11,_0x121c04);}const show=async(_0x975233,_0x3b0429)=>{const _0x3b8977=a24_0xf39354,{id:_0x43832f}=_0x975233['params'],_0x2ac1a0=_0x975233[_0x3b8977(0x170)][_0x3b8977(0x158)],[,_0x325a8a]=_0x2ac1a0[_0x3b8977(0x171)]('\x20'),_0x1fab39=(0x0,jsonwebtoken_1[_0x3b8977(0x14b)])(_0x325a8a,auth_1[_0x3b8977(0x168)]['secret']),{id:_0x13c47f,profile:_0x545211,companyId:_0x2f910f}=_0x1fab39,_0x695c65=await User_1[_0x3b8977(0x168)]['findByPk'](_0x13c47f),_0x43d690=await Company_1[_0x3b8977(0x168)]['findByPk'](_0x2f910f),_0x18dafe=_0x43d690[_0x3b8977(0x145)];if(_0x695c65['super']===!![]){const _0x15ddb3=await(0x0,ShowPlanService_1[_0x3b8977(0x168)])(_0x43832f);return _0x3b0429[_0x3b8977(0x13f)](0xc8)[_0x3b8977(0x154)](_0x15ddb3);}else{if(_0x43832f!==_0x18dafe[_0x3b8977(0x15e)]())return _0x3b0429['status'](0x190)[_0x3b8977(0x154)]({'error':'Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!'});else{if(_0x43832f===_0x18dafe['toString']()){const _0x76c8f7=await(0x0,ShowPlanService_1[_0x3b8977(0x168)])(_0x43832f);return _0x3b0429['status'](0xc8)['json'](_0x76c8f7);}}}};exports[a24_0xf39354(0x179)]=show;const update=async(_0xb96195,_0x32ef85)=>{const _0x775e54=a24_0xf39354,_0x1b1095=_0xb96195[_0x775e54(0x151)],_0x2416b9=Yup['object']()[_0x775e54(0x142)]({'name':Yup[_0x775e54(0x16c)]()});try{await _0x2416b9[_0x775e54(0x146)](_0x1b1095);}catch(_0x64f932){throw new AppError_1[(_0x775e54(0x168))](_0x64f932['message']);}const {id:_0x160d44}=_0x1b1095;console['log'](_0x775e54(0x15f),_0x160d44);const _0x39cff5=_0xb96195[_0x775e54(0x170)][_0x775e54(0x158)],[,_0x40cfb8]=_0x39cff5[_0x775e54(0x171)]('\x20'),_0x309cc3=(0x0,jsonwebtoken_1['verify'])(_0x40cfb8,auth_1[_0x775e54(0x168)][_0x775e54(0x15b)]),{id:_0x2a32f9,profile:_0x2496d9,companyId:_0x240be1}=_0x309cc3,_0x2c85b5=await User_1[_0x775e54(0x168)]['findByPk'](_0x2a32f9),_0x2c595b=await Company_1['default'][_0x775e54(0x177)](_0x240be1),_0x46ae8f=_0x2c595b[_0x775e54(0x145)];if(_0x2c85b5[_0x775e54(0x15c)]===!![]){const _0x29765e=await(0x0,UpdatePlanService_1['default'])(_0x1b1095);return console[_0x775e54(0x163)](_0x29765e[_0x775e54(0x152)]),_0x32ef85[_0x775e54(0x13f)](0xc8)[_0x775e54(0x154)](_0x29765e);}else{if(_0x46ae8f[_0x775e54(0x15e)]()!==_0x160d44)return _0x32ef85[_0x775e54(0x13f)](0x190)['json']({'error':_0x775e54(0x16f)});}};exports[a24_0xf39354(0x172)]=update;const remove=async(_0x4aedc2,_0x39318d)=>{const _0x91412b=a24_0xf39354,{id:_0x172492}=_0x4aedc2[_0x91412b(0x16d)],_0x32dfb0=_0x4aedc2[_0x91412b(0x170)][_0x91412b(0x158)],[,_0x48ca6c]=_0x32dfb0[_0x91412b(0x171)]('\x20'),_0x4846a5=(0x0,jsonwebtoken_1[_0x91412b(0x14b)])(_0x48ca6c,auth_1['default'][_0x91412b(0x15b)]),{id:_0x3f0a48,profile:_0xc7f832,companyId:_0x3ab351}=_0x4846a5,_0x44e8f0=await User_1[_0x91412b(0x168)][_0x91412b(0x177)](_0x3f0a48);if(_0x44e8f0[_0x91412b(0x15c)]===!![]){const _0x25c68c=await(0x0,DeletePlanService_1[_0x91412b(0x168)])(_0x172492);return _0x39318d['status'](0xc8)[_0x91412b(0x154)](_0x25c68c);}else{if(_0x3ab351[_0x91412b(0x15e)]()!==_0x172492)return _0x39318d[_0x91412b(0x13f)](0x190)['json']({'error':_0x91412b(0x16f)});}};exports['remove']=remove;