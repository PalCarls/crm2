'use strict';const a24_0x9e97a1=a24_0x4ea4;(function(_0x723a83,_0x60ba2b){const _0x320409=a24_0x4ea4,_0x47fe44=_0x723a83();while(!![]){try{const _0x423809=-parseInt(_0x320409(0xe0))/0x1+parseInt(_0x320409(0xe5))/0x2+parseInt(_0x320409(0x10d))/0x3*(parseInt(_0x320409(0xe8))/0x4)+parseInt(_0x320409(0x10a))/0x5*(-parseInt(_0x320409(0x108))/0x6)+-parseInt(_0x320409(0xed))/0x7+parseInt(_0x320409(0x105))/0x8*(parseInt(_0x320409(0x101))/0x9)+parseInt(_0x320409(0x119))/0xa;if(_0x423809===_0x60ba2b)break;else _0x47fe44['push'](_0x47fe44['shift']());}catch(_0x53ad26){_0x47fe44['push'](_0x47fe44['shift']());}}}(a24_0x17dc,0xb6247));function a24_0x17dc(){const _0x16b809=['super','show','483752iDKyaX','defineProperty','../services/PlanService/DeletePlanService','4015048jgWdtR','name','jsonwebtoken','body','configurable','8604106xCytje','params','__importStar','secret','default','log','store','__setModuleDefault','remove','Você\x20não\x20possui\x20permissão\x20para\x20acessar\x20este\x20recurso!','useOpenAi','../errors/AppError','../models/User','../services/PlanService/UpdatePlanService','hasOwnProperty','__importDefault','__esModule','__createBinding','../models/Company','validate','341451JnGCjg','findByPk','shape','message','24MEpbWh','toString','../services/PlanService/CreatePlanService','132fgXcsM','split','126245gTOytC','object','verify','3WKLpgC','planId','status','index','authorization','required','../services/PlanService/FindAllPlanService','query','headers','string','yup','list','17582570TAQNXQ','../models/Plan','587021xSaRgL','update','json'];a24_0x17dc=function(){return _0x16b809;};return a24_0x17dc();}var __createBinding=this&&this[a24_0x9e97a1(0xfe)]||(Object['create']?function(_0x13804a,_0x2d5102,_0x865c68,_0x1c400b){const _0x179e7d=a24_0x9e97a1;if(_0x1c400b===undefined)_0x1c400b=_0x865c68;var _0x2caa77=Object['getOwnPropertyDescriptor'](_0x2d5102,_0x865c68);(!_0x2caa77||('get'in _0x2caa77?!_0x2d5102[_0x179e7d(0xfd)]:_0x2caa77['writable']||_0x2caa77[_0x179e7d(0xec)]))&&(_0x2caa77={'enumerable':!![],'get':function(){return _0x2d5102[_0x865c68];}}),Object['defineProperty'](_0x13804a,_0x1c400b,_0x2caa77);}:function(_0x3021a4,_0x18687b,_0x4bad21,_0x49bfd7){if(_0x49bfd7===undefined)_0x49bfd7=_0x4bad21;_0x3021a4[_0x49bfd7]=_0x18687b[_0x4bad21];}),__setModuleDefault=this&&this[a24_0x9e97a1(0xf4)]||(Object['create']?function(_0x58937d,_0x478043){const _0x4ae275=a24_0x9e97a1;Object[_0x4ae275(0xe6)](_0x58937d,_0x4ae275(0xf1),{'enumerable':!![],'value':_0x478043});}:function(_0x43f295,_0x261d71){const _0x20f9cd=a24_0x9e97a1;_0x43f295[_0x20f9cd(0xf1)]=_0x261d71;}),__importStar=this&&this[a24_0x9e97a1(0xef)]||function(_0x302893){const _0x3cae1d=a24_0x9e97a1;if(_0x302893&&_0x302893[_0x3cae1d(0xfd)])return _0x302893;var _0x50836b={};if(_0x302893!=null){for(var _0x17fcea in _0x302893)if(_0x17fcea!==_0x3cae1d(0xf1)&&Object['prototype'][_0x3cae1d(0xfb)]['call'](_0x302893,_0x17fcea))__createBinding(_0x50836b,_0x302893,_0x17fcea);}return __setModuleDefault(_0x50836b,_0x302893),_0x50836b;},__importDefault=this&&this[a24_0x9e97a1(0xfc)]||function(_0x23bc9e){const _0x424d72=a24_0x9e97a1;return _0x23bc9e&&_0x23bc9e[_0x424d72(0xfd)]?_0x23bc9e:{'default':_0x23bc9e};};Object[a24_0x9e97a1(0xe6)](exports,a24_0x9e97a1(0xfd),{'value':!![]}),exports[a24_0x9e97a1(0xf5)]=exports[a24_0x9e97a1(0xe1)]=exports[a24_0x9e97a1(0xe4)]=exports['store']=exports[a24_0x9e97a1(0x118)]=exports[a24_0x9e97a1(0x110)]=void 0x0;const jsonwebtoken_1=require(a24_0x9e97a1(0xea)),auth_1=__importDefault(require('../config/auth')),Yup=__importStar(require(a24_0x9e97a1(0x117))),AppError_1=__importDefault(require(a24_0x9e97a1(0xf8))),Plan_1=__importDefault(require(a24_0x9e97a1(0xdf))),ListPlansService_1=__importDefault(require('../services/PlanService/ListPlansService')),CreatePlanService_1=__importDefault(require(a24_0x9e97a1(0x107))),UpdatePlanService_1=__importDefault(require(a24_0x9e97a1(0xfa))),ShowPlanService_1=__importDefault(require('../services/PlanService/ShowPlanService')),FindAllPlanService_1=__importDefault(require(a24_0x9e97a1(0x113))),DeletePlanService_1=__importDefault(require(a24_0x9e97a1(0xe7))),User_1=__importDefault(require(a24_0x9e97a1(0xf9))),Company_1=__importDefault(require(a24_0x9e97a1(0xff))),index=async(_0x11796a,_0x373b5d)=>{const _0x119025=a24_0x9e97a1,{searchParam:_0x21113b,pageNumber:_0x1cb673}=_0x11796a[_0x119025(0x114)],_0x379339=_0x11796a[_0x119025(0x115)][_0x119025(0x111)],[,_0x38c904]=_0x379339[_0x119025(0x109)]('\x20'),_0x4276db=(0x0,jsonwebtoken_1[_0x119025(0x10c)])(_0x38c904,auth_1[_0x119025(0xf1)][_0x119025(0xf0)]),{id:_0x457d5e,profile:_0x476c97,companyId:_0x23a819}=_0x4276db,_0x50f747=await User_1['default']['findByPk'](_0x457d5e),_0x37b87e=await Company_1[_0x119025(0xf1)][_0x119025(0x102)](_0x23a819),_0x1afdda=_0x37b87e[_0x119025(0x10e)],_0x3122be=await Plan_1[_0x119025(0xf1)]['findByPk'](_0x1afdda),_0x3be4ad=_0x3122be[_0x119025(0xe9)];if(_0x50f747[_0x119025(0xe3)]===!![]){const {plans:_0x1585ee,count:_0x1f8968,hasMore:_0x338b55}=await(0x0,ListPlansService_1[_0x119025(0xf1)])({'searchParam':_0x21113b,'pageNumber':_0x1cb673});return _0x373b5d[_0x119025(0xe2)]({'plans':_0x1585ee,'count':_0x1f8968,'hasMore':_0x338b55});}else{const {plans:_0x1e81e2,count:_0x1b1ea8,hasMore:_0x3fa6d8}=await(0x0,ListPlansService_1[_0x119025(0xf1)])({'searchParam':_0x3be4ad,'pageNumber':_0x1cb673});return _0x373b5d[_0x119025(0xe2)]({'plans':_0x1e81e2,'count':_0x1b1ea8,'hasMore':_0x3fa6d8});}};exports[a24_0x9e97a1(0x110)]=index;const list=async(_0x31e83d,_0x28918f)=>{const _0x4042e0=a24_0x9e97a1,_0x38bfed=await(0x0,FindAllPlanService_1[_0x4042e0(0xf1)])();return _0x28918f[_0x4042e0(0x10f)](0xc8)['json'](_0x38bfed);};exports[a24_0x9e97a1(0x118)]=list;function a24_0x4ea4(_0x410636,_0x375190){const _0x17dc12=a24_0x17dc();return a24_0x4ea4=function(_0x4ea43f,_0x421652){_0x4ea43f=_0x4ea43f-0xdf;let _0x154921=_0x17dc12[_0x4ea43f];return _0x154921;},a24_0x4ea4(_0x410636,_0x375190);}const store=async(_0x2dab06,_0x430d8a)=>{const _0x3159a9=a24_0x9e97a1,_0x4064bf=_0x2dab06[_0x3159a9(0xeb)],_0x4b8d14=Yup[_0x3159a9(0x10b)]()['shape']({'name':Yup[_0x3159a9(0x116)]()[_0x3159a9(0x112)]()});try{await _0x4b8d14[_0x3159a9(0x100)](_0x4064bf);}catch(_0x417152){throw new AppError_1[(_0x3159a9(0xf1))](_0x417152['message']);}const _0x47b8f2=await(0x0,CreatePlanService_1[_0x3159a9(0xf1)])(_0x4064bf);return _0x430d8a[_0x3159a9(0x10f)](0xc8)[_0x3159a9(0xe2)](_0x47b8f2);};exports[a24_0x9e97a1(0xf3)]=store;const show=async(_0xfa3b53,_0x327796)=>{const _0xa617ab=a24_0x9e97a1,{id:_0x23aca5}=_0xfa3b53['params'],_0x215e53=_0xfa3b53[_0xa617ab(0x115)]['authorization'],[,_0x2d8e2c]=_0x215e53[_0xa617ab(0x109)]('\x20'),_0x3f3b77=(0x0,jsonwebtoken_1[_0xa617ab(0x10c)])(_0x2d8e2c,auth_1[_0xa617ab(0xf1)][_0xa617ab(0xf0)]),{id:_0x1d15a6,profile:_0x414a10,companyId:_0xea8ed4}=_0x3f3b77,_0x411239=await User_1[_0xa617ab(0xf1)][_0xa617ab(0x102)](_0x1d15a6),_0x3542cd=await Company_1[_0xa617ab(0xf1)][_0xa617ab(0x102)](_0xea8ed4),_0x3412b8=_0x3542cd[_0xa617ab(0x10e)];if(_0x411239[_0xa617ab(0xe3)]===!![]){const _0x46b631=await(0x0,ShowPlanService_1[_0xa617ab(0xf1)])(_0x23aca5);return _0x327796[_0xa617ab(0x10f)](0xc8)[_0xa617ab(0xe2)](_0x46b631);}else{if(_0x23aca5!==_0x3412b8[_0xa617ab(0x106)]())return _0x327796[_0xa617ab(0x10f)](0x190)[_0xa617ab(0xe2)]({'error':_0xa617ab(0xf6)});else{if(_0x23aca5===_0x3412b8[_0xa617ab(0x106)]()){const _0x2b6b7e=await(0x0,ShowPlanService_1[_0xa617ab(0xf1)])(_0x23aca5);return _0x327796[_0xa617ab(0x10f)](0xc8)[_0xa617ab(0xe2)](_0x2b6b7e);}}}};exports[a24_0x9e97a1(0xe4)]=show;const update=async(_0x3960d6,_0x2dac60)=>{const _0x34a860=a24_0x9e97a1,_0x54c3e8=_0x3960d6[_0x34a860(0xeb)],_0x1250d5=Yup[_0x34a860(0x10b)]()[_0x34a860(0x103)]({'name':Yup['string']()});try{await _0x1250d5[_0x34a860(0x100)](_0x54c3e8);}catch(_0x47de2b){throw new AppError_1[(_0x34a860(0xf1))](_0x47de2b[_0x34a860(0x104)]);}const {id:_0xa502d9}=_0x54c3e8;console[_0x34a860(0xf2)]('plano\x20id>\x20',_0xa502d9);const _0x158a6c=_0x3960d6[_0x34a860(0x115)]['authorization'],[,_0x596cfb]=_0x158a6c[_0x34a860(0x109)]('\x20'),_0x1bd45c=(0x0,jsonwebtoken_1[_0x34a860(0x10c)])(_0x596cfb,auth_1[_0x34a860(0xf1)]['secret']),{id:_0x21038c,profile:_0x3d6a98,companyId:_0x1e03c3}=_0x1bd45c,_0x2e9505=await User_1['default'][_0x34a860(0x102)](_0x21038c),_0x18ca95=await Company_1[_0x34a860(0xf1)][_0x34a860(0x102)](_0x1e03c3),_0x296375=_0x18ca95[_0x34a860(0x10e)];if(_0x2e9505['super']===!![]){const _0x243cd6=await(0x0,UpdatePlanService_1[_0x34a860(0xf1)])(_0x54c3e8);return console[_0x34a860(0xf2)](_0x243cd6[_0x34a860(0xf7)]),_0x2dac60[_0x34a860(0x10f)](0xc8)['json'](_0x243cd6);}else{if(_0x296375[_0x34a860(0x106)]()!==_0xa502d9)return _0x2dac60[_0x34a860(0x10f)](0x190)[_0x34a860(0xe2)]({'error':_0x34a860(0xf6)});}};exports[a24_0x9e97a1(0xe1)]=update;const remove=async(_0x4bad71,_0x53fcdb)=>{const _0x57c8f2=a24_0x9e97a1,{id:_0x246178}=_0x4bad71[_0x57c8f2(0xee)],_0x1fa9ae=_0x4bad71[_0x57c8f2(0x115)][_0x57c8f2(0x111)],[,_0x23ee00]=_0x1fa9ae[_0x57c8f2(0x109)]('\x20'),_0x2f1100=(0x0,jsonwebtoken_1['verify'])(_0x23ee00,auth_1['default'][_0x57c8f2(0xf0)]),{id:_0x3d3a2f,profile:_0x14028d,companyId:_0x30b98b}=_0x2f1100,_0x1003bc=await User_1[_0x57c8f2(0xf1)][_0x57c8f2(0x102)](_0x3d3a2f);if(_0x1003bc['super']===!![]){const _0x915a7e=await(0x0,DeletePlanService_1['default'])(_0x246178);return _0x53fcdb[_0x57c8f2(0x10f)](0xc8)[_0x57c8f2(0xe2)](_0x915a7e);}else{if(_0x30b98b['toString']()!==_0x246178)return _0x53fcdb[_0x57c8f2(0x10f)](0x190)[_0x57c8f2(0xe2)]({'error':_0x57c8f2(0xf6)});}};exports[a24_0x9e97a1(0xf5)]=remove;