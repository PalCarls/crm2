'use strict';const a36_0x5358a0=a36_0x22ec;(function(_0x433557,_0x14f0cd){const _0xe2fc02=a36_0x22ec,_0x41b679=_0x433557();while(!![]){try{const _0x3a4d45=parseInt(_0xe2fc02(0x168))/0x1+parseInt(_0xe2fc02(0x16b))/0x2+parseInt(_0xe2fc02(0x16d))/0x3+-parseInt(_0xe2fc02(0x173))/0x4*(-parseInt(_0xe2fc02(0x16c))/0x5)+-parseInt(_0xe2fc02(0x174))/0x6+parseInt(_0xe2fc02(0x172))/0x7+parseInt(_0xe2fc02(0x171))/0x8*(-parseInt(_0xe2fc02(0x176))/0x9);if(_0x3a4d45===_0x14f0cd)break;else _0x41b679['push'](_0x41b679['shift']());}catch(_0x160555){_0x41b679['push'](_0x41b679['shift']());}}}(a36_0x129e,0xc1547));function a36_0x129e(){const _0x5911b4=['Ticket\x20tags\x20removed\x20successfully.','1135280AKjPeU','1685GHfYMw','3016989pMZXCy','store','map','status','40CCTYwy','7473277Rwzwxd','6932BNKPrY','7250526dwjXCT','tagId','2343510DdSKxZ','defineProperty','__esModule','remove','default','params','json','findAll','__importDefault','77315vOQfwg','Failed\x20to\x20store\x20ticket\x20tag.'];a36_0x129e=function(){return _0x5911b4;};return a36_0x129e();}function a36_0x22ec(_0x2761eb,_0x4d79a4){const _0x129e6d=a36_0x129e();return a36_0x22ec=function(_0x22ec69,_0x3f2adf){_0x22ec69=_0x22ec69-0x167;let _0x42d47c=_0x129e6d[_0x22ec69];return _0x42d47c;},a36_0x22ec(_0x2761eb,_0x4d79a4);}var __importDefault=this&&this[a36_0x5358a0(0x167)]||function(_0x5243df){const _0x524f6f=a36_0x5358a0;return _0x5243df&&_0x5243df[_0x524f6f(0x178)]?_0x5243df:{'default':_0x5243df};};Object[a36_0x5358a0(0x177)](exports,a36_0x5358a0(0x178),{'value':!![]}),exports[a36_0x5358a0(0x179)]=exports[a36_0x5358a0(0x16e)]=void 0x0;const TicketTag_1=__importDefault(require('../models/TicketTag')),Tag_1=__importDefault(require('../models/Tag')),store=async(_0x169aff,_0x56d49e)=>{const _0x49e5ff=a36_0x5358a0,{ticketId:_0x5e7987,tagId:_0xd62c0}=_0x169aff[_0x49e5ff(0x17b)];try{const _0x4f6ebd=await TicketTag_1['default']['create']({'ticketId':_0x5e7987,'tagId':_0xd62c0});return _0x56d49e[_0x49e5ff(0x170)](0xc9)[_0x49e5ff(0x17c)](_0x4f6ebd);}catch(_0x3c8aaa){return _0x56d49e[_0x49e5ff(0x170)](0x1f4)[_0x49e5ff(0x17c)]({'error':_0x49e5ff(0x169)});}};exports[a36_0x5358a0(0x16e)]=store;const remove=async(_0x59e355,_0x25cd49)=>{const _0x3505c7=a36_0x5358a0,{ticketId:_0x57518d}=_0x59e355[_0x3505c7(0x17b)];try{const _0x36c299=await TicketTag_1[_0x3505c7(0x17a)][_0x3505c7(0x17d)]({'where':{'ticketId':_0x57518d}}),_0x1ac93b=_0x36c299[_0x3505c7(0x16f)](_0x4cc736=>_0x4cc736[_0x3505c7(0x175)]),_0x4afe3e=await Tag_1[_0x3505c7(0x17a)][_0x3505c7(0x17d)]({'where':{'id':_0x1ac93b,'kanban':0x1}}),_0x1271a4=_0x4afe3e[_0x3505c7(0x16f)](_0x3522a1=>_0x3522a1['id']);if(_0x1271a4)await TicketTag_1['default']['destroy']({'where':{'ticketId':_0x57518d,'tagId':_0x1271a4}});return _0x25cd49[_0x3505c7(0x170)](0xc8)[_0x3505c7(0x17c)]({'message':_0x3505c7(0x16a)});}catch(_0x3686a2){return _0x25cd49['status'](0x1f4)['json']({'error':'Failed\x20to\x20remove\x20ticket\x20tags.'});}};exports[a36_0x5358a0(0x179)]=remove;