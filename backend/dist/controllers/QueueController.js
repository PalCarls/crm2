'use strict';const a24_0xfcd883=a24_0xbbe0;function a24_0x58e5(){const _0x41f7f7=['486UyFoUC','getIO','json','__importDefault','../services/QueueService/ShowQueueService','__esModule','374986GcYKuU','1598166FgcQem','company-','index','params','1930YPdShG','update','user','944CeGEAk','365892diQbHo','status','default','4372HiYFuH','store','delete','show','../libs/socket','isNil','remove','body','2750SzHtVc','182559hhbwfY','33803cyijoP','defineProperty','query','send','-queue','emit','../services/QueueService/ListQueuesService'];a24_0x58e5=function(){return _0x41f7f7;};return a24_0x58e5();}(function(_0x3fe42d,_0x6b548d){const _0x131965=a24_0xbbe0,_0x522b54=_0x3fe42d();while(!![]){try{const _0x338eef=parseInt(_0x131965(0x127))/0x1+-parseInt(_0x131965(0x11e))/0x2+-parseInt(_0x131965(0x133))/0x3+parseInt(_0x131965(0x12a))/0x4*(-parseInt(_0x131965(0x132))/0x5)+parseInt(_0x131965(0x11f))/0x6+parseInt(_0x131965(0x111))/0x7*(parseInt(_0x131965(0x126))/0x8)+-parseInt(_0x131965(0x118))/0x9*(-parseInt(_0x131965(0x123))/0xa);if(_0x338eef===_0x6b548d)break;else _0x522b54['push'](_0x522b54['shift']());}catch(_0x50bd76){_0x522b54['push'](_0x522b54['shift']());}}}(a24_0x58e5,0x589f9));var __importDefault=this&&this[a24_0xfcd883(0x11b)]||function(_0x358849){const _0x4a3eed=a24_0xfcd883;return _0x358849&&_0x358849[_0x4a3eed(0x11d)]?_0x358849:{'default':_0x358849};};Object[a24_0xfcd883(0x112)](exports,a24_0xfcd883(0x11d),{'value':!![]}),exports['remove']=exports['update']=exports[a24_0xfcd883(0x12d)]=exports[a24_0xfcd883(0x12b)]=exports[a24_0xfcd883(0x121)]=void 0x0;const socket_1=require(a24_0xfcd883(0x12e)),CreateQueueService_1=__importDefault(require('../services/QueueService/CreateQueueService')),DeleteQueueService_1=__importDefault(require('../services/QueueService/DeleteQueueService')),ListQueuesService_1=__importDefault(require(a24_0xfcd883(0x117))),ShowQueueService_1=__importDefault(require(a24_0xfcd883(0x11c))),UpdateQueueService_1=__importDefault(require('../services/QueueService/UpdateQueueService')),lodash_1=require('lodash'),index=async(_0x2ddf49,_0x48a2f5)=>{const _0xcc3317=a24_0xfcd883,{companyId:_0x55d184}=_0x2ddf49[_0xcc3317(0x125)],{companyId:_0x9797fe}=_0x2ddf49[_0xcc3317(0x113)];let _0x49cebd=_0x55d184;!(0x0,lodash_1[_0xcc3317(0x12f)])(_0x9797fe)&&(_0x49cebd=+_0x9797fe);const _0x27873c=await(0x0,ListQueuesService_1[_0xcc3317(0x129)])({'companyId':_0x49cebd});return _0x48a2f5[_0xcc3317(0x128)](0xc8)[_0xcc3317(0x11a)](_0x27873c);};function a24_0xbbe0(_0x3513af,_0x78996a){const _0x58e534=a24_0x58e5();return a24_0xbbe0=function(_0xbbe042,_0x1b0154){_0xbbe042=_0xbbe042-0x111;let _0x203585=_0x58e534[_0xbbe042];return _0x203585;},a24_0xbbe0(_0x3513af,_0x78996a);}exports[a24_0xfcd883(0x121)]=index;const store=async(_0x27fab3,_0x3ccce8)=>{const _0x124a69=a24_0xfcd883,{name:_0x46f96d,color:_0xe0d376,greetingMessage:_0x50edc1,outOfHoursMessage:_0x1d9dcf,schedules:_0x106308,chatbots:_0x430794,orderQueue:_0x391468}=_0x27fab3[_0x124a69(0x131)],{companyId:_0x22afb8}=_0x27fab3[_0x124a69(0x125)],_0x302049=await(0x0,CreateQueueService_1[_0x124a69(0x129)])({'name':_0x46f96d,'color':_0xe0d376,'greetingMessage':_0x50edc1,'companyId':_0x22afb8,'outOfHoursMessage':_0x1d9dcf,'schedules':_0x106308,'chatbots':_0x430794,'orderQueue':_0x391468===''?null:_0x391468}),_0x2865f4=(0x0,socket_1[_0x124a69(0x119)])();return _0x2865f4[_0x124a69(0x116)](_0x124a69(0x120)+_0x22afb8+_0x124a69(0x115),{'action':_0x124a69(0x124),'queue':_0x302049}),_0x3ccce8['status'](0xc8)['json'](_0x302049);};exports[a24_0xfcd883(0x12b)]=store;const show=async(_0x3ff94b,_0x1c4dec)=>{const _0x507546=a24_0xfcd883,{queueId:_0x5290d9}=_0x3ff94b[_0x507546(0x122)],{companyId:_0x21fa45}=_0x3ff94b[_0x507546(0x125)],_0x102f4f=await(0x0,ShowQueueService_1['default'])(_0x5290d9,_0x21fa45);return _0x1c4dec[_0x507546(0x128)](0xc8)[_0x507546(0x11a)](_0x102f4f);};exports['show']=show;const update=async(_0x124da9,_0x15b5fc)=>{const _0x45e7fe=a24_0xfcd883,{queueId:_0x3b5f3f}=_0x124da9[_0x45e7fe(0x122)],{companyId:_0x4cb939}=_0x124da9['user'],_0x3c5fea=await(0x0,UpdateQueueService_1['default'])(_0x3b5f3f,_0x124da9['body'],_0x4cb939),_0x2abb79=(0x0,socket_1['getIO'])();return _0x2abb79['emit'](_0x45e7fe(0x120)+_0x4cb939+_0x45e7fe(0x115),{'action':_0x45e7fe(0x124),'queue':_0x3c5fea}),_0x15b5fc[_0x45e7fe(0x128)](0xc9)[_0x45e7fe(0x11a)](_0x3c5fea);};exports[a24_0xfcd883(0x124)]=update;const remove=async(_0x1830b6,_0x174f52)=>{const _0x1ffc71=a24_0xfcd883,{queueId:_0xc23d6d}=_0x1830b6[_0x1ffc71(0x122)],{companyId:_0x384a2b}=_0x1830b6['user'];await(0x0,DeleteQueueService_1[_0x1ffc71(0x129)])(_0xc23d6d,_0x384a2b);const _0x15dc4d=(0x0,socket_1['getIO'])();return _0x15dc4d['emit'](_0x1ffc71(0x120)+_0x384a2b+_0x1ffc71(0x115),{'action':_0x1ffc71(0x12c),'queueId':+_0xc23d6d}),_0x174f52[_0x1ffc71(0x128)](0xc8)[_0x1ffc71(0x114)]();};exports[a24_0xfcd883(0x130)]=remove;