'use strict';function a34_0xa9df(){const _0x1a1cec=['object','1092520KQSTrA','33IZwCcL','6fAihon','__importStar','../services/TicketNoteService/CreateTicketNoteService','../services/TicketNoteService/FindAllTicketNotesService','../services/TicketNoteService/DeleteTicketNoteService','50770TrUzvE','json','9974CgsGgx','14432772TMijfS','2408oOAxwN','__esModule','call','get','8274161dyOvPw','12pQBVsm','show','findFilteredList','remove','required','store','validate','__createBinding','create','user','../services/TicketNoteService/UpdateTicketNoteService','getOwnPropertyDescriptor','params','update','defineProperty','query','__setModuleDefault','admin','__importDefault','1212651BDWeOE','index','66URWsuf','../services/TicketNoteService/FindNotesByContactIdAndTicketId','ERR_NO_PERMISSION','default','status','message','body','hasOwnProperty','../errors/AppError','21096Cjclqh','string','configurable'];a34_0xa9df=function(){return _0x1a1cec;};return a34_0xa9df();}const a34_0x28f120=a34_0xa2f3;(function(_0x274df1,_0x335516){const _0x32948e=a34_0xa2f3,_0x24e041=_0x274df1();while(!![]){try{const _0x249a0b=-parseInt(_0x32948e(0x208))/0x1*(-parseInt(_0x32948e(0x1f2))/0x2)+-parseInt(_0x32948e(0x222))/0x3*(-parseInt(_0x32948e(0x20f))/0x4)+-parseInt(_0x32948e(0x1ff))/0x5*(parseInt(_0x32948e(0x201))/0x6)+-parseInt(_0x32948e(0x20e))/0x7+parseInt(_0x32948e(0x20a))/0x8*(-parseInt(_0x32948e(0x1fb))/0x9)+-parseInt(_0x32948e(0x206))/0xa*(-parseInt(_0x32948e(0x200))/0xb)+parseInt(_0x32948e(0x209))/0xc;if(_0x249a0b===_0x335516)break;else _0x24e041['push'](_0x24e041['shift']());}catch(_0x557b10){_0x24e041['push'](_0x24e041['shift']());}}}(a34_0xa9df,0x9f974));var __createBinding=this&&this[a34_0x28f120(0x216)]||(Object[a34_0x28f120(0x217)]?function(_0x5702ec,_0x13366a,_0x4feca5,_0x1f90f9){const _0x5beeb5=a34_0x28f120;if(_0x1f90f9===undefined)_0x1f90f9=_0x4feca5;var _0x1f17b7=Object[_0x5beeb5(0x21a)](_0x13366a,_0x4feca5);(!_0x1f17b7||(_0x5beeb5(0x20d)in _0x1f17b7?!_0x13366a['__esModule']:_0x1f17b7['writable']||_0x1f17b7[_0x5beeb5(0x1fd)]))&&(_0x1f17b7={'enumerable':!![],'get':function(){return _0x13366a[_0x4feca5];}}),Object['defineProperty'](_0x5702ec,_0x1f90f9,_0x1f17b7);}:function(_0x4e896e,_0x3f0431,_0x1c1212,_0x5c8f46){if(_0x5c8f46===undefined)_0x5c8f46=_0x1c1212;_0x4e896e[_0x5c8f46]=_0x3f0431[_0x1c1212];}),__setModuleDefault=this&&this[a34_0x28f120(0x21f)]||(Object['create']?function(_0x39bf44,_0x4fff2a){const _0x40f7c5=a34_0x28f120;Object[_0x40f7c5(0x21d)](_0x39bf44,'default',{'enumerable':!![],'value':_0x4fff2a});}:function(_0x215c52,_0x25d3e4){const _0x280c54=a34_0x28f120;_0x215c52[_0x280c54(0x1f5)]=_0x25d3e4;}),__importStar=this&&this[a34_0x28f120(0x202)]||function(_0x2b564b){const _0x535c4d=a34_0x28f120;if(_0x2b564b&&_0x2b564b[_0x535c4d(0x20b)])return _0x2b564b;var _0x566585={};if(_0x2b564b!=null){for(var _0x32f07a in _0x2b564b)if(_0x32f07a!==_0x535c4d(0x1f5)&&Object['prototype'][_0x535c4d(0x1f9)][_0x535c4d(0x20c)](_0x2b564b,_0x32f07a))__createBinding(_0x566585,_0x2b564b,_0x32f07a);}return __setModuleDefault(_0x566585,_0x2b564b),_0x566585;},__importDefault=this&&this[a34_0x28f120(0x221)]||function(_0x1396f8){return _0x1396f8&&_0x1396f8['__esModule']?_0x1396f8:{'default':_0x1396f8};};Object[a34_0x28f120(0x21d)](exports,'__esModule',{'value':!![]}),exports['findFilteredList']=exports[a34_0x28f120(0x212)]=exports[a34_0x28f120(0x21c)]=exports[a34_0x28f120(0x210)]=exports[a34_0x28f120(0x214)]=exports['list']=exports['index']=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a34_0x28f120(0x1fa))),ListTicketNotesService_1=__importDefault(require('../services/TicketNoteService/ListTicketNotesService')),CreateTicketNoteService_1=__importDefault(require(a34_0x28f120(0x203))),UpdateTicketNoteService_1=__importDefault(require(a34_0x28f120(0x219))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a34_0x28f120(0x204))),DeleteTicketNoteService_1=__importDefault(require(a34_0x28f120(0x205))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a34_0x28f120(0x1f3))),index=async(_0x180d07,_0x1fc785)=>{const _0x17a985=a34_0x28f120,{searchParam:_0x50bdc6,pageNumber:_0x333127}=_0x180d07[_0x17a985(0x21e)],{ticketNotes:_0x1e10e2,count:_0x42be8c,hasMore:_0x278456}=await(0x0,ListTicketNotesService_1[_0x17a985(0x1f5)])({'searchParam':_0x50bdc6,'pageNumber':_0x333127});return _0x1fc785[_0x17a985(0x207)]({'ticketNotes':_0x1e10e2,'count':_0x42be8c,'hasMore':_0x278456});};exports[a34_0x28f120(0x223)]=index;const list=async(_0x3e9a42,_0x39f930)=>{const _0x57f920=a34_0x28f120,_0x4a95ed=await(0x0,FindAllTicketNotesService_1[_0x57f920(0x1f5)])();return _0x39f930[_0x57f920(0x1f6)](0xc8)['json'](_0x4a95ed);};exports['list']=list;const store=async(_0x5dba9,_0x51c968)=>{const _0x3a9993=a34_0x28f120,_0x5dca83=_0x5dba9[_0x3a9993(0x1f8)],{id:_0x2558fa}=_0x5dba9[_0x3a9993(0x218)],_0x493c33=Yup['object']()['shape']({'note':Yup[_0x3a9993(0x1fc)]()[_0x3a9993(0x213)]()});try{await _0x493c33[_0x3a9993(0x215)](_0x5dca83);}catch(_0x4c346b){throw new AppError_1[(_0x3a9993(0x1f5))](_0x4c346b[_0x3a9993(0x1f7)]);}const _0x48c1b5=await(0x0,CreateTicketNoteService_1['default'])({..._0x5dca83,'userId':_0x2558fa});return _0x51c968['status'](0xc8)['json'](_0x48c1b5);};exports[a34_0x28f120(0x214)]=store;const show=async(_0x13dcd7,_0x12e2d6)=>{const _0x23de87=a34_0x28f120,{id:_0x45a4f6}=_0x13dcd7['params'],_0x2c21fe=await(0x0,ShowTicketNoteService_1[_0x23de87(0x1f5)])(_0x45a4f6);return _0x12e2d6[_0x23de87(0x1f6)](0xc8)[_0x23de87(0x207)](_0x2c21fe);};exports[a34_0x28f120(0x210)]=show;const update=async(_0x7c6b16,_0x19443d)=>{const _0x317c9d=a34_0x28f120,_0x59caa1=_0x7c6b16[_0x317c9d(0x1f8)],_0x17036f=Yup[_0x317c9d(0x1fe)]()['shape']({'note':Yup[_0x317c9d(0x1fc)]()});try{await _0x17036f[_0x317c9d(0x215)](_0x59caa1);}catch(_0x1fc612){throw new AppError_1[(_0x317c9d(0x1f5))](_0x1fc612[_0x317c9d(0x1f7)]);}const _0x2a1231=await(0x0,UpdateTicketNoteService_1[_0x317c9d(0x1f5)])(_0x59caa1);return _0x19443d[_0x317c9d(0x1f6)](0xc8)[_0x317c9d(0x207)](_0x2a1231);};function a34_0xa2f3(_0x3fe6ed,_0x8fd3e){const _0xa9df1c=a34_0xa9df();return a34_0xa2f3=function(_0xa2f33,_0x1888ff){_0xa2f33=_0xa2f33-0x1f2;let _0x3aeb4e=_0xa9df1c[_0xa2f33];return _0x3aeb4e;},a34_0xa2f3(_0x3fe6ed,_0x8fd3e);}exports[a34_0x28f120(0x21c)]=update;const remove=async(_0x151ad2,_0x406343)=>{const _0x1c7f13=a34_0x28f120,{id:_0x36f70b}=_0x151ad2[_0x1c7f13(0x21b)];if(_0x151ad2[_0x1c7f13(0x218)]['profile']!==_0x1c7f13(0x220))throw new AppError_1[(_0x1c7f13(0x1f5))](_0x1c7f13(0x1f4),0x193);return await(0x0,DeleteTicketNoteService_1[_0x1c7f13(0x1f5)])(_0x36f70b),_0x406343[_0x1c7f13(0x1f6)](0xc8)['json']({'message':'Observação\x20removida'});};exports[a34_0x28f120(0x212)]=remove;const findFilteredList=async(_0x2e0a98,_0xba1096)=>{const _0x1c087f=a34_0x28f120;try{const {contactId:_0x392f4d,ticketId:_0x9c588d}=_0x2e0a98['query'],_0x8247a7=await(0x0,FindNotesByContactIdAndTicketId_1[_0x1c087f(0x1f5)])({'contactId':_0x392f4d,'ticketId':_0x9c588d});return _0xba1096[_0x1c087f(0x1f6)](0xc8)[_0x1c087f(0x207)](_0x8247a7);}catch(_0x183f91){return _0xba1096[_0x1c087f(0x1f6)](0x1f4)['json']({'message':_0x183f91});}};exports[a34_0x28f120(0x211)]=findFilteredList;